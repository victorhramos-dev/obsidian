/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/logform/dist/format.js
var require_format = __commonJS({
  "node_modules/logform/dist/format.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _wrapNativeSuper(Class) {
      var _cache = typeof Map === "function" ? /* @__PURE__ */ new Map() : void 0;
      _wrapNativeSuper = function _wrapNativeSuper2(Class2) {
        if (Class2 === null || !_isNativeFunction(Class2))
          return Class2;
        if (typeof Class2 !== "function") {
          throw new TypeError("Super expression must either be null or a function");
        }
        if (typeof _cache !== "undefined") {
          if (_cache.has(Class2))
            return _cache.get(Class2);
          _cache.set(Class2, Wrapper);
        }
        function Wrapper() {
          return _construct(Class2, arguments, _getPrototypeOf(this).constructor);
        }
        Wrapper.prototype = Object.create(Class2.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } });
        return _setPrototypeOf(Wrapper, Class2);
      };
      return _wrapNativeSuper(Class);
    }
    function _construct(Parent, args, Class) {
      if (_isNativeReflectConstruct()) {
        _construct = Reflect.construct.bind();
      } else {
        _construct = function _construct2(Parent2, args2, Class2) {
          var a = [null];
          a.push.apply(a, args2);
          var Constructor = Function.bind.apply(Parent2, a);
          var instance = new Constructor();
          if (Class2)
            _setPrototypeOf(instance, Class2.prototype);
          return instance;
        };
      }
      return _construct.apply(null, arguments);
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _isNativeFunction(fn) {
      try {
        return Function.toString.call(fn).indexOf("[native code]") !== -1;
      } catch (e) {
        return typeof fn === "function";
      }
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var InvalidFormatError = /* @__PURE__ */ function(_Error) {
      _inherits(InvalidFormatError2, _Error);
      var _super = _createSuper(InvalidFormatError2);
      function InvalidFormatError2(formatFn) {
        var _this;
        _classCallCheck(this, InvalidFormatError2);
        _this = _super.call(this, "Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(formatFn.toString().split("\n")[0], "\n"));
        Error.captureStackTrace(_assertThisInitialized(_this), InvalidFormatError2);
        return _this;
      }
      return _createClass(InvalidFormatError2);
    }(/* @__PURE__ */ _wrapNativeSuper(Error));
    module2.exports = function(formatFn) {
      if (formatFn.length > 2) {
        throw new InvalidFormatError(formatFn);
      }
      function Format() {
        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        this.options = options;
      }
      Format.prototype.transform = formatFn;
      function createFormatWrap(opts) {
        return new Format(opts);
      }
      createFormatWrap.Format = Format;
      return createFormatWrap;
    };
  }
});

// node_modules/@colors/colors/lib/styles.js
var require_styles = __commonJS({
  "node_modules/@colors/colors/lib/styles.js"(exports, module2) {
    var styles = {};
    module2["exports"] = styles;
    var codes = {
      reset: [0, 0],
      bold: [1, 22],
      dim: [2, 22],
      italic: [3, 23],
      underline: [4, 24],
      inverse: [7, 27],
      hidden: [8, 28],
      strikethrough: [9, 29],
      black: [30, 39],
      red: [31, 39],
      green: [32, 39],
      yellow: [33, 39],
      blue: [34, 39],
      magenta: [35, 39],
      cyan: [36, 39],
      white: [37, 39],
      gray: [90, 39],
      grey: [90, 39],
      brightRed: [91, 39],
      brightGreen: [92, 39],
      brightYellow: [93, 39],
      brightBlue: [94, 39],
      brightMagenta: [95, 39],
      brightCyan: [96, 39],
      brightWhite: [97, 39],
      bgBlack: [40, 49],
      bgRed: [41, 49],
      bgGreen: [42, 49],
      bgYellow: [43, 49],
      bgBlue: [44, 49],
      bgMagenta: [45, 49],
      bgCyan: [46, 49],
      bgWhite: [47, 49],
      bgGray: [100, 49],
      bgGrey: [100, 49],
      bgBrightRed: [101, 49],
      bgBrightGreen: [102, 49],
      bgBrightYellow: [103, 49],
      bgBrightBlue: [104, 49],
      bgBrightMagenta: [105, 49],
      bgBrightCyan: [106, 49],
      bgBrightWhite: [107, 49],
      // legacy styles for colors pre v1.0.0
      blackBG: [40, 49],
      redBG: [41, 49],
      greenBG: [42, 49],
      yellowBG: [43, 49],
      blueBG: [44, 49],
      magentaBG: [45, 49],
      cyanBG: [46, 49],
      whiteBG: [47, 49]
    };
    Object.keys(codes).forEach(function(key) {
      var val = codes[key];
      var style = styles[key] = [];
      style.open = "\x1B[" + val[0] + "m";
      style.close = "\x1B[" + val[1] + "m";
    });
  }
});

// node_modules/@colors/colors/lib/system/has-flag.js
var require_has_flag = __commonJS({
  "node_modules/@colors/colors/lib/system/has-flag.js"(exports, module2) {
    "use strict";
    module2.exports = function(flag, argv) {
      argv = argv || process.argv || [];
      var terminatorPos = argv.indexOf("--");
      var prefix = /^-{1,2}/.test(flag) ? "" : "--";
      var pos = argv.indexOf(prefix + flag);
      return pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);
    };
  }
});

// node_modules/@colors/colors/lib/system/supports-colors.js
var require_supports_colors = __commonJS({
  "node_modules/@colors/colors/lib/system/supports-colors.js"(exports, module2) {
    "use strict";
    var os = require("os");
    var hasFlag = require_has_flag();
    var env = process.env;
    var forceColor = void 0;
    if (hasFlag("no-color") || hasFlag("no-colors") || hasFlag("color=false")) {
      forceColor = false;
    } else if (hasFlag("color") || hasFlag("colors") || hasFlag("color=true") || hasFlag("color=always")) {
      forceColor = true;
    }
    if ("FORCE_COLOR" in env) {
      forceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;
    }
    function translateLevel(level) {
      if (level === 0) {
        return false;
      }
      return {
        level,
        hasBasic: true,
        has256: level >= 2,
        has16m: level >= 3
      };
    }
    function supportsColor(stream) {
      if (forceColor === false) {
        return 0;
      }
      if (hasFlag("color=16m") || hasFlag("color=full") || hasFlag("color=truecolor")) {
        return 3;
      }
      if (hasFlag("color=256")) {
        return 2;
      }
      if (stream && !stream.isTTY && forceColor !== true) {
        return 0;
      }
      var min = forceColor ? 1 : 0;
      if (process.platform === "win32") {
        var osRelease = os.release().split(".");
        if (Number(process.versions.node.split(".")[0]) >= 8 && Number(osRelease[0]) >= 10 && Number(osRelease[2]) >= 10586) {
          return Number(osRelease[2]) >= 14931 ? 3 : 2;
        }
        return 1;
      }
      if ("CI" in env) {
        if (["TRAVIS", "CIRCLECI", "APPVEYOR", "GITLAB_CI"].some(function(sign) {
          return sign in env;
        }) || env.CI_NAME === "codeship") {
          return 1;
        }
        return min;
      }
      if ("TEAMCITY_VERSION" in env) {
        return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;
      }
      if ("TERM_PROGRAM" in env) {
        var version = parseInt((env.TERM_PROGRAM_VERSION || "").split(".")[0], 10);
        switch (env.TERM_PROGRAM) {
          case "iTerm.app":
            return version >= 3 ? 3 : 2;
          case "Hyper":
            return 3;
          case "Apple_Terminal":
            return 2;
        }
      }
      if (/-256(color)?$/i.test(env.TERM)) {
        return 2;
      }
      if (/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {
        return 1;
      }
      if ("COLORTERM" in env) {
        return 1;
      }
      if (env.TERM === "dumb") {
        return min;
      }
      return min;
    }
    function getSupportLevel(stream) {
      var level = supportsColor(stream);
      return translateLevel(level);
    }
    module2.exports = {
      supportsColor: getSupportLevel,
      stdout: getSupportLevel(process.stdout),
      stderr: getSupportLevel(process.stderr)
    };
  }
});

// node_modules/@colors/colors/lib/custom/trap.js
var require_trap = __commonJS({
  "node_modules/@colors/colors/lib/custom/trap.js"(exports, module2) {
    module2["exports"] = function runTheTrap(text, options) {
      var result = "";
      text = text || "Run the trap, drop the bass";
      text = text.split("");
      var trap = {
        a: ["@", "\u0104", "\u023A", "\u0245", "\u0394", "\u039B", "\u0414"],
        b: ["\xDF", "\u0181", "\u0243", "\u026E", "\u03B2", "\u0E3F"],
        c: ["\xA9", "\u023B", "\u03FE"],
        d: ["\xD0", "\u018A", "\u0500", "\u0501", "\u0502", "\u0503"],
        e: [
          "\xCB",
          "\u0115",
          "\u018E",
          "\u0258",
          "\u03A3",
          "\u03BE",
          "\u04BC",
          "\u0A6C"
        ],
        f: ["\u04FA"],
        g: ["\u0262"],
        h: ["\u0126", "\u0195", "\u04A2", "\u04BA", "\u04C7", "\u050A"],
        i: ["\u0F0F"],
        j: ["\u0134"],
        k: ["\u0138", "\u04A0", "\u04C3", "\u051E"],
        l: ["\u0139"],
        m: ["\u028D", "\u04CD", "\u04CE", "\u0520", "\u0521", "\u0D69"],
        n: ["\xD1", "\u014B", "\u019D", "\u0376", "\u03A0", "\u048A"],
        o: [
          "\xD8",
          "\xF5",
          "\xF8",
          "\u01FE",
          "\u0298",
          "\u047A",
          "\u05DD",
          "\u06DD",
          "\u0E4F"
        ],
        p: ["\u01F7", "\u048E"],
        q: ["\u09CD"],
        r: ["\xAE", "\u01A6", "\u0210", "\u024C", "\u0280", "\u042F"],
        s: ["\xA7", "\u03DE", "\u03DF", "\u03E8"],
        t: ["\u0141", "\u0166", "\u0373"],
        u: ["\u01B1", "\u054D"],
        v: ["\u05D8"],
        w: ["\u0428", "\u0460", "\u047C", "\u0D70"],
        x: ["\u04B2", "\u04FE", "\u04FC", "\u04FD"],
        y: ["\xA5", "\u04B0", "\u04CB"],
        z: ["\u01B5", "\u0240"]
      };
      text.forEach(function(c) {
        c = c.toLowerCase();
        var chars = trap[c] || [" "];
        var rand = Math.floor(Math.random() * chars.length);
        if (typeof trap[c] !== "undefined") {
          result += trap[c][rand];
        } else {
          result += c;
        }
      });
      return result;
    };
  }
});

// node_modules/@colors/colors/lib/custom/zalgo.js
var require_zalgo = __commonJS({
  "node_modules/@colors/colors/lib/custom/zalgo.js"(exports, module2) {
    module2["exports"] = function zalgo(text, options) {
      text = text || "   he is here   ";
      var soul = {
        "up": [
          "\u030D",
          "\u030E",
          "\u0304",
          "\u0305",
          "\u033F",
          "\u0311",
          "\u0306",
          "\u0310",
          "\u0352",
          "\u0357",
          "\u0351",
          "\u0307",
          "\u0308",
          "\u030A",
          "\u0342",
          "\u0313",
          "\u0308",
          "\u034A",
          "\u034B",
          "\u034C",
          "\u0303",
          "\u0302",
          "\u030C",
          "\u0350",
          "\u0300",
          "\u0301",
          "\u030B",
          "\u030F",
          "\u0312",
          "\u0313",
          "\u0314",
          "\u033D",
          "\u0309",
          "\u0363",
          "\u0364",
          "\u0365",
          "\u0366",
          "\u0367",
          "\u0368",
          "\u0369",
          "\u036A",
          "\u036B",
          "\u036C",
          "\u036D",
          "\u036E",
          "\u036F",
          "\u033E",
          "\u035B",
          "\u0346",
          "\u031A"
        ],
        "down": [
          "\u0316",
          "\u0317",
          "\u0318",
          "\u0319",
          "\u031C",
          "\u031D",
          "\u031E",
          "\u031F",
          "\u0320",
          "\u0324",
          "\u0325",
          "\u0326",
          "\u0329",
          "\u032A",
          "\u032B",
          "\u032C",
          "\u032D",
          "\u032E",
          "\u032F",
          "\u0330",
          "\u0331",
          "\u0332",
          "\u0333",
          "\u0339",
          "\u033A",
          "\u033B",
          "\u033C",
          "\u0345",
          "\u0347",
          "\u0348",
          "\u0349",
          "\u034D",
          "\u034E",
          "\u0353",
          "\u0354",
          "\u0355",
          "\u0356",
          "\u0359",
          "\u035A",
          "\u0323"
        ],
        "mid": [
          "\u0315",
          "\u031B",
          "\u0300",
          "\u0301",
          "\u0358",
          "\u0321",
          "\u0322",
          "\u0327",
          "\u0328",
          "\u0334",
          "\u0335",
          "\u0336",
          "\u035C",
          "\u035D",
          "\u035E",
          "\u035F",
          "\u0360",
          "\u0362",
          "\u0338",
          "\u0337",
          "\u0361",
          " \u0489"
        ]
      };
      var all = [].concat(soul.up, soul.down, soul.mid);
      function randomNumber(range) {
        var r = Math.floor(Math.random() * range);
        return r;
      }
      function isChar(character) {
        var bool = false;
        all.filter(function(i) {
          bool = i === character;
        });
        return bool;
      }
      function heComes(text2, options2) {
        var result = "";
        var counts;
        var l;
        options2 = options2 || {};
        options2["up"] = typeof options2["up"] !== "undefined" ? options2["up"] : true;
        options2["mid"] = typeof options2["mid"] !== "undefined" ? options2["mid"] : true;
        options2["down"] = typeof options2["down"] !== "undefined" ? options2["down"] : true;
        options2["size"] = typeof options2["size"] !== "undefined" ? options2["size"] : "maxi";
        text2 = text2.split("");
        for (l in text2) {
          if (isChar(l)) {
            continue;
          }
          result = result + text2[l];
          counts = { "up": 0, "down": 0, "mid": 0 };
          switch (options2.size) {
            case "mini":
              counts.up = randomNumber(8);
              counts.mid = randomNumber(2);
              counts.down = randomNumber(8);
              break;
            case "maxi":
              counts.up = randomNumber(16) + 3;
              counts.mid = randomNumber(4) + 1;
              counts.down = randomNumber(64) + 3;
              break;
            default:
              counts.up = randomNumber(8) + 1;
              counts.mid = randomNumber(6) / 2;
              counts.down = randomNumber(8) + 1;
              break;
          }
          var arr = ["up", "mid", "down"];
          for (var d in arr) {
            var index = arr[d];
            for (var i = 0; i <= counts[index]; i++) {
              if (options2[index]) {
                result = result + soul[index][randomNumber(soul[index].length)];
              }
            }
          }
        }
        return result;
      }
      return heComes(text, options);
    };
  }
});

// node_modules/@colors/colors/lib/maps/america.js
var require_america = __commonJS({
  "node_modules/@colors/colors/lib/maps/america.js"(exports, module2) {
    module2["exports"] = function(colors) {
      return function(letter, i, exploded) {
        if (letter === " ")
          return letter;
        switch (i % 3) {
          case 0:
            return colors.red(letter);
          case 1:
            return colors.white(letter);
          case 2:
            return colors.blue(letter);
        }
      };
    };
  }
});

// node_modules/@colors/colors/lib/maps/zebra.js
var require_zebra = __commonJS({
  "node_modules/@colors/colors/lib/maps/zebra.js"(exports, module2) {
    module2["exports"] = function(colors) {
      return function(letter, i, exploded) {
        return i % 2 === 0 ? letter : colors.inverse(letter);
      };
    };
  }
});

// node_modules/@colors/colors/lib/maps/rainbow.js
var require_rainbow = __commonJS({
  "node_modules/@colors/colors/lib/maps/rainbow.js"(exports, module2) {
    module2["exports"] = function(colors) {
      var rainbowColors = ["red", "yellow", "green", "blue", "magenta"];
      return function(letter, i, exploded) {
        if (letter === " ") {
          return letter;
        } else {
          return colors[rainbowColors[i++ % rainbowColors.length]](letter);
        }
      };
    };
  }
});

// node_modules/@colors/colors/lib/maps/random.js
var require_random = __commonJS({
  "node_modules/@colors/colors/lib/maps/random.js"(exports, module2) {
    module2["exports"] = function(colors) {
      var available = [
        "underline",
        "inverse",
        "grey",
        "yellow",
        "red",
        "green",
        "blue",
        "white",
        "cyan",
        "magenta",
        "brightYellow",
        "brightRed",
        "brightGreen",
        "brightBlue",
        "brightWhite",
        "brightCyan",
        "brightMagenta"
      ];
      return function(letter, i, exploded) {
        return letter === " " ? letter : colors[available[Math.round(Math.random() * (available.length - 2))]](letter);
      };
    };
  }
});

// node_modules/@colors/colors/lib/colors.js
var require_colors = __commonJS({
  "node_modules/@colors/colors/lib/colors.js"(exports, module2) {
    var colors = {};
    module2["exports"] = colors;
    colors.themes = {};
    var util = require("util");
    var ansiStyles = colors.styles = require_styles();
    var defineProps = Object.defineProperties;
    var newLineRegex = new RegExp(/[\r\n]+/g);
    colors.supportsColor = require_supports_colors().supportsColor;
    if (typeof colors.enabled === "undefined") {
      colors.enabled = colors.supportsColor() !== false;
    }
    colors.enable = function() {
      colors.enabled = true;
    };
    colors.disable = function() {
      colors.enabled = false;
    };
    colors.stripColors = colors.strip = function(str2) {
      return ("" + str2).replace(/\x1B\[\d+m/g, "");
    };
    var stylize = colors.stylize = function stylize2(str2, style) {
      if (!colors.enabled) {
        return str2 + "";
      }
      var styleMap = ansiStyles[style];
      if (!styleMap && style in colors) {
        return colors[style](str2);
      }
      return styleMap.open + str2 + styleMap.close;
    };
    var matchOperatorsRe = /[|\\{}()[\]^$+*?.]/g;
    var escapeStringRegexp = function(str2) {
      if (typeof str2 !== "string") {
        throw new TypeError("Expected a string");
      }
      return str2.replace(matchOperatorsRe, "\\$&");
    };
    function build(_styles) {
      var builder = function builder2() {
        return applyStyle.apply(builder2, arguments);
      };
      builder._styles = _styles;
      builder.__proto__ = proto;
      return builder;
    }
    var styles = function() {
      var ret = {};
      ansiStyles.grey = ansiStyles.gray;
      Object.keys(ansiStyles).forEach(function(key) {
        ansiStyles[key].closeRe = new RegExp(escapeStringRegexp(ansiStyles[key].close), "g");
        ret[key] = {
          get: function() {
            return build(this._styles.concat(key));
          }
        };
      });
      return ret;
    }();
    var proto = defineProps(function colors2() {
    }, styles);
    function applyStyle() {
      var args = Array.prototype.slice.call(arguments);
      var str2 = args.map(function(arg) {
        if (arg != null && arg.constructor === String) {
          return arg;
        } else {
          return util.inspect(arg);
        }
      }).join(" ");
      if (!colors.enabled || !str2) {
        return str2;
      }
      var newLinesPresent = str2.indexOf("\n") != -1;
      var nestedStyles = this._styles;
      var i = nestedStyles.length;
      while (i--) {
        var code = ansiStyles[nestedStyles[i]];
        str2 = code.open + str2.replace(code.closeRe, code.open) + code.close;
        if (newLinesPresent) {
          str2 = str2.replace(newLineRegex, function(match) {
            return code.close + match + code.open;
          });
        }
      }
      return str2;
    }
    colors.setTheme = function(theme) {
      if (typeof theme === "string") {
        console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");
        return;
      }
      for (var style in theme) {
        (function(style2) {
          colors[style2] = function(str2) {
            if (typeof theme[style2] === "object") {
              var out = str2;
              for (var i in theme[style2]) {
                out = colors[theme[style2][i]](out);
              }
              return out;
            }
            return colors[theme[style2]](str2);
          };
        })(style);
      }
    };
    function init() {
      var ret = {};
      Object.keys(styles).forEach(function(name) {
        ret[name] = {
          get: function() {
            return build([name]);
          }
        };
      });
      return ret;
    }
    var sequencer = function sequencer2(map2, str2) {
      var exploded = str2.split("");
      exploded = exploded.map(map2);
      return exploded.join("");
    };
    colors.trap = require_trap();
    colors.zalgo = require_zalgo();
    colors.maps = {};
    colors.maps.america = require_america()(colors);
    colors.maps.zebra = require_zebra()(colors);
    colors.maps.rainbow = require_rainbow()(colors);
    colors.maps.random = require_random()(colors);
    for (map in colors.maps) {
      (function(map2) {
        colors[map2] = function(str2) {
          return sequencer(colors.maps[map2], str2);
        };
      })(map);
    }
    var map;
    defineProps(colors, init());
  }
});

// node_modules/@colors/colors/safe.js
var require_safe = __commonJS({
  "node_modules/@colors/colors/safe.js"(exports, module2) {
    var colors = require_colors();
    module2["exports"] = colors;
  }
});

// node_modules/triple-beam/config/cli.js
var require_cli = __commonJS({
  "node_modules/triple-beam/config/cli.js"(exports) {
    "use strict";
    exports.levels = {
      error: 0,
      warn: 1,
      help: 2,
      data: 3,
      info: 4,
      debug: 5,
      prompt: 6,
      verbose: 7,
      input: 8,
      silly: 9
    };
    exports.colors = {
      error: "red",
      warn: "yellow",
      help: "cyan",
      data: "grey",
      info: "green",
      debug: "blue",
      prompt: "grey",
      verbose: "cyan",
      input: "grey",
      silly: "magenta"
    };
  }
});

// node_modules/triple-beam/config/npm.js
var require_npm = __commonJS({
  "node_modules/triple-beam/config/npm.js"(exports) {
    "use strict";
    exports.levels = {
      error: 0,
      warn: 1,
      info: 2,
      http: 3,
      verbose: 4,
      debug: 5,
      silly: 6
    };
    exports.colors = {
      error: "red",
      warn: "yellow",
      info: "green",
      http: "green",
      verbose: "cyan",
      debug: "blue",
      silly: "magenta"
    };
  }
});

// node_modules/triple-beam/config/syslog.js
var require_syslog = __commonJS({
  "node_modules/triple-beam/config/syslog.js"(exports) {
    "use strict";
    exports.levels = {
      emerg: 0,
      alert: 1,
      crit: 2,
      error: 3,
      warning: 4,
      notice: 5,
      info: 6,
      debug: 7
    };
    exports.colors = {
      emerg: "red",
      alert: "yellow",
      crit: "red",
      error: "red",
      warning: "red",
      notice: "yellow",
      info: "green",
      debug: "blue"
    };
  }
});

// node_modules/triple-beam/config/index.js
var require_config = __commonJS({
  "node_modules/triple-beam/config/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "cli", {
      value: require_cli()
    });
    Object.defineProperty(exports, "npm", {
      value: require_npm()
    });
    Object.defineProperty(exports, "syslog", {
      value: require_syslog()
    });
  }
});

// node_modules/triple-beam/index.js
var require_triple_beam = __commonJS({
  "node_modules/triple-beam/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "LEVEL", {
      value: Symbol.for("level")
    });
    Object.defineProperty(exports, "MESSAGE", {
      value: Symbol.for("message")
    });
    Object.defineProperty(exports, "SPLAT", {
      value: Symbol.for("splat")
    });
    Object.defineProperty(exports, "configs", {
      value: require_config()
    });
  }
});

// node_modules/logform/dist/colorize.js
var require_colorize = __commonJS({
  "node_modules/logform/dist/colorize.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var colors = require_safe();
    var _require = require_triple_beam();
    var LEVEL = _require.LEVEL;
    var MESSAGE = _require.MESSAGE;
    colors.enabled = true;
    var hasSpace = /\s+/;
    var Colorizer = /* @__PURE__ */ function() {
      function Colorizer2() {
        var opts = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        _classCallCheck(this, Colorizer2);
        if (opts.colors) {
          this.addColors(opts.colors);
        }
        this.options = opts;
      }
      _createClass(Colorizer2, [{
        key: "addColors",
        value: (
          /*
           * Adds the colors Object to the set of allColors
           * known by the Colorizer
           *
           * @param {Object} colors Set of color mappings to add.
           */
          function addColors(clrs) {
            return Colorizer2.addColors(clrs);
          }
        )
        /*
         * function colorize (lookup, level, message)
         * Performs multi-step colorization using @colors/colors/safe
         */
      }, {
        key: "colorize",
        value: function colorize(lookup, level, message) {
          if (typeof message === "undefined") {
            message = level;
          }
          if (!Array.isArray(Colorizer2.allColors[lookup])) {
            return colors[Colorizer2.allColors[lookup]](message);
          }
          for (var i = 0, len = Colorizer2.allColors[lookup].length; i < len; i++) {
            message = colors[Colorizer2.allColors[lookup][i]](message);
          }
          return message;
        }
        /*
         * function transform (info, opts)
         * Attempts to colorize the { level, message } of the given
         * `logform` info object.
         */
      }, {
        key: "transform",
        value: function transform(info, opts) {
          if (opts.all && typeof info[MESSAGE] === "string") {
            info[MESSAGE] = this.colorize(info[LEVEL], info.level, info[MESSAGE]);
          }
          if (opts.level || opts.all || !opts.message) {
            info.level = this.colorize(info[LEVEL], info.level);
          }
          if (opts.all || opts.message) {
            info.message = this.colorize(info[LEVEL], info.level, info.message);
          }
          return info;
        }
      }], [{
        key: "addColors",
        value: function addColors(clrs) {
          var nextColors = Object.keys(clrs).reduce(function(acc, level) {
            acc[level] = hasSpace.test(clrs[level]) ? clrs[level].split(hasSpace) : clrs[level];
            return acc;
          }, {});
          Colorizer2.allColors = Object.assign({}, Colorizer2.allColors || {}, nextColors);
          return Colorizer2.allColors;
        }
      }]);
      return Colorizer2;
    }();
    module2.exports = function(opts) {
      return new Colorizer(opts);
    };
    module2.exports.Colorizer = module2.exports.Format = Colorizer;
  }
});

// node_modules/logform/dist/levels.js
var require_levels = __commonJS({
  "node_modules/logform/dist/levels.js"(exports, module2) {
    "use strict";
    var _require = require_colorize();
    var Colorizer = _require.Colorizer;
    module2.exports = function(config) {
      Colorizer.addColors(config.colors || config);
      return config;
    };
  }
});

// node_modules/logform/dist/align.js
var require_align = __commonJS({
  "node_modules/logform/dist/align.js"(exports, module2) {
    "use strict";
    var format2 = require_format();
    module2.exports = format2(function(info) {
      info.message = "	".concat(info.message);
      return info;
    });
  }
});

// node_modules/logform/dist/pad-levels.js
var require_pad_levels = __commonJS({
  "node_modules/logform/dist/pad-levels.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _toConsumableArray(arr) {
      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
    }
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _unsupportedIterableToArray(o, minLen) {
      if (!o)
        return;
      if (typeof o === "string")
        return _arrayLikeToArray(o, minLen);
      var n = Object.prototype.toString.call(o).slice(8, -1);
      if (n === "Object" && o.constructor)
        n = o.constructor.name;
      if (n === "Map" || n === "Set")
        return Array.from(o);
      if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
        return _arrayLikeToArray(o, minLen);
    }
    function _iterableToArray(iter) {
      if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
        return Array.from(iter);
    }
    function _arrayWithoutHoles(arr) {
      if (Array.isArray(arr))
        return _arrayLikeToArray(arr);
    }
    function _arrayLikeToArray(arr, len) {
      if (len == null || len > arr.length)
        len = arr.length;
      for (var i = 0, arr2 = new Array(len); i < len; i++)
        arr2[i] = arr[i];
      return arr2;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var _require = require_triple_beam();
    var configs = _require.configs;
    var LEVEL = _require.LEVEL;
    var MESSAGE = _require.MESSAGE;
    var Padder = /* @__PURE__ */ function() {
      function Padder2() {
        var opts = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {
          levels: configs.npm.levels
        };
        _classCallCheck(this, Padder2);
        this.paddings = Padder2.paddingForLevels(opts.levels, opts.filler);
        this.options = opts;
      }
      _createClass(Padder2, [{
        key: "transform",
        value: (
          /**
           * Prepends the padding onto the `message` based on the `LEVEL` of
           * the `info`. This is based on the behavior of `winston@2` which also
           * prepended the level onto the message.
           *
           * See: https://github.com/winstonjs/winston/blob/2.x/lib/winston/logger.js#L198-L201
           *
           * @param  {Info} info Logform info object
           * @param  {Object} opts Options passed along to this instance.
           * @returns {Info} Modified logform info object.
           */
          function transform(info, opts) {
            info.message = "".concat(this.paddings[info[LEVEL]]).concat(info.message);
            if (info[MESSAGE]) {
              info[MESSAGE] = "".concat(this.paddings[info[LEVEL]]).concat(info[MESSAGE]);
            }
            return info;
          }
        )
      }], [{
        key: "getLongestLevel",
        value: function getLongestLevel(levels) {
          var lvls = Object.keys(levels).map(function(level) {
            return level.length;
          });
          return Math.max.apply(Math, _toConsumableArray(lvls));
        }
        /**
         * Returns the padding for the specified `level` assuming that the
         * maximum length of all levels it's associated with is `maxLength`.
         * @param  {String} level Level to calculate padding for.
         * @param  {String} filler Repeatable text to use for padding.
         * @param  {Number} maxLength Length of the longest level
         * @returns {String} Padding string for the `level`
         */
      }, {
        key: "paddingForLevel",
        value: function paddingForLevel(level, filler, maxLength) {
          var targetLen = maxLength + 1 - level.length;
          var rep = Math.floor(targetLen / filler.length);
          var padding = "".concat(filler).concat(filler.repeat(rep));
          return padding.slice(0, targetLen);
        }
        /**
         * Returns an object with the string paddings for the given `levels`
         * using the specified `filler`.
         * @param  {Object} levels Set of all levels to calculate padding for.
         * @param  {String} filler Repeatable text to use for padding.
         * @returns {Object} Mapping of level to desired padding.
         */
      }, {
        key: "paddingForLevels",
        value: function paddingForLevels(levels) {
          var filler = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : " ";
          var maxLength = Padder2.getLongestLevel(levels);
          return Object.keys(levels).reduce(function(acc, level) {
            acc[level] = Padder2.paddingForLevel(level, filler, maxLength);
            return acc;
          }, {});
        }
      }]);
      return Padder2;
    }();
    module2.exports = function(opts) {
      return new Padder(opts);
    };
    module2.exports.Padder = module2.exports.Format = Padder;
  }
});

// node_modules/logform/dist/cli.js
var require_cli2 = __commonJS({
  "node_modules/logform/dist/cli.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var _require = require_colorize();
    var Colorizer = _require.Colorizer;
    var _require2 = require_pad_levels();
    var Padder = _require2.Padder;
    var _require3 = require_triple_beam();
    var configs = _require3.configs;
    var MESSAGE = _require3.MESSAGE;
    var CliFormat = /* @__PURE__ */ function() {
      function CliFormat2() {
        var opts = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        _classCallCheck(this, CliFormat2);
        if (!opts.levels) {
          opts.levels = configs.cli.levels;
        }
        this.colorizer = new Colorizer(opts);
        this.padder = new Padder(opts);
        this.options = opts;
      }
      _createClass(CliFormat2, [{
        key: "transform",
        value: function transform(info, opts) {
          this.colorizer.transform(this.padder.transform(info, opts), opts);
          info[MESSAGE] = "".concat(info.level, ":").concat(info.message);
          return info;
        }
      }]);
      return CliFormat2;
    }();
    module2.exports = function(opts) {
      return new CliFormat(opts);
    };
    module2.exports.Format = CliFormat;
  }
});

// node_modules/logform/dist/combine.js
var require_combine = __commonJS({
  "node_modules/logform/dist/combine.js"(exports, module2) {
    "use strict";
    var format2 = require_format();
    function cascade(formats) {
      if (!formats.every(isValidFormat)) {
        return;
      }
      return function(info) {
        var obj = info;
        for (var i = 0; i < formats.length; i++) {
          obj = formats[i].transform(obj, formats[i].options);
          if (!obj) {
            return false;
          }
        }
        return obj;
      };
    }
    function isValidFormat(fmt) {
      if (typeof fmt.transform !== "function") {
        throw new Error(["No transform function found on format. Did you create a format instance?", "const myFormat = format(formatFn);", "const instance = myFormat();"].join("\n"));
      }
      return true;
    }
    module2.exports = function() {
      for (var _len = arguments.length, formats = new Array(_len), _key = 0; _key < _len; _key++) {
        formats[_key] = arguments[_key];
      }
      var combinedFormat = format2(cascade(formats));
      var instance = combinedFormat();
      instance.Format = combinedFormat.Format;
      return instance;
    };
    module2.exports.cascade = cascade;
  }
});

// node_modules/logform/dist/errors.js
var require_errors = __commonJS({
  "node_modules/logform/dist/errors.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _defineProperty(obj, key, value) {
      key = _toPropertyKey(key);
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var format2 = require_format();
    var _require = require_triple_beam();
    var LEVEL = _require.LEVEL;
    var MESSAGE = _require.MESSAGE;
    module2.exports = format2(function(einfo, _ref) {
      var stack = _ref.stack, cause = _ref.cause;
      if (einfo instanceof Error) {
        var _Object$assign;
        var info = Object.assign({}, einfo, (_Object$assign = {
          level: einfo.level
        }, _defineProperty(_Object$assign, LEVEL, einfo[LEVEL] || einfo.level), _defineProperty(_Object$assign, "message", einfo.message), _defineProperty(_Object$assign, MESSAGE, einfo[MESSAGE] || einfo.message), _Object$assign));
        if (stack)
          info.stack = einfo.stack;
        if (cause)
          info.cause = einfo.cause;
        return info;
      }
      if (!(einfo.message instanceof Error))
        return einfo;
      var err = einfo.message;
      Object.assign(einfo, err);
      einfo.message = err.message;
      einfo[MESSAGE] = err.message;
      if (stack)
        einfo.stack = err.stack;
      if (cause)
        einfo.cause = err.cause;
      return einfo;
    });
  }
});

// node_modules/safe-stable-stringify/index.js
var require_safe_stable_stringify = __commonJS({
  "node_modules/safe-stable-stringify/index.js"(exports, module2) {
    "use strict";
    var { hasOwnProperty } = Object.prototype;
    var stringify = configure();
    stringify.configure = configure;
    stringify.stringify = stringify;
    stringify.default = stringify;
    exports.stringify = stringify;
    exports.configure = configure;
    module2.exports = stringify;
    var strEscapeSequencesRegExp = /[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;
    function strEscape(str2) {
      if (str2.length < 5e3 && !strEscapeSequencesRegExp.test(str2)) {
        return `"${str2}"`;
      }
      return JSON.stringify(str2);
    }
    function insertSort(array) {
      if (array.length > 200) {
        return array.sort();
      }
      for (let i = 1; i < array.length; i++) {
        const currentValue = array[i];
        let position = i;
        while (position !== 0 && array[position - 1] > currentValue) {
          array[position] = array[position - 1];
          position--;
        }
        array[position] = currentValue;
      }
      return array;
    }
    var typedArrayPrototypeGetSymbolToStringTag = Object.getOwnPropertyDescriptor(
      Object.getPrototypeOf(
        Object.getPrototypeOf(
          new Int8Array()
        )
      ),
      Symbol.toStringTag
    ).get;
    function isTypedArrayWithEntries(value) {
      return typedArrayPrototypeGetSymbolToStringTag.call(value) !== void 0 && value.length !== 0;
    }
    function stringifyTypedArray(array, separator, maximumBreadth) {
      if (array.length < maximumBreadth) {
        maximumBreadth = array.length;
      }
      const whitespace = separator === "," ? "" : " ";
      let res = `"0":${whitespace}${array[0]}`;
      for (let i = 1; i < maximumBreadth; i++) {
        res += `${separator}"${i}":${whitespace}${array[i]}`;
      }
      return res;
    }
    function getCircularValueOption(options) {
      if (hasOwnProperty.call(options, "circularValue")) {
        const circularValue = options.circularValue;
        if (typeof circularValue === "string") {
          return `"${circularValue}"`;
        }
        if (circularValue == null) {
          return circularValue;
        }
        if (circularValue === Error || circularValue === TypeError) {
          return {
            toString() {
              throw new TypeError("Converting circular structure to JSON");
            }
          };
        }
        throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined');
      }
      return '"[Circular]"';
    }
    function getBooleanOption(options, key) {
      let value;
      if (hasOwnProperty.call(options, key)) {
        value = options[key];
        if (typeof value !== "boolean") {
          throw new TypeError(`The "${key}" argument must be of type boolean`);
        }
      }
      return value === void 0 ? true : value;
    }
    function getPositiveIntegerOption(options, key) {
      let value;
      if (hasOwnProperty.call(options, key)) {
        value = options[key];
        if (typeof value !== "number") {
          throw new TypeError(`The "${key}" argument must be of type number`);
        }
        if (!Number.isInteger(value)) {
          throw new TypeError(`The "${key}" argument must be an integer`);
        }
        if (value < 1) {
          throw new RangeError(`The "${key}" argument must be >= 1`);
        }
      }
      return value === void 0 ? Infinity : value;
    }
    function getItemCount(number) {
      if (number === 1) {
        return "1 item";
      }
      return `${number} items`;
    }
    function getUniqueReplacerSet(replacerArray) {
      const replacerSet = /* @__PURE__ */ new Set();
      for (const value of replacerArray) {
        if (typeof value === "string" || typeof value === "number") {
          replacerSet.add(String(value));
        }
      }
      return replacerSet;
    }
    function getStrictOption(options) {
      if (hasOwnProperty.call(options, "strict")) {
        const value = options.strict;
        if (typeof value !== "boolean") {
          throw new TypeError('The "strict" argument must be of type boolean');
        }
        if (value) {
          return (value2) => {
            let message = `Object can not safely be stringified. Received type ${typeof value2}`;
            if (typeof value2 !== "function")
              message += ` (${value2.toString()})`;
            throw new Error(message);
          };
        }
      }
    }
    function configure(options) {
      options = { ...options };
      const fail = getStrictOption(options);
      if (fail) {
        if (options.bigint === void 0) {
          options.bigint = false;
        }
        if (!("circularValue" in options)) {
          options.circularValue = Error;
        }
      }
      const circularValue = getCircularValueOption(options);
      const bigint = getBooleanOption(options, "bigint");
      const deterministic = getBooleanOption(options, "deterministic");
      const maximumDepth = getPositiveIntegerOption(options, "maximumDepth");
      const maximumBreadth = getPositiveIntegerOption(options, "maximumBreadth");
      function stringifyFnReplacer(key, parent, stack, replacer, spacer, indentation) {
        let value = parent[key];
        if (typeof value === "object" && value !== null && typeof value.toJSON === "function") {
          value = value.toJSON(key);
        }
        value = replacer.call(parent, key, value);
        switch (typeof value) {
          case "string":
            return strEscape(value);
          case "object": {
            if (value === null) {
              return "null";
            }
            if (stack.indexOf(value) !== -1) {
              return circularValue;
            }
            let res = "";
            let join = ",";
            const originalIndentation = indentation;
            if (Array.isArray(value)) {
              if (value.length === 0) {
                return "[]";
              }
              if (maximumDepth < stack.length + 1) {
                return '"[Array]"';
              }
              stack.push(value);
              if (spacer !== "") {
                indentation += spacer;
                res += `
${indentation}`;
                join = `,
${indentation}`;
              }
              const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
              let i = 0;
              for (; i < maximumValuesToStringify - 1; i++) {
                const tmp2 = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation);
                res += tmp2 !== void 0 ? tmp2 : "null";
                res += join;
              }
              const tmp = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation);
              res += tmp !== void 0 ? tmp : "null";
              if (value.length - 1 > maximumBreadth) {
                const removedKeys = value.length - maximumBreadth - 1;
                res += `${join}"... ${getItemCount(removedKeys)} not stringified"`;
              }
              if (spacer !== "") {
                res += `
${originalIndentation}`;
              }
              stack.pop();
              return `[${res}]`;
            }
            let keys = Object.keys(value);
            const keyLength = keys.length;
            if (keyLength === 0) {
              return "{}";
            }
            if (maximumDepth < stack.length + 1) {
              return '"[Object]"';
            }
            let whitespace = "";
            let separator = "";
            if (spacer !== "") {
              indentation += spacer;
              join = `,
${indentation}`;
              whitespace = " ";
            }
            const maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth);
            if (deterministic && !isTypedArrayWithEntries(value)) {
              keys = insertSort(keys);
            }
            stack.push(value);
            for (let i = 0; i < maximumPropertiesToStringify; i++) {
              const key2 = keys[i];
              const tmp = stringifyFnReplacer(key2, value, stack, replacer, spacer, indentation);
              if (tmp !== void 0) {
                res += `${separator}${strEscape(key2)}:${whitespace}${tmp}`;
                separator = join;
              }
            }
            if (keyLength > maximumBreadth) {
              const removedKeys = keyLength - maximumBreadth;
              res += `${separator}"...":${whitespace}"${getItemCount(removedKeys)} not stringified"`;
              separator = join;
            }
            if (spacer !== "" && separator.length > 1) {
              res = `
${indentation}${res}
${originalIndentation}`;
            }
            stack.pop();
            return `{${res}}`;
          }
          case "number":
            return isFinite(value) ? String(value) : fail ? fail(value) : "null";
          case "boolean":
            return value === true ? "true" : "false";
          case "undefined":
            return void 0;
          case "bigint":
            if (bigint) {
              return String(value);
            }
          default:
            return fail ? fail(value) : void 0;
        }
      }
      function stringifyArrayReplacer(key, value, stack, replacer, spacer, indentation) {
        if (typeof value === "object" && value !== null && typeof value.toJSON === "function") {
          value = value.toJSON(key);
        }
        switch (typeof value) {
          case "string":
            return strEscape(value);
          case "object": {
            if (value === null) {
              return "null";
            }
            if (stack.indexOf(value) !== -1) {
              return circularValue;
            }
            const originalIndentation = indentation;
            let res = "";
            let join = ",";
            if (Array.isArray(value)) {
              if (value.length === 0) {
                return "[]";
              }
              if (maximumDepth < stack.length + 1) {
                return '"[Array]"';
              }
              stack.push(value);
              if (spacer !== "") {
                indentation += spacer;
                res += `
${indentation}`;
                join = `,
${indentation}`;
              }
              const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
              let i = 0;
              for (; i < maximumValuesToStringify - 1; i++) {
                const tmp2 = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation);
                res += tmp2 !== void 0 ? tmp2 : "null";
                res += join;
              }
              const tmp = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation);
              res += tmp !== void 0 ? tmp : "null";
              if (value.length - 1 > maximumBreadth) {
                const removedKeys = value.length - maximumBreadth - 1;
                res += `${join}"... ${getItemCount(removedKeys)} not stringified"`;
              }
              if (spacer !== "") {
                res += `
${originalIndentation}`;
              }
              stack.pop();
              return `[${res}]`;
            }
            stack.push(value);
            let whitespace = "";
            if (spacer !== "") {
              indentation += spacer;
              join = `,
${indentation}`;
              whitespace = " ";
            }
            let separator = "";
            for (const key2 of replacer) {
              const tmp = stringifyArrayReplacer(key2, value[key2], stack, replacer, spacer, indentation);
              if (tmp !== void 0) {
                res += `${separator}${strEscape(key2)}:${whitespace}${tmp}`;
                separator = join;
              }
            }
            if (spacer !== "" && separator.length > 1) {
              res = `
${indentation}${res}
${originalIndentation}`;
            }
            stack.pop();
            return `{${res}}`;
          }
          case "number":
            return isFinite(value) ? String(value) : fail ? fail(value) : "null";
          case "boolean":
            return value === true ? "true" : "false";
          case "undefined":
            return void 0;
          case "bigint":
            if (bigint) {
              return String(value);
            }
          default:
            return fail ? fail(value) : void 0;
        }
      }
      function stringifyIndent(key, value, stack, spacer, indentation) {
        switch (typeof value) {
          case "string":
            return strEscape(value);
          case "object": {
            if (value === null) {
              return "null";
            }
            if (typeof value.toJSON === "function") {
              value = value.toJSON(key);
              if (typeof value !== "object") {
                return stringifyIndent(key, value, stack, spacer, indentation);
              }
              if (value === null) {
                return "null";
              }
            }
            if (stack.indexOf(value) !== -1) {
              return circularValue;
            }
            const originalIndentation = indentation;
            if (Array.isArray(value)) {
              if (value.length === 0) {
                return "[]";
              }
              if (maximumDepth < stack.length + 1) {
                return '"[Array]"';
              }
              stack.push(value);
              indentation += spacer;
              let res2 = `
${indentation}`;
              const join2 = `,
${indentation}`;
              const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
              let i = 0;
              for (; i < maximumValuesToStringify - 1; i++) {
                const tmp2 = stringifyIndent(String(i), value[i], stack, spacer, indentation);
                res2 += tmp2 !== void 0 ? tmp2 : "null";
                res2 += join2;
              }
              const tmp = stringifyIndent(String(i), value[i], stack, spacer, indentation);
              res2 += tmp !== void 0 ? tmp : "null";
              if (value.length - 1 > maximumBreadth) {
                const removedKeys = value.length - maximumBreadth - 1;
                res2 += `${join2}"... ${getItemCount(removedKeys)} not stringified"`;
              }
              res2 += `
${originalIndentation}`;
              stack.pop();
              return `[${res2}]`;
            }
            let keys = Object.keys(value);
            const keyLength = keys.length;
            if (keyLength === 0) {
              return "{}";
            }
            if (maximumDepth < stack.length + 1) {
              return '"[Object]"';
            }
            indentation += spacer;
            const join = `,
${indentation}`;
            let res = "";
            let separator = "";
            let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth);
            if (isTypedArrayWithEntries(value)) {
              res += stringifyTypedArray(value, join, maximumBreadth);
              keys = keys.slice(value.length);
              maximumPropertiesToStringify -= value.length;
              separator = join;
            }
            if (deterministic) {
              keys = insertSort(keys);
            }
            stack.push(value);
            for (let i = 0; i < maximumPropertiesToStringify; i++) {
              const key2 = keys[i];
              const tmp = stringifyIndent(key2, value[key2], stack, spacer, indentation);
              if (tmp !== void 0) {
                res += `${separator}${strEscape(key2)}: ${tmp}`;
                separator = join;
              }
            }
            if (keyLength > maximumBreadth) {
              const removedKeys = keyLength - maximumBreadth;
              res += `${separator}"...": "${getItemCount(removedKeys)} not stringified"`;
              separator = join;
            }
            if (separator !== "") {
              res = `
${indentation}${res}
${originalIndentation}`;
            }
            stack.pop();
            return `{${res}}`;
          }
          case "number":
            return isFinite(value) ? String(value) : fail ? fail(value) : "null";
          case "boolean":
            return value === true ? "true" : "false";
          case "undefined":
            return void 0;
          case "bigint":
            if (bigint) {
              return String(value);
            }
          default:
            return fail ? fail(value) : void 0;
        }
      }
      function stringifySimple(key, value, stack) {
        switch (typeof value) {
          case "string":
            return strEscape(value);
          case "object": {
            if (value === null) {
              return "null";
            }
            if (typeof value.toJSON === "function") {
              value = value.toJSON(key);
              if (typeof value !== "object") {
                return stringifySimple(key, value, stack);
              }
              if (value === null) {
                return "null";
              }
            }
            if (stack.indexOf(value) !== -1) {
              return circularValue;
            }
            let res = "";
            if (Array.isArray(value)) {
              if (value.length === 0) {
                return "[]";
              }
              if (maximumDepth < stack.length + 1) {
                return '"[Array]"';
              }
              stack.push(value);
              const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
              let i = 0;
              for (; i < maximumValuesToStringify - 1; i++) {
                const tmp2 = stringifySimple(String(i), value[i], stack);
                res += tmp2 !== void 0 ? tmp2 : "null";
                res += ",";
              }
              const tmp = stringifySimple(String(i), value[i], stack);
              res += tmp !== void 0 ? tmp : "null";
              if (value.length - 1 > maximumBreadth) {
                const removedKeys = value.length - maximumBreadth - 1;
                res += `,"... ${getItemCount(removedKeys)} not stringified"`;
              }
              stack.pop();
              return `[${res}]`;
            }
            let keys = Object.keys(value);
            const keyLength = keys.length;
            if (keyLength === 0) {
              return "{}";
            }
            if (maximumDepth < stack.length + 1) {
              return '"[Object]"';
            }
            let separator = "";
            let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth);
            if (isTypedArrayWithEntries(value)) {
              res += stringifyTypedArray(value, ",", maximumBreadth);
              keys = keys.slice(value.length);
              maximumPropertiesToStringify -= value.length;
              separator = ",";
            }
            if (deterministic) {
              keys = insertSort(keys);
            }
            stack.push(value);
            for (let i = 0; i < maximumPropertiesToStringify; i++) {
              const key2 = keys[i];
              const tmp = stringifySimple(key2, value[key2], stack);
              if (tmp !== void 0) {
                res += `${separator}${strEscape(key2)}:${tmp}`;
                separator = ",";
              }
            }
            if (keyLength > maximumBreadth) {
              const removedKeys = keyLength - maximumBreadth;
              res += `${separator}"...":"${getItemCount(removedKeys)} not stringified"`;
            }
            stack.pop();
            return `{${res}}`;
          }
          case "number":
            return isFinite(value) ? String(value) : fail ? fail(value) : "null";
          case "boolean":
            return value === true ? "true" : "false";
          case "undefined":
            return void 0;
          case "bigint":
            if (bigint) {
              return String(value);
            }
          default:
            return fail ? fail(value) : void 0;
        }
      }
      function stringify2(value, replacer, space) {
        if (arguments.length > 1) {
          let spacer = "";
          if (typeof space === "number") {
            spacer = " ".repeat(Math.min(space, 10));
          } else if (typeof space === "string") {
            spacer = space.slice(0, 10);
          }
          if (replacer != null) {
            if (typeof replacer === "function") {
              return stringifyFnReplacer("", { "": value }, [], replacer, spacer, "");
            }
            if (Array.isArray(replacer)) {
              return stringifyArrayReplacer("", value, [], getUniqueReplacerSet(replacer), spacer, "");
            }
          }
          if (spacer.length !== 0) {
            return stringifyIndent("", value, [], spacer, "");
          }
        }
        return stringifySimple("", value, []);
      }
      return stringify2;
    }
  }
});

// node_modules/logform/dist/json.js
var require_json = __commonJS({
  "node_modules/logform/dist/json.js"(exports, module2) {
    "use strict";
    var format2 = require_format();
    var _require = require_triple_beam();
    var MESSAGE = _require.MESSAGE;
    var stringify = require_safe_stable_stringify();
    function replacer(key, value) {
      if (typeof value === "bigint")
        return value.toString();
      return value;
    }
    module2.exports = format2(function(info, opts) {
      var jsonStringify = stringify.configure(opts);
      info[MESSAGE] = jsonStringify(info, opts.replacer || replacer, opts.space);
      return info;
    });
  }
});

// node_modules/logform/dist/label.js
var require_label = __commonJS({
  "node_modules/logform/dist/label.js"(exports, module2) {
    "use strict";
    var format2 = require_format();
    module2.exports = format2(function(info, opts) {
      if (opts.message) {
        info.message = "[".concat(opts.label, "] ").concat(info.message);
        return info;
      }
      info.label = opts.label;
      return info;
    });
  }
});

// node_modules/logform/dist/logstash.js
var require_logstash = __commonJS({
  "node_modules/logform/dist/logstash.js"(exports, module2) {
    "use strict";
    var format2 = require_format();
    var _require = require_triple_beam();
    var MESSAGE = _require.MESSAGE;
    var jsonStringify = require_safe_stable_stringify();
    module2.exports = format2(function(info) {
      var logstash = {};
      if (info.message) {
        logstash["@message"] = info.message;
        delete info.message;
      }
      if (info.timestamp) {
        logstash["@timestamp"] = info.timestamp;
        delete info.timestamp;
      }
      logstash["@fields"] = info;
      info[MESSAGE] = jsonStringify(logstash);
      return info;
    });
  }
});

// node_modules/logform/dist/metadata.js
var require_metadata = __commonJS({
  "node_modules/logform/dist/metadata.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _defineProperty(obj, key, value) {
      key = _toPropertyKey(key);
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var format2 = require_format();
    function fillExcept(info, fillExceptKeys, metadataKey) {
      var savedKeys = fillExceptKeys.reduce(function(acc, key) {
        acc[key] = info[key];
        delete info[key];
        return acc;
      }, {});
      var metadata = Object.keys(info).reduce(function(acc, key) {
        acc[key] = info[key];
        delete info[key];
        return acc;
      }, {});
      Object.assign(info, savedKeys, _defineProperty({}, metadataKey, metadata));
      return info;
    }
    function fillWith(info, fillWithKeys, metadataKey) {
      info[metadataKey] = fillWithKeys.reduce(function(acc, key) {
        acc[key] = info[key];
        delete info[key];
        return acc;
      }, {});
      return info;
    }
    module2.exports = format2(function(info) {
      var opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      var metadataKey = "metadata";
      if (opts.key) {
        metadataKey = opts.key;
      }
      var fillExceptKeys = [];
      if (!opts.fillExcept && !opts.fillWith) {
        fillExceptKeys.push("level");
        fillExceptKeys.push("message");
      }
      if (opts.fillExcept) {
        fillExceptKeys = opts.fillExcept;
      }
      if (fillExceptKeys.length > 0) {
        return fillExcept(info, fillExceptKeys, metadataKey);
      }
      if (opts.fillWith) {
        return fillWith(info, opts.fillWith, metadataKey);
      }
      return info;
    });
  }
});

// node_modules/ms/index.js
var require_ms = __commonJS({
  "node_modules/ms/index.js"(exports, module2) {
    var s = 1e3;
    var m = s * 60;
    var h = m * 60;
    var d = h * 24;
    var w = d * 7;
    var y = d * 365.25;
    module2.exports = function(val, options) {
      options = options || {};
      var type = typeof val;
      if (type === "string" && val.length > 0) {
        return parse(val);
      } else if (type === "number" && isFinite(val)) {
        return options.long ? fmtLong(val) : fmtShort(val);
      }
      throw new Error(
        "val is not a non-empty string or a valid number. val=" + JSON.stringify(val)
      );
    };
    function parse(str2) {
      str2 = String(str2);
      if (str2.length > 100) {
        return;
      }
      var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
        str2
      );
      if (!match) {
        return;
      }
      var n = parseFloat(match[1]);
      var type = (match[2] || "ms").toLowerCase();
      switch (type) {
        case "years":
        case "year":
        case "yrs":
        case "yr":
        case "y":
          return n * y;
        case "weeks":
        case "week":
        case "w":
          return n * w;
        case "days":
        case "day":
        case "d":
          return n * d;
        case "hours":
        case "hour":
        case "hrs":
        case "hr":
        case "h":
          return n * h;
        case "minutes":
        case "minute":
        case "mins":
        case "min":
        case "m":
          return n * m;
        case "seconds":
        case "second":
        case "secs":
        case "sec":
        case "s":
          return n * s;
        case "milliseconds":
        case "millisecond":
        case "msecs":
        case "msec":
        case "ms":
          return n;
        default:
          return void 0;
      }
    }
    function fmtShort(ms) {
      var msAbs = Math.abs(ms);
      if (msAbs >= d) {
        return Math.round(ms / d) + "d";
      }
      if (msAbs >= h) {
        return Math.round(ms / h) + "h";
      }
      if (msAbs >= m) {
        return Math.round(ms / m) + "m";
      }
      if (msAbs >= s) {
        return Math.round(ms / s) + "s";
      }
      return ms + "ms";
    }
    function fmtLong(ms) {
      var msAbs = Math.abs(ms);
      if (msAbs >= d) {
        return plural(ms, msAbs, d, "day");
      }
      if (msAbs >= h) {
        return plural(ms, msAbs, h, "hour");
      }
      if (msAbs >= m) {
        return plural(ms, msAbs, m, "minute");
      }
      if (msAbs >= s) {
        return plural(ms, msAbs, s, "second");
      }
      return ms + " ms";
    }
    function plural(ms, msAbs, n, name) {
      var isPlural = msAbs >= n * 1.5;
      return Math.round(ms / n) + " " + name + (isPlural ? "s" : "");
    }
  }
});

// node_modules/logform/dist/ms.js
var require_ms2 = __commonJS({
  "node_modules/logform/dist/ms.js"(exports, module2) {
    "use strict";
    var _this = void 0;
    var format2 = require_format();
    var ms = require_ms();
    module2.exports = format2(function(info) {
      var curr = +new Date();
      _this.diff = curr - (_this.prevTime || curr);
      _this.prevTime = curr;
      info.ms = "+".concat(ms(_this.diff));
      return info;
    });
  }
});

// node_modules/logform/dist/pretty-print.js
var require_pretty_print = __commonJS({
  "node_modules/logform/dist/pretty-print.js"(exports, module2) {
    "use strict";
    var inspect = require("util").inspect;
    var format2 = require_format();
    var _require = require_triple_beam();
    var LEVEL = _require.LEVEL;
    var MESSAGE = _require.MESSAGE;
    var SPLAT = _require.SPLAT;
    module2.exports = format2(function(info) {
      var opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      var stripped = Object.assign({}, info);
      delete stripped[LEVEL];
      delete stripped[MESSAGE];
      delete stripped[SPLAT];
      info[MESSAGE] = inspect(stripped, false, opts.depth || null, opts.colorize);
      return info;
    });
  }
});

// node_modules/logform/dist/printf.js
var require_printf = __commonJS({
  "node_modules/logform/dist/printf.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var _require = require_triple_beam();
    var MESSAGE = _require.MESSAGE;
    var Printf = /* @__PURE__ */ function() {
      function Printf2(templateFn) {
        _classCallCheck(this, Printf2);
        this.template = templateFn;
      }
      _createClass(Printf2, [{
        key: "transform",
        value: function transform(info) {
          info[MESSAGE] = this.template(info);
          return info;
        }
      }]);
      return Printf2;
    }();
    module2.exports = function(opts) {
      return new Printf(opts);
    };
    module2.exports.Printf = module2.exports.Format = Printf;
  }
});

// node_modules/logform/dist/simple.js
var require_simple = __commonJS({
  "node_modules/logform/dist/simple.js"(exports, module2) {
    "use strict";
    var format2 = require_format();
    var _require = require_triple_beam();
    var MESSAGE = _require.MESSAGE;
    var jsonStringify = require_safe_stable_stringify();
    module2.exports = format2(function(info) {
      var stringifiedRest = jsonStringify(Object.assign({}, info, {
        level: void 0,
        message: void 0,
        splat: void 0
      }));
      var padding = info.padding && info.padding[info.level] || "";
      if (stringifiedRest !== "{}") {
        info[MESSAGE] = "".concat(info.level, ":").concat(padding, " ").concat(info.message, " ").concat(stringifiedRest);
      } else {
        info[MESSAGE] = "".concat(info.level, ":").concat(padding, " ").concat(info.message);
      }
      return info;
    });
  }
});

// node_modules/logform/dist/splat.js
var require_splat = __commonJS({
  "node_modules/logform/dist/splat.js"(exports, module2) {
    "use strict";
    function _typeof(o) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
        return typeof o2;
      } : function(o2) {
        return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
      }, _typeof(o);
    }
    function _toConsumableArray(arr) {
      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
    }
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _unsupportedIterableToArray(o, minLen) {
      if (!o)
        return;
      if (typeof o === "string")
        return _arrayLikeToArray(o, minLen);
      var n = Object.prototype.toString.call(o).slice(8, -1);
      if (n === "Object" && o.constructor)
        n = o.constructor.name;
      if (n === "Map" || n === "Set")
        return Array.from(o);
      if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
        return _arrayLikeToArray(o, minLen);
    }
    function _iterableToArray(iter) {
      if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
        return Array.from(iter);
    }
    function _arrayWithoutHoles(arr) {
      if (Array.isArray(arr))
        return _arrayLikeToArray(arr);
    }
    function _arrayLikeToArray(arr, len) {
      if (len == null || len > arr.length)
        len = arr.length;
      for (var i = 0, arr2 = new Array(len); i < len; i++)
        arr2[i] = arr[i];
      return arr2;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var util = require("util");
    var _require = require_triple_beam();
    var SPLAT = _require.SPLAT;
    var formatRegExp = /%[scdjifoO%]/g;
    var escapedPercent = /%%/g;
    var Splatter = /* @__PURE__ */ function() {
      function Splatter2(opts) {
        _classCallCheck(this, Splatter2);
        this.options = opts;
      }
      _createClass(Splatter2, [{
        key: "_splat",
        value: function _splat(info, tokens) {
          var msg = info.message;
          var splat = info[SPLAT] || info.splat || [];
          var percents = msg.match(escapedPercent);
          var escapes = percents && percents.length || 0;
          var expectedSplat = tokens.length - escapes;
          var extraSplat = expectedSplat - splat.length;
          var metas = extraSplat < 0 ? splat.splice(extraSplat, -1 * extraSplat) : [];
          var metalen = metas.length;
          if (metalen) {
            for (var i = 0; i < metalen; i++) {
              Object.assign(info, metas[i]);
            }
          }
          info.message = util.format.apply(util, [msg].concat(_toConsumableArray(splat)));
          return info;
        }
        /**
          * Transforms the `info` message by using `util.format` to complete
          * any `info.message` provided it has string interpolation tokens.
          * If no tokens exist then `info` is immutable.
          *
          * @param  {Info} info Logform info message.
          * @param  {Object} opts Options for this instance.
          * @returns {Info} Modified info message
          */
      }, {
        key: "transform",
        value: function transform(info) {
          var msg = info.message;
          var splat = info[SPLAT] || info.splat;
          if (!splat || !splat.length) {
            return info;
          }
          var tokens = msg && msg.match && msg.match(formatRegExp);
          if (!tokens && (splat || splat.length)) {
            var metas = splat.length > 1 ? splat.splice(0) : splat;
            var metalen = metas.length;
            if (metalen) {
              for (var i = 0; i < metalen; i++) {
                Object.assign(info, metas[i]);
              }
            }
            return info;
          }
          if (tokens) {
            return this._splat(info, tokens);
          }
          return info;
        }
      }]);
      return Splatter2;
    }();
    module2.exports = function(opts) {
      return new Splatter(opts);
    };
  }
});

// node_modules/fecha/lib/fecha.umd.js
var require_fecha_umd = __commonJS({
  "node_modules/fecha/lib/fecha.umd.js"(exports, module2) {
    (function(global2, factory) {
      typeof exports === "object" && typeof module2 !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : factory(global2.fecha = {});
    })(exports, function(exports2) {
      "use strict";
      var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g;
      var twoDigitsOptional = "\\d\\d?";
      var twoDigits = "\\d\\d";
      var threeDigits = "\\d{3}";
      var fourDigits = "\\d{4}";
      var word = "[^\\s]+";
      var literal = /\[([^]*?)\]/gm;
      function shorten(arr, sLen) {
        var newArr = [];
        for (var i = 0, len = arr.length; i < len; i++) {
          newArr.push(arr[i].substr(0, sLen));
        }
        return newArr;
      }
      var monthUpdate = function(arrName) {
        return function(v, i18n) {
          var lowerCaseArr = i18n[arrName].map(function(v2) {
            return v2.toLowerCase();
          });
          var index = lowerCaseArr.indexOf(v.toLowerCase());
          if (index > -1) {
            return index;
          }
          return null;
        };
      };
      function assign(origObj) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
          args[_i - 1] = arguments[_i];
        }
        for (var _a2 = 0, args_1 = args; _a2 < args_1.length; _a2++) {
          var obj = args_1[_a2];
          for (var key in obj) {
            origObj[key] = obj[key];
          }
        }
        return origObj;
      }
      var dayNames = [
        "Sunday",
        "Monday",
        "Tuesday",
        "Wednesday",
        "Thursday",
        "Friday",
        "Saturday"
      ];
      var monthNames = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December"
      ];
      var monthNamesShort = shorten(monthNames, 3);
      var dayNamesShort = shorten(dayNames, 3);
      var defaultI18n = {
        dayNamesShort,
        dayNames,
        monthNamesShort,
        monthNames,
        amPm: ["am", "pm"],
        DoFn: function(dayOfMonth) {
          return dayOfMonth + ["th", "st", "nd", "rd"][dayOfMonth % 10 > 3 ? 0 : (dayOfMonth - dayOfMonth % 10 !== 10 ? 1 : 0) * dayOfMonth % 10];
        }
      };
      var globalI18n = assign({}, defaultI18n);
      var setGlobalDateI18n = function(i18n) {
        return globalI18n = assign(globalI18n, i18n);
      };
      var regexEscape = function(str2) {
        return str2.replace(/[|\\{()[^$+*?.-]/g, "\\$&");
      };
      var pad = function(val, len) {
        if (len === void 0) {
          len = 2;
        }
        val = String(val);
        while (val.length < len) {
          val = "0" + val;
        }
        return val;
      };
      var formatFlags = {
        D: function(dateObj) {
          return String(dateObj.getDate());
        },
        DD: function(dateObj) {
          return pad(dateObj.getDate());
        },
        Do: function(dateObj, i18n) {
          return i18n.DoFn(dateObj.getDate());
        },
        d: function(dateObj) {
          return String(dateObj.getDay());
        },
        dd: function(dateObj) {
          return pad(dateObj.getDay());
        },
        ddd: function(dateObj, i18n) {
          return i18n.dayNamesShort[dateObj.getDay()];
        },
        dddd: function(dateObj, i18n) {
          return i18n.dayNames[dateObj.getDay()];
        },
        M: function(dateObj) {
          return String(dateObj.getMonth() + 1);
        },
        MM: function(dateObj) {
          return pad(dateObj.getMonth() + 1);
        },
        MMM: function(dateObj, i18n) {
          return i18n.monthNamesShort[dateObj.getMonth()];
        },
        MMMM: function(dateObj, i18n) {
          return i18n.monthNames[dateObj.getMonth()];
        },
        YY: function(dateObj) {
          return pad(String(dateObj.getFullYear()), 4).substr(2);
        },
        YYYY: function(dateObj) {
          return pad(dateObj.getFullYear(), 4);
        },
        h: function(dateObj) {
          return String(dateObj.getHours() % 12 || 12);
        },
        hh: function(dateObj) {
          return pad(dateObj.getHours() % 12 || 12);
        },
        H: function(dateObj) {
          return String(dateObj.getHours());
        },
        HH: function(dateObj) {
          return pad(dateObj.getHours());
        },
        m: function(dateObj) {
          return String(dateObj.getMinutes());
        },
        mm: function(dateObj) {
          return pad(dateObj.getMinutes());
        },
        s: function(dateObj) {
          return String(dateObj.getSeconds());
        },
        ss: function(dateObj) {
          return pad(dateObj.getSeconds());
        },
        S: function(dateObj) {
          return String(Math.round(dateObj.getMilliseconds() / 100));
        },
        SS: function(dateObj) {
          return pad(Math.round(dateObj.getMilliseconds() / 10), 2);
        },
        SSS: function(dateObj) {
          return pad(dateObj.getMilliseconds(), 3);
        },
        a: function(dateObj, i18n) {
          return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];
        },
        A: function(dateObj, i18n) {
          return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();
        },
        ZZ: function(dateObj) {
          var offset = dateObj.getTimezoneOffset();
          return (offset > 0 ? "-" : "+") + pad(Math.floor(Math.abs(offset) / 60) * 100 + Math.abs(offset) % 60, 4);
        },
        Z: function(dateObj) {
          var offset = dateObj.getTimezoneOffset();
          return (offset > 0 ? "-" : "+") + pad(Math.floor(Math.abs(offset) / 60), 2) + ":" + pad(Math.abs(offset) % 60, 2);
        }
      };
      var monthParse = function(v) {
        return +v - 1;
      };
      var emptyDigits = [null, twoDigitsOptional];
      var emptyWord = [null, word];
      var amPm = [
        "isPm",
        word,
        function(v, i18n) {
          var val = v.toLowerCase();
          if (val === i18n.amPm[0]) {
            return 0;
          } else if (val === i18n.amPm[1]) {
            return 1;
          }
          return null;
        }
      ];
      var timezoneOffset = [
        "timezoneOffset",
        "[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",
        function(v) {
          var parts = (v + "").match(/([+-]|\d\d)/gi);
          if (parts) {
            var minutes = +parts[1] * 60 + parseInt(parts[2], 10);
            return parts[0] === "+" ? minutes : -minutes;
          }
          return 0;
        }
      ];
      var parseFlags = {
        D: ["day", twoDigitsOptional],
        DD: ["day", twoDigits],
        Do: ["day", twoDigitsOptional + word, function(v) {
          return parseInt(v, 10);
        }],
        M: ["month", twoDigitsOptional, monthParse],
        MM: ["month", twoDigits, monthParse],
        YY: [
          "year",
          twoDigits,
          function(v) {
            var now = new Date();
            var cent = +("" + now.getFullYear()).substr(0, 2);
            return +("" + (+v > 68 ? cent - 1 : cent) + v);
          }
        ],
        h: ["hour", twoDigitsOptional, void 0, "isPm"],
        hh: ["hour", twoDigits, void 0, "isPm"],
        H: ["hour", twoDigitsOptional],
        HH: ["hour", twoDigits],
        m: ["minute", twoDigitsOptional],
        mm: ["minute", twoDigits],
        s: ["second", twoDigitsOptional],
        ss: ["second", twoDigits],
        YYYY: ["year", fourDigits],
        S: ["millisecond", "\\d", function(v) {
          return +v * 100;
        }],
        SS: ["millisecond", twoDigits, function(v) {
          return +v * 10;
        }],
        SSS: ["millisecond", threeDigits],
        d: emptyDigits,
        dd: emptyDigits,
        ddd: emptyWord,
        dddd: emptyWord,
        MMM: ["month", word, monthUpdate("monthNamesShort")],
        MMMM: ["month", word, monthUpdate("monthNames")],
        a: amPm,
        A: amPm,
        ZZ: timezoneOffset,
        Z: timezoneOffset
      };
      var globalMasks = {
        default: "ddd MMM DD YYYY HH:mm:ss",
        shortDate: "M/D/YY",
        mediumDate: "MMM D, YYYY",
        longDate: "MMMM D, YYYY",
        fullDate: "dddd, MMMM D, YYYY",
        isoDate: "YYYY-MM-DD",
        isoDateTime: "YYYY-MM-DDTHH:mm:ssZ",
        shortTime: "HH:mm",
        mediumTime: "HH:mm:ss",
        longTime: "HH:mm:ss.SSS"
      };
      var setGlobalDateMasks = function(masks) {
        return assign(globalMasks, masks);
      };
      var format2 = function(dateObj, mask, i18n) {
        if (mask === void 0) {
          mask = globalMasks["default"];
        }
        if (i18n === void 0) {
          i18n = {};
        }
        if (typeof dateObj === "number") {
          dateObj = new Date(dateObj);
        }
        if (Object.prototype.toString.call(dateObj) !== "[object Date]" || isNaN(dateObj.getTime())) {
          throw new Error("Invalid Date pass to format");
        }
        mask = globalMasks[mask] || mask;
        var literals = [];
        mask = mask.replace(literal, function($0, $1) {
          literals.push($1);
          return "@@@";
        });
        var combinedI18nSettings = assign(assign({}, globalI18n), i18n);
        mask = mask.replace(token, function($0) {
          return formatFlags[$0](dateObj, combinedI18nSettings);
        });
        return mask.replace(/@@@/g, function() {
          return literals.shift();
        });
      };
      function parse(dateStr, format3, i18n) {
        if (i18n === void 0) {
          i18n = {};
        }
        if (typeof format3 !== "string") {
          throw new Error("Invalid format in fecha parse");
        }
        format3 = globalMasks[format3] || format3;
        if (dateStr.length > 1e3) {
          return null;
        }
        var today = new Date();
        var dateInfo = {
          year: today.getFullYear(),
          month: 0,
          day: 1,
          hour: 0,
          minute: 0,
          second: 0,
          millisecond: 0,
          isPm: null,
          timezoneOffset: null
        };
        var parseInfo = [];
        var literals = [];
        var newFormat = format3.replace(literal, function($0, $1) {
          literals.push(regexEscape($1));
          return "@@@";
        });
        var specifiedFields = {};
        var requiredFields = {};
        newFormat = regexEscape(newFormat).replace(token, function($0) {
          var info = parseFlags[$0];
          var field2 = info[0], regex = info[1], requiredField = info[3];
          if (specifiedFields[field2]) {
            throw new Error("Invalid format. " + field2 + " specified twice in format");
          }
          specifiedFields[field2] = true;
          if (requiredField) {
            requiredFields[requiredField] = true;
          }
          parseInfo.push(info);
          return "(" + regex + ")";
        });
        Object.keys(requiredFields).forEach(function(field2) {
          if (!specifiedFields[field2]) {
            throw new Error("Invalid format. " + field2 + " is required in specified format");
          }
        });
        newFormat = newFormat.replace(/@@@/g, function() {
          return literals.shift();
        });
        var matches = dateStr.match(new RegExp(newFormat, "i"));
        if (!matches) {
          return null;
        }
        var combinedI18nSettings = assign(assign({}, globalI18n), i18n);
        for (var i = 1; i < matches.length; i++) {
          var _a2 = parseInfo[i - 1], field = _a2[0], parser = _a2[2];
          var value = parser ? parser(matches[i], combinedI18nSettings) : +matches[i];
          if (value == null) {
            return null;
          }
          dateInfo[field] = value;
        }
        if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {
          dateInfo.hour = +dateInfo.hour + 12;
        } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {
          dateInfo.hour = 0;
        }
        var dateTZ;
        if (dateInfo.timezoneOffset == null) {
          dateTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);
          var validateFields = [
            ["month", "getMonth"],
            ["day", "getDate"],
            ["hour", "getHours"],
            ["minute", "getMinutes"],
            ["second", "getSeconds"]
          ];
          for (var i = 0, len = validateFields.length; i < len; i++) {
            if (specifiedFields[validateFields[i][0]] && dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()) {
              return null;
            }
          }
        } else {
          dateTZ = new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));
          if (dateInfo.month > 11 || dateInfo.month < 0 || dateInfo.day > 31 || dateInfo.day < 1 || dateInfo.hour > 23 || dateInfo.hour < 0 || dateInfo.minute > 59 || dateInfo.minute < 0 || dateInfo.second > 59 || dateInfo.second < 0) {
            return null;
          }
        }
        return dateTZ;
      }
      var fecha = {
        format: format2,
        parse,
        defaultI18n,
        setGlobalDateI18n,
        setGlobalDateMasks
      };
      exports2.assign = assign;
      exports2.default = fecha;
      exports2.format = format2;
      exports2.parse = parse;
      exports2.defaultI18n = defaultI18n;
      exports2.setGlobalDateI18n = setGlobalDateI18n;
      exports2.setGlobalDateMasks = setGlobalDateMasks;
      Object.defineProperty(exports2, "__esModule", { value: true });
    });
  }
});

// node_modules/logform/dist/timestamp.js
var require_timestamp = __commonJS({
  "node_modules/logform/dist/timestamp.js"(exports, module2) {
    "use strict";
    var fecha = require_fecha_umd();
    var format2 = require_format();
    module2.exports = format2(function(info) {
      var opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      if (opts.format) {
        info.timestamp = typeof opts.format === "function" ? opts.format() : fecha.format(new Date(), opts.format);
      }
      if (!info.timestamp) {
        info.timestamp = new Date().toISOString();
      }
      if (opts.alias) {
        info[opts.alias] = info.timestamp;
      }
      return info;
    });
  }
});

// node_modules/logform/dist/uncolorize.js
var require_uncolorize = __commonJS({
  "node_modules/logform/dist/uncolorize.js"(exports, module2) {
    "use strict";
    var colors = require_safe();
    var format2 = require_format();
    var _require = require_triple_beam();
    var MESSAGE = _require.MESSAGE;
    module2.exports = format2(function(info, opts) {
      if (opts.level !== false) {
        info.level = colors.strip(info.level);
      }
      if (opts.message !== false) {
        info.message = colors.strip(String(info.message));
      }
      if (opts.raw !== false && info[MESSAGE]) {
        info[MESSAGE] = colors.strip(String(info[MESSAGE]));
      }
      return info;
    });
  }
});

// node_modules/logform/dist/browser.js
var require_browser = __commonJS({
  "node_modules/logform/dist/browser.js"(exports) {
    "use strict";
    var format2 = exports.format = require_format();
    exports.levels = require_levels();
    Object.defineProperty(format2, "align", {
      value: require_align()
    });
    Object.defineProperty(format2, "cli", {
      value: require_cli2()
    });
    Object.defineProperty(format2, "colorize", {
      value: require_colorize()
    });
    Object.defineProperty(format2, "combine", {
      value: require_combine()
    });
    Object.defineProperty(format2, "errors", {
      value: require_errors()
    });
    Object.defineProperty(format2, "json", {
      value: require_json()
    });
    Object.defineProperty(format2, "label", {
      value: require_label()
    });
    Object.defineProperty(format2, "logstash", {
      value: require_logstash()
    });
    Object.defineProperty(format2, "metadata", {
      value: require_metadata()
    });
    Object.defineProperty(format2, "ms", {
      value: require_ms2()
    });
    Object.defineProperty(format2, "padLevels", {
      value: require_pad_levels()
    });
    Object.defineProperty(format2, "prettyPrint", {
      value: require_pretty_print()
    });
    Object.defineProperty(format2, "printf", {
      value: require_printf()
    });
    Object.defineProperty(format2, "simple", {
      value: require_simple()
    });
    Object.defineProperty(format2, "splat", {
      value: require_splat()
    });
    Object.defineProperty(format2, "timestamp", {
      value: require_timestamp()
    });
    Object.defineProperty(format2, "uncolorize", {
      value: require_uncolorize()
    });
  }
});

// node_modules/winston/dist/winston/common.js
var require_common = __commonJS({
  "node_modules/winston/dist/winston/common.js"(exports) {
    "use strict";
    var _require = require("util");
    var format2 = _require.format;
    exports.warn = {
      deprecated: function deprecated(prop) {
        return function() {
          throw new Error(format2("{ %s } was removed in winston@3.0.0.", prop));
        };
      },
      useFormat: function useFormat(prop) {
        return function() {
          throw new Error([format2("{ %s } was removed in winston@3.0.0.", prop), "Use a custom winston.format = winston.format(function) instead."].join("\n"));
        };
      },
      forFunctions: function forFunctions(obj, type, props) {
        props.forEach(function(prop) {
          obj[prop] = exports.warn[type](prop);
        });
      },
      forProperties: function forProperties(obj, type, props) {
        props.forEach(function(prop) {
          var notice = exports.warn[type](prop);
          Object.defineProperty(obj, prop, {
            get: notice,
            set: notice
          });
        });
      }
    };
  }
});

// node_modules/winston/package.json
var require_package = __commonJS({
  "node_modules/winston/package.json"(exports, module2) {
    module2.exports = {
      name: "winston",
      description: "A logger for just about everything.",
      version: "3.11.0",
      author: "Charlie Robbins <charlie.robbins@gmail.com>",
      maintainers: [
        "David Hyde <dabh@alumni.stanford.edu>"
      ],
      repository: {
        type: "git",
        url: "https://github.com/winstonjs/winston.git"
      },
      keywords: [
        "winston",
        "logger",
        "logging",
        "logs",
        "sysadmin",
        "bunyan",
        "pino",
        "loglevel",
        "tools",
        "json",
        "stream"
      ],
      dependencies: {
        "@dabh/diagnostics": "^2.0.2",
        "@colors/colors": "^1.6.0",
        async: "^3.2.3",
        "is-stream": "^2.0.0",
        logform: "^2.4.0",
        "one-time": "^1.0.0",
        "readable-stream": "^3.4.0",
        "safe-stable-stringify": "^2.3.1",
        "stack-trace": "0.0.x",
        "triple-beam": "^1.3.0",
        "winston-transport": "^4.5.0"
      },
      devDependencies: {
        "@babel/cli": "^7.17.0",
        "@babel/core": "^7.17.2",
        "@babel/preset-env": "^7.16.7",
        "@dabh/eslint-config-populist": "^5.0.0",
        "@types/node": "^20.3.1",
        "abstract-winston-transport": "^0.5.1",
        assume: "^2.2.0",
        "cross-spawn-async": "^2.2.5",
        eslint: "^8.9.0",
        hock: "^1.4.1",
        mocha: "8.1.3",
        nyc: "^15.1.0",
        rimraf: "^5.0.5",
        split2: "^4.1.0",
        "std-mocks": "^1.0.1",
        through2: "^4.0.2",
        "winston-compat": "^0.1.5"
      },
      main: "./lib/winston.js",
      browser: "./dist/winston",
      types: "./index.d.ts",
      scripts: {
        lint: "eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",
        test: "mocha",
        "test:coverage": "nyc npm run test:unit",
        "test:unit": "mocha test/unit",
        "test:integration": "mocha test/integration",
        build: "rimraf dist && babel lib -d dist",
        prepublishOnly: "npm run build"
      },
      engines: {
        node: ">= 12.0.0"
      },
      license: "MIT"
    };
  }
});

// node_modules/util-deprecate/browser.js
var require_browser2 = __commonJS({
  "node_modules/util-deprecate/browser.js"(exports, module2) {
    module2.exports = deprecate;
    function deprecate(fn, msg) {
      if (config("noDeprecation")) {
        return fn;
      }
      var warned = false;
      function deprecated() {
        if (!warned) {
          if (config("throwDeprecation")) {
            throw new Error(msg);
          } else if (config("traceDeprecation")) {
            console.trace(msg);
          } else {
            console.warn(msg);
          }
          warned = true;
        }
        return fn.apply(this, arguments);
      }
      return deprecated;
    }
    function config(name) {
      try {
        if (!global.localStorage)
          return false;
      } catch (_) {
        return false;
      }
      var val = global.localStorage[name];
      if (null == val)
        return false;
      return String(val).toLowerCase() === "true";
    }
  }
});

// node_modules/readable-stream/lib/internal/streams/stream-browser.js
var require_stream_browser = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/stream-browser.js"(exports, module2) {
    module2.exports = require("events").EventEmitter;
  }
});

// node_modules/readable-stream/lib/internal/streams/destroy.js
var require_destroy = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/destroy.js"(exports, module2) {
    "use strict";
    function destroy(err, cb) {
      var _this = this;
      var readableDestroyed = this._readableState && this._readableState.destroyed;
      var writableDestroyed = this._writableState && this._writableState.destroyed;
      if (readableDestroyed || writableDestroyed) {
        if (cb) {
          cb(err);
        } else if (err) {
          if (!this._writableState) {
            process.nextTick(emitErrorNT, this, err);
          } else if (!this._writableState.errorEmitted) {
            this._writableState.errorEmitted = true;
            process.nextTick(emitErrorNT, this, err);
          }
        }
        return this;
      }
      if (this._readableState) {
        this._readableState.destroyed = true;
      }
      if (this._writableState) {
        this._writableState.destroyed = true;
      }
      this._destroy(err || null, function(err2) {
        if (!cb && err2) {
          if (!_this._writableState) {
            process.nextTick(emitErrorAndCloseNT, _this, err2);
          } else if (!_this._writableState.errorEmitted) {
            _this._writableState.errorEmitted = true;
            process.nextTick(emitErrorAndCloseNT, _this, err2);
          } else {
            process.nextTick(emitCloseNT, _this);
          }
        } else if (cb) {
          process.nextTick(emitCloseNT, _this);
          cb(err2);
        } else {
          process.nextTick(emitCloseNT, _this);
        }
      });
      return this;
    }
    function emitErrorAndCloseNT(self2, err) {
      emitErrorNT(self2, err);
      emitCloseNT(self2);
    }
    function emitCloseNT(self2) {
      if (self2._writableState && !self2._writableState.emitClose)
        return;
      if (self2._readableState && !self2._readableState.emitClose)
        return;
      self2.emit("close");
    }
    function undestroy() {
      if (this._readableState) {
        this._readableState.destroyed = false;
        this._readableState.reading = false;
        this._readableState.ended = false;
        this._readableState.endEmitted = false;
      }
      if (this._writableState) {
        this._writableState.destroyed = false;
        this._writableState.ended = false;
        this._writableState.ending = false;
        this._writableState.finalCalled = false;
        this._writableState.prefinished = false;
        this._writableState.finished = false;
        this._writableState.errorEmitted = false;
      }
    }
    function emitErrorNT(self2, err) {
      self2.emit("error", err);
    }
    function errorOrDestroy(stream, err) {
      var rState = stream._readableState;
      var wState = stream._writableState;
      if (rState && rState.autoDestroy || wState && wState.autoDestroy)
        stream.destroy(err);
      else
        stream.emit("error", err);
    }
    module2.exports = {
      destroy,
      undestroy,
      errorOrDestroy
    };
  }
});

// node_modules/readable-stream/errors-browser.js
var require_errors_browser = __commonJS({
  "node_modules/readable-stream/errors-browser.js"(exports, module2) {
    "use strict";
    function _inheritsLoose(subClass, superClass) {
      subClass.prototype = Object.create(superClass.prototype);
      subClass.prototype.constructor = subClass;
      subClass.__proto__ = superClass;
    }
    var codes = {};
    function createErrorType(code, message, Base) {
      if (!Base) {
        Base = Error;
      }
      function getMessage(arg1, arg2, arg3) {
        if (typeof message === "string") {
          return message;
        } else {
          return message(arg1, arg2, arg3);
        }
      }
      var NodeError = /* @__PURE__ */ function(_Base) {
        _inheritsLoose(NodeError2, _Base);
        function NodeError2(arg1, arg2, arg3) {
          return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;
        }
        return NodeError2;
      }(Base);
      NodeError.prototype.name = Base.name;
      NodeError.prototype.code = code;
      codes[code] = NodeError;
    }
    function oneOf(expected, thing) {
      if (Array.isArray(expected)) {
        var len = expected.length;
        expected = expected.map(function(i) {
          return String(i);
        });
        if (len > 2) {
          return "one of ".concat(thing, " ").concat(expected.slice(0, len - 1).join(", "), ", or ") + expected[len - 1];
        } else if (len === 2) {
          return "one of ".concat(thing, " ").concat(expected[0], " or ").concat(expected[1]);
        } else {
          return "of ".concat(thing, " ").concat(expected[0]);
        }
      } else {
        return "of ".concat(thing, " ").concat(String(expected));
      }
    }
    function startsWith(str2, search, pos) {
      return str2.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
    }
    function endsWith(str2, search, this_len) {
      if (this_len === void 0 || this_len > str2.length) {
        this_len = str2.length;
      }
      return str2.substring(this_len - search.length, this_len) === search;
    }
    function includes(str2, search, start) {
      if (typeof start !== "number") {
        start = 0;
      }
      if (start + search.length > str2.length) {
        return false;
      } else {
        return str2.indexOf(search, start) !== -1;
      }
    }
    createErrorType("ERR_INVALID_OPT_VALUE", function(name, value) {
      return 'The value "' + value + '" is invalid for option "' + name + '"';
    }, TypeError);
    createErrorType("ERR_INVALID_ARG_TYPE", function(name, expected, actual) {
      var determiner;
      if (typeof expected === "string" && startsWith(expected, "not ")) {
        determiner = "must not be";
        expected = expected.replace(/^not /, "");
      } else {
        determiner = "must be";
      }
      var msg;
      if (endsWith(name, " argument")) {
        msg = "The ".concat(name, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
      } else {
        var type = includes(name, ".") ? "property" : "argument";
        msg = 'The "'.concat(name, '" ').concat(type, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
      }
      msg += ". Received type ".concat(typeof actual);
      return msg;
    }, TypeError);
    createErrorType("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF");
    createErrorType("ERR_METHOD_NOT_IMPLEMENTED", function(name) {
      return "The " + name + " method is not implemented";
    });
    createErrorType("ERR_STREAM_PREMATURE_CLOSE", "Premature close");
    createErrorType("ERR_STREAM_DESTROYED", function(name) {
      return "Cannot call " + name + " after a stream was destroyed";
    });
    createErrorType("ERR_MULTIPLE_CALLBACK", "Callback called multiple times");
    createErrorType("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable");
    createErrorType("ERR_STREAM_WRITE_AFTER_END", "write after end");
    createErrorType("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError);
    createErrorType("ERR_UNKNOWN_ENCODING", function(arg) {
      return "Unknown encoding: " + arg;
    }, TypeError);
    createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event");
    module2.exports.codes = codes;
  }
});

// node_modules/readable-stream/lib/internal/streams/state.js
var require_state = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/state.js"(exports, module2) {
    "use strict";
    var ERR_INVALID_OPT_VALUE = require_errors_browser().codes.ERR_INVALID_OPT_VALUE;
    function highWaterMarkFrom(options, isDuplex, duplexKey) {
      return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;
    }
    function getHighWaterMark(state, options, duplexKey, isDuplex) {
      var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);
      if (hwm != null) {
        if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {
          var name = isDuplex ? duplexKey : "highWaterMark";
          throw new ERR_INVALID_OPT_VALUE(name, hwm);
        }
        return Math.floor(hwm);
      }
      return state.objectMode ? 16 : 16 * 1024;
    }
    module2.exports = {
      getHighWaterMark
    };
  }
});

// node_modules/inherits/inherits_browser.js
var require_inherits_browser = __commonJS({
  "node_modules/inherits/inherits_browser.js"(exports, module2) {
    if (typeof Object.create === "function") {
      module2.exports = function inherits(ctor, superCtor) {
        if (superCtor) {
          ctor.super_ = superCtor;
          ctor.prototype = Object.create(superCtor.prototype, {
            constructor: {
              value: ctor,
              enumerable: false,
              writable: true,
              configurable: true
            }
          });
        }
      };
    } else {
      module2.exports = function inherits(ctor, superCtor) {
        if (superCtor) {
          ctor.super_ = superCtor;
          var TempCtor = function() {
          };
          TempCtor.prototype = superCtor.prototype;
          ctor.prototype = new TempCtor();
          ctor.prototype.constructor = ctor;
        }
      };
    }
  }
});

// node_modules/readable-stream/lib/internal/streams/buffer_list.js
var require_buffer_list = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/buffer_list.js"(exports, module2) {
    "use strict";
    function ownKeys(object, enumerableOnly) {
      var keys = Object.keys(object);
      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        enumerableOnly && (symbols = symbols.filter(function(sym) {
          return Object.getOwnPropertyDescriptor(object, sym).enumerable;
        })), keys.push.apply(keys, symbols);
      }
      return keys;
    }
    function _objectSpread(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = null != arguments[i] ? arguments[i] : {};
        i % 2 ? ownKeys(Object(source), true).forEach(function(key) {
          _defineProperty(target, key, source[key]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
      return target;
    }
    function _defineProperty(obj, key, value) {
      key = _toPropertyKey(key);
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return typeof key === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (typeof input !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (typeof res !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var _require = require("buffer");
    var Buffer2 = _require.Buffer;
    var _require2 = require("util");
    var inspect = _require2.inspect;
    var custom = inspect && inspect.custom || "inspect";
    function copyBuffer(src, target, offset) {
      Buffer2.prototype.copy.call(src, target, offset);
    }
    module2.exports = /* @__PURE__ */ function() {
      function BufferList() {
        _classCallCheck(this, BufferList);
        this.head = null;
        this.tail = null;
        this.length = 0;
      }
      _createClass(BufferList, [{
        key: "push",
        value: function push(v) {
          var entry = {
            data: v,
            next: null
          };
          if (this.length > 0)
            this.tail.next = entry;
          else
            this.head = entry;
          this.tail = entry;
          ++this.length;
        }
      }, {
        key: "unshift",
        value: function unshift(v) {
          var entry = {
            data: v,
            next: this.head
          };
          if (this.length === 0)
            this.tail = entry;
          this.head = entry;
          ++this.length;
        }
      }, {
        key: "shift",
        value: function shift() {
          if (this.length === 0)
            return;
          var ret = this.head.data;
          if (this.length === 1)
            this.head = this.tail = null;
          else
            this.head = this.head.next;
          --this.length;
          return ret;
        }
      }, {
        key: "clear",
        value: function clear() {
          this.head = this.tail = null;
          this.length = 0;
        }
      }, {
        key: "join",
        value: function join(s) {
          if (this.length === 0)
            return "";
          var p = this.head;
          var ret = "" + p.data;
          while (p = p.next)
            ret += s + p.data;
          return ret;
        }
      }, {
        key: "concat",
        value: function concat(n) {
          if (this.length === 0)
            return Buffer2.alloc(0);
          var ret = Buffer2.allocUnsafe(n >>> 0);
          var p = this.head;
          var i = 0;
          while (p) {
            copyBuffer(p.data, ret, i);
            i += p.data.length;
            p = p.next;
          }
          return ret;
        }
        // Consumes a specified amount of bytes or characters from the buffered data.
      }, {
        key: "consume",
        value: function consume(n, hasStrings) {
          var ret;
          if (n < this.head.data.length) {
            ret = this.head.data.slice(0, n);
            this.head.data = this.head.data.slice(n);
          } else if (n === this.head.data.length) {
            ret = this.shift();
          } else {
            ret = hasStrings ? this._getString(n) : this._getBuffer(n);
          }
          return ret;
        }
      }, {
        key: "first",
        value: function first() {
          return this.head.data;
        }
        // Consumes a specified amount of characters from the buffered data.
      }, {
        key: "_getString",
        value: function _getString(n) {
          var p = this.head;
          var c = 1;
          var ret = p.data;
          n -= ret.length;
          while (p = p.next) {
            var str2 = p.data;
            var nb = n > str2.length ? str2.length : n;
            if (nb === str2.length)
              ret += str2;
            else
              ret += str2.slice(0, n);
            n -= nb;
            if (n === 0) {
              if (nb === str2.length) {
                ++c;
                if (p.next)
                  this.head = p.next;
                else
                  this.head = this.tail = null;
              } else {
                this.head = p;
                p.data = str2.slice(nb);
              }
              break;
            }
            ++c;
          }
          this.length -= c;
          return ret;
        }
        // Consumes a specified amount of bytes from the buffered data.
      }, {
        key: "_getBuffer",
        value: function _getBuffer(n) {
          var ret = Buffer2.allocUnsafe(n);
          var p = this.head;
          var c = 1;
          p.data.copy(ret);
          n -= p.data.length;
          while (p = p.next) {
            var buf = p.data;
            var nb = n > buf.length ? buf.length : n;
            buf.copy(ret, ret.length - n, 0, nb);
            n -= nb;
            if (n === 0) {
              if (nb === buf.length) {
                ++c;
                if (p.next)
                  this.head = p.next;
                else
                  this.head = this.tail = null;
              } else {
                this.head = p;
                p.data = buf.slice(nb);
              }
              break;
            }
            ++c;
          }
          this.length -= c;
          return ret;
        }
        // Make sure the linked list only shows the minimal necessary information.
      }, {
        key: custom,
        value: function value(_, options) {
          return inspect(this, _objectSpread(_objectSpread({}, options), {}, {
            // Only inspect one level.
            depth: 0,
            // It should not recurse.
            customInspect: false
          }));
        }
      }]);
      return BufferList;
    }();
  }
});

// node_modules/readable-stream/lib/internal/streams/end-of-stream.js
var require_end_of_stream = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(exports, module2) {
    "use strict";
    var ERR_STREAM_PREMATURE_CLOSE = require_errors_browser().codes.ERR_STREAM_PREMATURE_CLOSE;
    function once(callback) {
      var called = false;
      return function() {
        if (called)
          return;
        called = true;
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        callback.apply(this, args);
      };
    }
    function noop() {
    }
    function isRequest(stream) {
      return stream.setHeader && typeof stream.abort === "function";
    }
    function eos(stream, opts, callback) {
      if (typeof opts === "function")
        return eos(stream, null, opts);
      if (!opts)
        opts = {};
      callback = once(callback || noop);
      var readable = opts.readable || opts.readable !== false && stream.readable;
      var writable = opts.writable || opts.writable !== false && stream.writable;
      var onlegacyfinish = function onlegacyfinish2() {
        if (!stream.writable)
          onfinish();
      };
      var writableEnded = stream._writableState && stream._writableState.finished;
      var onfinish = function onfinish2() {
        writable = false;
        writableEnded = true;
        if (!readable)
          callback.call(stream);
      };
      var readableEnded = stream._readableState && stream._readableState.endEmitted;
      var onend = function onend2() {
        readable = false;
        readableEnded = true;
        if (!writable)
          callback.call(stream);
      };
      var onerror = function onerror2(err) {
        callback.call(stream, err);
      };
      var onclose = function onclose2() {
        var err;
        if (readable && !readableEnded) {
          if (!stream._readableState || !stream._readableState.ended)
            err = new ERR_STREAM_PREMATURE_CLOSE();
          return callback.call(stream, err);
        }
        if (writable && !writableEnded) {
          if (!stream._writableState || !stream._writableState.ended)
            err = new ERR_STREAM_PREMATURE_CLOSE();
          return callback.call(stream, err);
        }
      };
      var onrequest = function onrequest2() {
        stream.req.on("finish", onfinish);
      };
      if (isRequest(stream)) {
        stream.on("complete", onfinish);
        stream.on("abort", onclose);
        if (stream.req)
          onrequest();
        else
          stream.on("request", onrequest);
      } else if (writable && !stream._writableState) {
        stream.on("end", onlegacyfinish);
        stream.on("close", onlegacyfinish);
      }
      stream.on("end", onend);
      stream.on("finish", onfinish);
      if (opts.error !== false)
        stream.on("error", onerror);
      stream.on("close", onclose);
      return function() {
        stream.removeListener("complete", onfinish);
        stream.removeListener("abort", onclose);
        stream.removeListener("request", onrequest);
        if (stream.req)
          stream.req.removeListener("finish", onfinish);
        stream.removeListener("end", onlegacyfinish);
        stream.removeListener("close", onlegacyfinish);
        stream.removeListener("finish", onfinish);
        stream.removeListener("end", onend);
        stream.removeListener("error", onerror);
        stream.removeListener("close", onclose);
      };
    }
    module2.exports = eos;
  }
});

// node_modules/readable-stream/lib/internal/streams/async_iterator.js
var require_async_iterator = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/async_iterator.js"(exports, module2) {
    "use strict";
    var _Object$setPrototypeO;
    function _defineProperty(obj, key, value) {
      key = _toPropertyKey(key);
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return typeof key === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (typeof input !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (typeof res !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var finished = require_end_of_stream();
    var kLastResolve = Symbol("lastResolve");
    var kLastReject = Symbol("lastReject");
    var kError = Symbol("error");
    var kEnded = Symbol("ended");
    var kLastPromise = Symbol("lastPromise");
    var kHandlePromise = Symbol("handlePromise");
    var kStream = Symbol("stream");
    function createIterResult(value, done) {
      return {
        value,
        done
      };
    }
    function readAndResolve(iter) {
      var resolve = iter[kLastResolve];
      if (resolve !== null) {
        var data = iter[kStream].read();
        if (data !== null) {
          iter[kLastPromise] = null;
          iter[kLastResolve] = null;
          iter[kLastReject] = null;
          resolve(createIterResult(data, false));
        }
      }
    }
    function onReadable(iter) {
      process.nextTick(readAndResolve, iter);
    }
    function wrapForNext(lastPromise, iter) {
      return function(resolve, reject) {
        lastPromise.then(function() {
          if (iter[kEnded]) {
            resolve(createIterResult(void 0, true));
            return;
          }
          iter[kHandlePromise](resolve, reject);
        }, reject);
      };
    }
    var AsyncIteratorPrototype = Object.getPrototypeOf(function() {
    });
    var ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {
      get stream() {
        return this[kStream];
      },
      next: function next() {
        var _this = this;
        var error = this[kError];
        if (error !== null) {
          return Promise.reject(error);
        }
        if (this[kEnded]) {
          return Promise.resolve(createIterResult(void 0, true));
        }
        if (this[kStream].destroyed) {
          return new Promise(function(resolve, reject) {
            process.nextTick(function() {
              if (_this[kError]) {
                reject(_this[kError]);
              } else {
                resolve(createIterResult(void 0, true));
              }
            });
          });
        }
        var lastPromise = this[kLastPromise];
        var promise;
        if (lastPromise) {
          promise = new Promise(wrapForNext(lastPromise, this));
        } else {
          var data = this[kStream].read();
          if (data !== null) {
            return Promise.resolve(createIterResult(data, false));
          }
          promise = new Promise(this[kHandlePromise]);
        }
        this[kLastPromise] = promise;
        return promise;
      }
    }, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function() {
      return this;
    }), _defineProperty(_Object$setPrototypeO, "return", function _return() {
      var _this2 = this;
      return new Promise(function(resolve, reject) {
        _this2[kStream].destroy(null, function(err) {
          if (err) {
            reject(err);
            return;
          }
          resolve(createIterResult(void 0, true));
        });
      });
    }), _Object$setPrototypeO), AsyncIteratorPrototype);
    var createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator2(stream) {
      var _Object$create;
      var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {
        value: stream,
        writable: true
      }), _defineProperty(_Object$create, kLastResolve, {
        value: null,
        writable: true
      }), _defineProperty(_Object$create, kLastReject, {
        value: null,
        writable: true
      }), _defineProperty(_Object$create, kError, {
        value: null,
        writable: true
      }), _defineProperty(_Object$create, kEnded, {
        value: stream._readableState.endEmitted,
        writable: true
      }), _defineProperty(_Object$create, kHandlePromise, {
        value: function value(resolve, reject) {
          var data = iterator[kStream].read();
          if (data) {
            iterator[kLastPromise] = null;
            iterator[kLastResolve] = null;
            iterator[kLastReject] = null;
            resolve(createIterResult(data, false));
          } else {
            iterator[kLastResolve] = resolve;
            iterator[kLastReject] = reject;
          }
        },
        writable: true
      }), _Object$create));
      iterator[kLastPromise] = null;
      finished(stream, function(err) {
        if (err && err.code !== "ERR_STREAM_PREMATURE_CLOSE") {
          var reject = iterator[kLastReject];
          if (reject !== null) {
            iterator[kLastPromise] = null;
            iterator[kLastResolve] = null;
            iterator[kLastReject] = null;
            reject(err);
          }
          iterator[kError] = err;
          return;
        }
        var resolve = iterator[kLastResolve];
        if (resolve !== null) {
          iterator[kLastPromise] = null;
          iterator[kLastResolve] = null;
          iterator[kLastReject] = null;
          resolve(createIterResult(void 0, true));
        }
        iterator[kEnded] = true;
      });
      stream.on("readable", onReadable.bind(null, iterator));
      return iterator;
    };
    module2.exports = createReadableStreamAsyncIterator;
  }
});

// node_modules/readable-stream/lib/internal/streams/from-browser.js
var require_from_browser = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/from-browser.js"(exports, module2) {
    module2.exports = function() {
      throw new Error("Readable.from is not available in the browser");
    };
  }
});

// node_modules/readable-stream/lib/_stream_readable.js
var require_stream_readable = __commonJS({
  "node_modules/readable-stream/lib/_stream_readable.js"(exports, module2) {
    "use strict";
    module2.exports = Readable;
    var Duplex;
    Readable.ReadableState = ReadableState;
    var EE = require("events").EventEmitter;
    var EElistenerCount = function EElistenerCount2(emitter, type) {
      return emitter.listeners(type).length;
    };
    var Stream2 = require_stream_browser();
    var Buffer2 = require("buffer").Buffer;
    var OurUint8Array = (typeof global !== "undefined" ? global : typeof window !== "undefined" ? window : typeof self !== "undefined" ? self : {}).Uint8Array || function() {
    };
    function _uint8ArrayToBuffer(chunk) {
      return Buffer2.from(chunk);
    }
    function _isUint8Array(obj) {
      return Buffer2.isBuffer(obj) || obj instanceof OurUint8Array;
    }
    var debugUtil = require("util");
    var debug2;
    if (debugUtil && debugUtil.debuglog) {
      debug2 = debugUtil.debuglog("stream");
    } else {
      debug2 = function debug3() {
      };
    }
    var BufferList = require_buffer_list();
    var destroyImpl = require_destroy();
    var _require = require_state();
    var getHighWaterMark = _require.getHighWaterMark;
    var _require$codes = require_errors_browser().codes;
    var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
    var ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF;
    var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
    var ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
    var StringDecoder;
    var createReadableStreamAsyncIterator;
    var from;
    require_inherits_browser()(Readable, Stream2);
    var errorOrDestroy = destroyImpl.errorOrDestroy;
    var kProxyEvents = ["error", "close", "destroy", "pause", "resume"];
    function prependListener(emitter, event, fn) {
      if (typeof emitter.prependListener === "function")
        return emitter.prependListener(event, fn);
      if (!emitter._events || !emitter._events[event])
        emitter.on(event, fn);
      else if (Array.isArray(emitter._events[event]))
        emitter._events[event].unshift(fn);
      else
        emitter._events[event] = [fn, emitter._events[event]];
    }
    function ReadableState(options, stream, isDuplex) {
      Duplex = Duplex || require_stream_duplex();
      options = options || {};
      if (typeof isDuplex !== "boolean")
        isDuplex = stream instanceof Duplex;
      this.objectMode = !!options.objectMode;
      if (isDuplex)
        this.objectMode = this.objectMode || !!options.readableObjectMode;
      this.highWaterMark = getHighWaterMark(this, options, "readableHighWaterMark", isDuplex);
      this.buffer = new BufferList();
      this.length = 0;
      this.pipes = null;
      this.pipesCount = 0;
      this.flowing = null;
      this.ended = false;
      this.endEmitted = false;
      this.reading = false;
      this.sync = true;
      this.needReadable = false;
      this.emittedReadable = false;
      this.readableListening = false;
      this.resumeScheduled = false;
      this.paused = true;
      this.emitClose = options.emitClose !== false;
      this.autoDestroy = !!options.autoDestroy;
      this.destroyed = false;
      this.defaultEncoding = options.defaultEncoding || "utf8";
      this.awaitDrain = 0;
      this.readingMore = false;
      this.decoder = null;
      this.encoding = null;
      if (options.encoding) {
        if (!StringDecoder)
          StringDecoder = require("string_decoder/").StringDecoder;
        this.decoder = new StringDecoder(options.encoding);
        this.encoding = options.encoding;
      }
    }
    function Readable(options) {
      Duplex = Duplex || require_stream_duplex();
      if (!(this instanceof Readable))
        return new Readable(options);
      var isDuplex = this instanceof Duplex;
      this._readableState = new ReadableState(options, this, isDuplex);
      this.readable = true;
      if (options) {
        if (typeof options.read === "function")
          this._read = options.read;
        if (typeof options.destroy === "function")
          this._destroy = options.destroy;
      }
      Stream2.call(this);
    }
    Object.defineProperty(Readable.prototype, "destroyed", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        if (this._readableState === void 0) {
          return false;
        }
        return this._readableState.destroyed;
      },
      set: function set(value) {
        if (!this._readableState) {
          return;
        }
        this._readableState.destroyed = value;
      }
    });
    Readable.prototype.destroy = destroyImpl.destroy;
    Readable.prototype._undestroy = destroyImpl.undestroy;
    Readable.prototype._destroy = function(err, cb) {
      cb(err);
    };
    Readable.prototype.push = function(chunk, encoding) {
      var state = this._readableState;
      var skipChunkCheck;
      if (!state.objectMode) {
        if (typeof chunk === "string") {
          encoding = encoding || state.defaultEncoding;
          if (encoding !== state.encoding) {
            chunk = Buffer2.from(chunk, encoding);
            encoding = "";
          }
          skipChunkCheck = true;
        }
      } else {
        skipChunkCheck = true;
      }
      return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);
    };
    Readable.prototype.unshift = function(chunk) {
      return readableAddChunk(this, chunk, null, true, false);
    };
    function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {
      debug2("readableAddChunk", chunk);
      var state = stream._readableState;
      if (chunk === null) {
        state.reading = false;
        onEofChunk(stream, state);
      } else {
        var er;
        if (!skipChunkCheck)
          er = chunkInvalid(state, chunk);
        if (er) {
          errorOrDestroy(stream, er);
        } else if (state.objectMode || chunk && chunk.length > 0) {
          if (typeof chunk !== "string" && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer2.prototype) {
            chunk = _uint8ArrayToBuffer(chunk);
          }
          if (addToFront) {
            if (state.endEmitted)
              errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());
            else
              addChunk(stream, state, chunk, true);
          } else if (state.ended) {
            errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());
          } else if (state.destroyed) {
            return false;
          } else {
            state.reading = false;
            if (state.decoder && !encoding) {
              chunk = state.decoder.write(chunk);
              if (state.objectMode || chunk.length !== 0)
                addChunk(stream, state, chunk, false);
              else
                maybeReadMore(stream, state);
            } else {
              addChunk(stream, state, chunk, false);
            }
          }
        } else if (!addToFront) {
          state.reading = false;
          maybeReadMore(stream, state);
        }
      }
      return !state.ended && (state.length < state.highWaterMark || state.length === 0);
    }
    function addChunk(stream, state, chunk, addToFront) {
      if (state.flowing && state.length === 0 && !state.sync) {
        state.awaitDrain = 0;
        stream.emit("data", chunk);
      } else {
        state.length += state.objectMode ? 1 : chunk.length;
        if (addToFront)
          state.buffer.unshift(chunk);
        else
          state.buffer.push(chunk);
        if (state.needReadable)
          emitReadable(stream);
      }
      maybeReadMore(stream, state);
    }
    function chunkInvalid(state, chunk) {
      var er;
      if (!_isUint8Array(chunk) && typeof chunk !== "string" && chunk !== void 0 && !state.objectMode) {
        er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer", "Uint8Array"], chunk);
      }
      return er;
    }
    Readable.prototype.isPaused = function() {
      return this._readableState.flowing === false;
    };
    Readable.prototype.setEncoding = function(enc) {
      if (!StringDecoder)
        StringDecoder = require("string_decoder/").StringDecoder;
      var decoder = new StringDecoder(enc);
      this._readableState.decoder = decoder;
      this._readableState.encoding = this._readableState.decoder.encoding;
      var p = this._readableState.buffer.head;
      var content = "";
      while (p !== null) {
        content += decoder.write(p.data);
        p = p.next;
      }
      this._readableState.buffer.clear();
      if (content !== "")
        this._readableState.buffer.push(content);
      this._readableState.length = content.length;
      return this;
    };
    var MAX_HWM = 1073741824;
    function computeNewHighWaterMark(n) {
      if (n >= MAX_HWM) {
        n = MAX_HWM;
      } else {
        n--;
        n |= n >>> 1;
        n |= n >>> 2;
        n |= n >>> 4;
        n |= n >>> 8;
        n |= n >>> 16;
        n++;
      }
      return n;
    }
    function howMuchToRead(n, state) {
      if (n <= 0 || state.length === 0 && state.ended)
        return 0;
      if (state.objectMode)
        return 1;
      if (n !== n) {
        if (state.flowing && state.length)
          return state.buffer.head.data.length;
        else
          return state.length;
      }
      if (n > state.highWaterMark)
        state.highWaterMark = computeNewHighWaterMark(n);
      if (n <= state.length)
        return n;
      if (!state.ended) {
        state.needReadable = true;
        return 0;
      }
      return state.length;
    }
    Readable.prototype.read = function(n) {
      debug2("read", n);
      n = parseInt(n, 10);
      var state = this._readableState;
      var nOrig = n;
      if (n !== 0)
        state.emittedReadable = false;
      if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {
        debug2("read: emitReadable", state.length, state.ended);
        if (state.length === 0 && state.ended)
          endReadable(this);
        else
          emitReadable(this);
        return null;
      }
      n = howMuchToRead(n, state);
      if (n === 0 && state.ended) {
        if (state.length === 0)
          endReadable(this);
        return null;
      }
      var doRead = state.needReadable;
      debug2("need readable", doRead);
      if (state.length === 0 || state.length - n < state.highWaterMark) {
        doRead = true;
        debug2("length less than watermark", doRead);
      }
      if (state.ended || state.reading) {
        doRead = false;
        debug2("reading or ended", doRead);
      } else if (doRead) {
        debug2("do read");
        state.reading = true;
        state.sync = true;
        if (state.length === 0)
          state.needReadable = true;
        this._read(state.highWaterMark);
        state.sync = false;
        if (!state.reading)
          n = howMuchToRead(nOrig, state);
      }
      var ret;
      if (n > 0)
        ret = fromList(n, state);
      else
        ret = null;
      if (ret === null) {
        state.needReadable = state.length <= state.highWaterMark;
        n = 0;
      } else {
        state.length -= n;
        state.awaitDrain = 0;
      }
      if (state.length === 0) {
        if (!state.ended)
          state.needReadable = true;
        if (nOrig !== n && state.ended)
          endReadable(this);
      }
      if (ret !== null)
        this.emit("data", ret);
      return ret;
    };
    function onEofChunk(stream, state) {
      debug2("onEofChunk");
      if (state.ended)
        return;
      if (state.decoder) {
        var chunk = state.decoder.end();
        if (chunk && chunk.length) {
          state.buffer.push(chunk);
          state.length += state.objectMode ? 1 : chunk.length;
        }
      }
      state.ended = true;
      if (state.sync) {
        emitReadable(stream);
      } else {
        state.needReadable = false;
        if (!state.emittedReadable) {
          state.emittedReadable = true;
          emitReadable_(stream);
        }
      }
    }
    function emitReadable(stream) {
      var state = stream._readableState;
      debug2("emitReadable", state.needReadable, state.emittedReadable);
      state.needReadable = false;
      if (!state.emittedReadable) {
        debug2("emitReadable", state.flowing);
        state.emittedReadable = true;
        process.nextTick(emitReadable_, stream);
      }
    }
    function emitReadable_(stream) {
      var state = stream._readableState;
      debug2("emitReadable_", state.destroyed, state.length, state.ended);
      if (!state.destroyed && (state.length || state.ended)) {
        stream.emit("readable");
        state.emittedReadable = false;
      }
      state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;
      flow(stream);
    }
    function maybeReadMore(stream, state) {
      if (!state.readingMore) {
        state.readingMore = true;
        process.nextTick(maybeReadMore_, stream, state);
      }
    }
    function maybeReadMore_(stream, state) {
      while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {
        var len = state.length;
        debug2("maybeReadMore read 0");
        stream.read(0);
        if (len === state.length)
          break;
      }
      state.readingMore = false;
    }
    Readable.prototype._read = function(n) {
      errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED("_read()"));
    };
    Readable.prototype.pipe = function(dest, pipeOpts) {
      var src = this;
      var state = this._readableState;
      switch (state.pipesCount) {
        case 0:
          state.pipes = dest;
          break;
        case 1:
          state.pipes = [state.pipes, dest];
          break;
        default:
          state.pipes.push(dest);
          break;
      }
      state.pipesCount += 1;
      debug2("pipe count=%d opts=%j", state.pipesCount, pipeOpts);
      var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;
      var endFn = doEnd ? onend : unpipe;
      if (state.endEmitted)
        process.nextTick(endFn);
      else
        src.once("end", endFn);
      dest.on("unpipe", onunpipe);
      function onunpipe(readable, unpipeInfo) {
        debug2("onunpipe");
        if (readable === src) {
          if (unpipeInfo && unpipeInfo.hasUnpiped === false) {
            unpipeInfo.hasUnpiped = true;
            cleanup();
          }
        }
      }
      function onend() {
        debug2("onend");
        dest.end();
      }
      var ondrain = pipeOnDrain(src);
      dest.on("drain", ondrain);
      var cleanedUp = false;
      function cleanup() {
        debug2("cleanup");
        dest.removeListener("close", onclose);
        dest.removeListener("finish", onfinish);
        dest.removeListener("drain", ondrain);
        dest.removeListener("error", onerror);
        dest.removeListener("unpipe", onunpipe);
        src.removeListener("end", onend);
        src.removeListener("end", unpipe);
        src.removeListener("data", ondata);
        cleanedUp = true;
        if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain))
          ondrain();
      }
      src.on("data", ondata);
      function ondata(chunk) {
        debug2("ondata");
        var ret = dest.write(chunk);
        debug2("dest.write", ret);
        if (ret === false) {
          if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {
            debug2("false write response, pause", state.awaitDrain);
            state.awaitDrain++;
          }
          src.pause();
        }
      }
      function onerror(er) {
        debug2("onerror", er);
        unpipe();
        dest.removeListener("error", onerror);
        if (EElistenerCount(dest, "error") === 0)
          errorOrDestroy(dest, er);
      }
      prependListener(dest, "error", onerror);
      function onclose() {
        dest.removeListener("finish", onfinish);
        unpipe();
      }
      dest.once("close", onclose);
      function onfinish() {
        debug2("onfinish");
        dest.removeListener("close", onclose);
        unpipe();
      }
      dest.once("finish", onfinish);
      function unpipe() {
        debug2("unpipe");
        src.unpipe(dest);
      }
      dest.emit("pipe", src);
      if (!state.flowing) {
        debug2("pipe resume");
        src.resume();
      }
      return dest;
    };
    function pipeOnDrain(src) {
      return function pipeOnDrainFunctionResult() {
        var state = src._readableState;
        debug2("pipeOnDrain", state.awaitDrain);
        if (state.awaitDrain)
          state.awaitDrain--;
        if (state.awaitDrain === 0 && EElistenerCount(src, "data")) {
          state.flowing = true;
          flow(src);
        }
      };
    }
    Readable.prototype.unpipe = function(dest) {
      var state = this._readableState;
      var unpipeInfo = {
        hasUnpiped: false
      };
      if (state.pipesCount === 0)
        return this;
      if (state.pipesCount === 1) {
        if (dest && dest !== state.pipes)
          return this;
        if (!dest)
          dest = state.pipes;
        state.pipes = null;
        state.pipesCount = 0;
        state.flowing = false;
        if (dest)
          dest.emit("unpipe", this, unpipeInfo);
        return this;
      }
      if (!dest) {
        var dests = state.pipes;
        var len = state.pipesCount;
        state.pipes = null;
        state.pipesCount = 0;
        state.flowing = false;
        for (var i = 0; i < len; i++)
          dests[i].emit("unpipe", this, {
            hasUnpiped: false
          });
        return this;
      }
      var index = indexOf(state.pipes, dest);
      if (index === -1)
        return this;
      state.pipes.splice(index, 1);
      state.pipesCount -= 1;
      if (state.pipesCount === 1)
        state.pipes = state.pipes[0];
      dest.emit("unpipe", this, unpipeInfo);
      return this;
    };
    Readable.prototype.on = function(ev, fn) {
      var res = Stream2.prototype.on.call(this, ev, fn);
      var state = this._readableState;
      if (ev === "data") {
        state.readableListening = this.listenerCount("readable") > 0;
        if (state.flowing !== false)
          this.resume();
      } else if (ev === "readable") {
        if (!state.endEmitted && !state.readableListening) {
          state.readableListening = state.needReadable = true;
          state.flowing = false;
          state.emittedReadable = false;
          debug2("on readable", state.length, state.reading);
          if (state.length) {
            emitReadable(this);
          } else if (!state.reading) {
            process.nextTick(nReadingNextTick, this);
          }
        }
      }
      return res;
    };
    Readable.prototype.addListener = Readable.prototype.on;
    Readable.prototype.removeListener = function(ev, fn) {
      var res = Stream2.prototype.removeListener.call(this, ev, fn);
      if (ev === "readable") {
        process.nextTick(updateReadableListening, this);
      }
      return res;
    };
    Readable.prototype.removeAllListeners = function(ev) {
      var res = Stream2.prototype.removeAllListeners.apply(this, arguments);
      if (ev === "readable" || ev === void 0) {
        process.nextTick(updateReadableListening, this);
      }
      return res;
    };
    function updateReadableListening(self2) {
      var state = self2._readableState;
      state.readableListening = self2.listenerCount("readable") > 0;
      if (state.resumeScheduled && !state.paused) {
        state.flowing = true;
      } else if (self2.listenerCount("data") > 0) {
        self2.resume();
      }
    }
    function nReadingNextTick(self2) {
      debug2("readable nexttick read 0");
      self2.read(0);
    }
    Readable.prototype.resume = function() {
      var state = this._readableState;
      if (!state.flowing) {
        debug2("resume");
        state.flowing = !state.readableListening;
        resume(this, state);
      }
      state.paused = false;
      return this;
    };
    function resume(stream, state) {
      if (!state.resumeScheduled) {
        state.resumeScheduled = true;
        process.nextTick(resume_, stream, state);
      }
    }
    function resume_(stream, state) {
      debug2("resume", state.reading);
      if (!state.reading) {
        stream.read(0);
      }
      state.resumeScheduled = false;
      stream.emit("resume");
      flow(stream);
      if (state.flowing && !state.reading)
        stream.read(0);
    }
    Readable.prototype.pause = function() {
      debug2("call pause flowing=%j", this._readableState.flowing);
      if (this._readableState.flowing !== false) {
        debug2("pause");
        this._readableState.flowing = false;
        this.emit("pause");
      }
      this._readableState.paused = true;
      return this;
    };
    function flow(stream) {
      var state = stream._readableState;
      debug2("flow", state.flowing);
      while (state.flowing && stream.read() !== null)
        ;
    }
    Readable.prototype.wrap = function(stream) {
      var _this = this;
      var state = this._readableState;
      var paused = false;
      stream.on("end", function() {
        debug2("wrapped end");
        if (state.decoder && !state.ended) {
          var chunk = state.decoder.end();
          if (chunk && chunk.length)
            _this.push(chunk);
        }
        _this.push(null);
      });
      stream.on("data", function(chunk) {
        debug2("wrapped data");
        if (state.decoder)
          chunk = state.decoder.write(chunk);
        if (state.objectMode && (chunk === null || chunk === void 0))
          return;
        else if (!state.objectMode && (!chunk || !chunk.length))
          return;
        var ret = _this.push(chunk);
        if (!ret) {
          paused = true;
          stream.pause();
        }
      });
      for (var i in stream) {
        if (this[i] === void 0 && typeof stream[i] === "function") {
          this[i] = function methodWrap(method) {
            return function methodWrapReturnFunction() {
              return stream[method].apply(stream, arguments);
            };
          }(i);
        }
      }
      for (var n = 0; n < kProxyEvents.length; n++) {
        stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));
      }
      this._read = function(n2) {
        debug2("wrapped _read", n2);
        if (paused) {
          paused = false;
          stream.resume();
        }
      };
      return this;
    };
    if (typeof Symbol === "function") {
      Readable.prototype[Symbol.asyncIterator] = function() {
        if (createReadableStreamAsyncIterator === void 0) {
          createReadableStreamAsyncIterator = require_async_iterator();
        }
        return createReadableStreamAsyncIterator(this);
      };
    }
    Object.defineProperty(Readable.prototype, "readableHighWaterMark", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState.highWaterMark;
      }
    });
    Object.defineProperty(Readable.prototype, "readableBuffer", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState && this._readableState.buffer;
      }
    });
    Object.defineProperty(Readable.prototype, "readableFlowing", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState.flowing;
      },
      set: function set(state) {
        if (this._readableState) {
          this._readableState.flowing = state;
        }
      }
    });
    Readable._fromList = fromList;
    Object.defineProperty(Readable.prototype, "readableLength", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState.length;
      }
    });
    function fromList(n, state) {
      if (state.length === 0)
        return null;
      var ret;
      if (state.objectMode)
        ret = state.buffer.shift();
      else if (!n || n >= state.length) {
        if (state.decoder)
          ret = state.buffer.join("");
        else if (state.buffer.length === 1)
          ret = state.buffer.first();
        else
          ret = state.buffer.concat(state.length);
        state.buffer.clear();
      } else {
        ret = state.buffer.consume(n, state.decoder);
      }
      return ret;
    }
    function endReadable(stream) {
      var state = stream._readableState;
      debug2("endReadable", state.endEmitted);
      if (!state.endEmitted) {
        state.ended = true;
        process.nextTick(endReadableNT, state, stream);
      }
    }
    function endReadableNT(state, stream) {
      debug2("endReadableNT", state.endEmitted, state.length);
      if (!state.endEmitted && state.length === 0) {
        state.endEmitted = true;
        stream.readable = false;
        stream.emit("end");
        if (state.autoDestroy) {
          var wState = stream._writableState;
          if (!wState || wState.autoDestroy && wState.finished) {
            stream.destroy();
          }
        }
      }
    }
    if (typeof Symbol === "function") {
      Readable.from = function(iterable, opts) {
        if (from === void 0) {
          from = require_from_browser();
        }
        return from(Readable, iterable, opts);
      };
    }
    function indexOf(xs, x) {
      for (var i = 0, l = xs.length; i < l; i++) {
        if (xs[i] === x)
          return i;
      }
      return -1;
    }
  }
});

// node_modules/readable-stream/lib/_stream_duplex.js
var require_stream_duplex = __commonJS({
  "node_modules/readable-stream/lib/_stream_duplex.js"(exports, module2) {
    "use strict";
    var objectKeys = Object.keys || function(obj) {
      var keys2 = [];
      for (var key in obj)
        keys2.push(key);
      return keys2;
    };
    module2.exports = Duplex;
    var Readable = require_stream_readable();
    var Writable = require_stream_writable();
    require_inherits_browser()(Duplex, Readable);
    {
      keys = objectKeys(Writable.prototype);
      for (v = 0; v < keys.length; v++) {
        method = keys[v];
        if (!Duplex.prototype[method])
          Duplex.prototype[method] = Writable.prototype[method];
      }
    }
    var keys;
    var method;
    var v;
    function Duplex(options) {
      if (!(this instanceof Duplex))
        return new Duplex(options);
      Readable.call(this, options);
      Writable.call(this, options);
      this.allowHalfOpen = true;
      if (options) {
        if (options.readable === false)
          this.readable = false;
        if (options.writable === false)
          this.writable = false;
        if (options.allowHalfOpen === false) {
          this.allowHalfOpen = false;
          this.once("end", onend);
        }
      }
    }
    Object.defineProperty(Duplex.prototype, "writableHighWaterMark", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.highWaterMark;
      }
    });
    Object.defineProperty(Duplex.prototype, "writableBuffer", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState && this._writableState.getBuffer();
      }
    });
    Object.defineProperty(Duplex.prototype, "writableLength", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.length;
      }
    });
    function onend() {
      if (this._writableState.ended)
        return;
      process.nextTick(onEndNT, this);
    }
    function onEndNT(self2) {
      self2.end();
    }
    Object.defineProperty(Duplex.prototype, "destroyed", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        if (this._readableState === void 0 || this._writableState === void 0) {
          return false;
        }
        return this._readableState.destroyed && this._writableState.destroyed;
      },
      set: function set(value) {
        if (this._readableState === void 0 || this._writableState === void 0) {
          return;
        }
        this._readableState.destroyed = value;
        this._writableState.destroyed = value;
      }
    });
  }
});

// node_modules/readable-stream/lib/_stream_writable.js
var require_stream_writable = __commonJS({
  "node_modules/readable-stream/lib/_stream_writable.js"(exports, module2) {
    "use strict";
    module2.exports = Writable;
    function CorkedRequest(state) {
      var _this = this;
      this.next = null;
      this.entry = null;
      this.finish = function() {
        onCorkedFinish(_this, state);
      };
    }
    var Duplex;
    Writable.WritableState = WritableState;
    var internalUtil = {
      deprecate: require_browser2()
    };
    var Stream2 = require_stream_browser();
    var Buffer2 = require("buffer").Buffer;
    var OurUint8Array = (typeof global !== "undefined" ? global : typeof window !== "undefined" ? window : typeof self !== "undefined" ? self : {}).Uint8Array || function() {
    };
    function _uint8ArrayToBuffer(chunk) {
      return Buffer2.from(chunk);
    }
    function _isUint8Array(obj) {
      return Buffer2.isBuffer(obj) || obj instanceof OurUint8Array;
    }
    var destroyImpl = require_destroy();
    var _require = require_state();
    var getHighWaterMark = _require.getHighWaterMark;
    var _require$codes = require_errors_browser().codes;
    var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
    var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
    var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
    var ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE;
    var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
    var ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES;
    var ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END;
    var ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;
    var errorOrDestroy = destroyImpl.errorOrDestroy;
    require_inherits_browser()(Writable, Stream2);
    function nop() {
    }
    function WritableState(options, stream, isDuplex) {
      Duplex = Duplex || require_stream_duplex();
      options = options || {};
      if (typeof isDuplex !== "boolean")
        isDuplex = stream instanceof Duplex;
      this.objectMode = !!options.objectMode;
      if (isDuplex)
        this.objectMode = this.objectMode || !!options.writableObjectMode;
      this.highWaterMark = getHighWaterMark(this, options, "writableHighWaterMark", isDuplex);
      this.finalCalled = false;
      this.needDrain = false;
      this.ending = false;
      this.ended = false;
      this.finished = false;
      this.destroyed = false;
      var noDecode = options.decodeStrings === false;
      this.decodeStrings = !noDecode;
      this.defaultEncoding = options.defaultEncoding || "utf8";
      this.length = 0;
      this.writing = false;
      this.corked = 0;
      this.sync = true;
      this.bufferProcessing = false;
      this.onwrite = function(er) {
        onwrite(stream, er);
      };
      this.writecb = null;
      this.writelen = 0;
      this.bufferedRequest = null;
      this.lastBufferedRequest = null;
      this.pendingcb = 0;
      this.prefinished = false;
      this.errorEmitted = false;
      this.emitClose = options.emitClose !== false;
      this.autoDestroy = !!options.autoDestroy;
      this.bufferedRequestCount = 0;
      this.corkedRequestsFree = new CorkedRequest(this);
    }
    WritableState.prototype.getBuffer = function getBuffer() {
      var current = this.bufferedRequest;
      var out = [];
      while (current) {
        out.push(current);
        current = current.next;
      }
      return out;
    };
    (function() {
      try {
        Object.defineProperty(WritableState.prototype, "buffer", {
          get: internalUtil.deprecate(function writableStateBufferGetter() {
            return this.getBuffer();
          }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
        });
      } catch (_) {
      }
    })();
    var realHasInstance;
    if (typeof Symbol === "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === "function") {
      realHasInstance = Function.prototype[Symbol.hasInstance];
      Object.defineProperty(Writable, Symbol.hasInstance, {
        value: function value(object) {
          if (realHasInstance.call(this, object))
            return true;
          if (this !== Writable)
            return false;
          return object && object._writableState instanceof WritableState;
        }
      });
    } else {
      realHasInstance = function realHasInstance2(object) {
        return object instanceof this;
      };
    }
    function Writable(options) {
      Duplex = Duplex || require_stream_duplex();
      var isDuplex = this instanceof Duplex;
      if (!isDuplex && !realHasInstance.call(Writable, this))
        return new Writable(options);
      this._writableState = new WritableState(options, this, isDuplex);
      this.writable = true;
      if (options) {
        if (typeof options.write === "function")
          this._write = options.write;
        if (typeof options.writev === "function")
          this._writev = options.writev;
        if (typeof options.destroy === "function")
          this._destroy = options.destroy;
        if (typeof options.final === "function")
          this._final = options.final;
      }
      Stream2.call(this);
    }
    Writable.prototype.pipe = function() {
      errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());
    };
    function writeAfterEnd(stream, cb) {
      var er = new ERR_STREAM_WRITE_AFTER_END();
      errorOrDestroy(stream, er);
      process.nextTick(cb, er);
    }
    function validChunk(stream, state, chunk, cb) {
      var er;
      if (chunk === null) {
        er = new ERR_STREAM_NULL_VALUES();
      } else if (typeof chunk !== "string" && !state.objectMode) {
        er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer"], chunk);
      }
      if (er) {
        errorOrDestroy(stream, er);
        process.nextTick(cb, er);
        return false;
      }
      return true;
    }
    Writable.prototype.write = function(chunk, encoding, cb) {
      var state = this._writableState;
      var ret = false;
      var isBuf = !state.objectMode && _isUint8Array(chunk);
      if (isBuf && !Buffer2.isBuffer(chunk)) {
        chunk = _uint8ArrayToBuffer(chunk);
      }
      if (typeof encoding === "function") {
        cb = encoding;
        encoding = null;
      }
      if (isBuf)
        encoding = "buffer";
      else if (!encoding)
        encoding = state.defaultEncoding;
      if (typeof cb !== "function")
        cb = nop;
      if (state.ending)
        writeAfterEnd(this, cb);
      else if (isBuf || validChunk(this, state, chunk, cb)) {
        state.pendingcb++;
        ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);
      }
      return ret;
    };
    Writable.prototype.cork = function() {
      this._writableState.corked++;
    };
    Writable.prototype.uncork = function() {
      var state = this._writableState;
      if (state.corked) {
        state.corked--;
        if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest)
          clearBuffer(this, state);
      }
    };
    Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
      if (typeof encoding === "string")
        encoding = encoding.toLowerCase();
      if (!(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((encoding + "").toLowerCase()) > -1))
        throw new ERR_UNKNOWN_ENCODING(encoding);
      this._writableState.defaultEncoding = encoding;
      return this;
    };
    Object.defineProperty(Writable.prototype, "writableBuffer", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState && this._writableState.getBuffer();
      }
    });
    function decodeChunk(state, chunk, encoding) {
      if (!state.objectMode && state.decodeStrings !== false && typeof chunk === "string") {
        chunk = Buffer2.from(chunk, encoding);
      }
      return chunk;
    }
    Object.defineProperty(Writable.prototype, "writableHighWaterMark", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.highWaterMark;
      }
    });
    function writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {
      if (!isBuf) {
        var newChunk = decodeChunk(state, chunk, encoding);
        if (chunk !== newChunk) {
          isBuf = true;
          encoding = "buffer";
          chunk = newChunk;
        }
      }
      var len = state.objectMode ? 1 : chunk.length;
      state.length += len;
      var ret = state.length < state.highWaterMark;
      if (!ret)
        state.needDrain = true;
      if (state.writing || state.corked) {
        var last = state.lastBufferedRequest;
        state.lastBufferedRequest = {
          chunk,
          encoding,
          isBuf,
          callback: cb,
          next: null
        };
        if (last) {
          last.next = state.lastBufferedRequest;
        } else {
          state.bufferedRequest = state.lastBufferedRequest;
        }
        state.bufferedRequestCount += 1;
      } else {
        doWrite(stream, state, false, len, chunk, encoding, cb);
      }
      return ret;
    }
    function doWrite(stream, state, writev, len, chunk, encoding, cb) {
      state.writelen = len;
      state.writecb = cb;
      state.writing = true;
      state.sync = true;
      if (state.destroyed)
        state.onwrite(new ERR_STREAM_DESTROYED("write"));
      else if (writev)
        stream._writev(chunk, state.onwrite);
      else
        stream._write(chunk, encoding, state.onwrite);
      state.sync = false;
    }
    function onwriteError(stream, state, sync, er, cb) {
      --state.pendingcb;
      if (sync) {
        process.nextTick(cb, er);
        process.nextTick(finishMaybe, stream, state);
        stream._writableState.errorEmitted = true;
        errorOrDestroy(stream, er);
      } else {
        cb(er);
        stream._writableState.errorEmitted = true;
        errorOrDestroy(stream, er);
        finishMaybe(stream, state);
      }
    }
    function onwriteStateUpdate(state) {
      state.writing = false;
      state.writecb = null;
      state.length -= state.writelen;
      state.writelen = 0;
    }
    function onwrite(stream, er) {
      var state = stream._writableState;
      var sync = state.sync;
      var cb = state.writecb;
      if (typeof cb !== "function")
        throw new ERR_MULTIPLE_CALLBACK();
      onwriteStateUpdate(state);
      if (er)
        onwriteError(stream, state, sync, er, cb);
      else {
        var finished = needFinish(state) || stream.destroyed;
        if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
          clearBuffer(stream, state);
        }
        if (sync) {
          process.nextTick(afterWrite, stream, state, finished, cb);
        } else {
          afterWrite(stream, state, finished, cb);
        }
      }
    }
    function afterWrite(stream, state, finished, cb) {
      if (!finished)
        onwriteDrain(stream, state);
      state.pendingcb--;
      cb();
      finishMaybe(stream, state);
    }
    function onwriteDrain(stream, state) {
      if (state.length === 0 && state.needDrain) {
        state.needDrain = false;
        stream.emit("drain");
      }
    }
    function clearBuffer(stream, state) {
      state.bufferProcessing = true;
      var entry = state.bufferedRequest;
      if (stream._writev && entry && entry.next) {
        var l = state.bufferedRequestCount;
        var buffer = new Array(l);
        var holder = state.corkedRequestsFree;
        holder.entry = entry;
        var count = 0;
        var allBuffers = true;
        while (entry) {
          buffer[count] = entry;
          if (!entry.isBuf)
            allBuffers = false;
          entry = entry.next;
          count += 1;
        }
        buffer.allBuffers = allBuffers;
        doWrite(stream, state, true, state.length, buffer, "", holder.finish);
        state.pendingcb++;
        state.lastBufferedRequest = null;
        if (holder.next) {
          state.corkedRequestsFree = holder.next;
          holder.next = null;
        } else {
          state.corkedRequestsFree = new CorkedRequest(state);
        }
        state.bufferedRequestCount = 0;
      } else {
        while (entry) {
          var chunk = entry.chunk;
          var encoding = entry.encoding;
          var cb = entry.callback;
          var len = state.objectMode ? 1 : chunk.length;
          doWrite(stream, state, false, len, chunk, encoding, cb);
          entry = entry.next;
          state.bufferedRequestCount--;
          if (state.writing) {
            break;
          }
        }
        if (entry === null)
          state.lastBufferedRequest = null;
      }
      state.bufferedRequest = entry;
      state.bufferProcessing = false;
    }
    Writable.prototype._write = function(chunk, encoding, cb) {
      cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"));
    };
    Writable.prototype._writev = null;
    Writable.prototype.end = function(chunk, encoding, cb) {
      var state = this._writableState;
      if (typeof chunk === "function") {
        cb = chunk;
        chunk = null;
        encoding = null;
      } else if (typeof encoding === "function") {
        cb = encoding;
        encoding = null;
      }
      if (chunk !== null && chunk !== void 0)
        this.write(chunk, encoding);
      if (state.corked) {
        state.corked = 1;
        this.uncork();
      }
      if (!state.ending)
        endWritable(this, state, cb);
      return this;
    };
    Object.defineProperty(Writable.prototype, "writableLength", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.length;
      }
    });
    function needFinish(state) {
      return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;
    }
    function callFinal(stream, state) {
      stream._final(function(err) {
        state.pendingcb--;
        if (err) {
          errorOrDestroy(stream, err);
        }
        state.prefinished = true;
        stream.emit("prefinish");
        finishMaybe(stream, state);
      });
    }
    function prefinish(stream, state) {
      if (!state.prefinished && !state.finalCalled) {
        if (typeof stream._final === "function" && !state.destroyed) {
          state.pendingcb++;
          state.finalCalled = true;
          process.nextTick(callFinal, stream, state);
        } else {
          state.prefinished = true;
          stream.emit("prefinish");
        }
      }
    }
    function finishMaybe(stream, state) {
      var need = needFinish(state);
      if (need) {
        prefinish(stream, state);
        if (state.pendingcb === 0) {
          state.finished = true;
          stream.emit("finish");
          if (state.autoDestroy) {
            var rState = stream._readableState;
            if (!rState || rState.autoDestroy && rState.endEmitted) {
              stream.destroy();
            }
          }
        }
      }
      return need;
    }
    function endWritable(stream, state, cb) {
      state.ending = true;
      finishMaybe(stream, state);
      if (cb) {
        if (state.finished)
          process.nextTick(cb);
        else
          stream.once("finish", cb);
      }
      state.ended = true;
      stream.writable = false;
    }
    function onCorkedFinish(corkReq, state, err) {
      var entry = corkReq.entry;
      corkReq.entry = null;
      while (entry) {
        var cb = entry.callback;
        state.pendingcb--;
        cb(err);
        entry = entry.next;
      }
      state.corkedRequestsFree.next = corkReq;
    }
    Object.defineProperty(Writable.prototype, "destroyed", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        if (this._writableState === void 0) {
          return false;
        }
        return this._writableState.destroyed;
      },
      set: function set(value) {
        if (!this._writableState) {
          return;
        }
        this._writableState.destroyed = value;
      }
    });
    Writable.prototype.destroy = destroyImpl.destroy;
    Writable.prototype._undestroy = destroyImpl.undestroy;
    Writable.prototype._destroy = function(err, cb) {
      cb(err);
    };
  }
});

// node_modules/winston-transport/dist/legacy.js
var require_legacy = __commonJS({
  "node_modules/winston-transport/dist/legacy.js"(exports, module2) {
    "use strict";
    var util = require("util");
    var _require = require_triple_beam();
    var LEVEL = _require.LEVEL;
    var TransportStream = require_dist();
    var LegacyTransportStream = module2.exports = function LegacyTransportStream2() {
      var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      TransportStream.call(this, options);
      if (!options.transport || typeof options.transport.log !== "function") {
        throw new Error("Invalid transport, must be an object with a log method.");
      }
      this.transport = options.transport;
      this.level = this.level || options.transport.level;
      this.handleExceptions = this.handleExceptions || options.transport.handleExceptions;
      this._deprecated();
      function transportError(err) {
        this.emit("error", err, this.transport);
      }
      if (!this.transport.__winstonError) {
        this.transport.__winstonError = transportError.bind(this);
        this.transport.on("error", this.transport.__winstonError);
      }
    };
    util.inherits(LegacyTransportStream, TransportStream);
    LegacyTransportStream.prototype._write = function _write(info, enc, callback) {
      if (this.silent || info.exception === true && !this.handleExceptions) {
        return callback(null);
      }
      if (!this.level || this.levels[this.level] >= this.levels[info[LEVEL]]) {
        this.transport.log(info[LEVEL], info.message, info, this._nop);
      }
      callback(null);
    };
    LegacyTransportStream.prototype._writev = function _writev(chunks, callback) {
      for (var i = 0; i < chunks.length; i++) {
        if (this._accept(chunks[i])) {
          this.transport.log(chunks[i].chunk[LEVEL], chunks[i].chunk.message, chunks[i].chunk, this._nop);
          chunks[i].callback();
        }
      }
      return callback(null);
    };
    LegacyTransportStream.prototype._deprecated = function _deprecated() {
      console.error([this.transport.name + " is a legacy winston transport. Consider upgrading: ", "- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"));
    };
    LegacyTransportStream.prototype.close = function close() {
      if (this.transport.close) {
        this.transport.close();
      }
      if (this.transport.__winstonError) {
        this.transport.removeListener("error", this.transport.__winstonError);
        this.transport.__winstonError = null;
      }
    };
  }
});

// node_modules/winston-transport/dist/index.js
var require_dist = __commonJS({
  "node_modules/winston-transport/dist/index.js"(exports, module2) {
    "use strict";
    var util = require("util");
    var Writable = require_stream_writable();
    var _require = require_triple_beam();
    var LEVEL = _require.LEVEL;
    var TransportStream = module2.exports = function TransportStream2() {
      var _this = this;
      var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      Writable.call(this, { objectMode: true, highWaterMark: options.highWaterMark });
      this.format = options.format;
      this.level = options.level;
      this.handleExceptions = options.handleExceptions;
      this.handleRejections = options.handleRejections;
      this.silent = options.silent;
      if (options.log)
        this.log = options.log;
      if (options.logv)
        this.logv = options.logv;
      if (options.close)
        this.close = options.close;
      this.once("pipe", function(logger2) {
        _this.levels = logger2.levels;
        _this.parent = logger2;
      });
      this.once("unpipe", function(src) {
        if (src === _this.parent) {
          _this.parent = null;
          if (_this.close) {
            _this.close();
          }
        }
      });
    };
    util.inherits(TransportStream, Writable);
    TransportStream.prototype._write = function _write(info, enc, callback) {
      if (this.silent || info.exception === true && !this.handleExceptions) {
        return callback(null);
      }
      var level = this.level || this.parent && this.parent.level;
      if (!level || this.levels[level] >= this.levels[info[LEVEL]]) {
        if (info && !this.format) {
          return this.log(info, callback);
        }
        var errState = void 0;
        var transformed = void 0;
        try {
          transformed = this.format.transform(Object.assign({}, info), this.format.options);
        } catch (err) {
          errState = err;
        }
        if (errState || !transformed) {
          callback();
          if (errState)
            throw errState;
          return;
        }
        return this.log(transformed, callback);
      }
      this._writableState.sync = false;
      return callback(null);
    };
    TransportStream.prototype._writev = function _writev(chunks, callback) {
      if (this.logv) {
        var infos = chunks.filter(this._accept, this);
        if (!infos.length) {
          return callback(null);
        }
        return this.logv(infos, callback);
      }
      for (var i = 0; i < chunks.length; i++) {
        if (!this._accept(chunks[i]))
          continue;
        if (chunks[i].chunk && !this.format) {
          this.log(chunks[i].chunk, chunks[i].callback);
          continue;
        }
        var errState = void 0;
        var transformed = void 0;
        try {
          transformed = this.format.transform(Object.assign({}, chunks[i].chunk), this.format.options);
        } catch (err) {
          errState = err;
        }
        if (errState || !transformed) {
          chunks[i].callback();
          if (errState) {
            callback(null);
            throw errState;
          }
        } else {
          this.log(transformed, chunks[i].callback);
        }
      }
      return callback(null);
    };
    TransportStream.prototype._accept = function _accept(write) {
      var info = write.chunk;
      if (this.silent) {
        return false;
      }
      var level = this.level || this.parent && this.parent.level;
      if (info.exception === true || !level || this.levels[level] >= this.levels[info[LEVEL]]) {
        if (this.handleExceptions || info.exception !== true) {
          return true;
        }
      }
      return false;
    };
    TransportStream.prototype._nop = function _nop() {
      return void 0;
    };
    module2.exports.LegacyTransportStream = require_legacy();
  }
});

// node_modules/winston/dist/winston/transports/console.js
var require_console = __commonJS({
  "node_modules/winston/dist/winston/transports/console.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var os = require("os");
    var _require = require_triple_beam();
    var LEVEL = _require.LEVEL;
    var MESSAGE = _require.MESSAGE;
    var TransportStream = require_dist();
    module2.exports = /* @__PURE__ */ function(_TransportStream) {
      _inherits(Console, _TransportStream);
      var _super = _createSuper(Console);
      function Console() {
        var _this;
        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        _classCallCheck(this, Console);
        _this = _super.call(this, options);
        _this.name = options.name || "console";
        _this.stderrLevels = _this._stringArrayToSet(options.stderrLevels);
        _this.consoleWarnLevels = _this._stringArrayToSet(options.consoleWarnLevels);
        _this.eol = typeof options.eol === "string" ? options.eol : os.EOL;
        _this.setMaxListeners(30);
        return _this;
      }
      _createClass(Console, [{
        key: "log",
        value: function log(info, callback) {
          var _this2 = this;
          setImmediate(function() {
            return _this2.emit("logged", info);
          });
          if (this.stderrLevels[info[LEVEL]]) {
            if (console._stderr) {
              console._stderr.write("".concat(info[MESSAGE]).concat(this.eol));
            } else {
              console.error(info[MESSAGE]);
            }
            if (callback) {
              callback();
            }
            return;
          } else if (this.consoleWarnLevels[info[LEVEL]]) {
            if (console._stderr) {
              console._stderr.write("".concat(info[MESSAGE]).concat(this.eol));
            } else {
              console.warn(info[MESSAGE]);
            }
            if (callback) {
              callback();
            }
            return;
          }
          if (console._stdout) {
            console._stdout.write("".concat(info[MESSAGE]).concat(this.eol));
          } else {
            console.log(info[MESSAGE]);
          }
          if (callback) {
            callback();
          }
        }
        /**
         * Returns a Set-like object with strArray's elements as keys (each with the
         * value true).
         * @param {Array} strArray - Array of Set-elements as strings.
         * @param {?string} [errMsg] - Custom error message thrown on invalid input.
         * @returns {Object} - TODO: add return description.
         * @private
         */
      }, {
        key: "_stringArrayToSet",
        value: function _stringArrayToSet(strArray, errMsg) {
          if (!strArray)
            return {};
          errMsg = errMsg || "Cannot make set from type other than Array of string elements";
          if (!Array.isArray(strArray)) {
            throw new Error(errMsg);
          }
          return strArray.reduce(function(set, el) {
            if (typeof el !== "string") {
              throw new Error(errMsg);
            }
            set[el] = true;
            return set;
          }, {});
        }
      }]);
      return Console;
    }(TransportStream);
  }
});

// node_modules/async/internal/isArrayLike.js
var require_isArrayLike = __commonJS({
  "node_modules/async/internal/isArrayLike.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = isArrayLike;
    function isArrayLike(value) {
      return value && typeof value.length === "number" && value.length >= 0 && value.length % 1 === 0;
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/initialParams.js
var require_initialParams = __commonJS({
  "node_modules/async/internal/initialParams.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = function(fn) {
      return function(...args) {
        var callback = args.pop();
        return fn.call(this, args, callback);
      };
    };
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/setImmediate.js
var require_setImmediate = __commonJS({
  "node_modules/async/internal/setImmediate.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.fallback = fallback;
    exports.wrap = wrap;
    var hasQueueMicrotask = exports.hasQueueMicrotask = typeof queueMicrotask === "function" && queueMicrotask;
    var hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === "function" && setImmediate;
    var hasNextTick = exports.hasNextTick = typeof process === "object" && typeof process.nextTick === "function";
    function fallback(fn) {
      setTimeout(fn, 0);
    }
    function wrap(defer) {
      return (fn, ...args) => defer(() => fn(...args));
    }
    var _defer;
    if (hasQueueMicrotask) {
      _defer = queueMicrotask;
    } else if (hasSetImmediate) {
      _defer = setImmediate;
    } else if (hasNextTick) {
      _defer = process.nextTick;
    } else {
      _defer = fallback;
    }
    exports.default = wrap(_defer);
  }
});

// node_modules/async/asyncify.js
var require_asyncify = __commonJS({
  "node_modules/async/asyncify.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = asyncify;
    var _initialParams = require_initialParams();
    var _initialParams2 = _interopRequireDefault(_initialParams);
    var _setImmediate = require_setImmediate();
    var _setImmediate2 = _interopRequireDefault(_setImmediate);
    var _wrapAsync = require_wrapAsync();
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function asyncify(func) {
      if ((0, _wrapAsync.isAsync)(func)) {
        return function(...args) {
          const callback = args.pop();
          const promise = func.apply(this, args);
          return handlePromise(promise, callback);
        };
      }
      return (0, _initialParams2.default)(function(args, callback) {
        var result;
        try {
          result = func.apply(this, args);
        } catch (e) {
          return callback(e);
        }
        if (result && typeof result.then === "function") {
          return handlePromise(result, callback);
        } else {
          callback(null, result);
        }
      });
    }
    function handlePromise(promise, callback) {
      return promise.then((value) => {
        invokeCallback(callback, null, value);
      }, (err) => {
        invokeCallback(callback, err && (err instanceof Error || err.message) ? err : new Error(err));
      });
    }
    function invokeCallback(callback, error, value) {
      try {
        callback(error, value);
      } catch (err) {
        (0, _setImmediate2.default)((e) => {
          throw e;
        }, err);
      }
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/wrapAsync.js
var require_wrapAsync = __commonJS({
  "node_modules/async/internal/wrapAsync.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.isAsyncIterable = exports.isAsyncGenerator = exports.isAsync = void 0;
    var _asyncify = require_asyncify();
    var _asyncify2 = _interopRequireDefault(_asyncify);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function isAsync(fn) {
      return fn[Symbol.toStringTag] === "AsyncFunction";
    }
    function isAsyncGenerator(fn) {
      return fn[Symbol.toStringTag] === "AsyncGenerator";
    }
    function isAsyncIterable(obj) {
      return typeof obj[Symbol.asyncIterator] === "function";
    }
    function wrapAsync(asyncFn) {
      if (typeof asyncFn !== "function")
        throw new Error("expected a function");
      return isAsync(asyncFn) ? (0, _asyncify2.default)(asyncFn) : asyncFn;
    }
    exports.default = wrapAsync;
    exports.isAsync = isAsync;
    exports.isAsyncGenerator = isAsyncGenerator;
    exports.isAsyncIterable = isAsyncIterable;
  }
});

// node_modules/async/internal/awaitify.js
var require_awaitify = __commonJS({
  "node_modules/async/internal/awaitify.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = awaitify;
    function awaitify(asyncFn, arity) {
      if (!arity)
        arity = asyncFn.length;
      if (!arity)
        throw new Error("arity is undefined");
      function awaitable(...args) {
        if (typeof args[arity - 1] === "function") {
          return asyncFn.apply(this, args);
        }
        return new Promise((resolve, reject) => {
          args[arity - 1] = (err, ...cbArgs) => {
            if (err)
              return reject(err);
            resolve(cbArgs.length > 1 ? cbArgs : cbArgs[0]);
          };
          asyncFn.apply(this, args);
        });
      }
      return awaitable;
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/parallel.js
var require_parallel = __commonJS({
  "node_modules/async/internal/parallel.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _isArrayLike = require_isArrayLike();
    var _isArrayLike2 = _interopRequireDefault(_isArrayLike);
    var _wrapAsync = require_wrapAsync();
    var _wrapAsync2 = _interopRequireDefault(_wrapAsync);
    var _awaitify = require_awaitify();
    var _awaitify2 = _interopRequireDefault(_awaitify);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    exports.default = (0, _awaitify2.default)((eachfn, tasks, callback) => {
      var results = (0, _isArrayLike2.default)(tasks) ? [] : {};
      eachfn(tasks, (task, key, taskCb) => {
        (0, _wrapAsync2.default)(task)((err, ...result) => {
          if (result.length < 2) {
            [result] = result;
          }
          results[key] = result;
          taskCb(err);
        });
      }, (err) => callback(err, results));
    }, 3);
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/once.js
var require_once = __commonJS({
  "node_modules/async/internal/once.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = once;
    function once(fn) {
      function wrapper(...args) {
        if (fn === null)
          return;
        var callFn = fn;
        fn = null;
        callFn.apply(this, args);
      }
      Object.assign(wrapper, fn);
      return wrapper;
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/getIterator.js
var require_getIterator = __commonJS({
  "node_modules/async/internal/getIterator.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = function(coll) {
      return coll[Symbol.iterator] && coll[Symbol.iterator]();
    };
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/iterator.js
var require_iterator = __commonJS({
  "node_modules/async/internal/iterator.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = createIterator;
    var _isArrayLike = require_isArrayLike();
    var _isArrayLike2 = _interopRequireDefault(_isArrayLike);
    var _getIterator = require_getIterator();
    var _getIterator2 = _interopRequireDefault(_getIterator);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function createArrayIterator(coll) {
      var i = -1;
      var len = coll.length;
      return function next() {
        return ++i < len ? { value: coll[i], key: i } : null;
      };
    }
    function createES2015Iterator(iterator) {
      var i = -1;
      return function next() {
        var item = iterator.next();
        if (item.done)
          return null;
        i++;
        return { value: item.value, key: i };
      };
    }
    function createObjectIterator(obj) {
      var okeys = obj ? Object.keys(obj) : [];
      var i = -1;
      var len = okeys.length;
      return function next() {
        var key = okeys[++i];
        if (key === "__proto__") {
          return next();
        }
        return i < len ? { value: obj[key], key } : null;
      };
    }
    function createIterator(coll) {
      if ((0, _isArrayLike2.default)(coll)) {
        return createArrayIterator(coll);
      }
      var iterator = (0, _getIterator2.default)(coll);
      return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/onlyOnce.js
var require_onlyOnce = __commonJS({
  "node_modules/async/internal/onlyOnce.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = onlyOnce;
    function onlyOnce(fn) {
      return function(...args) {
        if (fn === null)
          throw new Error("Callback was already called.");
        var callFn = fn;
        fn = null;
        callFn.apply(this, args);
      };
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/breakLoop.js
var require_breakLoop = __commonJS({
  "node_modules/async/internal/breakLoop.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var breakLoop = {};
    exports.default = breakLoop;
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/asyncEachOfLimit.js
var require_asyncEachOfLimit = __commonJS({
  "node_modules/async/internal/asyncEachOfLimit.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = asyncEachOfLimit;
    var _breakLoop = require_breakLoop();
    var _breakLoop2 = _interopRequireDefault(_breakLoop);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function asyncEachOfLimit(generator, limit, iteratee, callback) {
      let done = false;
      let canceled = false;
      let awaiting = false;
      let running = 0;
      let idx = 0;
      function replenish() {
        if (running >= limit || awaiting || done)
          return;
        awaiting = true;
        generator.next().then(({ value, done: iterDone }) => {
          if (canceled || done)
            return;
          awaiting = false;
          if (iterDone) {
            done = true;
            if (running <= 0) {
              callback(null);
            }
            return;
          }
          running++;
          iteratee(value, idx, iterateeCallback);
          idx++;
          replenish();
        }).catch(handleError);
      }
      function iterateeCallback(err, result) {
        running -= 1;
        if (canceled)
          return;
        if (err)
          return handleError(err);
        if (err === false) {
          done = true;
          canceled = true;
          return;
        }
        if (result === _breakLoop2.default || done && running <= 0) {
          done = true;
          return callback(null);
        }
        replenish();
      }
      function handleError(err) {
        if (canceled)
          return;
        awaiting = false;
        done = true;
        callback(err);
      }
      replenish();
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/eachOfLimit.js
var require_eachOfLimit = __commonJS({
  "node_modules/async/internal/eachOfLimit.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _once = require_once();
    var _once2 = _interopRequireDefault(_once);
    var _iterator = require_iterator();
    var _iterator2 = _interopRequireDefault(_iterator);
    var _onlyOnce = require_onlyOnce();
    var _onlyOnce2 = _interopRequireDefault(_onlyOnce);
    var _wrapAsync = require_wrapAsync();
    var _asyncEachOfLimit = require_asyncEachOfLimit();
    var _asyncEachOfLimit2 = _interopRequireDefault(_asyncEachOfLimit);
    var _breakLoop = require_breakLoop();
    var _breakLoop2 = _interopRequireDefault(_breakLoop);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    exports.default = (limit) => {
      return (obj, iteratee, callback) => {
        callback = (0, _once2.default)(callback);
        if (limit <= 0) {
          throw new RangeError("concurrency limit cannot be less than 1");
        }
        if (!obj) {
          return callback(null);
        }
        if ((0, _wrapAsync.isAsyncGenerator)(obj)) {
          return (0, _asyncEachOfLimit2.default)(obj, limit, iteratee, callback);
        }
        if ((0, _wrapAsync.isAsyncIterable)(obj)) {
          return (0, _asyncEachOfLimit2.default)(obj[Symbol.asyncIterator](), limit, iteratee, callback);
        }
        var nextElem = (0, _iterator2.default)(obj);
        var done = false;
        var canceled = false;
        var running = 0;
        var looping = false;
        function iterateeCallback(err, value) {
          if (canceled)
            return;
          running -= 1;
          if (err) {
            done = true;
            callback(err);
          } else if (err === false) {
            done = true;
            canceled = true;
          } else if (value === _breakLoop2.default || done && running <= 0) {
            done = true;
            return callback(null);
          } else if (!looping) {
            replenish();
          }
        }
        function replenish() {
          looping = true;
          while (running < limit && !done) {
            var elem = nextElem();
            if (elem === null) {
              done = true;
              if (running <= 0) {
                callback(null);
              }
              return;
            }
            running += 1;
            iteratee(elem.value, elem.key, (0, _onlyOnce2.default)(iterateeCallback));
          }
          looping = false;
        }
        replenish();
      };
    };
    module2.exports = exports.default;
  }
});

// node_modules/async/eachOfLimit.js
var require_eachOfLimit2 = __commonJS({
  "node_modules/async/eachOfLimit.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _eachOfLimit2 = require_eachOfLimit();
    var _eachOfLimit3 = _interopRequireDefault(_eachOfLimit2);
    var _wrapAsync = require_wrapAsync();
    var _wrapAsync2 = _interopRequireDefault(_wrapAsync);
    var _awaitify = require_awaitify();
    var _awaitify2 = _interopRequireDefault(_awaitify);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function eachOfLimit(coll, limit, iteratee, callback) {
      return (0, _eachOfLimit3.default)(limit)(coll, (0, _wrapAsync2.default)(iteratee), callback);
    }
    exports.default = (0, _awaitify2.default)(eachOfLimit, 4);
    module2.exports = exports.default;
  }
});

// node_modules/async/eachOfSeries.js
var require_eachOfSeries = __commonJS({
  "node_modules/async/eachOfSeries.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _eachOfLimit = require_eachOfLimit2();
    var _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);
    var _awaitify = require_awaitify();
    var _awaitify2 = _interopRequireDefault(_awaitify);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function eachOfSeries(coll, iteratee, callback) {
      return (0, _eachOfLimit2.default)(coll, 1, iteratee, callback);
    }
    exports.default = (0, _awaitify2.default)(eachOfSeries, 3);
    module2.exports = exports.default;
  }
});

// node_modules/async/series.js
var require_series = __commonJS({
  "node_modules/async/series.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = series;
    var _parallel2 = require_parallel();
    var _parallel3 = _interopRequireDefault(_parallel2);
    var _eachOfSeries = require_eachOfSeries();
    var _eachOfSeries2 = _interopRequireDefault(_eachOfSeries);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function series(tasks, callback) {
      return (0, _parallel3.default)(_eachOfSeries2.default, tasks, callback);
    }
    module2.exports = exports.default;
  }
});

// node_modules/readable-stream/lib/_stream_transform.js
var require_stream_transform = __commonJS({
  "node_modules/readable-stream/lib/_stream_transform.js"(exports, module2) {
    "use strict";
    module2.exports = Transform;
    var _require$codes = require_errors_browser().codes;
    var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
    var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
    var ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING;
    var ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;
    var Duplex = require_stream_duplex();
    require_inherits_browser()(Transform, Duplex);
    function afterTransform(er, data) {
      var ts = this._transformState;
      ts.transforming = false;
      var cb = ts.writecb;
      if (cb === null) {
        return this.emit("error", new ERR_MULTIPLE_CALLBACK());
      }
      ts.writechunk = null;
      ts.writecb = null;
      if (data != null)
        this.push(data);
      cb(er);
      var rs = this._readableState;
      rs.reading = false;
      if (rs.needReadable || rs.length < rs.highWaterMark) {
        this._read(rs.highWaterMark);
      }
    }
    function Transform(options) {
      if (!(this instanceof Transform))
        return new Transform(options);
      Duplex.call(this, options);
      this._transformState = {
        afterTransform: afterTransform.bind(this),
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: null
      };
      this._readableState.needReadable = true;
      this._readableState.sync = false;
      if (options) {
        if (typeof options.transform === "function")
          this._transform = options.transform;
        if (typeof options.flush === "function")
          this._flush = options.flush;
      }
      this.on("prefinish", prefinish);
    }
    function prefinish() {
      var _this = this;
      if (typeof this._flush === "function" && !this._readableState.destroyed) {
        this._flush(function(er, data) {
          done(_this, er, data);
        });
      } else {
        done(this, null, null);
      }
    }
    Transform.prototype.push = function(chunk, encoding) {
      this._transformState.needTransform = false;
      return Duplex.prototype.push.call(this, chunk, encoding);
    };
    Transform.prototype._transform = function(chunk, encoding, cb) {
      cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"));
    };
    Transform.prototype._write = function(chunk, encoding, cb) {
      var ts = this._transformState;
      ts.writecb = cb;
      ts.writechunk = chunk;
      ts.writeencoding = encoding;
      if (!ts.transforming) {
        var rs = this._readableState;
        if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark)
          this._read(rs.highWaterMark);
      }
    };
    Transform.prototype._read = function(n) {
      var ts = this._transformState;
      if (ts.writechunk !== null && !ts.transforming) {
        ts.transforming = true;
        this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
      } else {
        ts.needTransform = true;
      }
    };
    Transform.prototype._destroy = function(err, cb) {
      Duplex.prototype._destroy.call(this, err, function(err2) {
        cb(err2);
      });
    };
    function done(stream, er, data) {
      if (er)
        return stream.emit("error", er);
      if (data != null)
        stream.push(data);
      if (stream._writableState.length)
        throw new ERR_TRANSFORM_WITH_LENGTH_0();
      if (stream._transformState.transforming)
        throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();
      return stream.push(null);
    }
  }
});

// node_modules/readable-stream/lib/_stream_passthrough.js
var require_stream_passthrough = __commonJS({
  "node_modules/readable-stream/lib/_stream_passthrough.js"(exports, module2) {
    "use strict";
    module2.exports = PassThrough;
    var Transform = require_stream_transform();
    require_inherits_browser()(PassThrough, Transform);
    function PassThrough(options) {
      if (!(this instanceof PassThrough))
        return new PassThrough(options);
      Transform.call(this, options);
    }
    PassThrough.prototype._transform = function(chunk, encoding, cb) {
      cb(null, chunk);
    };
  }
});

// node_modules/readable-stream/lib/internal/streams/pipeline.js
var require_pipeline = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/pipeline.js"(exports, module2) {
    "use strict";
    var eos;
    function once(callback) {
      var called = false;
      return function() {
        if (called)
          return;
        called = true;
        callback.apply(void 0, arguments);
      };
    }
    var _require$codes = require_errors_browser().codes;
    var ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;
    var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
    function noop(err) {
      if (err)
        throw err;
    }
    function isRequest(stream) {
      return stream.setHeader && typeof stream.abort === "function";
    }
    function destroyer(stream, reading, writing, callback) {
      callback = once(callback);
      var closed = false;
      stream.on("close", function() {
        closed = true;
      });
      if (eos === void 0)
        eos = require_end_of_stream();
      eos(stream, {
        readable: reading,
        writable: writing
      }, function(err) {
        if (err)
          return callback(err);
        closed = true;
        callback();
      });
      var destroyed = false;
      return function(err) {
        if (closed)
          return;
        if (destroyed)
          return;
        destroyed = true;
        if (isRequest(stream))
          return stream.abort();
        if (typeof stream.destroy === "function")
          return stream.destroy();
        callback(err || new ERR_STREAM_DESTROYED("pipe"));
      };
    }
    function call(fn) {
      fn();
    }
    function pipe(from, to) {
      return from.pipe(to);
    }
    function popCallback(streams) {
      if (!streams.length)
        return noop;
      if (typeof streams[streams.length - 1] !== "function")
        return noop;
      return streams.pop();
    }
    function pipeline() {
      for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {
        streams[_key] = arguments[_key];
      }
      var callback = popCallback(streams);
      if (Array.isArray(streams[0]))
        streams = streams[0];
      if (streams.length < 2) {
        throw new ERR_MISSING_ARGS("streams");
      }
      var error;
      var destroys = streams.map(function(stream, i) {
        var reading = i < streams.length - 1;
        var writing = i > 0;
        return destroyer(stream, reading, writing, function(err) {
          if (!error)
            error = err;
          if (err)
            destroys.forEach(call);
          if (reading)
            return;
          destroys.forEach(call);
          callback(error);
        });
      });
      return streams.reduce(pipe);
    }
    module2.exports = pipeline;
  }
});

// node_modules/readable-stream/readable-browser.js
var require_readable_browser = __commonJS({
  "node_modules/readable-stream/readable-browser.js"(exports, module2) {
    exports = module2.exports = require_stream_readable();
    exports.Stream = exports;
    exports.Readable = exports;
    exports.Writable = require_stream_writable();
    exports.Duplex = require_stream_duplex();
    exports.Transform = require_stream_transform();
    exports.PassThrough = require_stream_passthrough();
    exports.finished = require_end_of_stream();
    exports.pipeline = require_pipeline();
  }
});

// node_modules/@dabh/diagnostics/diagnostics.js
var require_diagnostics = __commonJS({
  "node_modules/@dabh/diagnostics/diagnostics.js"(exports, module2) {
    var adapters = [];
    var modifiers = [];
    var logger2 = function devnull() {
    };
    function use(adapter) {
      if (~adapters.indexOf(adapter))
        return false;
      adapters.push(adapter);
      return true;
    }
    function set(custom) {
      logger2 = custom;
    }
    function enabled(namespace) {
      var async = [];
      for (var i = 0; i < adapters.length; i++) {
        if (adapters[i].async) {
          async.push(adapters[i]);
          continue;
        }
        if (adapters[i](namespace))
          return true;
      }
      if (!async.length)
        return false;
      return new Promise(function pinky(resolve) {
        Promise.all(
          async.map(function prebind(fn) {
            return fn(namespace);
          })
        ).then(function resolved(values) {
          resolve(values.some(Boolean));
        });
      });
    }
    function modify(fn) {
      if (~modifiers.indexOf(fn))
        return false;
      modifiers.push(fn);
      return true;
    }
    function write() {
      logger2.apply(logger2, arguments);
    }
    function process2(message) {
      for (var i = 0; i < modifiers.length; i++) {
        message = modifiers[i].apply(modifiers[i], arguments);
      }
      return message;
    }
    function introduce(fn, options) {
      var has = Object.prototype.hasOwnProperty;
      for (var key in options) {
        if (has.call(options, key)) {
          fn[key] = options[key];
        }
      }
      return fn;
    }
    function nope(options) {
      options.enabled = false;
      options.modify = modify;
      options.set = set;
      options.use = use;
      return introduce(function diagnopes() {
        return false;
      }, options);
    }
    function yep(options) {
      function diagnostics() {
        var args = Array.prototype.slice.call(arguments, 0);
        write.call(write, options, process2(args, options));
        return true;
      }
      options.enabled = true;
      options.modify = modify;
      options.set = set;
      options.use = use;
      return introduce(diagnostics, options);
    }
    module2.exports = function create(diagnostics) {
      diagnostics.introduce = introduce;
      diagnostics.enabled = enabled;
      diagnostics.process = process2;
      diagnostics.modify = modify;
      diagnostics.write = write;
      diagnostics.nope = nope;
      diagnostics.yep = yep;
      diagnostics.set = set;
      diagnostics.use = use;
      return diagnostics;
    };
  }
});

// node_modules/color-name/index.js
var require_color_name = __commonJS({
  "node_modules/color-name/index.js"(exports, module2) {
    "use strict";
    module2.exports = {
      "aliceblue": [240, 248, 255],
      "antiquewhite": [250, 235, 215],
      "aqua": [0, 255, 255],
      "aquamarine": [127, 255, 212],
      "azure": [240, 255, 255],
      "beige": [245, 245, 220],
      "bisque": [255, 228, 196],
      "black": [0, 0, 0],
      "blanchedalmond": [255, 235, 205],
      "blue": [0, 0, 255],
      "blueviolet": [138, 43, 226],
      "brown": [165, 42, 42],
      "burlywood": [222, 184, 135],
      "cadetblue": [95, 158, 160],
      "chartreuse": [127, 255, 0],
      "chocolate": [210, 105, 30],
      "coral": [255, 127, 80],
      "cornflowerblue": [100, 149, 237],
      "cornsilk": [255, 248, 220],
      "crimson": [220, 20, 60],
      "cyan": [0, 255, 255],
      "darkblue": [0, 0, 139],
      "darkcyan": [0, 139, 139],
      "darkgoldenrod": [184, 134, 11],
      "darkgray": [169, 169, 169],
      "darkgreen": [0, 100, 0],
      "darkgrey": [169, 169, 169],
      "darkkhaki": [189, 183, 107],
      "darkmagenta": [139, 0, 139],
      "darkolivegreen": [85, 107, 47],
      "darkorange": [255, 140, 0],
      "darkorchid": [153, 50, 204],
      "darkred": [139, 0, 0],
      "darksalmon": [233, 150, 122],
      "darkseagreen": [143, 188, 143],
      "darkslateblue": [72, 61, 139],
      "darkslategray": [47, 79, 79],
      "darkslategrey": [47, 79, 79],
      "darkturquoise": [0, 206, 209],
      "darkviolet": [148, 0, 211],
      "deeppink": [255, 20, 147],
      "deepskyblue": [0, 191, 255],
      "dimgray": [105, 105, 105],
      "dimgrey": [105, 105, 105],
      "dodgerblue": [30, 144, 255],
      "firebrick": [178, 34, 34],
      "floralwhite": [255, 250, 240],
      "forestgreen": [34, 139, 34],
      "fuchsia": [255, 0, 255],
      "gainsboro": [220, 220, 220],
      "ghostwhite": [248, 248, 255],
      "gold": [255, 215, 0],
      "goldenrod": [218, 165, 32],
      "gray": [128, 128, 128],
      "green": [0, 128, 0],
      "greenyellow": [173, 255, 47],
      "grey": [128, 128, 128],
      "honeydew": [240, 255, 240],
      "hotpink": [255, 105, 180],
      "indianred": [205, 92, 92],
      "indigo": [75, 0, 130],
      "ivory": [255, 255, 240],
      "khaki": [240, 230, 140],
      "lavender": [230, 230, 250],
      "lavenderblush": [255, 240, 245],
      "lawngreen": [124, 252, 0],
      "lemonchiffon": [255, 250, 205],
      "lightblue": [173, 216, 230],
      "lightcoral": [240, 128, 128],
      "lightcyan": [224, 255, 255],
      "lightgoldenrodyellow": [250, 250, 210],
      "lightgray": [211, 211, 211],
      "lightgreen": [144, 238, 144],
      "lightgrey": [211, 211, 211],
      "lightpink": [255, 182, 193],
      "lightsalmon": [255, 160, 122],
      "lightseagreen": [32, 178, 170],
      "lightskyblue": [135, 206, 250],
      "lightslategray": [119, 136, 153],
      "lightslategrey": [119, 136, 153],
      "lightsteelblue": [176, 196, 222],
      "lightyellow": [255, 255, 224],
      "lime": [0, 255, 0],
      "limegreen": [50, 205, 50],
      "linen": [250, 240, 230],
      "magenta": [255, 0, 255],
      "maroon": [128, 0, 0],
      "mediumaquamarine": [102, 205, 170],
      "mediumblue": [0, 0, 205],
      "mediumorchid": [186, 85, 211],
      "mediumpurple": [147, 112, 219],
      "mediumseagreen": [60, 179, 113],
      "mediumslateblue": [123, 104, 238],
      "mediumspringgreen": [0, 250, 154],
      "mediumturquoise": [72, 209, 204],
      "mediumvioletred": [199, 21, 133],
      "midnightblue": [25, 25, 112],
      "mintcream": [245, 255, 250],
      "mistyrose": [255, 228, 225],
      "moccasin": [255, 228, 181],
      "navajowhite": [255, 222, 173],
      "navy": [0, 0, 128],
      "oldlace": [253, 245, 230],
      "olive": [128, 128, 0],
      "olivedrab": [107, 142, 35],
      "orange": [255, 165, 0],
      "orangered": [255, 69, 0],
      "orchid": [218, 112, 214],
      "palegoldenrod": [238, 232, 170],
      "palegreen": [152, 251, 152],
      "paleturquoise": [175, 238, 238],
      "palevioletred": [219, 112, 147],
      "papayawhip": [255, 239, 213],
      "peachpuff": [255, 218, 185],
      "peru": [205, 133, 63],
      "pink": [255, 192, 203],
      "plum": [221, 160, 221],
      "powderblue": [176, 224, 230],
      "purple": [128, 0, 128],
      "rebeccapurple": [102, 51, 153],
      "red": [255, 0, 0],
      "rosybrown": [188, 143, 143],
      "royalblue": [65, 105, 225],
      "saddlebrown": [139, 69, 19],
      "salmon": [250, 128, 114],
      "sandybrown": [244, 164, 96],
      "seagreen": [46, 139, 87],
      "seashell": [255, 245, 238],
      "sienna": [160, 82, 45],
      "silver": [192, 192, 192],
      "skyblue": [135, 206, 235],
      "slateblue": [106, 90, 205],
      "slategray": [112, 128, 144],
      "slategrey": [112, 128, 144],
      "snow": [255, 250, 250],
      "springgreen": [0, 255, 127],
      "steelblue": [70, 130, 180],
      "tan": [210, 180, 140],
      "teal": [0, 128, 128],
      "thistle": [216, 191, 216],
      "tomato": [255, 99, 71],
      "turquoise": [64, 224, 208],
      "violet": [238, 130, 238],
      "wheat": [245, 222, 179],
      "white": [255, 255, 255],
      "whitesmoke": [245, 245, 245],
      "yellow": [255, 255, 0],
      "yellowgreen": [154, 205, 50]
    };
  }
});

// node_modules/is-arrayish/index.js
var require_is_arrayish = __commonJS({
  "node_modules/is-arrayish/index.js"(exports, module2) {
    module2.exports = function isArrayish(obj) {
      if (!obj || typeof obj === "string") {
        return false;
      }
      return obj instanceof Array || Array.isArray(obj) || obj.length >= 0 && (obj.splice instanceof Function || Object.getOwnPropertyDescriptor(obj, obj.length - 1) && obj.constructor.name !== "String");
    };
  }
});

// node_modules/simple-swizzle/index.js
var require_simple_swizzle = __commonJS({
  "node_modules/simple-swizzle/index.js"(exports, module2) {
    "use strict";
    var isArrayish = require_is_arrayish();
    var concat = Array.prototype.concat;
    var slice = Array.prototype.slice;
    var swizzle = module2.exports = function swizzle2(args) {
      var results = [];
      for (var i = 0, len = args.length; i < len; i++) {
        var arg = args[i];
        if (isArrayish(arg)) {
          results = concat.call(results, slice.call(arg));
        } else {
          results.push(arg);
        }
      }
      return results;
    };
    swizzle.wrap = function(fn) {
      return function() {
        return fn(swizzle(arguments));
      };
    };
  }
});

// node_modules/color-string/index.js
var require_color_string = __commonJS({
  "node_modules/color-string/index.js"(exports, module2) {
    var colorNames = require_color_name();
    var swizzle = require_simple_swizzle();
    var hasOwnProperty = Object.hasOwnProperty;
    var reverseNames = /* @__PURE__ */ Object.create(null);
    for (name in colorNames) {
      if (hasOwnProperty.call(colorNames, name)) {
        reverseNames[colorNames[name]] = name;
      }
    }
    var name;
    var cs = module2.exports = {
      to: {},
      get: {}
    };
    cs.get = function(string) {
      var prefix = string.substring(0, 3).toLowerCase();
      var val;
      var model;
      switch (prefix) {
        case "hsl":
          val = cs.get.hsl(string);
          model = "hsl";
          break;
        case "hwb":
          val = cs.get.hwb(string);
          model = "hwb";
          break;
        default:
          val = cs.get.rgb(string);
          model = "rgb";
          break;
      }
      if (!val) {
        return null;
      }
      return { model, value: val };
    };
    cs.get.rgb = function(string) {
      if (!string) {
        return null;
      }
      var abbr = /^#([a-f0-9]{3,4})$/i;
      var hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;
      var rgba = /^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/;
      var per = /^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/;
      var keyword = /^(\w+)$/;
      var rgb = [0, 0, 0, 1];
      var match;
      var i;
      var hexAlpha;
      if (match = string.match(hex)) {
        hexAlpha = match[2];
        match = match[1];
        for (i = 0; i < 3; i++) {
          var i2 = i * 2;
          rgb[i] = parseInt(match.slice(i2, i2 + 2), 16);
        }
        if (hexAlpha) {
          rgb[3] = parseInt(hexAlpha, 16) / 255;
        }
      } else if (match = string.match(abbr)) {
        match = match[1];
        hexAlpha = match[3];
        for (i = 0; i < 3; i++) {
          rgb[i] = parseInt(match[i] + match[i], 16);
        }
        if (hexAlpha) {
          rgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;
        }
      } else if (match = string.match(rgba)) {
        for (i = 0; i < 3; i++) {
          rgb[i] = parseInt(match[i + 1], 0);
        }
        if (match[4]) {
          if (match[5]) {
            rgb[3] = parseFloat(match[4]) * 0.01;
          } else {
            rgb[3] = parseFloat(match[4]);
          }
        }
      } else if (match = string.match(per)) {
        for (i = 0; i < 3; i++) {
          rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);
        }
        if (match[4]) {
          if (match[5]) {
            rgb[3] = parseFloat(match[4]) * 0.01;
          } else {
            rgb[3] = parseFloat(match[4]);
          }
        }
      } else if (match = string.match(keyword)) {
        if (match[1] === "transparent") {
          return [0, 0, 0, 0];
        }
        if (!hasOwnProperty.call(colorNames, match[1])) {
          return null;
        }
        rgb = colorNames[match[1]];
        rgb[3] = 1;
        return rgb;
      } else {
        return null;
      }
      for (i = 0; i < 3; i++) {
        rgb[i] = clamp(rgb[i], 0, 255);
      }
      rgb[3] = clamp(rgb[3], 0, 1);
      return rgb;
    };
    cs.get.hsl = function(string) {
      if (!string) {
        return null;
      }
      var hsl = /^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/;
      var match = string.match(hsl);
      if (match) {
        var alpha = parseFloat(match[4]);
        var h = (parseFloat(match[1]) % 360 + 360) % 360;
        var s = clamp(parseFloat(match[2]), 0, 100);
        var l = clamp(parseFloat(match[3]), 0, 100);
        var a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);
        return [h, s, l, a];
      }
      return null;
    };
    cs.get.hwb = function(string) {
      if (!string) {
        return null;
      }
      var hwb = /^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/;
      var match = string.match(hwb);
      if (match) {
        var alpha = parseFloat(match[4]);
        var h = (parseFloat(match[1]) % 360 + 360) % 360;
        var w = clamp(parseFloat(match[2]), 0, 100);
        var b = clamp(parseFloat(match[3]), 0, 100);
        var a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);
        return [h, w, b, a];
      }
      return null;
    };
    cs.to.hex = function() {
      var rgba = swizzle(arguments);
      return "#" + hexDouble(rgba[0]) + hexDouble(rgba[1]) + hexDouble(rgba[2]) + (rgba[3] < 1 ? hexDouble(Math.round(rgba[3] * 255)) : "");
    };
    cs.to.rgb = function() {
      var rgba = swizzle(arguments);
      return rgba.length < 4 || rgba[3] === 1 ? "rgb(" + Math.round(rgba[0]) + ", " + Math.round(rgba[1]) + ", " + Math.round(rgba[2]) + ")" : "rgba(" + Math.round(rgba[0]) + ", " + Math.round(rgba[1]) + ", " + Math.round(rgba[2]) + ", " + rgba[3] + ")";
    };
    cs.to.rgb.percent = function() {
      var rgba = swizzle(arguments);
      var r = Math.round(rgba[0] / 255 * 100);
      var g = Math.round(rgba[1] / 255 * 100);
      var b = Math.round(rgba[2] / 255 * 100);
      return rgba.length < 4 || rgba[3] === 1 ? "rgb(" + r + "%, " + g + "%, " + b + "%)" : "rgba(" + r + "%, " + g + "%, " + b + "%, " + rgba[3] + ")";
    };
    cs.to.hsl = function() {
      var hsla = swizzle(arguments);
      return hsla.length < 4 || hsla[3] === 1 ? "hsl(" + hsla[0] + ", " + hsla[1] + "%, " + hsla[2] + "%)" : "hsla(" + hsla[0] + ", " + hsla[1] + "%, " + hsla[2] + "%, " + hsla[3] + ")";
    };
    cs.to.hwb = function() {
      var hwba = swizzle(arguments);
      var a = "";
      if (hwba.length >= 4 && hwba[3] !== 1) {
        a = ", " + hwba[3];
      }
      return "hwb(" + hwba[0] + ", " + hwba[1] + "%, " + hwba[2] + "%" + a + ")";
    };
    cs.to.keyword = function(rgb) {
      return reverseNames[rgb.slice(0, 3)];
    };
    function clamp(num, min, max) {
      return Math.min(Math.max(min, num), max);
    }
    function hexDouble(num) {
      var str2 = Math.round(num).toString(16).toUpperCase();
      return str2.length < 2 ? "0" + str2 : str2;
    }
  }
});

// node_modules/color/node_modules/color-name/index.js
var require_color_name2 = __commonJS({
  "node_modules/color/node_modules/color-name/index.js"(exports, module2) {
    "use strict";
    module2.exports = {
      "aliceblue": [240, 248, 255],
      "antiquewhite": [250, 235, 215],
      "aqua": [0, 255, 255],
      "aquamarine": [127, 255, 212],
      "azure": [240, 255, 255],
      "beige": [245, 245, 220],
      "bisque": [255, 228, 196],
      "black": [0, 0, 0],
      "blanchedalmond": [255, 235, 205],
      "blue": [0, 0, 255],
      "blueviolet": [138, 43, 226],
      "brown": [165, 42, 42],
      "burlywood": [222, 184, 135],
      "cadetblue": [95, 158, 160],
      "chartreuse": [127, 255, 0],
      "chocolate": [210, 105, 30],
      "coral": [255, 127, 80],
      "cornflowerblue": [100, 149, 237],
      "cornsilk": [255, 248, 220],
      "crimson": [220, 20, 60],
      "cyan": [0, 255, 255],
      "darkblue": [0, 0, 139],
      "darkcyan": [0, 139, 139],
      "darkgoldenrod": [184, 134, 11],
      "darkgray": [169, 169, 169],
      "darkgreen": [0, 100, 0],
      "darkgrey": [169, 169, 169],
      "darkkhaki": [189, 183, 107],
      "darkmagenta": [139, 0, 139],
      "darkolivegreen": [85, 107, 47],
      "darkorange": [255, 140, 0],
      "darkorchid": [153, 50, 204],
      "darkred": [139, 0, 0],
      "darksalmon": [233, 150, 122],
      "darkseagreen": [143, 188, 143],
      "darkslateblue": [72, 61, 139],
      "darkslategray": [47, 79, 79],
      "darkslategrey": [47, 79, 79],
      "darkturquoise": [0, 206, 209],
      "darkviolet": [148, 0, 211],
      "deeppink": [255, 20, 147],
      "deepskyblue": [0, 191, 255],
      "dimgray": [105, 105, 105],
      "dimgrey": [105, 105, 105],
      "dodgerblue": [30, 144, 255],
      "firebrick": [178, 34, 34],
      "floralwhite": [255, 250, 240],
      "forestgreen": [34, 139, 34],
      "fuchsia": [255, 0, 255],
      "gainsboro": [220, 220, 220],
      "ghostwhite": [248, 248, 255],
      "gold": [255, 215, 0],
      "goldenrod": [218, 165, 32],
      "gray": [128, 128, 128],
      "green": [0, 128, 0],
      "greenyellow": [173, 255, 47],
      "grey": [128, 128, 128],
      "honeydew": [240, 255, 240],
      "hotpink": [255, 105, 180],
      "indianred": [205, 92, 92],
      "indigo": [75, 0, 130],
      "ivory": [255, 255, 240],
      "khaki": [240, 230, 140],
      "lavender": [230, 230, 250],
      "lavenderblush": [255, 240, 245],
      "lawngreen": [124, 252, 0],
      "lemonchiffon": [255, 250, 205],
      "lightblue": [173, 216, 230],
      "lightcoral": [240, 128, 128],
      "lightcyan": [224, 255, 255],
      "lightgoldenrodyellow": [250, 250, 210],
      "lightgray": [211, 211, 211],
      "lightgreen": [144, 238, 144],
      "lightgrey": [211, 211, 211],
      "lightpink": [255, 182, 193],
      "lightsalmon": [255, 160, 122],
      "lightseagreen": [32, 178, 170],
      "lightskyblue": [135, 206, 250],
      "lightslategray": [119, 136, 153],
      "lightslategrey": [119, 136, 153],
      "lightsteelblue": [176, 196, 222],
      "lightyellow": [255, 255, 224],
      "lime": [0, 255, 0],
      "limegreen": [50, 205, 50],
      "linen": [250, 240, 230],
      "magenta": [255, 0, 255],
      "maroon": [128, 0, 0],
      "mediumaquamarine": [102, 205, 170],
      "mediumblue": [0, 0, 205],
      "mediumorchid": [186, 85, 211],
      "mediumpurple": [147, 112, 219],
      "mediumseagreen": [60, 179, 113],
      "mediumslateblue": [123, 104, 238],
      "mediumspringgreen": [0, 250, 154],
      "mediumturquoise": [72, 209, 204],
      "mediumvioletred": [199, 21, 133],
      "midnightblue": [25, 25, 112],
      "mintcream": [245, 255, 250],
      "mistyrose": [255, 228, 225],
      "moccasin": [255, 228, 181],
      "navajowhite": [255, 222, 173],
      "navy": [0, 0, 128],
      "oldlace": [253, 245, 230],
      "olive": [128, 128, 0],
      "olivedrab": [107, 142, 35],
      "orange": [255, 165, 0],
      "orangered": [255, 69, 0],
      "orchid": [218, 112, 214],
      "palegoldenrod": [238, 232, 170],
      "palegreen": [152, 251, 152],
      "paleturquoise": [175, 238, 238],
      "palevioletred": [219, 112, 147],
      "papayawhip": [255, 239, 213],
      "peachpuff": [255, 218, 185],
      "peru": [205, 133, 63],
      "pink": [255, 192, 203],
      "plum": [221, 160, 221],
      "powderblue": [176, 224, 230],
      "purple": [128, 0, 128],
      "rebeccapurple": [102, 51, 153],
      "red": [255, 0, 0],
      "rosybrown": [188, 143, 143],
      "royalblue": [65, 105, 225],
      "saddlebrown": [139, 69, 19],
      "salmon": [250, 128, 114],
      "sandybrown": [244, 164, 96],
      "seagreen": [46, 139, 87],
      "seashell": [255, 245, 238],
      "sienna": [160, 82, 45],
      "silver": [192, 192, 192],
      "skyblue": [135, 206, 235],
      "slateblue": [106, 90, 205],
      "slategray": [112, 128, 144],
      "slategrey": [112, 128, 144],
      "snow": [255, 250, 250],
      "springgreen": [0, 255, 127],
      "steelblue": [70, 130, 180],
      "tan": [210, 180, 140],
      "teal": [0, 128, 128],
      "thistle": [216, 191, 216],
      "tomato": [255, 99, 71],
      "turquoise": [64, 224, 208],
      "violet": [238, 130, 238],
      "wheat": [245, 222, 179],
      "white": [255, 255, 255],
      "whitesmoke": [245, 245, 245],
      "yellow": [255, 255, 0],
      "yellowgreen": [154, 205, 50]
    };
  }
});

// node_modules/color/node_modules/color-convert/conversions.js
var require_conversions = __commonJS({
  "node_modules/color/node_modules/color-convert/conversions.js"(exports, module2) {
    var cssKeywords = require_color_name2();
    var reverseKeywords = {};
    for (key in cssKeywords) {
      if (cssKeywords.hasOwnProperty(key)) {
        reverseKeywords[cssKeywords[key]] = key;
      }
    }
    var key;
    var convert = module2.exports = {
      rgb: { channels: 3, labels: "rgb" },
      hsl: { channels: 3, labels: "hsl" },
      hsv: { channels: 3, labels: "hsv" },
      hwb: { channels: 3, labels: "hwb" },
      cmyk: { channels: 4, labels: "cmyk" },
      xyz: { channels: 3, labels: "xyz" },
      lab: { channels: 3, labels: "lab" },
      lch: { channels: 3, labels: "lch" },
      hex: { channels: 1, labels: ["hex"] },
      keyword: { channels: 1, labels: ["keyword"] },
      ansi16: { channels: 1, labels: ["ansi16"] },
      ansi256: { channels: 1, labels: ["ansi256"] },
      hcg: { channels: 3, labels: ["h", "c", "g"] },
      apple: { channels: 3, labels: ["r16", "g16", "b16"] },
      gray: { channels: 1, labels: ["gray"] }
    };
    for (model in convert) {
      if (convert.hasOwnProperty(model)) {
        if (!("channels" in convert[model])) {
          throw new Error("missing channels property: " + model);
        }
        if (!("labels" in convert[model])) {
          throw new Error("missing channel labels property: " + model);
        }
        if (convert[model].labels.length !== convert[model].channels) {
          throw new Error("channel and label counts mismatch: " + model);
        }
        channels = convert[model].channels;
        labels = convert[model].labels;
        delete convert[model].channels;
        delete convert[model].labels;
        Object.defineProperty(convert[model], "channels", { value: channels });
        Object.defineProperty(convert[model], "labels", { value: labels });
      }
    }
    var channels;
    var labels;
    var model;
    convert.rgb.hsl = function(rgb) {
      var r = rgb[0] / 255;
      var g = rgb[1] / 255;
      var b = rgb[2] / 255;
      var min = Math.min(r, g, b);
      var max = Math.max(r, g, b);
      var delta = max - min;
      var h;
      var s;
      var l;
      if (max === min) {
        h = 0;
      } else if (r === max) {
        h = (g - b) / delta;
      } else if (g === max) {
        h = 2 + (b - r) / delta;
      } else if (b === max) {
        h = 4 + (r - g) / delta;
      }
      h = Math.min(h * 60, 360);
      if (h < 0) {
        h += 360;
      }
      l = (min + max) / 2;
      if (max === min) {
        s = 0;
      } else if (l <= 0.5) {
        s = delta / (max + min);
      } else {
        s = delta / (2 - max - min);
      }
      return [h, s * 100, l * 100];
    };
    convert.rgb.hsv = function(rgb) {
      var rdif;
      var gdif;
      var bdif;
      var h;
      var s;
      var r = rgb[0] / 255;
      var g = rgb[1] / 255;
      var b = rgb[2] / 255;
      var v = Math.max(r, g, b);
      var diff = v - Math.min(r, g, b);
      var diffc = function(c) {
        return (v - c) / 6 / diff + 1 / 2;
      };
      if (diff === 0) {
        h = s = 0;
      } else {
        s = diff / v;
        rdif = diffc(r);
        gdif = diffc(g);
        bdif = diffc(b);
        if (r === v) {
          h = bdif - gdif;
        } else if (g === v) {
          h = 1 / 3 + rdif - bdif;
        } else if (b === v) {
          h = 2 / 3 + gdif - rdif;
        }
        if (h < 0) {
          h += 1;
        } else if (h > 1) {
          h -= 1;
        }
      }
      return [
        h * 360,
        s * 100,
        v * 100
      ];
    };
    convert.rgb.hwb = function(rgb) {
      var r = rgb[0];
      var g = rgb[1];
      var b = rgb[2];
      var h = convert.rgb.hsl(rgb)[0];
      var w = 1 / 255 * Math.min(r, Math.min(g, b));
      b = 1 - 1 / 255 * Math.max(r, Math.max(g, b));
      return [h, w * 100, b * 100];
    };
    convert.rgb.cmyk = function(rgb) {
      var r = rgb[0] / 255;
      var g = rgb[1] / 255;
      var b = rgb[2] / 255;
      var c;
      var m;
      var y;
      var k;
      k = Math.min(1 - r, 1 - g, 1 - b);
      c = (1 - r - k) / (1 - k) || 0;
      m = (1 - g - k) / (1 - k) || 0;
      y = (1 - b - k) / (1 - k) || 0;
      return [c * 100, m * 100, y * 100, k * 100];
    };
    function comparativeDistance(x, y) {
      return Math.pow(x[0] - y[0], 2) + Math.pow(x[1] - y[1], 2) + Math.pow(x[2] - y[2], 2);
    }
    convert.rgb.keyword = function(rgb) {
      var reversed = reverseKeywords[rgb];
      if (reversed) {
        return reversed;
      }
      var currentClosestDistance = Infinity;
      var currentClosestKeyword;
      for (var keyword in cssKeywords) {
        if (cssKeywords.hasOwnProperty(keyword)) {
          var value = cssKeywords[keyword];
          var distance = comparativeDistance(rgb, value);
          if (distance < currentClosestDistance) {
            currentClosestDistance = distance;
            currentClosestKeyword = keyword;
          }
        }
      }
      return currentClosestKeyword;
    };
    convert.keyword.rgb = function(keyword) {
      return cssKeywords[keyword];
    };
    convert.rgb.xyz = function(rgb) {
      var r = rgb[0] / 255;
      var g = rgb[1] / 255;
      var b = rgb[2] / 255;
      r = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;
      g = g > 0.04045 ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;
      b = b > 0.04045 ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;
      var x = r * 0.4124 + g * 0.3576 + b * 0.1805;
      var y = r * 0.2126 + g * 0.7152 + b * 0.0722;
      var z = r * 0.0193 + g * 0.1192 + b * 0.9505;
      return [x * 100, y * 100, z * 100];
    };
    convert.rgb.lab = function(rgb) {
      var xyz = convert.rgb.xyz(rgb);
      var x = xyz[0];
      var y = xyz[1];
      var z = xyz[2];
      var l;
      var a;
      var b;
      x /= 95.047;
      y /= 100;
      z /= 108.883;
      x = x > 8856e-6 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;
      y = y > 8856e-6 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;
      z = z > 8856e-6 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;
      l = 116 * y - 16;
      a = 500 * (x - y);
      b = 200 * (y - z);
      return [l, a, b];
    };
    convert.hsl.rgb = function(hsl) {
      var h = hsl[0] / 360;
      var s = hsl[1] / 100;
      var l = hsl[2] / 100;
      var t1;
      var t2;
      var t3;
      var rgb;
      var val;
      if (s === 0) {
        val = l * 255;
        return [val, val, val];
      }
      if (l < 0.5) {
        t2 = l * (1 + s);
      } else {
        t2 = l + s - l * s;
      }
      t1 = 2 * l - t2;
      rgb = [0, 0, 0];
      for (var i = 0; i < 3; i++) {
        t3 = h + 1 / 3 * -(i - 1);
        if (t3 < 0) {
          t3++;
        }
        if (t3 > 1) {
          t3--;
        }
        if (6 * t3 < 1) {
          val = t1 + (t2 - t1) * 6 * t3;
        } else if (2 * t3 < 1) {
          val = t2;
        } else if (3 * t3 < 2) {
          val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;
        } else {
          val = t1;
        }
        rgb[i] = val * 255;
      }
      return rgb;
    };
    convert.hsl.hsv = function(hsl) {
      var h = hsl[0];
      var s = hsl[1] / 100;
      var l = hsl[2] / 100;
      var smin = s;
      var lmin = Math.max(l, 0.01);
      var sv;
      var v;
      l *= 2;
      s *= l <= 1 ? l : 2 - l;
      smin *= lmin <= 1 ? lmin : 2 - lmin;
      v = (l + s) / 2;
      sv = l === 0 ? 2 * smin / (lmin + smin) : 2 * s / (l + s);
      return [h, sv * 100, v * 100];
    };
    convert.hsv.rgb = function(hsv) {
      var h = hsv[0] / 60;
      var s = hsv[1] / 100;
      var v = hsv[2] / 100;
      var hi = Math.floor(h) % 6;
      var f = h - Math.floor(h);
      var p = 255 * v * (1 - s);
      var q = 255 * v * (1 - s * f);
      var t = 255 * v * (1 - s * (1 - f));
      v *= 255;
      switch (hi) {
        case 0:
          return [v, t, p];
        case 1:
          return [q, v, p];
        case 2:
          return [p, v, t];
        case 3:
          return [p, q, v];
        case 4:
          return [t, p, v];
        case 5:
          return [v, p, q];
      }
    };
    convert.hsv.hsl = function(hsv) {
      var h = hsv[0];
      var s = hsv[1] / 100;
      var v = hsv[2] / 100;
      var vmin = Math.max(v, 0.01);
      var lmin;
      var sl;
      var l;
      l = (2 - s) * v;
      lmin = (2 - s) * vmin;
      sl = s * vmin;
      sl /= lmin <= 1 ? lmin : 2 - lmin;
      sl = sl || 0;
      l /= 2;
      return [h, sl * 100, l * 100];
    };
    convert.hwb.rgb = function(hwb) {
      var h = hwb[0] / 360;
      var wh = hwb[1] / 100;
      var bl = hwb[2] / 100;
      var ratio = wh + bl;
      var i;
      var v;
      var f;
      var n;
      if (ratio > 1) {
        wh /= ratio;
        bl /= ratio;
      }
      i = Math.floor(6 * h);
      v = 1 - bl;
      f = 6 * h - i;
      if ((i & 1) !== 0) {
        f = 1 - f;
      }
      n = wh + f * (v - wh);
      var r;
      var g;
      var b;
      switch (i) {
        default:
        case 6:
        case 0:
          r = v;
          g = n;
          b = wh;
          break;
        case 1:
          r = n;
          g = v;
          b = wh;
          break;
        case 2:
          r = wh;
          g = v;
          b = n;
          break;
        case 3:
          r = wh;
          g = n;
          b = v;
          break;
        case 4:
          r = n;
          g = wh;
          b = v;
          break;
        case 5:
          r = v;
          g = wh;
          b = n;
          break;
      }
      return [r * 255, g * 255, b * 255];
    };
    convert.cmyk.rgb = function(cmyk) {
      var c = cmyk[0] / 100;
      var m = cmyk[1] / 100;
      var y = cmyk[2] / 100;
      var k = cmyk[3] / 100;
      var r;
      var g;
      var b;
      r = 1 - Math.min(1, c * (1 - k) + k);
      g = 1 - Math.min(1, m * (1 - k) + k);
      b = 1 - Math.min(1, y * (1 - k) + k);
      return [r * 255, g * 255, b * 255];
    };
    convert.xyz.rgb = function(xyz) {
      var x = xyz[0] / 100;
      var y = xyz[1] / 100;
      var z = xyz[2] / 100;
      var r;
      var g;
      var b;
      r = x * 3.2406 + y * -1.5372 + z * -0.4986;
      g = x * -0.9689 + y * 1.8758 + z * 0.0415;
      b = x * 0.0557 + y * -0.204 + z * 1.057;
      r = r > 31308e-7 ? 1.055 * Math.pow(r, 1 / 2.4) - 0.055 : r * 12.92;
      g = g > 31308e-7 ? 1.055 * Math.pow(g, 1 / 2.4) - 0.055 : g * 12.92;
      b = b > 31308e-7 ? 1.055 * Math.pow(b, 1 / 2.4) - 0.055 : b * 12.92;
      r = Math.min(Math.max(0, r), 1);
      g = Math.min(Math.max(0, g), 1);
      b = Math.min(Math.max(0, b), 1);
      return [r * 255, g * 255, b * 255];
    };
    convert.xyz.lab = function(xyz) {
      var x = xyz[0];
      var y = xyz[1];
      var z = xyz[2];
      var l;
      var a;
      var b;
      x /= 95.047;
      y /= 100;
      z /= 108.883;
      x = x > 8856e-6 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;
      y = y > 8856e-6 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;
      z = z > 8856e-6 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;
      l = 116 * y - 16;
      a = 500 * (x - y);
      b = 200 * (y - z);
      return [l, a, b];
    };
    convert.lab.xyz = function(lab) {
      var l = lab[0];
      var a = lab[1];
      var b = lab[2];
      var x;
      var y;
      var z;
      y = (l + 16) / 116;
      x = a / 500 + y;
      z = y - b / 200;
      var y2 = Math.pow(y, 3);
      var x2 = Math.pow(x, 3);
      var z2 = Math.pow(z, 3);
      y = y2 > 8856e-6 ? y2 : (y - 16 / 116) / 7.787;
      x = x2 > 8856e-6 ? x2 : (x - 16 / 116) / 7.787;
      z = z2 > 8856e-6 ? z2 : (z - 16 / 116) / 7.787;
      x *= 95.047;
      y *= 100;
      z *= 108.883;
      return [x, y, z];
    };
    convert.lab.lch = function(lab) {
      var l = lab[0];
      var a = lab[1];
      var b = lab[2];
      var hr;
      var h;
      var c;
      hr = Math.atan2(b, a);
      h = hr * 360 / 2 / Math.PI;
      if (h < 0) {
        h += 360;
      }
      c = Math.sqrt(a * a + b * b);
      return [l, c, h];
    };
    convert.lch.lab = function(lch) {
      var l = lch[0];
      var c = lch[1];
      var h = lch[2];
      var a;
      var b;
      var hr;
      hr = h / 360 * 2 * Math.PI;
      a = c * Math.cos(hr);
      b = c * Math.sin(hr);
      return [l, a, b];
    };
    convert.rgb.ansi16 = function(args) {
      var r = args[0];
      var g = args[1];
      var b = args[2];
      var value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2];
      value = Math.round(value / 50);
      if (value === 0) {
        return 30;
      }
      var ansi = 30 + (Math.round(b / 255) << 2 | Math.round(g / 255) << 1 | Math.round(r / 255));
      if (value === 2) {
        ansi += 60;
      }
      return ansi;
    };
    convert.hsv.ansi16 = function(args) {
      return convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);
    };
    convert.rgb.ansi256 = function(args) {
      var r = args[0];
      var g = args[1];
      var b = args[2];
      if (r === g && g === b) {
        if (r < 8) {
          return 16;
        }
        if (r > 248) {
          return 231;
        }
        return Math.round((r - 8) / 247 * 24) + 232;
      }
      var ansi = 16 + 36 * Math.round(r / 255 * 5) + 6 * Math.round(g / 255 * 5) + Math.round(b / 255 * 5);
      return ansi;
    };
    convert.ansi16.rgb = function(args) {
      var color = args % 10;
      if (color === 0 || color === 7) {
        if (args > 50) {
          color += 3.5;
        }
        color = color / 10.5 * 255;
        return [color, color, color];
      }
      var mult = (~~(args > 50) + 1) * 0.5;
      var r = (color & 1) * mult * 255;
      var g = (color >> 1 & 1) * mult * 255;
      var b = (color >> 2 & 1) * mult * 255;
      return [r, g, b];
    };
    convert.ansi256.rgb = function(args) {
      if (args >= 232) {
        var c = (args - 232) * 10 + 8;
        return [c, c, c];
      }
      args -= 16;
      var rem;
      var r = Math.floor(args / 36) / 5 * 255;
      var g = Math.floor((rem = args % 36) / 6) / 5 * 255;
      var b = rem % 6 / 5 * 255;
      return [r, g, b];
    };
    convert.rgb.hex = function(args) {
      var integer = ((Math.round(args[0]) & 255) << 16) + ((Math.round(args[1]) & 255) << 8) + (Math.round(args[2]) & 255);
      var string = integer.toString(16).toUpperCase();
      return "000000".substring(string.length) + string;
    };
    convert.hex.rgb = function(args) {
      var match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);
      if (!match) {
        return [0, 0, 0];
      }
      var colorString = match[0];
      if (match[0].length === 3) {
        colorString = colorString.split("").map(function(char) {
          return char + char;
        }).join("");
      }
      var integer = parseInt(colorString, 16);
      var r = integer >> 16 & 255;
      var g = integer >> 8 & 255;
      var b = integer & 255;
      return [r, g, b];
    };
    convert.rgb.hcg = function(rgb) {
      var r = rgb[0] / 255;
      var g = rgb[1] / 255;
      var b = rgb[2] / 255;
      var max = Math.max(Math.max(r, g), b);
      var min = Math.min(Math.min(r, g), b);
      var chroma = max - min;
      var grayscale;
      var hue;
      if (chroma < 1) {
        grayscale = min / (1 - chroma);
      } else {
        grayscale = 0;
      }
      if (chroma <= 0) {
        hue = 0;
      } else if (max === r) {
        hue = (g - b) / chroma % 6;
      } else if (max === g) {
        hue = 2 + (b - r) / chroma;
      } else {
        hue = 4 + (r - g) / chroma + 4;
      }
      hue /= 6;
      hue %= 1;
      return [hue * 360, chroma * 100, grayscale * 100];
    };
    convert.hsl.hcg = function(hsl) {
      var s = hsl[1] / 100;
      var l = hsl[2] / 100;
      var c = 1;
      var f = 0;
      if (l < 0.5) {
        c = 2 * s * l;
      } else {
        c = 2 * s * (1 - l);
      }
      if (c < 1) {
        f = (l - 0.5 * c) / (1 - c);
      }
      return [hsl[0], c * 100, f * 100];
    };
    convert.hsv.hcg = function(hsv) {
      var s = hsv[1] / 100;
      var v = hsv[2] / 100;
      var c = s * v;
      var f = 0;
      if (c < 1) {
        f = (v - c) / (1 - c);
      }
      return [hsv[0], c * 100, f * 100];
    };
    convert.hcg.rgb = function(hcg) {
      var h = hcg[0] / 360;
      var c = hcg[1] / 100;
      var g = hcg[2] / 100;
      if (c === 0) {
        return [g * 255, g * 255, g * 255];
      }
      var pure = [0, 0, 0];
      var hi = h % 1 * 6;
      var v = hi % 1;
      var w = 1 - v;
      var mg = 0;
      switch (Math.floor(hi)) {
        case 0:
          pure[0] = 1;
          pure[1] = v;
          pure[2] = 0;
          break;
        case 1:
          pure[0] = w;
          pure[1] = 1;
          pure[2] = 0;
          break;
        case 2:
          pure[0] = 0;
          pure[1] = 1;
          pure[2] = v;
          break;
        case 3:
          pure[0] = 0;
          pure[1] = w;
          pure[2] = 1;
          break;
        case 4:
          pure[0] = v;
          pure[1] = 0;
          pure[2] = 1;
          break;
        default:
          pure[0] = 1;
          pure[1] = 0;
          pure[2] = w;
      }
      mg = (1 - c) * g;
      return [
        (c * pure[0] + mg) * 255,
        (c * pure[1] + mg) * 255,
        (c * pure[2] + mg) * 255
      ];
    };
    convert.hcg.hsv = function(hcg) {
      var c = hcg[1] / 100;
      var g = hcg[2] / 100;
      var v = c + g * (1 - c);
      var f = 0;
      if (v > 0) {
        f = c / v;
      }
      return [hcg[0], f * 100, v * 100];
    };
    convert.hcg.hsl = function(hcg) {
      var c = hcg[1] / 100;
      var g = hcg[2] / 100;
      var l = g * (1 - c) + 0.5 * c;
      var s = 0;
      if (l > 0 && l < 0.5) {
        s = c / (2 * l);
      } else if (l >= 0.5 && l < 1) {
        s = c / (2 * (1 - l));
      }
      return [hcg[0], s * 100, l * 100];
    };
    convert.hcg.hwb = function(hcg) {
      var c = hcg[1] / 100;
      var g = hcg[2] / 100;
      var v = c + g * (1 - c);
      return [hcg[0], (v - c) * 100, (1 - v) * 100];
    };
    convert.hwb.hcg = function(hwb) {
      var w = hwb[1] / 100;
      var b = hwb[2] / 100;
      var v = 1 - b;
      var c = v - w;
      var g = 0;
      if (c < 1) {
        g = (v - c) / (1 - c);
      }
      return [hwb[0], c * 100, g * 100];
    };
    convert.apple.rgb = function(apple) {
      return [apple[0] / 65535 * 255, apple[1] / 65535 * 255, apple[2] / 65535 * 255];
    };
    convert.rgb.apple = function(rgb) {
      return [rgb[0] / 255 * 65535, rgb[1] / 255 * 65535, rgb[2] / 255 * 65535];
    };
    convert.gray.rgb = function(args) {
      return [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];
    };
    convert.gray.hsl = convert.gray.hsv = function(args) {
      return [0, 0, args[0]];
    };
    convert.gray.hwb = function(gray) {
      return [0, 100, gray[0]];
    };
    convert.gray.cmyk = function(gray) {
      return [0, 0, 0, gray[0]];
    };
    convert.gray.lab = function(gray) {
      return [gray[0], 0, 0];
    };
    convert.gray.hex = function(gray) {
      var val = Math.round(gray[0] / 100 * 255) & 255;
      var integer = (val << 16) + (val << 8) + val;
      var string = integer.toString(16).toUpperCase();
      return "000000".substring(string.length) + string;
    };
    convert.rgb.gray = function(rgb) {
      var val = (rgb[0] + rgb[1] + rgb[2]) / 3;
      return [val / 255 * 100];
    };
  }
});

// node_modules/color/node_modules/color-convert/route.js
var require_route = __commonJS({
  "node_modules/color/node_modules/color-convert/route.js"(exports, module2) {
    var conversions = require_conversions();
    function buildGraph() {
      var graph = {};
      var models = Object.keys(conversions);
      for (var len = models.length, i = 0; i < len; i++) {
        graph[models[i]] = {
          // http://jsperf.com/1-vs-infinity
          // micro-opt, but this is simple.
          distance: -1,
          parent: null
        };
      }
      return graph;
    }
    function deriveBFS(fromModel) {
      var graph = buildGraph();
      var queue = [fromModel];
      graph[fromModel].distance = 0;
      while (queue.length) {
        var current = queue.pop();
        var adjacents = Object.keys(conversions[current]);
        for (var len = adjacents.length, i = 0; i < len; i++) {
          var adjacent = adjacents[i];
          var node = graph[adjacent];
          if (node.distance === -1) {
            node.distance = graph[current].distance + 1;
            node.parent = current;
            queue.unshift(adjacent);
          }
        }
      }
      return graph;
    }
    function link(from, to) {
      return function(args) {
        return to(from(args));
      };
    }
    function wrapConversion(toModel, graph) {
      var path = [graph[toModel].parent, toModel];
      var fn = conversions[graph[toModel].parent][toModel];
      var cur = graph[toModel].parent;
      while (graph[cur].parent) {
        path.unshift(graph[cur].parent);
        fn = link(conversions[graph[cur].parent][cur], fn);
        cur = graph[cur].parent;
      }
      fn.conversion = path;
      return fn;
    }
    module2.exports = function(fromModel) {
      var graph = deriveBFS(fromModel);
      var conversion = {};
      var models = Object.keys(graph);
      for (var len = models.length, i = 0; i < len; i++) {
        var toModel = models[i];
        var node = graph[toModel];
        if (node.parent === null) {
          continue;
        }
        conversion[toModel] = wrapConversion(toModel, graph);
      }
      return conversion;
    };
  }
});

// node_modules/color/node_modules/color-convert/index.js
var require_color_convert = __commonJS({
  "node_modules/color/node_modules/color-convert/index.js"(exports, module2) {
    var conversions = require_conversions();
    var route = require_route();
    var convert = {};
    var models = Object.keys(conversions);
    function wrapRaw(fn) {
      var wrappedFn = function(args) {
        if (args === void 0 || args === null) {
          return args;
        }
        if (arguments.length > 1) {
          args = Array.prototype.slice.call(arguments);
        }
        return fn(args);
      };
      if ("conversion" in fn) {
        wrappedFn.conversion = fn.conversion;
      }
      return wrappedFn;
    }
    function wrapRounded(fn) {
      var wrappedFn = function(args) {
        if (args === void 0 || args === null) {
          return args;
        }
        if (arguments.length > 1) {
          args = Array.prototype.slice.call(arguments);
        }
        var result = fn(args);
        if (typeof result === "object") {
          for (var len = result.length, i = 0; i < len; i++) {
            result[i] = Math.round(result[i]);
          }
        }
        return result;
      };
      if ("conversion" in fn) {
        wrappedFn.conversion = fn.conversion;
      }
      return wrappedFn;
    }
    models.forEach(function(fromModel) {
      convert[fromModel] = {};
      Object.defineProperty(convert[fromModel], "channels", { value: conversions[fromModel].channels });
      Object.defineProperty(convert[fromModel], "labels", { value: conversions[fromModel].labels });
      var routes = route(fromModel);
      var routeModels = Object.keys(routes);
      routeModels.forEach(function(toModel) {
        var fn = routes[toModel];
        convert[fromModel][toModel] = wrapRounded(fn);
        convert[fromModel][toModel].raw = wrapRaw(fn);
      });
    });
    module2.exports = convert;
  }
});

// node_modules/color/index.js
var require_color = __commonJS({
  "node_modules/color/index.js"(exports, module2) {
    "use strict";
    var colorString = require_color_string();
    var convert = require_color_convert();
    var _slice = [].slice;
    var skippedModels = [
      // to be honest, I don't really feel like keyword belongs in color convert, but eh.
      "keyword",
      // gray conflicts with some method names, and has its own method defined.
      "gray",
      // shouldn't really be in color-convert either...
      "hex"
    ];
    var hashedModelKeys = {};
    Object.keys(convert).forEach(function(model) {
      hashedModelKeys[_slice.call(convert[model].labels).sort().join("")] = model;
    });
    var limiters = {};
    function Color(obj, model) {
      if (!(this instanceof Color)) {
        return new Color(obj, model);
      }
      if (model && model in skippedModels) {
        model = null;
      }
      if (model && !(model in convert)) {
        throw new Error("Unknown model: " + model);
      }
      var i;
      var channels;
      if (obj == null) {
        this.model = "rgb";
        this.color = [0, 0, 0];
        this.valpha = 1;
      } else if (obj instanceof Color) {
        this.model = obj.model;
        this.color = obj.color.slice();
        this.valpha = obj.valpha;
      } else if (typeof obj === "string") {
        var result = colorString.get(obj);
        if (result === null) {
          throw new Error("Unable to parse color from string: " + obj);
        }
        this.model = result.model;
        channels = convert[this.model].channels;
        this.color = result.value.slice(0, channels);
        this.valpha = typeof result.value[channels] === "number" ? result.value[channels] : 1;
      } else if (obj.length) {
        this.model = model || "rgb";
        channels = convert[this.model].channels;
        var newArr = _slice.call(obj, 0, channels);
        this.color = zeroArray(newArr, channels);
        this.valpha = typeof obj[channels] === "number" ? obj[channels] : 1;
      } else if (typeof obj === "number") {
        obj &= 16777215;
        this.model = "rgb";
        this.color = [
          obj >> 16 & 255,
          obj >> 8 & 255,
          obj & 255
        ];
        this.valpha = 1;
      } else {
        this.valpha = 1;
        var keys = Object.keys(obj);
        if ("alpha" in obj) {
          keys.splice(keys.indexOf("alpha"), 1);
          this.valpha = typeof obj.alpha === "number" ? obj.alpha : 0;
        }
        var hashedKeys = keys.sort().join("");
        if (!(hashedKeys in hashedModelKeys)) {
          throw new Error("Unable to parse color from object: " + JSON.stringify(obj));
        }
        this.model = hashedModelKeys[hashedKeys];
        var labels = convert[this.model].labels;
        var color = [];
        for (i = 0; i < labels.length; i++) {
          color.push(obj[labels[i]]);
        }
        this.color = zeroArray(color);
      }
      if (limiters[this.model]) {
        channels = convert[this.model].channels;
        for (i = 0; i < channels; i++) {
          var limit = limiters[this.model][i];
          if (limit) {
            this.color[i] = limit(this.color[i]);
          }
        }
      }
      this.valpha = Math.max(0, Math.min(1, this.valpha));
      if (Object.freeze) {
        Object.freeze(this);
      }
    }
    Color.prototype = {
      toString: function() {
        return this.string();
      },
      toJSON: function() {
        return this[this.model]();
      },
      string: function(places) {
        var self2 = this.model in colorString.to ? this : this.rgb();
        self2 = self2.round(typeof places === "number" ? places : 1);
        var args = self2.valpha === 1 ? self2.color : self2.color.concat(this.valpha);
        return colorString.to[self2.model](args);
      },
      percentString: function(places) {
        var self2 = this.rgb().round(typeof places === "number" ? places : 1);
        var args = self2.valpha === 1 ? self2.color : self2.color.concat(this.valpha);
        return colorString.to.rgb.percent(args);
      },
      array: function() {
        return this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);
      },
      object: function() {
        var result = {};
        var channels = convert[this.model].channels;
        var labels = convert[this.model].labels;
        for (var i = 0; i < channels; i++) {
          result[labels[i]] = this.color[i];
        }
        if (this.valpha !== 1) {
          result.alpha = this.valpha;
        }
        return result;
      },
      unitArray: function() {
        var rgb = this.rgb().color;
        rgb[0] /= 255;
        rgb[1] /= 255;
        rgb[2] /= 255;
        if (this.valpha !== 1) {
          rgb.push(this.valpha);
        }
        return rgb;
      },
      unitObject: function() {
        var rgb = this.rgb().object();
        rgb.r /= 255;
        rgb.g /= 255;
        rgb.b /= 255;
        if (this.valpha !== 1) {
          rgb.alpha = this.valpha;
        }
        return rgb;
      },
      round: function(places) {
        places = Math.max(places || 0, 0);
        return new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);
      },
      alpha: function(val) {
        if (arguments.length) {
          return new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);
        }
        return this.valpha;
      },
      // rgb
      red: getset("rgb", 0, maxfn(255)),
      green: getset("rgb", 1, maxfn(255)),
      blue: getset("rgb", 2, maxfn(255)),
      hue: getset(["hsl", "hsv", "hsl", "hwb", "hcg"], 0, function(val) {
        return (val % 360 + 360) % 360;
      }),
      // eslint-disable-line brace-style
      saturationl: getset("hsl", 1, maxfn(100)),
      lightness: getset("hsl", 2, maxfn(100)),
      saturationv: getset("hsv", 1, maxfn(100)),
      value: getset("hsv", 2, maxfn(100)),
      chroma: getset("hcg", 1, maxfn(100)),
      gray: getset("hcg", 2, maxfn(100)),
      white: getset("hwb", 1, maxfn(100)),
      wblack: getset("hwb", 2, maxfn(100)),
      cyan: getset("cmyk", 0, maxfn(100)),
      magenta: getset("cmyk", 1, maxfn(100)),
      yellow: getset("cmyk", 2, maxfn(100)),
      black: getset("cmyk", 3, maxfn(100)),
      x: getset("xyz", 0, maxfn(100)),
      y: getset("xyz", 1, maxfn(100)),
      z: getset("xyz", 2, maxfn(100)),
      l: getset("lab", 0, maxfn(100)),
      a: getset("lab", 1),
      b: getset("lab", 2),
      keyword: function(val) {
        if (arguments.length) {
          return new Color(val);
        }
        return convert[this.model].keyword(this.color);
      },
      hex: function(val) {
        if (arguments.length) {
          return new Color(val);
        }
        return colorString.to.hex(this.rgb().round().color);
      },
      rgbNumber: function() {
        var rgb = this.rgb().color;
        return (rgb[0] & 255) << 16 | (rgb[1] & 255) << 8 | rgb[2] & 255;
      },
      luminosity: function() {
        var rgb = this.rgb().color;
        var lum = [];
        for (var i = 0; i < rgb.length; i++) {
          var chan = rgb[i] / 255;
          lum[i] = chan <= 0.03928 ? chan / 12.92 : Math.pow((chan + 0.055) / 1.055, 2.4);
        }
        return 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];
      },
      contrast: function(color2) {
        var lum1 = this.luminosity();
        var lum2 = color2.luminosity();
        if (lum1 > lum2) {
          return (lum1 + 0.05) / (lum2 + 0.05);
        }
        return (lum2 + 0.05) / (lum1 + 0.05);
      },
      level: function(color2) {
        var contrastRatio = this.contrast(color2);
        if (contrastRatio >= 7.1) {
          return "AAA";
        }
        return contrastRatio >= 4.5 ? "AA" : "";
      },
      isDark: function() {
        var rgb = this.rgb().color;
        var yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1e3;
        return yiq < 128;
      },
      isLight: function() {
        return !this.isDark();
      },
      negate: function() {
        var rgb = this.rgb();
        for (var i = 0; i < 3; i++) {
          rgb.color[i] = 255 - rgb.color[i];
        }
        return rgb;
      },
      lighten: function(ratio) {
        var hsl = this.hsl();
        hsl.color[2] += hsl.color[2] * ratio;
        return hsl;
      },
      darken: function(ratio) {
        var hsl = this.hsl();
        hsl.color[2] -= hsl.color[2] * ratio;
        return hsl;
      },
      saturate: function(ratio) {
        var hsl = this.hsl();
        hsl.color[1] += hsl.color[1] * ratio;
        return hsl;
      },
      desaturate: function(ratio) {
        var hsl = this.hsl();
        hsl.color[1] -= hsl.color[1] * ratio;
        return hsl;
      },
      whiten: function(ratio) {
        var hwb = this.hwb();
        hwb.color[1] += hwb.color[1] * ratio;
        return hwb;
      },
      blacken: function(ratio) {
        var hwb = this.hwb();
        hwb.color[2] += hwb.color[2] * ratio;
        return hwb;
      },
      grayscale: function() {
        var rgb = this.rgb().color;
        var val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;
        return Color.rgb(val, val, val);
      },
      fade: function(ratio) {
        return this.alpha(this.valpha - this.valpha * ratio);
      },
      opaquer: function(ratio) {
        return this.alpha(this.valpha + this.valpha * ratio);
      },
      rotate: function(degrees) {
        var hsl = this.hsl();
        var hue = hsl.color[0];
        hue = (hue + degrees) % 360;
        hue = hue < 0 ? 360 + hue : hue;
        hsl.color[0] = hue;
        return hsl;
      },
      mix: function(mixinColor, weight) {
        if (!mixinColor || !mixinColor.rgb) {
          throw new Error('Argument to "mix" was not a Color instance, but rather an instance of ' + typeof mixinColor);
        }
        var color1 = mixinColor.rgb();
        var color2 = this.rgb();
        var p = weight === void 0 ? 0.5 : weight;
        var w = 2 * p - 1;
        var a = color1.alpha() - color2.alpha();
        var w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2;
        var w2 = 1 - w1;
        return Color.rgb(
          w1 * color1.red() + w2 * color2.red(),
          w1 * color1.green() + w2 * color2.green(),
          w1 * color1.blue() + w2 * color2.blue(),
          color1.alpha() * p + color2.alpha() * (1 - p)
        );
      }
    };
    Object.keys(convert).forEach(function(model) {
      if (skippedModels.indexOf(model) !== -1) {
        return;
      }
      var channels = convert[model].channels;
      Color.prototype[model] = function() {
        if (this.model === model) {
          return new Color(this);
        }
        if (arguments.length) {
          return new Color(arguments, model);
        }
        var newAlpha = typeof arguments[channels] === "number" ? channels : this.valpha;
        return new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);
      };
      Color[model] = function(color) {
        if (typeof color === "number") {
          color = zeroArray(_slice.call(arguments), channels);
        }
        return new Color(color, model);
      };
    });
    function roundTo(num, places) {
      return Number(num.toFixed(places));
    }
    function roundToPlace(places) {
      return function(num) {
        return roundTo(num, places);
      };
    }
    function getset(model, channel, modifier) {
      model = Array.isArray(model) ? model : [model];
      model.forEach(function(m) {
        (limiters[m] || (limiters[m] = []))[channel] = modifier;
      });
      model = model[0];
      return function(val) {
        var result;
        if (arguments.length) {
          if (modifier) {
            val = modifier(val);
          }
          result = this[model]();
          result.color[channel] = val;
          return result;
        }
        result = this[model]().color[channel];
        if (modifier) {
          result = modifier(result);
        }
        return result;
      };
    }
    function maxfn(max) {
      return function(v) {
        return Math.max(0, Math.min(max, v));
      };
    }
    function assertArray(val) {
      return Array.isArray(val) ? val : [val];
    }
    function zeroArray(arr, length) {
      for (var i = 0; i < length; i++) {
        if (typeof arr[i] !== "number") {
          arr[i] = 0;
        }
      }
      return arr;
    }
    module2.exports = Color;
  }
});

// node_modules/text-hex/index.js
var require_text_hex = __commonJS({
  "node_modules/text-hex/index.js"(exports, module2) {
    "use strict";
    module2.exports = function hex(str2) {
      for (var i = 0, hash = 0; i < str2.length; hash = str2.charCodeAt(i++) + ((hash << 5) - hash))
        ;
      var color = Math.floor(
        Math.abs(
          Math.sin(hash) * 1e4 % 1 * 16777216
        )
      ).toString(16);
      return "#" + Array(6 - color.length + 1).join("0") + color;
    };
  }
});

// node_modules/colorspace/index.js
var require_colorspace = __commonJS({
  "node_modules/colorspace/index.js"(exports, module2) {
    "use strict";
    var color = require_color();
    var hex = require_text_hex();
    module2.exports = function colorspace(namespace, delimiter) {
      var split = namespace.split(delimiter || ":");
      var base = hex(split[0]);
      if (!split.length)
        return base;
      for (var i = 0, l = split.length - 1; i < l; i++) {
        base = color(base).mix(color(hex(split[i + 1]))).saturate(1).hex();
      }
      return base;
    };
  }
});

// node_modules/@dabh/diagnostics/modifiers/namespace.js
var require_namespace = __commonJS({
  "node_modules/@dabh/diagnostics/modifiers/namespace.js"(exports, module2) {
    var colorspace = require_colorspace();
    module2.exports = function colorNamespace(args, options) {
      var namespace = options.namespace;
      if (options.colors === false) {
        args[0] = namespace + ": " + args[0];
        return args;
      }
      var color = colorspace(namespace);
      args[0] = "%c" + namespace + ":%c " + args[0];
      args.splice(1, 0, "color:" + color, "color:inherit");
      return args;
    };
  }
});

// node_modules/enabled/index.js
var require_enabled = __commonJS({
  "node_modules/enabled/index.js"(exports, module2) {
    "use strict";
    module2.exports = function enabled(name, variable) {
      if (!variable)
        return false;
      var variables = variable.split(/[\s,]+/), i = 0;
      for (; i < variables.length; i++) {
        variable = variables[i].replace("*", ".*?");
        if ("-" === variable.charAt(0)) {
          if (new RegExp("^" + variable.substr(1) + "$").test(name)) {
            return false;
          }
          continue;
        }
        if (new RegExp("^" + variable + "$").test(name)) {
          return true;
        }
      }
      return false;
    };
  }
});

// node_modules/@dabh/diagnostics/adapters/index.js
var require_adapters = __commonJS({
  "node_modules/@dabh/diagnostics/adapters/index.js"(exports, module2) {
    var enabled = require_enabled();
    module2.exports = function create(fn) {
      return function adapter(namespace) {
        try {
          return enabled(namespace, fn());
        } catch (e) {
        }
        return false;
      };
    };
  }
});

// node_modules/@dabh/diagnostics/adapters/localstorage.js
var require_localstorage = __commonJS({
  "node_modules/@dabh/diagnostics/adapters/localstorage.js"(exports, module2) {
    var adapter = require_adapters();
    module2.exports = adapter(function storage() {
      return localStorage.getItem("debug") || localStorage.getItem("diagnostics");
    });
  }
});

// node_modules/@dabh/diagnostics/adapters/hash.js
var require_hash = __commonJS({
  "node_modules/@dabh/diagnostics/adapters/hash.js"(exports, module2) {
    var adapter = require_adapters();
    module2.exports = adapter(function hash() {
      return /(debug|diagnostics)=([^&]+)/i.exec(window.location.hash)[2];
    });
  }
});

// node_modules/@dabh/diagnostics/logger/console.js
var require_console2 = __commonJS({
  "node_modules/@dabh/diagnostics/logger/console.js"(exports, module2) {
    module2.exports = function(meta, messages) {
      try {
        Function.prototype.apply.call(console.log, console, messages);
      } catch (e) {
      }
    };
  }
});

// node_modules/@dabh/diagnostics/browser/development.js
var require_development = __commonJS({
  "node_modules/@dabh/diagnostics/browser/development.js"(exports, module2) {
    var create = require_diagnostics();
    var diagnostics = create(function dev(namespace, options) {
      options = options || {};
      options.namespace = namespace;
      options.prod = false;
      options.dev = true;
      if (!dev.enabled(namespace) && !(options.force || dev.force)) {
        return dev.nope(options);
      }
      return dev.yep(options);
    });
    diagnostics.modify(require_namespace());
    diagnostics.use(require_localstorage());
    diagnostics.use(require_hash());
    diagnostics.set(require_console2());
    module2.exports = diagnostics;
  }
});

// node_modules/@dabh/diagnostics/browser/index.js
var require_browser3 = __commonJS({
  "node_modules/@dabh/diagnostics/browser/index.js"(exports, module2) {
    if (false) {
      module2.exports = null;
    } else {
      module2.exports = require_development();
    }
  }
});

// node_modules/winston/dist/winston/tail-file.js
var require_tail_file = __commonJS({
  "node_modules/winston/dist/winston/tail-file.js"(exports, module2) {
    "use strict";
    var fs = require("fs");
    var _require = require("string_decoder");
    var StringDecoder = _require.StringDecoder;
    var _require2 = require_readable_browser();
    var Stream2 = _require2.Stream;
    function noop() {
    }
    module2.exports = function(options, iter) {
      var buffer = Buffer.alloc(64 * 1024);
      var decode = new StringDecoder("utf8");
      var stream = new Stream2();
      var buff = "";
      var pos = 0;
      var row = 0;
      if (options.start === -1) {
        delete options.start;
      }
      stream.readable = true;
      stream.destroy = function() {
        stream.destroyed = true;
        stream.emit("end");
        stream.emit("close");
      };
      fs.open(options.file, "a+", "0644", function(err, fd) {
        if (err) {
          if (!iter) {
            stream.emit("error", err);
          } else {
            iter(err);
          }
          stream.destroy();
          return;
        }
        (function read() {
          if (stream.destroyed) {
            fs.close(fd, noop);
            return;
          }
          return fs.read(fd, buffer, 0, buffer.length, pos, function(error, bytes) {
            if (error) {
              if (!iter) {
                stream.emit("error", error);
              } else {
                iter(error);
              }
              stream.destroy();
              return;
            }
            if (!bytes) {
              if (buff) {
                if (options.start == null || row > options.start) {
                  if (!iter) {
                    stream.emit("line", buff);
                  } else {
                    iter(null, buff);
                  }
                }
                row++;
                buff = "";
              }
              return setTimeout(read, 1e3);
            }
            var data = decode.write(buffer.slice(0, bytes));
            if (!iter) {
              stream.emit("data", data);
            }
            data = (buff + data).split(/\n+/);
            var l = data.length - 1;
            var i = 0;
            for (; i < l; i++) {
              if (options.start == null || row > options.start) {
                if (!iter) {
                  stream.emit("line", data[i]);
                } else {
                  iter(null, data[i]);
                }
              }
              row++;
            }
            buff = data[l];
            pos += bytes;
            return read();
          });
        })();
      });
      if (!iter) {
        return stream;
      }
      return stream.destroy;
    };
  }
});

// node_modules/winston/dist/winston/transports/file.js
var require_file = __commonJS({
  "node_modules/winston/dist/winston/transports/file.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var fs = require("fs");
    var path = require("path");
    var asyncSeries = require_series();
    var zlib = require("zlib");
    var _require = require_triple_beam();
    var MESSAGE = _require.MESSAGE;
    var _require2 = require_readable_browser();
    var Stream2 = _require2.Stream;
    var PassThrough = _require2.PassThrough;
    var TransportStream = require_dist();
    var debug2 = require_browser3()("winston:file");
    var os = require("os");
    var tailFile = require_tail_file();
    module2.exports = /* @__PURE__ */ function(_TransportStream) {
      _inherits(File3, _TransportStream);
      var _super = _createSuper(File3);
      function File3() {
        var _this;
        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        _classCallCheck(this, File3);
        _this = _super.call(this, options);
        _this.name = options.name || "file";
        function throwIf(target) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }
          args.slice(1).forEach(function(name) {
            if (options[name]) {
              throw new Error("Cannot set ".concat(name, " and ").concat(target, " together"));
            }
          });
        }
        _this._stream = new PassThrough();
        _this._stream.setMaxListeners(30);
        _this._onError = _this._onError.bind(_assertThisInitialized(_this));
        if (options.filename || options.dirname) {
          throwIf("filename or dirname", "stream");
          _this._basename = _this.filename = options.filename ? path.basename(options.filename) : "winston.log";
          _this.dirname = options.dirname || path.dirname(options.filename);
          _this.options = options.options || {
            flags: "a"
          };
        } else if (options.stream) {
          console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream");
          throwIf("stream", "filename", "maxsize");
          _this._dest = _this._stream.pipe(_this._setupStream(options.stream));
          _this.dirname = path.dirname(_this._dest.path);
        } else {
          throw new Error("Cannot log to file without filename or stream.");
        }
        _this.maxsize = options.maxsize || null;
        _this.rotationFormat = options.rotationFormat || false;
        _this.zippedArchive = options.zippedArchive || false;
        _this.maxFiles = options.maxFiles || null;
        _this.eol = typeof options.eol === "string" ? options.eol : os.EOL;
        _this.tailable = options.tailable || false;
        _this.lazy = options.lazy || false;
        _this._size = 0;
        _this._pendingSize = 0;
        _this._created = 0;
        _this._drain = false;
        _this._opening = false;
        _this._ending = false;
        _this._fileExist = false;
        if (_this.dirname)
          _this._createLogDirIfNotExist(_this.dirname);
        if (!_this.lazy)
          _this.open();
        return _this;
      }
      _createClass(File3, [{
        key: "finishIfEnding",
        value: function finishIfEnding() {
          var _this2 = this;
          if (this._ending) {
            if (this._opening) {
              this.once("open", function() {
                _this2._stream.once("finish", function() {
                  return _this2.emit("finish");
                });
                setImmediate(function() {
                  return _this2._stream.end();
                });
              });
            } else {
              this._stream.once("finish", function() {
                return _this2.emit("finish");
              });
              setImmediate(function() {
                return _this2._stream.end();
              });
            }
          }
        }
        /**
         * Core logging method exposed to Winston. Metadata is optional.
         * @param {Object} info - TODO: add param description.
         * @param {Function} callback - TODO: add param description.
         * @returns {undefined}
         */
      }, {
        key: "log",
        value: function log(info) {
          var _this3 = this;
          var callback = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {
          };
          if (this.silent) {
            callback();
            return true;
          }
          if (this._drain) {
            this._stream.once("drain", function() {
              _this3._drain = false;
              _this3.log(info, callback);
            });
            return;
          }
          if (this._rotate) {
            this._stream.once("rotate", function() {
              _this3._rotate = false;
              _this3.log(info, callback);
            });
            return;
          }
          if (this.lazy) {
            if (!this._fileExist) {
              if (!this._opening) {
                this.open();
              }
              this.once("open", function() {
                _this3._fileExist = true;
                _this3.log(info, callback);
                return;
              });
              return;
            }
            if (this._needsNewFile(this._pendingSize)) {
              this._dest.once("close", function() {
                if (!_this3._opening) {
                  _this3.open();
                }
                _this3.once("open", function() {
                  _this3.log(info, callback);
                  return;
                });
                return;
              });
              return;
            }
          }
          var output = "".concat(info[MESSAGE]).concat(this.eol);
          var bytes = Buffer.byteLength(output);
          function logged() {
            var _this4 = this;
            this._size += bytes;
            this._pendingSize -= bytes;
            debug2("logged %s %s", this._size, output);
            this.emit("logged", info);
            if (this._rotate) {
              return;
            }
            if (this._opening) {
              return;
            }
            if (!this._needsNewFile()) {
              return;
            }
            if (this.lazy) {
              this._endStream(function() {
                _this4.emit("fileclosed");
              });
              return;
            }
            this._rotate = true;
            this._endStream(function() {
              return _this4._rotateFile();
            });
          }
          this._pendingSize += bytes;
          if (this._opening && !this.rotatedWhileOpening && this._needsNewFile(this._size + this._pendingSize)) {
            this.rotatedWhileOpening = true;
          }
          var written = this._stream.write(output, logged.bind(this));
          if (!written) {
            this._drain = true;
            this._stream.once("drain", function() {
              _this3._drain = false;
              callback();
            });
          } else {
            callback();
          }
          debug2("written", written, this._drain);
          this.finishIfEnding();
          return written;
        }
        /**
         * Query the transport. Options object is optional.
         * @param {Object} options - Loggly-like query options for this instance.
         * @param {function} callback - Continuation to respond to when complete.
         * TODO: Refactor me.
         */
      }, {
        key: "query",
        value: function query(options, callback) {
          if (typeof options === "function") {
            callback = options;
            options = {};
          }
          options = normalizeQuery(options);
          var file = path.join(this.dirname, this.filename);
          var buff = "";
          var results = [];
          var row = 0;
          var stream = fs.createReadStream(file, {
            encoding: "utf8"
          });
          stream.on("error", function(err) {
            if (stream.readable) {
              stream.destroy();
            }
            if (!callback) {
              return;
            }
            return err.code !== "ENOENT" ? callback(err) : callback(null, results);
          });
          stream.on("data", function(data) {
            data = (buff + data).split(/\n+/);
            var l = data.length - 1;
            var i = 0;
            for (; i < l; i++) {
              if (!options.start || row >= options.start) {
                add(data[i]);
              }
              row++;
            }
            buff = data[l];
          });
          stream.on("close", function() {
            if (buff) {
              add(buff, true);
            }
            if (options.order === "desc") {
              results = results.reverse();
            }
            if (callback)
              callback(null, results);
          });
          function add(buff2, attempt) {
            try {
              var log = JSON.parse(buff2);
              if (check(log)) {
                push(log);
              }
            } catch (e) {
              if (!attempt) {
                stream.emit("error", e);
              }
            }
          }
          function push(log) {
            if (options.rows && results.length >= options.rows && options.order !== "desc") {
              if (stream.readable) {
                stream.destroy();
              }
              return;
            }
            if (options.fields) {
              log = options.fields.reduce(function(obj, key) {
                obj[key] = log[key];
                return obj;
              }, {});
            }
            if (options.order === "desc") {
              if (results.length >= options.rows) {
                results.shift();
              }
            }
            results.push(log);
          }
          function check(log) {
            if (!log) {
              return;
            }
            if (_typeof(log) !== "object") {
              return;
            }
            var time = new Date(log.timestamp);
            if (options.from && time < options.from || options.until && time > options.until || options.level && options.level !== log.level) {
              return;
            }
            return true;
          }
          function normalizeQuery(options2) {
            options2 = options2 || {};
            options2.rows = options2.rows || options2.limit || 10;
            options2.start = options2.start || 0;
            options2.until = options2.until || new Date();
            if (_typeof(options2.until) !== "object") {
              options2.until = new Date(options2.until);
            }
            options2.from = options2.from || options2.until - 24 * 60 * 60 * 1e3;
            if (_typeof(options2.from) !== "object") {
              options2.from = new Date(options2.from);
            }
            options2.order = options2.order || "desc";
            return options2;
          }
        }
        /**
         * Returns a log stream for this transport. Options object is optional.
         * @param {Object} options - Stream options for this instance.
         * @returns {Stream} - TODO: add return description.
         * TODO: Refactor me.
         */
      }, {
        key: "stream",
        value: function stream() {
          var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          var file = path.join(this.dirname, this.filename);
          var stream2 = new Stream2();
          var tail = {
            file,
            start: options.start
          };
          stream2.destroy = tailFile(tail, function(err, line) {
            if (err) {
              return stream2.emit("error", err);
            }
            try {
              stream2.emit("data", line);
              line = JSON.parse(line);
              stream2.emit("log", line);
            } catch (e) {
              stream2.emit("error", e);
            }
          });
          return stream2;
        }
        /**
         * Checks to see the filesize of.
         * @returns {undefined}
         */
      }, {
        key: "open",
        value: function open() {
          var _this5 = this;
          if (!this.filename)
            return;
          if (this._opening)
            return;
          this._opening = true;
          this.stat(function(err, size) {
            if (err) {
              return _this5.emit("error", err);
            }
            debug2("stat done: %s { size: %s }", _this5.filename, size);
            _this5._size = size;
            _this5._dest = _this5._createStream(_this5._stream);
            _this5._opening = false;
            _this5.once("open", function() {
              if (_this5._stream.eventNames().includes("rotate")) {
                _this5._stream.emit("rotate");
              } else {
                _this5._rotate = false;
              }
            });
          });
        }
        /**
         * Stat the file and assess information in order to create the proper stream.
         * @param {function} callback - TODO: add param description.
         * @returns {undefined}
         */
      }, {
        key: "stat",
        value: function stat(callback) {
          var _this6 = this;
          var target = this._getFile();
          var fullpath = path.join(this.dirname, target);
          fs.stat(fullpath, function(err, stat2) {
            if (err && err.code === "ENOENT") {
              debug2("ENOENT\xA0ok", fullpath);
              _this6.filename = target;
              return callback(null, 0);
            }
            if (err) {
              debug2("err ".concat(err.code, " ").concat(fullpath));
              return callback(err);
            }
            if (!stat2 || _this6._needsNewFile(stat2.size)) {
              return _this6._incFile(function() {
                return _this6.stat(callback);
              });
            }
            _this6.filename = target;
            callback(null, stat2.size);
          });
        }
        /**
         * Closes the stream associated with this instance.
         * @param {function} cb - TODO: add param description.
         * @returns {undefined}
         */
      }, {
        key: "close",
        value: function close(cb) {
          var _this7 = this;
          if (!this._stream) {
            return;
          }
          this._stream.end(function() {
            if (cb) {
              cb();
            }
            _this7.emit("flush");
            _this7.emit("closed");
          });
        }
        /**
         * TODO: add method description.
         * @param {number} size - TODO: add param description.
         * @returns {undefined}
         */
      }, {
        key: "_needsNewFile",
        value: function _needsNewFile(size) {
          size = size || this._size;
          return this.maxsize && size >= this.maxsize;
        }
        /**
         * TODO: add method description.
         * @param {Error} err - TODO: add param description.
         * @returns {undefined}
         */
      }, {
        key: "_onError",
        value: function _onError(err) {
          this.emit("error", err);
        }
        /**
         * TODO: add method description.
         * @param {Stream} stream - TODO: add param description.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "_setupStream",
        value: function _setupStream(stream) {
          stream.on("error", this._onError);
          return stream;
        }
        /**
         * TODO: add method description.
         * @param {Stream} stream - TODO: add param description.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "_cleanupStream",
        value: function _cleanupStream(stream) {
          stream.removeListener("error", this._onError);
          stream.destroy();
          return stream;
        }
        /**
         * TODO: add method description.
         */
      }, {
        key: "_rotateFile",
        value: function _rotateFile() {
          var _this8 = this;
          this._incFile(function() {
            return _this8.open();
          });
        }
        /**
         * Unpipe from the stream that has been marked as full and end it so it
         * flushes to disk.
         *
         * @param {function} callback - Callback for when the current file has closed.
         * @private
         */
      }, {
        key: "_endStream",
        value: function _endStream() {
          var _this9 = this;
          var callback = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : function() {
          };
          if (this._dest) {
            this._stream.unpipe(this._dest);
            this._dest.end(function() {
              _this9._cleanupStream(_this9._dest);
              callback();
            });
          } else {
            callback();
          }
        }
        /**
         * Returns the WritableStream for the active file on this instance. If we
         * should gzip the file then a zlib stream is returned.
         *
         * @param {ReadableStream} source –PassThrough to pipe to the file when open.
         * @returns {WritableStream} Stream that writes to disk for the active file.
         */
      }, {
        key: "_createStream",
        value: function _createStream(source) {
          var _this10 = this;
          var fullpath = path.join(this.dirname, this.filename);
          debug2("create stream start", fullpath, this.options);
          var dest = fs.createWriteStream(fullpath, this.options).on("error", function(err) {
            return debug2(err);
          }).on("close", function() {
            return debug2("close", dest.path, dest.bytesWritten);
          }).on("open", function() {
            debug2("file open ok", fullpath);
            _this10.emit("open", fullpath);
            source.pipe(dest);
            if (_this10.rotatedWhileOpening) {
              _this10._stream = new PassThrough();
              _this10._stream.setMaxListeners(30);
              _this10._rotateFile();
              _this10.rotatedWhileOpening = false;
              _this10._cleanupStream(dest);
              source.end();
            }
          });
          debug2("create stream ok", fullpath);
          if (this.zippedArchive) {
            var gzip = zlib.createGzip();
            gzip.pipe(dest);
            return gzip;
          }
          return dest;
        }
        /**
         * TODO: add method description.
         * @param {function} callback - TODO: add param description.
         * @returns {undefined}
         */
      }, {
        key: "_incFile",
        value: function _incFile(callback) {
          debug2("_incFile", this.filename);
          var ext = path.extname(this._basename);
          var basename = path.basename(this._basename, ext);
          if (!this.tailable) {
            this._created += 1;
            this._checkMaxFilesIncrementing(ext, basename, callback);
          } else {
            this._checkMaxFilesTailable(ext, basename, callback);
          }
        }
        /**
         * Gets the next filename to use for this instance in the case that log
         * filesizes are being capped.
         * @returns {string} - TODO: add return description.
         * @private
         */
      }, {
        key: "_getFile",
        value: function _getFile() {
          var ext = path.extname(this._basename);
          var basename = path.basename(this._basename, ext);
          var isRotation = this.rotationFormat ? this.rotationFormat() : this._created;
          var target = !this.tailable && this._created ? "".concat(basename).concat(isRotation).concat(ext) : "".concat(basename).concat(ext);
          return this.zippedArchive && !this.tailable ? "".concat(target, ".gz") : target;
        }
        /**
         * Increment the number of files created or checked by this instance.
         * @param {mixed} ext - TODO: add param description.
         * @param {mixed} basename - TODO: add param description.
         * @param {mixed} callback - TODO: add param description.
         * @returns {undefined}
         * @private
         */
      }, {
        key: "_checkMaxFilesIncrementing",
        value: function _checkMaxFilesIncrementing(ext, basename, callback) {
          if (!this.maxFiles || this._created < this.maxFiles) {
            return setImmediate(callback);
          }
          var oldest = this._created - this.maxFiles;
          var isOldest = oldest !== 0 ? oldest : "";
          var isZipped = this.zippedArchive ? ".gz" : "";
          var filePath = "".concat(basename).concat(isOldest).concat(ext).concat(isZipped);
          var target = path.join(this.dirname, filePath);
          fs.unlink(target, callback);
        }
        /**
         * Roll files forward based on integer, up to maxFiles. e.g. if base if
         * file.log and it becomes oversized, roll to file1.log, and allow file.log
         * to be re-used. If file is oversized again, roll file1.log to file2.log,
         * roll file.log to file1.log, and so on.
         * @param {mixed} ext - TODO: add param description.
         * @param {mixed} basename - TODO: add param description.
         * @param {mixed} callback - TODO: add param description.
         * @returns {undefined}
         * @private
         */
      }, {
        key: "_checkMaxFilesTailable",
        value: function _checkMaxFilesTailable(ext, basename, callback) {
          var _this12 = this;
          var tasks = [];
          if (!this.maxFiles) {
            return;
          }
          var isZipped = this.zippedArchive ? ".gz" : "";
          for (var x = this.maxFiles - 1; x > 1; x--) {
            tasks.push(function(i, cb) {
              var _this11 = this;
              var fileName = "".concat(basename).concat(i - 1).concat(ext).concat(isZipped);
              var tmppath = path.join(this.dirname, fileName);
              fs.exists(tmppath, function(exists) {
                if (!exists) {
                  return cb(null);
                }
                fileName = "".concat(basename).concat(i).concat(ext).concat(isZipped);
                fs.rename(tmppath, path.join(_this11.dirname, fileName), cb);
              });
            }.bind(this, x));
          }
          asyncSeries(tasks, function() {
            fs.rename(path.join(_this12.dirname, "".concat(basename).concat(ext)), path.join(_this12.dirname, "".concat(basename, "1").concat(ext).concat(isZipped)), callback);
          });
        }
      }, {
        key: "_createLogDirIfNotExist",
        value: function _createLogDirIfNotExist(dirPath) {
          if (!fs.existsSync(dirPath)) {
            fs.mkdirSync(dirPath, {
              recursive: true
            });
          }
        }
      }]);
      return File3;
    }(TransportStream);
  }
});

// node_modules/winston/dist/winston/transports/http.js
var require_http = __commonJS({
  "node_modules/winston/dist/winston/transports/http.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function ownKeys(object, enumerableOnly) {
      var keys = Object.keys(object);
      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        enumerableOnly && (symbols = symbols.filter(function(sym) {
          return Object.getOwnPropertyDescriptor(object, sym).enumerable;
        })), keys.push.apply(keys, symbols);
      }
      return keys;
    }
    function _objectSpread(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = null != arguments[i] ? arguments[i] : {};
        i % 2 ? ownKeys(Object(source), true).forEach(function(key) {
          _defineProperty(target, key, source[key]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
      return target;
    }
    function _defineProperty(obj, key, value) {
      key = _toPropertyKey(key);
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var http = require("http");
    var https = require("https");
    var _require = require_readable_browser();
    var Stream2 = _require.Stream;
    var TransportStream = require_dist();
    var jsonStringify = require_safe_stable_stringify();
    module2.exports = /* @__PURE__ */ function(_TransportStream) {
      _inherits(Http, _TransportStream);
      var _super = _createSuper(Http);
      function Http() {
        var _this;
        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        _classCallCheck(this, Http);
        _this = _super.call(this, options);
        _this.options = options;
        _this.name = options.name || "http";
        _this.ssl = !!options.ssl;
        _this.host = options.host || "localhost";
        _this.port = options.port;
        _this.auth = options.auth;
        _this.path = options.path || "";
        _this.agent = options.agent;
        _this.headers = options.headers || {};
        _this.headers["content-type"] = "application/json";
        _this.batch = options.batch || false;
        _this.batchInterval = options.batchInterval || 5e3;
        _this.batchCount = options.batchCount || 10;
        _this.batchOptions = [];
        _this.batchTimeoutID = -1;
        _this.batchCallback = {};
        if (!_this.port) {
          _this.port = _this.ssl ? 443 : 80;
        }
        return _this;
      }
      _createClass(Http, [{
        key: "log",
        value: function log(info, callback) {
          var _this2 = this;
          this._request(info, null, null, function(err, res) {
            if (res && res.statusCode !== 200) {
              err = new Error("Invalid HTTP Status Code: ".concat(res.statusCode));
            }
            if (err) {
              _this2.emit("warn", err);
            } else {
              _this2.emit("logged", info);
            }
          });
          if (callback) {
            setImmediate(callback);
          }
        }
        /**
         * Query the transport. Options object is optional.
         * @param {Object} options -  Loggly-like query options for this instance.
         * @param {function} callback - Continuation to respond to when complete.
         * @returns {undefined}
         */
      }, {
        key: "query",
        value: function query(options, callback) {
          if (typeof options === "function") {
            callback = options;
            options = {};
          }
          options = {
            method: "query",
            params: this.normalizeQuery(options)
          };
          var auth = options.params.auth || null;
          delete options.params.auth;
          var path = options.params.path || null;
          delete options.params.path;
          this._request(options, auth, path, function(err, res, body) {
            if (res && res.statusCode !== 200) {
              err = new Error("Invalid HTTP Status Code: ".concat(res.statusCode));
            }
            if (err) {
              return callback(err);
            }
            if (typeof body === "string") {
              try {
                body = JSON.parse(body);
              } catch (e) {
                return callback(e);
              }
            }
            callback(null, body);
          });
        }
        /**
         * Returns a log stream for this transport. Options object is optional.
         * @param {Object} options - Stream options for this instance.
         * @returns {Stream} - TODO: add return description
         */
      }, {
        key: "stream",
        value: function stream() {
          var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          var stream2 = new Stream2();
          options = {
            method: "stream",
            params: options
          };
          var path = options.params.path || null;
          delete options.params.path;
          var auth = options.params.auth || null;
          delete options.params.auth;
          var buff = "";
          var req = this._request(options, auth, path);
          stream2.destroy = function() {
            return req.destroy();
          };
          req.on("data", function(data) {
            data = (buff + data).split(/\n+/);
            var l = data.length - 1;
            var i = 0;
            for (; i < l; i++) {
              try {
                stream2.emit("log", JSON.parse(data[i]));
              } catch (e) {
                stream2.emit("error", e);
              }
            }
            buff = data[l];
          });
          req.on("error", function(err) {
            return stream2.emit("error", err);
          });
          return stream2;
        }
        /**
         * Make a request to a winstond server or any http server which can
         * handle json-rpc.
         * @param {function} options - Options to sent the request.
         * @param {Object?} auth - authentication options
         * @param {string} path - request path
         * @param {function} callback - Continuation to respond to when complete.
         */
      }, {
        key: "_request",
        value: function _request(options, auth, path, callback) {
          options = options || {};
          auth = auth || this.auth;
          path = path || this.path || "";
          if (this.batch) {
            this._doBatch(options, callback, auth, path);
          } else {
            this._doRequest(options, callback, auth, path);
          }
        }
        /**
         * Send or memorize the options according to batch configuration
         * @param {function} options - Options to sent the request.
         * @param {function} callback - Continuation to respond to when complete.
         * @param {Object?} auth - authentication options
         * @param {string} path - request path
         */
      }, {
        key: "_doBatch",
        value: function _doBatch(options, callback, auth, path) {
          this.batchOptions.push(options);
          if (this.batchOptions.length === 1) {
            var me = this;
            this.batchCallback = callback;
            this.batchTimeoutID = setTimeout(function() {
              me.batchTimeoutID = -1;
              me._doBatchRequest(me.batchCallback, auth, path);
            }, this.batchInterval);
          }
          if (this.batchOptions.length === this.batchCount) {
            this._doBatchRequest(this.batchCallback, auth, path);
          }
        }
        /**
         * Initiate a request with the memorized batch options, stop the batch timeout
         * @param {function} callback - Continuation to respond to when complete.
         * @param {Object?} auth - authentication options
         * @param {string} path - request path
         */
      }, {
        key: "_doBatchRequest",
        value: function _doBatchRequest(callback, auth, path) {
          if (this.batchTimeoutID > 0) {
            clearTimeout(this.batchTimeoutID);
            this.batchTimeoutID = -1;
          }
          var batchOptionsCopy = this.batchOptions.slice();
          this.batchOptions = [];
          this._doRequest(batchOptionsCopy, callback, auth, path);
        }
        /**
         * Make a request to a winstond server or any http server which can
         * handle json-rpc.
         * @param {function} options - Options to sent the request.
         * @param {function} callback - Continuation to respond to when complete.
         * @param {Object?} auth - authentication options
         * @param {string} path - request path
         */
      }, {
        key: "_doRequest",
        value: function _doRequest(options, callback, auth, path) {
          var headers = Object.assign({}, this.headers);
          if (auth && auth.bearer) {
            headers.Authorization = "Bearer ".concat(auth.bearer);
          }
          var req = (this.ssl ? https : http).request(_objectSpread(_objectSpread({}, this.options), {}, {
            method: "POST",
            host: this.host,
            port: this.port,
            path: "/".concat(path.replace(/^\//, "")),
            headers,
            auth: auth && auth.username && auth.password ? "".concat(auth.username, ":").concat(auth.password) : "",
            agent: this.agent
          }));
          req.on("error", callback);
          req.on("response", function(res) {
            return res.on("end", function() {
              return callback(null, res);
            }).resume();
          });
          req.end(Buffer.from(jsonStringify(options, this.options.replacer), "utf8"));
        }
      }]);
      return Http;
    }(TransportStream);
  }
});

// node_modules/is-stream/index.js
var require_is_stream = __commonJS({
  "node_modules/is-stream/index.js"(exports, module2) {
    "use strict";
    var isStream = (stream) => stream !== null && typeof stream === "object" && typeof stream.pipe === "function";
    isStream.writable = (stream) => isStream(stream) && stream.writable !== false && typeof stream._write === "function" && typeof stream._writableState === "object";
    isStream.readable = (stream) => isStream(stream) && stream.readable !== false && typeof stream._read === "function" && typeof stream._readableState === "object";
    isStream.duplex = (stream) => isStream.writable(stream) && isStream.readable(stream);
    isStream.transform = (stream) => isStream.duplex(stream) && typeof stream._transform === "function";
    module2.exports = isStream;
  }
});

// node_modules/winston/dist/winston/transports/stream.js
var require_stream = __commonJS({
  "node_modules/winston/dist/winston/transports/stream.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var isStream = require_is_stream();
    var _require = require_triple_beam();
    var MESSAGE = _require.MESSAGE;
    var os = require("os");
    var TransportStream = require_dist();
    module2.exports = /* @__PURE__ */ function(_TransportStream) {
      _inherits(Stream2, _TransportStream);
      var _super = _createSuper(Stream2);
      function Stream2() {
        var _this;
        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        _classCallCheck(this, Stream2);
        _this = _super.call(this, options);
        if (!options.stream || !isStream(options.stream)) {
          throw new Error("options.stream is required.");
        }
        _this._stream = options.stream;
        _this._stream.setMaxListeners(Infinity);
        _this.isObjectMode = options.stream._writableState.objectMode;
        _this.eol = typeof options.eol === "string" ? options.eol : os.EOL;
        return _this;
      }
      _createClass(Stream2, [{
        key: "log",
        value: function log(info, callback) {
          var _this2 = this;
          setImmediate(function() {
            return _this2.emit("logged", info);
          });
          if (this.isObjectMode) {
            this._stream.write(info);
            if (callback) {
              callback();
            }
            return;
          }
          this._stream.write("".concat(info[MESSAGE]).concat(this.eol));
          if (callback) {
            callback();
          }
          return;
        }
      }]);
      return Stream2;
    }(TransportStream);
  }
});

// node_modules/winston/dist/winston/transports/index.js
var require_transports = __commonJS({
  "node_modules/winston/dist/winston/transports/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "Console", {
      configurable: true,
      enumerable: true,
      get: function get() {
        return require_console();
      }
    });
    Object.defineProperty(exports, "File", {
      configurable: true,
      enumerable: true,
      get: function get() {
        return require_file();
      }
    });
    Object.defineProperty(exports, "Http", {
      configurable: true,
      enumerable: true,
      get: function get() {
        return require_http();
      }
    });
    Object.defineProperty(exports, "Stream", {
      configurable: true,
      enumerable: true,
      get: function get() {
        return require_stream();
      }
    });
  }
});

// node_modules/winston/dist/winston/config/index.js
var require_config2 = __commonJS({
  "node_modules/winston/dist/winston/config/index.js"(exports) {
    "use strict";
    var logform = require_browser();
    var _require = require_triple_beam();
    var configs = _require.configs;
    exports.cli = logform.levels(configs.cli);
    exports.npm = logform.levels(configs.npm);
    exports.syslog = logform.levels(configs.syslog);
    exports.addColors = logform.levels;
  }
});

// node_modules/async/eachOf.js
var require_eachOf = __commonJS({
  "node_modules/async/eachOf.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _isArrayLike = require_isArrayLike();
    var _isArrayLike2 = _interopRequireDefault(_isArrayLike);
    var _breakLoop = require_breakLoop();
    var _breakLoop2 = _interopRequireDefault(_breakLoop);
    var _eachOfLimit = require_eachOfLimit2();
    var _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);
    var _once = require_once();
    var _once2 = _interopRequireDefault(_once);
    var _onlyOnce = require_onlyOnce();
    var _onlyOnce2 = _interopRequireDefault(_onlyOnce);
    var _wrapAsync = require_wrapAsync();
    var _wrapAsync2 = _interopRequireDefault(_wrapAsync);
    var _awaitify = require_awaitify();
    var _awaitify2 = _interopRequireDefault(_awaitify);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function eachOfArrayLike(coll, iteratee, callback) {
      callback = (0, _once2.default)(callback);
      var index = 0, completed = 0, { length } = coll, canceled = false;
      if (length === 0) {
        callback(null);
      }
      function iteratorCallback(err, value) {
        if (err === false) {
          canceled = true;
        }
        if (canceled === true)
          return;
        if (err) {
          callback(err);
        } else if (++completed === length || value === _breakLoop2.default) {
          callback(null);
        }
      }
      for (; index < length; index++) {
        iteratee(coll[index], index, (0, _onlyOnce2.default)(iteratorCallback));
      }
    }
    function eachOfGeneric(coll, iteratee, callback) {
      return (0, _eachOfLimit2.default)(coll, Infinity, iteratee, callback);
    }
    function eachOf(coll, iteratee, callback) {
      var eachOfImplementation = (0, _isArrayLike2.default)(coll) ? eachOfArrayLike : eachOfGeneric;
      return eachOfImplementation(coll, (0, _wrapAsync2.default)(iteratee), callback);
    }
    exports.default = (0, _awaitify2.default)(eachOf, 3);
    module2.exports = exports.default;
  }
});

// node_modules/async/internal/withoutIndex.js
var require_withoutIndex = __commonJS({
  "node_modules/async/internal/withoutIndex.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = _withoutIndex;
    function _withoutIndex(iteratee) {
      return (value, index, callback) => iteratee(value, callback);
    }
    module2.exports = exports.default;
  }
});

// node_modules/async/forEach.js
var require_forEach = __commonJS({
  "node_modules/async/forEach.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _eachOf = require_eachOf();
    var _eachOf2 = _interopRequireDefault(_eachOf);
    var _withoutIndex = require_withoutIndex();
    var _withoutIndex2 = _interopRequireDefault(_withoutIndex);
    var _wrapAsync = require_wrapAsync();
    var _wrapAsync2 = _interopRequireDefault(_wrapAsync);
    var _awaitify = require_awaitify();
    var _awaitify2 = _interopRequireDefault(_awaitify);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function eachLimit(coll, iteratee, callback) {
      return (0, _eachOf2.default)(coll, (0, _withoutIndex2.default)((0, _wrapAsync2.default)(iteratee)), callback);
    }
    exports.default = (0, _awaitify2.default)(eachLimit, 3);
    module2.exports = exports.default;
  }
});

// node_modules/fn.name/index.js
var require_fn = __commonJS({
  "node_modules/fn.name/index.js"(exports, module2) {
    "use strict";
    var toString = Object.prototype.toString;
    module2.exports = function name(fn) {
      if ("string" === typeof fn.displayName && fn.constructor.name) {
        return fn.displayName;
      } else if ("string" === typeof fn.name && fn.name) {
        return fn.name;
      }
      if ("object" === typeof fn && fn.constructor && "string" === typeof fn.constructor.name)
        return fn.constructor.name;
      var named = fn.toString(), type = toString.call(fn).slice(8, -1);
      if ("Function" === type) {
        named = named.substring(named.indexOf("(") + 1, named.indexOf(")"));
      } else {
        named = type;
      }
      return named || "anonymous";
    };
  }
});

// node_modules/one-time/index.js
var require_one_time = __commonJS({
  "node_modules/one-time/index.js"(exports, module2) {
    "use strict";
    var name = require_fn();
    module2.exports = function one(fn) {
      var called = 0, value;
      function onetime() {
        if (called)
          return value;
        called = 1;
        value = fn.apply(this, arguments);
        fn = null;
        return value;
      }
      onetime.displayName = name(fn);
      return onetime;
    };
  }
});

// node_modules/stack-trace/lib/stack-trace.js
var require_stack_trace = __commonJS({
  "node_modules/stack-trace/lib/stack-trace.js"(exports) {
    exports.get = function(belowFn) {
      var oldLimit = Error.stackTraceLimit;
      Error.stackTraceLimit = Infinity;
      var dummyObject = {};
      var v8Handler = Error.prepareStackTrace;
      Error.prepareStackTrace = function(dummyObject2, v8StackTrace2) {
        return v8StackTrace2;
      };
      Error.captureStackTrace(dummyObject, belowFn || exports.get);
      var v8StackTrace = dummyObject.stack;
      Error.prepareStackTrace = v8Handler;
      Error.stackTraceLimit = oldLimit;
      return v8StackTrace;
    };
    exports.parse = function(err) {
      if (!err.stack) {
        return [];
      }
      var self2 = this;
      var lines = err.stack.split("\n").slice(1);
      return lines.map(function(line) {
        if (line.match(/^\s*[-]{4,}$/)) {
          return self2._createParsedCallSite({
            fileName: line,
            lineNumber: null,
            functionName: null,
            typeName: null,
            methodName: null,
            columnNumber: null,
            "native": null
          });
        }
        var lineMatch = line.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);
        if (!lineMatch) {
          return;
        }
        var object = null;
        var method = null;
        var functionName = null;
        var typeName = null;
        var methodName = null;
        var isNative = lineMatch[5] === "native";
        if (lineMatch[1]) {
          functionName = lineMatch[1];
          var methodStart = functionName.lastIndexOf(".");
          if (functionName[methodStart - 1] == ".")
            methodStart--;
          if (methodStart > 0) {
            object = functionName.substr(0, methodStart);
            method = functionName.substr(methodStart + 1);
            var objectEnd = object.indexOf(".Module");
            if (objectEnd > 0) {
              functionName = functionName.substr(objectEnd + 1);
              object = object.substr(0, objectEnd);
            }
          }
          typeName = null;
        }
        if (method) {
          typeName = object;
          methodName = method;
        }
        if (method === "<anonymous>") {
          methodName = null;
          functionName = null;
        }
        var properties = {
          fileName: lineMatch[2] || null,
          lineNumber: parseInt(lineMatch[3], 10) || null,
          functionName,
          typeName,
          methodName,
          columnNumber: parseInt(lineMatch[4], 10) || null,
          "native": isNative
        };
        return self2._createParsedCallSite(properties);
      }).filter(function(callSite) {
        return !!callSite;
      });
    };
    function CallSite(properties) {
      for (var property in properties) {
        this[property] = properties[property];
      }
    }
    var strProperties = [
      "this",
      "typeName",
      "functionName",
      "methodName",
      "fileName",
      "lineNumber",
      "columnNumber",
      "function",
      "evalOrigin"
    ];
    var boolProperties = [
      "topLevel",
      "eval",
      "native",
      "constructor"
    ];
    strProperties.forEach(function(property) {
      CallSite.prototype[property] = null;
      CallSite.prototype["get" + property[0].toUpperCase() + property.substr(1)] = function() {
        return this[property];
      };
    });
    boolProperties.forEach(function(property) {
      CallSite.prototype[property] = false;
      CallSite.prototype["is" + property[0].toUpperCase() + property.substr(1)] = function() {
        return this[property];
      };
    });
    exports._createParsedCallSite = function(properties) {
      return new CallSite(properties);
    };
  }
});

// node_modules/winston/dist/winston/exception-stream.js
var require_exception_stream = __commonJS({
  "node_modules/winston/dist/winston/exception-stream.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var _require = require_readable_browser();
    var Writable = _require.Writable;
    module2.exports = /* @__PURE__ */ function(_Writable) {
      _inherits(ExceptionStream, _Writable);
      var _super = _createSuper(ExceptionStream);
      function ExceptionStream(transport) {
        var _this;
        _classCallCheck(this, ExceptionStream);
        _this = _super.call(this, {
          objectMode: true
        });
        if (!transport) {
          throw new Error("ExceptionStream requires a TransportStream instance.");
        }
        _this.handleExceptions = true;
        _this.transport = transport;
        return _this;
      }
      _createClass(ExceptionStream, [{
        key: "_write",
        value: function _write(info, enc, callback) {
          if (info.exception) {
            return this.transport.log(info, callback);
          }
          callback();
          return true;
        }
      }]);
      return ExceptionStream;
    }(Writable);
  }
});

// node_modules/winston/dist/winston/exception-handler.js
var require_exception_handler = __commonJS({
  "node_modules/winston/dist/winston/exception-handler.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var os = require("os");
    var asyncForEach = require_forEach();
    var debug2 = require_browser3()("winston:exception");
    var once = require_one_time();
    var stackTrace = require_stack_trace();
    var ExceptionStream = require_exception_stream();
    module2.exports = /* @__PURE__ */ function() {
      function ExceptionHandler(logger2) {
        _classCallCheck(this, ExceptionHandler);
        if (!logger2) {
          throw new Error("Logger is required to handle exceptions");
        }
        this.logger = logger2;
        this.handlers = /* @__PURE__ */ new Map();
      }
      _createClass(ExceptionHandler, [{
        key: "handle",
        value: function handle() {
          var _this = this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          args.forEach(function(arg) {
            if (Array.isArray(arg)) {
              return arg.forEach(function(handler) {
                return _this._addHandler(handler);
              });
            }
            _this._addHandler(arg);
          });
          if (!this.catcher) {
            this.catcher = this._uncaughtException.bind(this);
            process.on("uncaughtException", this.catcher);
          }
        }
        /**
         * Removes any handlers to `uncaughtException` events for the current
         * process. This does not modify the state of the `this.handlers` set.
         * @returns {undefined}
         */
      }, {
        key: "unhandle",
        value: function unhandle() {
          var _this2 = this;
          if (this.catcher) {
            process.removeListener("uncaughtException", this.catcher);
            this.catcher = false;
            Array.from(this.handlers.values()).forEach(function(wrapper) {
              return _this2.logger.unpipe(wrapper);
            });
          }
        }
        /**
         * TODO: add method description
         * @param {Error} err - Error to get information about.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getAllInfo",
        value: function getAllInfo(err) {
          var message = null;
          if (err) {
            message = typeof err === "string" ? err : err.message;
          }
          return {
            error: err,
            // TODO (indexzero): how do we configure this?
            level: "error",
            message: ["uncaughtException: ".concat(message || "(no error message)"), err && err.stack || "  No stack trace"].join("\n"),
            stack: err && err.stack,
            exception: true,
            date: new Date().toString(),
            process: this.getProcessInfo(),
            os: this.getOsInfo(),
            trace: this.getTrace(err)
          };
        }
        /**
         * Gets all relevant process information for the currently running process.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getProcessInfo",
        value: function getProcessInfo() {
          return {
            pid: process.pid,
            uid: process.getuid ? process.getuid() : null,
            gid: process.getgid ? process.getgid() : null,
            cwd: process.cwd(),
            execPath: process.execPath,
            version: process.version,
            argv: process.argv,
            memoryUsage: process.memoryUsage()
          };
        }
        /**
         * Gets all relevant OS information for the currently running process.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getOsInfo",
        value: function getOsInfo() {
          return {
            loadavg: os.loadavg(),
            uptime: os.uptime()
          };
        }
        /**
         * Gets a stack trace for the specified error.
         * @param {mixed} err - TODO: add param description.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getTrace",
        value: function getTrace(err) {
          var trace = err ? stackTrace.parse(err) : stackTrace.get();
          return trace.map(function(site) {
            return {
              column: site.getColumnNumber(),
              file: site.getFileName(),
              "function": site.getFunctionName(),
              line: site.getLineNumber(),
              method: site.getMethodName(),
              "native": site.isNative()
            };
          });
        }
        /**
         * Helper method to add a transport as an exception handler.
         * @param {Transport} handler - The transport to add as an exception handler.
         * @returns {void}
         */
      }, {
        key: "_addHandler",
        value: function _addHandler(handler) {
          if (!this.handlers.has(handler)) {
            handler.handleExceptions = true;
            var wrapper = new ExceptionStream(handler);
            this.handlers.set(handler, wrapper);
            this.logger.pipe(wrapper);
          }
        }
        /**
         * Logs all relevant information around the `err` and exits the current
         * process.
         * @param {Error} err - Error to handle
         * @returns {mixed} - TODO: add return description.
         * @private
         */
      }, {
        key: "_uncaughtException",
        value: function _uncaughtException(err) {
          var info = this.getAllInfo(err);
          var handlers = this._getExceptionHandlers();
          var doExit = typeof this.logger.exitOnError === "function" ? this.logger.exitOnError(err) : this.logger.exitOnError;
          var timeout;
          if (!handlers.length && doExit) {
            console.warn("winston: exitOnError cannot be true with no exception handlers.");
            console.warn("winston: not exiting process.");
            doExit = false;
          }
          function gracefulExit() {
            debug2("doExit", doExit);
            debug2("process._exiting", process._exiting);
            if (doExit && !process._exiting) {
              if (timeout) {
                clearTimeout(timeout);
              }
              process.exit(1);
            }
          }
          if (!handlers || handlers.length === 0) {
            return process.nextTick(gracefulExit);
          }
          asyncForEach(handlers, function(handler, next) {
            var done = once(next);
            var transport = handler.transport || handler;
            function onDone(event) {
              return function() {
                debug2(event);
                done();
              };
            }
            transport._ending = true;
            transport.once("finish", onDone("finished"));
            transport.once("error", onDone("error"));
          }, function() {
            return doExit && gracefulExit();
          });
          this.logger.log(info);
          if (doExit) {
            timeout = setTimeout(gracefulExit, 3e3);
          }
        }
        /**
         * Returns the list of transports and exceptionHandlers for this instance.
         * @returns {Array} - List of transports and exceptionHandlers for this
         * instance.
         * @private
         */
      }, {
        key: "_getExceptionHandlers",
        value: function _getExceptionHandlers() {
          return this.logger.transports.filter(function(wrap) {
            var transport = wrap.transport || wrap;
            return transport.handleExceptions;
          });
        }
      }]);
      return ExceptionHandler;
    }();
  }
});

// node_modules/winston/dist/winston/rejection-handler.js
var require_rejection_handler = __commonJS({
  "node_modules/winston/dist/winston/rejection-handler.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var os = require("os");
    var asyncForEach = require_forEach();
    var debug2 = require_browser3()("winston:rejection");
    var once = require_one_time();
    var stackTrace = require_stack_trace();
    var ExceptionStream = require_exception_stream();
    module2.exports = /* @__PURE__ */ function() {
      function RejectionHandler(logger2) {
        _classCallCheck(this, RejectionHandler);
        if (!logger2) {
          throw new Error("Logger is required to handle rejections");
        }
        this.logger = logger2;
        this.handlers = /* @__PURE__ */ new Map();
      }
      _createClass(RejectionHandler, [{
        key: "handle",
        value: function handle() {
          var _this = this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          args.forEach(function(arg) {
            if (Array.isArray(arg)) {
              return arg.forEach(function(handler) {
                return _this._addHandler(handler);
              });
            }
            _this._addHandler(arg);
          });
          if (!this.catcher) {
            this.catcher = this._unhandledRejection.bind(this);
            process.on("unhandledRejection", this.catcher);
          }
        }
        /**
         * Removes any handlers to `unhandledRejection` events for the current
         * process. This does not modify the state of the `this.handlers` set.
         * @returns {undefined}
         */
      }, {
        key: "unhandle",
        value: function unhandle() {
          var _this2 = this;
          if (this.catcher) {
            process.removeListener("unhandledRejection", this.catcher);
            this.catcher = false;
            Array.from(this.handlers.values()).forEach(function(wrapper) {
              return _this2.logger.unpipe(wrapper);
            });
          }
        }
        /**
         * TODO: add method description
         * @param {Error} err - Error to get information about.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getAllInfo",
        value: function getAllInfo(err) {
          var message = null;
          if (err) {
            message = typeof err === "string" ? err : err.message;
          }
          return {
            error: err,
            // TODO (indexzero): how do we configure this?
            level: "error",
            message: ["unhandledRejection: ".concat(message || "(no error message)"), err && err.stack || "  No stack trace"].join("\n"),
            stack: err && err.stack,
            exception: true,
            date: new Date().toString(),
            process: this.getProcessInfo(),
            os: this.getOsInfo(),
            trace: this.getTrace(err)
          };
        }
        /**
         * Gets all relevant process information for the currently running process.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getProcessInfo",
        value: function getProcessInfo() {
          return {
            pid: process.pid,
            uid: process.getuid ? process.getuid() : null,
            gid: process.getgid ? process.getgid() : null,
            cwd: process.cwd(),
            execPath: process.execPath,
            version: process.version,
            argv: process.argv,
            memoryUsage: process.memoryUsage()
          };
        }
        /**
         * Gets all relevant OS information for the currently running process.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getOsInfo",
        value: function getOsInfo() {
          return {
            loadavg: os.loadavg(),
            uptime: os.uptime()
          };
        }
        /**
         * Gets a stack trace for the specified error.
         * @param {mixed} err - TODO: add param description.
         * @returns {mixed} - TODO: add return description.
         */
      }, {
        key: "getTrace",
        value: function getTrace(err) {
          var trace = err ? stackTrace.parse(err) : stackTrace.get();
          return trace.map(function(site) {
            return {
              column: site.getColumnNumber(),
              file: site.getFileName(),
              "function": site.getFunctionName(),
              line: site.getLineNumber(),
              method: site.getMethodName(),
              "native": site.isNative()
            };
          });
        }
        /**
         * Helper method to add a transport as an exception handler.
         * @param {Transport} handler - The transport to add as an exception handler.
         * @returns {void}
         */
      }, {
        key: "_addHandler",
        value: function _addHandler(handler) {
          if (!this.handlers.has(handler)) {
            handler.handleRejections = true;
            var wrapper = new ExceptionStream(handler);
            this.handlers.set(handler, wrapper);
            this.logger.pipe(wrapper);
          }
        }
        /**
         * Logs all relevant information around the `err` and exits the current
         * process.
         * @param {Error} err - Error to handle
         * @returns {mixed} - TODO: add return description.
         * @private
         */
      }, {
        key: "_unhandledRejection",
        value: function _unhandledRejection(err) {
          var info = this.getAllInfo(err);
          var handlers = this._getRejectionHandlers();
          var doExit = typeof this.logger.exitOnError === "function" ? this.logger.exitOnError(err) : this.logger.exitOnError;
          var timeout;
          if (!handlers.length && doExit) {
            console.warn("winston: exitOnError cannot be true with no rejection handlers.");
            console.warn("winston: not exiting process.");
            doExit = false;
          }
          function gracefulExit() {
            debug2("doExit", doExit);
            debug2("process._exiting", process._exiting);
            if (doExit && !process._exiting) {
              if (timeout) {
                clearTimeout(timeout);
              }
              process.exit(1);
            }
          }
          if (!handlers || handlers.length === 0) {
            return process.nextTick(gracefulExit);
          }
          asyncForEach(handlers, function(handler, next) {
            var done = once(next);
            var transport = handler.transport || handler;
            function onDone(event) {
              return function() {
                debug2(event);
                done();
              };
            }
            transport._ending = true;
            transport.once("finish", onDone("finished"));
            transport.once("error", onDone("error"));
          }, function() {
            return doExit && gracefulExit();
          });
          this.logger.log(info);
          if (doExit) {
            timeout = setTimeout(gracefulExit, 3e3);
          }
        }
        /**
         * Returns the list of transports and exceptionHandlers for this instance.
         * @returns {Array} - List of transports and exceptionHandlers for this
         * instance.
         * @private
         */
      }, {
        key: "_getRejectionHandlers",
        value: function _getRejectionHandlers() {
          return this.logger.transports.filter(function(wrap) {
            var transport = wrap.transport || wrap;
            return transport.handleRejections;
          });
        }
      }]);
      return RejectionHandler;
    }();
  }
});

// node_modules/winston-transport/legacy.js
var require_legacy2 = __commonJS({
  "node_modules/winston-transport/legacy.js"(exports, module2) {
    "use strict";
    var util = require("util");
    var { LEVEL } = require_triple_beam();
    var TransportStream = require_dist();
    var LegacyTransportStream = module2.exports = function LegacyTransportStream2(options = {}) {
      TransportStream.call(this, options);
      if (!options.transport || typeof options.transport.log !== "function") {
        throw new Error("Invalid transport, must be an object with a log method.");
      }
      this.transport = options.transport;
      this.level = this.level || options.transport.level;
      this.handleExceptions = this.handleExceptions || options.transport.handleExceptions;
      this._deprecated();
      function transportError(err) {
        this.emit("error", err, this.transport);
      }
      if (!this.transport.__winstonError) {
        this.transport.__winstonError = transportError.bind(this);
        this.transport.on("error", this.transport.__winstonError);
      }
    };
    util.inherits(LegacyTransportStream, TransportStream);
    LegacyTransportStream.prototype._write = function _write(info, enc, callback) {
      if (this.silent || info.exception === true && !this.handleExceptions) {
        return callback(null);
      }
      if (!this.level || this.levels[this.level] >= this.levels[info[LEVEL]]) {
        this.transport.log(info[LEVEL], info.message, info, this._nop);
      }
      callback(null);
    };
    LegacyTransportStream.prototype._writev = function _writev(chunks, callback) {
      for (let i = 0; i < chunks.length; i++) {
        if (this._accept(chunks[i])) {
          this.transport.log(
            chunks[i].chunk[LEVEL],
            chunks[i].chunk.message,
            chunks[i].chunk,
            this._nop
          );
          chunks[i].callback();
        }
      }
      return callback(null);
    };
    LegacyTransportStream.prototype._deprecated = function _deprecated() {
      console.error([
        `${this.transport.name} is a legacy winston transport. Consider upgrading: `,
        "- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"
      ].join("\n"));
    };
    LegacyTransportStream.prototype.close = function close() {
      if (this.transport.close) {
        this.transport.close();
      }
      if (this.transport.__winstonError) {
        this.transport.removeListener("error", this.transport.__winstonError);
        this.transport.__winstonError = null;
      }
    };
  }
});

// node_modules/winston/dist/winston/profiler.js
var require_profiler = __commonJS({
  "node_modules/winston/dist/winston/profiler.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var Profiler = /* @__PURE__ */ function() {
      function Profiler2(logger2) {
        _classCallCheck(this, Profiler2);
        var Logger = require_logger();
        if (_typeof(logger2) !== "object" || Array.isArray(logger2) || !(logger2 instanceof Logger)) {
          throw new Error("Logger is required for profiling");
        } else {
          this.logger = logger2;
          this.start = Date.now();
        }
      }
      _createClass(Profiler2, [{
        key: "done",
        value: function done() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          if (typeof args[args.length - 1] === "function") {
            console.warn("Callback function no longer supported as of winston@3.0.0");
            args.pop();
          }
          var info = _typeof(args[args.length - 1]) === "object" ? args.pop() : {};
          info.level = info.level || "info";
          info.durationMs = Date.now() - this.start;
          return this.logger.write(info);
        }
      }]);
      return Profiler2;
    }();
    module2.exports = Profiler;
  }
});

// node_modules/logform/format.js
var require_format2 = __commonJS({
  "node_modules/logform/format.js"(exports, module2) {
    "use strict";
    var InvalidFormatError = class extends Error {
      constructor(formatFn) {
        super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${formatFn.toString().split("\n")[0]}
`);
        Error.captureStackTrace(this, InvalidFormatError);
      }
    };
    module2.exports = (formatFn) => {
      if (formatFn.length > 2) {
        throw new InvalidFormatError(formatFn);
      }
      function Format(options = {}) {
        this.options = options;
      }
      Format.prototype.transform = formatFn;
      function createFormatWrap(opts) {
        return new Format(opts);
      }
      createFormatWrap.Format = Format;
      return createFormatWrap;
    };
  }
});

// node_modules/logform/json.js
var require_json2 = __commonJS({
  "node_modules/logform/json.js"(exports, module2) {
    "use strict";
    var format2 = require_format2();
    var { MESSAGE } = require_triple_beam();
    var stringify = require_safe_stable_stringify();
    function replacer(key, value) {
      if (typeof value === "bigint")
        return value.toString();
      return value;
    }
    module2.exports = format2((info, opts) => {
      const jsonStringify = stringify.configure(opts);
      info[MESSAGE] = jsonStringify(info, opts.replacer || replacer, opts.space);
      return info;
    });
  }
});

// node_modules/winston/dist/winston/logger.js
var require_logger = __commonJS({
  "node_modules/winston/dist/winston/logger.js"(exports, module2) {
    "use strict";
    function _defineProperty(obj, key, value) {
      key = _toPropertyKey(key);
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var _require = require_readable_browser();
    var Stream2 = _require.Stream;
    var Transform = _require.Transform;
    var asyncForEach = require_forEach();
    var _require2 = require_triple_beam();
    var LEVEL = _require2.LEVEL;
    var SPLAT = _require2.SPLAT;
    var isStream = require_is_stream();
    var ExceptionHandler = require_exception_handler();
    var RejectionHandler = require_rejection_handler();
    var LegacyTransportStream = require_legacy2();
    var Profiler = require_profiler();
    var _require3 = require_common();
    var warn = _require3.warn;
    var config = require_config2();
    var formatRegExp = /%[scdjifoO%]/g;
    var Logger = /* @__PURE__ */ function(_Transform) {
      _inherits(Logger2, _Transform);
      var _super = _createSuper(Logger2);
      function Logger2(options) {
        var _this;
        _classCallCheck(this, Logger2);
        _this = _super.call(this, {
          objectMode: true
        });
        _this.configure(options);
        return _this;
      }
      _createClass(Logger2, [{
        key: "child",
        value: function child(defaultRequestMetadata) {
          var logger2 = this;
          return Object.create(logger2, {
            write: {
              value: function value(info) {
                var infoClone = Object.assign({}, defaultRequestMetadata, info);
                if (info instanceof Error) {
                  infoClone.stack = info.stack;
                  infoClone.message = info.message;
                }
                logger2.write(infoClone);
              }
            }
          });
        }
        /**
         * This will wholesale reconfigure this instance by:
         * 1. Resetting all transports. Older transports will be removed implicitly.
         * 2. Set all other options including levels, colors, rewriters, filters,
         *    exceptionHandlers, etc.
         * @param {!Object} options - TODO: add param description.
         * @returns {undefined}
         */
      }, {
        key: "configure",
        value: function configure() {
          var _this2 = this;
          var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, silent = _ref.silent, format2 = _ref.format, defaultMeta = _ref.defaultMeta, levels = _ref.levels, _ref$level = _ref.level, level = _ref$level === void 0 ? "info" : _ref$level, _ref$exitOnError = _ref.exitOnError, exitOnError = _ref$exitOnError === void 0 ? true : _ref$exitOnError, transports2 = _ref.transports, colors = _ref.colors, emitErrs = _ref.emitErrs, formatters = _ref.formatters, padLevels = _ref.padLevels, rewriters = _ref.rewriters, stripColors = _ref.stripColors, exceptionHandlers = _ref.exceptionHandlers, rejectionHandlers = _ref.rejectionHandlers;
          if (this.transports.length) {
            this.clear();
          }
          this.silent = silent;
          this.format = format2 || this.format || require_json2()();
          this.defaultMeta = defaultMeta || null;
          this.levels = levels || this.levels || config.npm.levels;
          this.level = level;
          if (this.exceptions) {
            this.exceptions.unhandle();
          }
          if (this.rejections) {
            this.rejections.unhandle();
          }
          this.exceptions = new ExceptionHandler(this);
          this.rejections = new RejectionHandler(this);
          this.profilers = {};
          this.exitOnError = exitOnError;
          if (transports2) {
            transports2 = Array.isArray(transports2) ? transports2 : [transports2];
            transports2.forEach(function(transport) {
              return _this2.add(transport);
            });
          }
          if (colors || emitErrs || formatters || padLevels || rewriters || stripColors) {
            throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.", "Use a custom winston.format(function) instead.", "See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));
          }
          if (exceptionHandlers) {
            this.exceptions.handle(exceptionHandlers);
          }
          if (rejectionHandlers) {
            this.rejections.handle(rejectionHandlers);
          }
        }
      }, {
        key: "isLevelEnabled",
        value: function isLevelEnabled(level) {
          var _this3 = this;
          var givenLevelValue = getLevelValue(this.levels, level);
          if (givenLevelValue === null) {
            return false;
          }
          var configuredLevelValue = getLevelValue(this.levels, this.level);
          if (configuredLevelValue === null) {
            return false;
          }
          if (!this.transports || this.transports.length === 0) {
            return configuredLevelValue >= givenLevelValue;
          }
          var index = this.transports.findIndex(function(transport) {
            var transportLevelValue = getLevelValue(_this3.levels, transport.level);
            if (transportLevelValue === null) {
              transportLevelValue = configuredLevelValue;
            }
            return transportLevelValue >= givenLevelValue;
          });
          return index !== -1;
        }
        /* eslint-disable valid-jsdoc */
        /**
         * Ensure backwards compatibility with a `log` method
         * @param {mixed} level - Level the log message is written at.
         * @param {mixed} msg - TODO: add param description.
         * @param {mixed} meta - TODO: add param description.
         * @returns {Logger} - TODO: add return description.
         *
         * @example
         *    // Supports the existing API:
         *    logger.log('info', 'Hello world', { custom: true });
         *    logger.log('info', new Error('Yo, it\'s on fire'));
         *
         *    // Requires winston.format.splat()
         *    logger.log('info', '%s %d%%', 'A string', 50, { thisIsMeta: true });
         *
         *    // And the new API with a single JSON literal:
         *    logger.log({ level: 'info', message: 'Hello world', custom: true });
         *    logger.log({ level: 'info', message: new Error('Yo, it\'s on fire') });
         *
         *    // Also requires winston.format.splat()
         *    logger.log({
         *      level: 'info',
         *      message: '%s %d%%',
         *      [SPLAT]: ['A string', 50],
         *      meta: { thisIsMeta: true }
         *    });
         *
         */
        /* eslint-enable valid-jsdoc */
      }, {
        key: "log",
        value: function log(level, msg) {
          var _Object$assign2;
          for (var _len = arguments.length, splat = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
            splat[_key - 2] = arguments[_key];
          }
          if (arguments.length === 1) {
            level[LEVEL] = level.level;
            this._addDefaultMeta(level);
            this.write(level);
            return this;
          }
          if (arguments.length === 2) {
            var _msg;
            if (msg && _typeof(msg) === "object") {
              msg[LEVEL] = msg.level = level;
              this._addDefaultMeta(msg);
              this.write(msg);
              return this;
            }
            msg = (_msg = {}, _defineProperty(_msg, LEVEL, level), _defineProperty(_msg, "level", level), _defineProperty(_msg, "message", msg), _msg);
            this._addDefaultMeta(msg);
            this.write(msg);
            return this;
          }
          var meta = splat[0];
          if (_typeof(meta) === "object" && meta !== null) {
            var tokens = msg && msg.match && msg.match(formatRegExp);
            if (!tokens) {
              var _Object$assign;
              var info = Object.assign({}, this.defaultMeta, meta, (_Object$assign = {}, _defineProperty(_Object$assign, LEVEL, level), _defineProperty(_Object$assign, SPLAT, splat), _defineProperty(_Object$assign, "level", level), _defineProperty(_Object$assign, "message", msg), _Object$assign));
              if (meta.message)
                info.message = "".concat(info.message, " ").concat(meta.message);
              if (meta.stack)
                info.stack = meta.stack;
              this.write(info);
              return this;
            }
          }
          this.write(Object.assign({}, this.defaultMeta, (_Object$assign2 = {}, _defineProperty(_Object$assign2, LEVEL, level), _defineProperty(_Object$assign2, SPLAT, splat), _defineProperty(_Object$assign2, "level", level), _defineProperty(_Object$assign2, "message", msg), _Object$assign2)));
          return this;
        }
        /**
         * Pushes data so that it can be picked up by all of our pipe targets.
         * @param {mixed} info - TODO: add param description.
         * @param {mixed} enc - TODO: add param description.
         * @param {mixed} callback - Continues stream processing.
         * @returns {undefined}
         * @private
         */
      }, {
        key: "_transform",
        value: function _transform(info, enc, callback) {
          if (this.silent) {
            return callback();
          }
          if (!info[LEVEL]) {
            info[LEVEL] = info.level;
          }
          if (!this.levels[info[LEVEL]] && this.levels[info[LEVEL]] !== 0) {
            console.error("[winston] Unknown logger level: %s", info[LEVEL]);
          }
          if (!this._readableState.pipes) {
            console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j", info);
          }
          try {
            this.push(this.format.transform(info, this.format.options));
          } finally {
            this._writableState.sync = false;
            callback();
          }
        }
        /**
         * Delays the 'finish' event until all transport pipe targets have
         * also emitted 'finish' or are already finished.
         * @param {mixed} callback - Continues stream processing.
         */
      }, {
        key: "_final",
        value: function _final(callback) {
          var transports2 = this.transports.slice();
          asyncForEach(transports2, function(transport, next) {
            if (!transport || transport.finished)
              return setImmediate(next);
            transport.once("finish", next);
            transport.end();
          }, callback);
        }
        /**
         * Adds the transport to this logger instance by piping to it.
         * @param {mixed} transport - TODO: add param description.
         * @returns {Logger} - TODO: add return description.
         */
      }, {
        key: "add",
        value: function add(transport) {
          var target = !isStream(transport) || transport.log.length > 2 ? new LegacyTransportStream({
            transport
          }) : transport;
          if (!target._writableState || !target._writableState.objectMode) {
            throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");
          }
          this._onEvent("error", target);
          this._onEvent("warn", target);
          this.pipe(target);
          if (transport.handleExceptions) {
            this.exceptions.handle();
          }
          if (transport.handleRejections) {
            this.rejections.handle();
          }
          return this;
        }
        /**
         * Removes the transport from this logger instance by unpiping from it.
         * @param {mixed} transport - TODO: add param description.
         * @returns {Logger} - TODO: add return description.
         */
      }, {
        key: "remove",
        value: function remove(transport) {
          if (!transport)
            return this;
          var target = transport;
          if (!isStream(transport) || transport.log.length > 2) {
            target = this.transports.filter(function(match) {
              return match.transport === transport;
            })[0];
          }
          if (target) {
            this.unpipe(target);
          }
          return this;
        }
        /**
         * Removes all transports from this logger instance.
         * @returns {Logger} - TODO: add return description.
         */
      }, {
        key: "clear",
        value: function clear() {
          this.unpipe();
          return this;
        }
        /**
         * Cleans up resources (streams, event listeners) for all transports
         * associated with this instance (if necessary).
         * @returns {Logger} - TODO: add return description.
         */
      }, {
        key: "close",
        value: function close() {
          this.exceptions.unhandle();
          this.rejections.unhandle();
          this.clear();
          this.emit("close");
          return this;
        }
        /**
         * Sets the `target` levels specified on this instance.
         * @param {Object} Target levels to use on this instance.
         */
      }, {
        key: "setLevels",
        value: function setLevels() {
          warn.deprecated("setLevels");
        }
        /**
         * Queries the all transports for this instance with the specified `options`.
         * This will aggregate each transport's results into one object containing
         * a property per transport.
         * @param {Object} options - Query options for this instance.
         * @param {function} callback - Continuation to respond to when complete.
         */
      }, {
        key: "query",
        value: function query(options, callback) {
          if (typeof options === "function") {
            callback = options;
            options = {};
          }
          options = options || {};
          var results = {};
          var queryObject = Object.assign({}, options.query || {});
          function queryTransport(transport, next) {
            if (options.query && typeof transport.formatQuery === "function") {
              options.query = transport.formatQuery(queryObject);
            }
            transport.query(options, function(err, res) {
              if (err) {
                return next(err);
              }
              if (typeof transport.formatResults === "function") {
                res = transport.formatResults(res, options.format);
              }
              next(null, res);
            });
          }
          function addResults(transport, next) {
            queryTransport(transport, function(err, result) {
              if (next) {
                result = err || result;
                if (result) {
                  results[transport.name] = result;
                }
                next();
              }
              next = null;
            });
          }
          asyncForEach(this.transports.filter(function(transport) {
            return !!transport.query;
          }), addResults, function() {
            return callback(null, results);
          });
        }
        /**
         * Returns a log stream for all transports. Options object is optional.
         * @param{Object} options={} - Stream options for this instance.
         * @returns {Stream} - TODO: add return description.
         */
      }, {
        key: "stream",
        value: function stream() {
          var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          var out = new Stream2();
          var streams = [];
          out._streams = streams;
          out.destroy = function() {
            var i = streams.length;
            while (i--) {
              streams[i].destroy();
            }
          };
          this.transports.filter(function(transport) {
            return !!transport.stream;
          }).forEach(function(transport) {
            var str2 = transport.stream(options);
            if (!str2) {
              return;
            }
            streams.push(str2);
            str2.on("log", function(log) {
              log.transport = log.transport || [];
              log.transport.push(transport.name);
              out.emit("log", log);
            });
            str2.on("error", function(err) {
              err.transport = err.transport || [];
              err.transport.push(transport.name);
              out.emit("error", err);
            });
          });
          return out;
        }
        /**
         * Returns an object corresponding to a specific timing. When done is called
         * the timer will finish and log the duration. e.g.:
         * @returns {Profile} - TODO: add return description.
         * @example
         *    const timer = winston.startTimer()
         *    setTimeout(() => {
         *      timer.done({
         *        message: 'Logging message'
         *      });
         *    }, 1000);
         */
      }, {
        key: "startTimer",
        value: function startTimer() {
          return new Profiler(this);
        }
        /**
         * Tracks the time inbetween subsequent calls to this method with the same
         * `id` parameter. The second call to this method will log the difference in
         * milliseconds along with the message.
         * @param {string} id Unique id of the profiler
         * @returns {Logger} - TODO: add return description.
         */
      }, {
        key: "profile",
        value: function profile(id) {
          var time = Date.now();
          if (this.profilers[id]) {
            var timeEnd = this.profilers[id];
            delete this.profilers[id];
            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }
            if (typeof args[args.length - 2] === "function") {
              console.warn("Callback function no longer supported as of winston@3.0.0");
              args.pop();
            }
            var info = _typeof(args[args.length - 1]) === "object" ? args.pop() : {};
            info.level = info.level || "info";
            info.durationMs = time - timeEnd;
            info.message = info.message || id;
            return this.write(info);
          }
          this.profilers[id] = time;
          return this;
        }
        /**
         * Backwards compatibility to `exceptions.handle` in winston < 3.0.0.
         * @returns {undefined}
         * @deprecated
         */
      }, {
        key: "handleExceptions",
        value: function handleExceptions() {
          var _this$exceptions;
          console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()");
          (_this$exceptions = this.exceptions).handle.apply(_this$exceptions, arguments);
        }
        /**
         * Backwards compatibility to `exceptions.handle` in winston < 3.0.0.
         * @returns {undefined}
         * @deprecated
         */
      }, {
        key: "unhandleExceptions",
        value: function unhandleExceptions() {
          var _this$exceptions2;
          console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()");
          (_this$exceptions2 = this.exceptions).unhandle.apply(_this$exceptions2, arguments);
        }
        /**
         * Throw a more meaningful deprecation notice
         * @throws {Error} - TODO: add throws description.
         */
      }, {
        key: "cli",
        value: function cli() {
          throw new Error(["Logger.cli() was removed in winston@3.0.0", "Use a custom winston.formats.cli() instead.", "See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));
        }
        /**
         * Bubbles the `event` that occured on the specified `transport` up
         * from this instance.
         * @param {string} event - The event that occured
         * @param {Object} transport - Transport on which the event occured
         * @private
         */
      }, {
        key: "_onEvent",
        value: function _onEvent(event, transport) {
          function transportEvent(err) {
            if (event === "error" && !this.transports.includes(transport)) {
              this.add(transport);
            }
            this.emit(event, err, transport);
          }
          if (!transport["__winston" + event]) {
            transport["__winston" + event] = transportEvent.bind(this);
            transport.on(event, transport["__winston" + event]);
          }
        }
      }, {
        key: "_addDefaultMeta",
        value: function _addDefaultMeta(msg) {
          if (this.defaultMeta) {
            Object.assign(msg, this.defaultMeta);
          }
        }
      }]);
      return Logger2;
    }(Transform);
    function getLevelValue(levels, level) {
      var value = levels[level];
      if (!value && value !== 0) {
        return null;
      }
      return value;
    }
    Object.defineProperty(Logger.prototype, "transports", {
      configurable: false,
      enumerable: true,
      get: function get() {
        var pipes = this._readableState.pipes;
        return !Array.isArray(pipes) ? [pipes].filter(Boolean) : pipes;
      }
    });
    module2.exports = Logger;
  }
});

// node_modules/winston/dist/winston/create-logger.js
var require_create_logger = __commonJS({
  "node_modules/winston/dist/winston/create-logger.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      Object.defineProperty(subClass, "prototype", { writable: false });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    var _require = require_triple_beam();
    var LEVEL = _require.LEVEL;
    var config = require_config2();
    var Logger = require_logger();
    var debug2 = require_browser3()("winston:create-logger");
    function isLevelEnabledFunctionName(level) {
      return "is" + level.charAt(0).toUpperCase() + level.slice(1) + "Enabled";
    }
    module2.exports = function() {
      var opts = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      opts.levels = opts.levels || config.npm.levels;
      var DerivedLogger = /* @__PURE__ */ function(_Logger) {
        _inherits(DerivedLogger2, _Logger);
        var _super = _createSuper(DerivedLogger2);
        function DerivedLogger2(options) {
          _classCallCheck(this, DerivedLogger2);
          return _super.call(this, options);
        }
        return _createClass(DerivedLogger2);
      }(Logger);
      var logger2 = new DerivedLogger(opts);
      Object.keys(opts.levels).forEach(function(level) {
        debug2('Define prototype method for "%s"', level);
        if (level === "log") {
          console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');
          return;
        }
        DerivedLogger.prototype[level] = function() {
          var self2 = this || logger2;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          if (args.length === 1) {
            var msg = args[0];
            var info = msg && msg.message && msg || {
              message: msg
            };
            info.level = info[LEVEL] = level;
            self2._addDefaultMeta(info);
            self2.write(info);
            return this || logger2;
          }
          if (args.length === 0) {
            self2.log(level, "");
            return self2;
          }
          return self2.log.apply(self2, [level].concat(args));
        };
        DerivedLogger.prototype[isLevelEnabledFunctionName(level)] = function() {
          return (this || logger2).isLevelEnabled(level);
        };
      });
      return logger2;
    };
  }
});

// node_modules/winston/dist/winston/container.js
var require_container = __commonJS({
  "node_modules/winston/dist/winston/container.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", { writable: false });
      return Constructor;
    }
    function _toPropertyKey(arg) {
      var key = _toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    var createLogger2 = require_create_logger();
    module2.exports = /* @__PURE__ */ function() {
      function Container() {
        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        _classCallCheck(this, Container);
        this.loggers = /* @__PURE__ */ new Map();
        this.options = options;
      }
      _createClass(Container, [{
        key: "add",
        value: function add(id, options) {
          var _this = this;
          if (!this.loggers.has(id)) {
            options = Object.assign({}, options || this.options);
            var existing = options.transports || this.options.transports;
            if (existing) {
              options.transports = Array.isArray(existing) ? existing.slice() : [existing];
            } else {
              options.transports = [];
            }
            var logger2 = createLogger2(options);
            logger2.on("close", function() {
              return _this._delete(id);
            });
            this.loggers.set(id, logger2);
          }
          return this.loggers.get(id);
        }
        /**
         * Retreives a `winston.Logger` instance for the specified `id`. If
         * an instance does not exist, one is created.
         * @param {!string} id - The id of the Logger to get.
         * @param {?Object} [options] - Options for the Logger instance.
         * @returns {Logger} - A configured Logger instance with a specified id.
         */
      }, {
        key: "get",
        value: function get(id, options) {
          return this.add(id, options);
        }
        /**
         * Check if the container has a logger with the id.
         * @param {?string} id - The id of the Logger instance to find.
         * @returns {boolean} - Boolean value indicating if this instance has a
         * logger with the specified `id`.
         */
      }, {
        key: "has",
        value: function has(id) {
          return !!this.loggers.has(id);
        }
        /**
         * Closes a `Logger` instance with the specified `id` if it exists.
         * If no `id` is supplied then all Loggers are closed.
         * @param {?string} id - The id of the Logger instance to close.
         * @returns {undefined}
         */
      }, {
        key: "close",
        value: function close(id) {
          var _this2 = this;
          if (id) {
            return this._removeLogger(id);
          }
          this.loggers.forEach(function(val, key) {
            return _this2._removeLogger(key);
          });
        }
        /**
         * Remove a logger based on the id.
         * @param {!string} id - The id of the logger to remove.
         * @returns {undefined}
         * @private
         */
      }, {
        key: "_removeLogger",
        value: function _removeLogger(id) {
          if (!this.loggers.has(id)) {
            return;
          }
          var logger2 = this.loggers.get(id);
          logger2.close();
          this._delete(id);
        }
        /**
         * Deletes a `Logger` instance with the specified `id`.
         * @param {!string} id - The id of the Logger instance to delete from
         * container.
         * @returns {undefined}
         * @private
         */
      }, {
        key: "_delete",
        value: function _delete(id) {
          this.loggers["delete"](id);
        }
      }]);
      return Container;
    }();
  }
});

// node_modules/winston/dist/winston.js
var require_winston = __commonJS({
  "node_modules/winston/dist/winston.js"(exports) {
    "use strict";
    var logform = require_browser();
    var _require = require_common();
    var warn = _require.warn;
    exports.version = require_package().version;
    exports.transports = require_transports();
    exports.config = require_config2();
    exports.addColors = logform.levels;
    exports.format = logform.format;
    exports.createLogger = require_create_logger();
    exports.Logger = require_logger();
    exports.ExceptionHandler = require_exception_handler();
    exports.RejectionHandler = require_rejection_handler();
    exports.Container = require_container();
    exports.Transport = require_dist();
    exports.loggers = new exports.Container();
    var defaultLogger = exports.createLogger();
    Object.keys(exports.config.npm.levels).concat(["log", "query", "stream", "add", "remove", "clear", "profile", "startTimer", "handleExceptions", "unhandleExceptions", "handleRejections", "unhandleRejections", "configure", "child"]).forEach(function(method) {
      return exports[method] = function() {
        return defaultLogger[method].apply(defaultLogger, arguments);
      };
    });
    Object.defineProperty(exports, "level", {
      get: function get() {
        return defaultLogger.level;
      },
      set: function set(val) {
        defaultLogger.level = val;
      }
    });
    Object.defineProperty(exports, "exceptions", {
      get: function get() {
        return defaultLogger.exceptions;
      }
    });
    ["exitOnError"].forEach(function(prop) {
      Object.defineProperty(exports, prop, {
        get: function get() {
          return defaultLogger[prop];
        },
        set: function set(val) {
          defaultLogger[prop] = val;
        }
      });
    });
    Object.defineProperty(exports, "default", {
      get: function get() {
        return {
          exceptionHandlers: defaultLogger.exceptionHandlers,
          rejectionHandlers: defaultLogger.rejectionHandlers,
          transports: defaultLogger.transports
        };
      }
    });
    warn.deprecated(exports, "setLevels");
    warn.forFunctions(exports, "useFormat", ["cli"]);
    warn.forProperties(exports, "useFormat", ["padLevels", "stripColors"]);
    warn.forFunctions(exports, "deprecated", ["addRewriter", "addFilter", "clone", "extend"]);
    warn.forProperties(exports, "deprecated", ["emitErrs", "levelLength"]);
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AutoAnkiPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/utils/anki.ts
var import_obsidian = require("obsidian");
var ANKI_VERSION = 6;
var ANKI_CONNECT_DEFAULT_PORT = 8765;
async function checkAnkiAvailability(ankiPort) {
  try {
    await (0, import_obsidian.requestUrl)({
      method: "POST",
      url: `http://127.0.0.1:${ankiPort}`,
      body: JSON.stringify({
        action: "deckNames",
        version: ANKI_VERSION,
        params: {}
      }),
      throw: true
    });
    return true;
  } catch (err) {
    new import_obsidian.Notice(`ERR: Could not connect to Anki! Please ensure you have Anki Connect running on port ${ankiPort}.`);
    return false;
  }
}
async function addCardsToAnki(ankiPort, deck, data) {
  var _a2;
  const ankiRequestData = data.map((card) => ({
    "deckName": deck,
    "modelName": "Basic",
    "fields": {
      "Front": card.q,
      "Back": card.a
    },
    "tags": [
      "auto-gpt-imported"
    ]
  }));
  try {
    const res = await (0, import_obsidian.requestUrl)({
      method: "POST",
      url: `http://127.0.0.1:${ankiPort}`,
      body: JSON.stringify({
        action: "addNotes",
        version: ANKI_VERSION,
        params: {
          "notes": ankiRequestData
        }
      }),
      throw: true
    });
    return (_a2 = res.json.result) != null ? _a2 : [];
  } catch (err) {
    new import_obsidian.Notice(`ERR: Could not connect to Anki! Please ensure you have Anki Connect running on port ${ankiPort}.`);
    return [];
  }
}
async function getAnkiDecks(ankiPort) {
  let res;
  try {
    res = await (0, import_obsidian.requestUrl)({
      method: "POST",
      url: `http://127.0.0.1:${ankiPort}`,
      body: JSON.stringify({
        action: "deckNames",
        version: ANKI_VERSION,
        params: {}
      }),
      throw: true
    });
  } catch (err) {
    new import_obsidian.Notice(`ERR: Could not connect to Anki! Please ensure you have Anki Connect running on port ${ankiPort}.`);
    return [];
  }
  return res.json.result;
}
async function checkAnkiDecksExist(ankiPort) {
  const decks = await getAnkiDecks(ankiPort);
  if (decks.length == 0) {
    new import_obsidian.Notice("Your anki account has no decks. Create a new one before using!");
    return false;
  }
  return true;
}
async function exportToAnki(cards, port, deck) {
  const ankiRes = await addCardsToAnki(port, deck, cards);
  if (ankiRes.length > 0)
    new import_obsidian.Notice(`Successfully exported ${ankiRes.length} card(s) to Anki!`);
  return true;
}

// src/settings.ts
var DEFAULT_SETTINGS = {
  ankiConnectPort: ANKI_CONNECT_DEFAULT_PORT,
  ankiDestinationDeck: "",
  openAiApiKey: null,
  openAiApiKeyIdentifier: "",
  gptAdvancedOptions: {
    temperature: 1,
    top_p: 1,
    frequency_penalty: 0,
    presence_penalty: 0,
    max_tokens_per_question: 100
  },
  questionGenerationDefaults: {
    textSelection: {
      numQuestions: 1,
      numAlternatives: 0
    },
    file: {
      numQuestions: 5,
      numAlternatives: 0
    }
  }
};

// src/modal.ts
var import_obsidian3 = require("obsidian");

// node_modules/openai/version.mjs
var VERSION = "4.24.6";

// node_modules/openai/_shims/registry.mjs
var auto = false;
var kind = void 0;
var fetch2 = void 0;
var Request2 = void 0;
var Response2 = void 0;
var Headers2 = void 0;
var FormData2 = void 0;
var Blob2 = void 0;
var File2 = void 0;
var ReadableStream2 = void 0;
var getMultipartRequestOptions = void 0;
var getDefaultAgent = void 0;
var fileFromPath = void 0;
var isFsReadStream = void 0;
function setShims(shims, options = { auto: false }) {
  if (auto) {
    throw new Error(`you must \`import 'openai/shims/${shims.kind}'\` before importing anything else from openai`);
  }
  if (kind) {
    throw new Error(`can't \`import 'openai/shims/${shims.kind}'\` after \`import 'openai/shims/${kind}'\``);
  }
  auto = options.auto;
  kind = shims.kind;
  fetch2 = shims.fetch;
  Request2 = shims.Request;
  Response2 = shims.Response;
  Headers2 = shims.Headers;
  FormData2 = shims.FormData;
  Blob2 = shims.Blob;
  File2 = shims.File;
  ReadableStream2 = shims.ReadableStream;
  getMultipartRequestOptions = shims.getMultipartRequestOptions;
  getDefaultAgent = shims.getDefaultAgent;
  fileFromPath = shims.fileFromPath;
  isFsReadStream = shims.isFsReadStream;
}

// node_modules/openai/_shims/MultipartBody.mjs
var MultipartBody = class {
  constructor(body) {
    this.body = body;
  }
  get [Symbol.toStringTag]() {
    return "MultipartBody";
  }
};

// node_modules/openai/_shims/web-runtime.mjs
function getRuntime({ manuallyImported } = {}) {
  const recommendation = manuallyImported ? `You may need to use polyfills` : `Add one of these imports before your first \`import \u2026 from 'openai'\`:
- \`import 'openai/shims/node'\` (if you're running on Node)
- \`import 'openai/shims/web'\` (otherwise)
`;
  let _fetch, _Request, _Response, _Headers;
  try {
    _fetch = fetch;
    _Request = Request;
    _Response = Response;
    _Headers = Headers;
  } catch (error) {
    throw new Error(`this environment is missing the following Web Fetch API type: ${error.message}. ${recommendation}`);
  }
  return {
    kind: "web",
    fetch: _fetch,
    Request: _Request,
    Response: _Response,
    Headers: _Headers,
    FormData: (
      // @ts-ignore
      typeof FormData !== "undefined" ? FormData : class FormData {
        // @ts-ignore
        constructor() {
          throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${recommendation}`);
        }
      }
    ),
    Blob: typeof Blob !== "undefined" ? Blob : class Blob {
      constructor() {
        throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${recommendation}`);
      }
    },
    File: (
      // @ts-ignore
      typeof File !== "undefined" ? File : class File {
        // @ts-ignore
        constructor() {
          throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${recommendation}`);
        }
      }
    ),
    ReadableStream: (
      // @ts-ignore
      typeof ReadableStream !== "undefined" ? ReadableStream : class ReadableStream {
        // @ts-ignore
        constructor() {
          throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${recommendation}`);
        }
      }
    ),
    getMultipartRequestOptions: async (form, opts) => ({
      ...opts,
      body: new MultipartBody(form)
    }),
    getDefaultAgent: (url) => void 0,
    fileFromPath: () => {
      throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads");
    },
    isFsReadStream: (value) => false
  };
}

// node_modules/openai/_shims/index.mjs
if (!kind)
  setShims(getRuntime(), { auto: true });

// node_modules/openai/error.mjs
var error_exports = {};
__export(error_exports, {
  APIConnectionError: () => APIConnectionError,
  APIConnectionTimeoutError: () => APIConnectionTimeoutError,
  APIError: () => APIError,
  APIUserAbortError: () => APIUserAbortError,
  AuthenticationError: () => AuthenticationError,
  BadRequestError: () => BadRequestError,
  ConflictError: () => ConflictError,
  InternalServerError: () => InternalServerError,
  NotFoundError: () => NotFoundError,
  OpenAIError: () => OpenAIError,
  PermissionDeniedError: () => PermissionDeniedError,
  RateLimitError: () => RateLimitError,
  UnprocessableEntityError: () => UnprocessableEntityError
});
var OpenAIError = class extends Error {
};
var APIError = class extends OpenAIError {
  constructor(status, error, message, headers) {
    super(`${APIError.makeMessage(status, error, message)}`);
    this.status = status;
    this.headers = headers;
    const data = error;
    this.error = data;
    this.code = data == null ? void 0 : data["code"];
    this.param = data == null ? void 0 : data["param"];
    this.type = data == null ? void 0 : data["type"];
  }
  static makeMessage(status, error, message) {
    const msg = (error == null ? void 0 : error.message) ? typeof error.message === "string" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;
    if (status && msg) {
      return `${status} ${msg}`;
    }
    if (status) {
      return `${status} status code (no body)`;
    }
    if (msg) {
      return msg;
    }
    return "(no status code or body)";
  }
  static generate(status, errorResponse, message, headers) {
    if (!status) {
      return new APIConnectionError({ cause: castToError(errorResponse) });
    }
    const error = errorResponse == null ? void 0 : errorResponse["error"];
    if (status === 400) {
      return new BadRequestError(status, error, message, headers);
    }
    if (status === 401) {
      return new AuthenticationError(status, error, message, headers);
    }
    if (status === 403) {
      return new PermissionDeniedError(status, error, message, headers);
    }
    if (status === 404) {
      return new NotFoundError(status, error, message, headers);
    }
    if (status === 409) {
      return new ConflictError(status, error, message, headers);
    }
    if (status === 422) {
      return new UnprocessableEntityError(status, error, message, headers);
    }
    if (status === 429) {
      return new RateLimitError(status, error, message, headers);
    }
    if (status >= 500) {
      return new InternalServerError(status, error, message, headers);
    }
    return new APIError(status, error, message, headers);
  }
};
var APIUserAbortError = class extends APIError {
  constructor({ message } = {}) {
    super(void 0, void 0, message || "Request was aborted.", void 0);
    this.status = void 0;
  }
};
var APIConnectionError = class extends APIError {
  constructor({ message, cause }) {
    super(void 0, void 0, message || "Connection error.", void 0);
    this.status = void 0;
    if (cause)
      this.cause = cause;
  }
};
var APIConnectionTimeoutError = class extends APIConnectionError {
  constructor({ message } = {}) {
    super({ message: message != null ? message : "Request timed out." });
  }
};
var BadRequestError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 400;
  }
};
var AuthenticationError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 401;
  }
};
var PermissionDeniedError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 403;
  }
};
var NotFoundError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 404;
  }
};
var ConflictError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 409;
  }
};
var UnprocessableEntityError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 422;
  }
};
var RateLimitError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 429;
  }
};
var InternalServerError = class extends APIError {
};

// node_modules/openai/streaming.mjs
var Stream = class {
  constructor(iterator, controller) {
    this.iterator = iterator;
    this.controller = controller;
  }
  static fromSSEResponse(response, controller) {
    let consumed = false;
    const decoder = new SSEDecoder();
    async function* iterMessages() {
      if (!response.body) {
        controller.abort();
        throw new OpenAIError(`Attempted to iterate over a response with no body`);
      }
      const lineDecoder = new LineDecoder();
      const iter = readableStreamAsyncIterable(response.body);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          const sse = decoder.decode(line);
          if (sse)
            yield sse;
        }
      }
      for (const line of lineDecoder.flush()) {
        const sse = decoder.decode(line);
        if (sse)
          yield sse;
      }
    }
    async function* iterator() {
      if (consumed) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed = true;
      let done = false;
      try {
        for await (const sse of iterMessages()) {
          if (done)
            continue;
          if (sse.data.startsWith("[DONE]")) {
            done = true;
            continue;
          }
          if (sse.event === null) {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e;
            }
            if (data && data.error) {
              throw new APIError(void 0, data.error, void 0, void 0);
            }
            yield data;
          }
        }
        done = true;
      } catch (e) {
        if (e instanceof Error && e.name === "AbortError")
          return;
        throw e;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  /**
   * Generates a Stream from a newline-separated ReadableStream
   * where each item is a JSON value.
   */
  static fromReadableStream(readableStream, controller) {
    let consumed = false;
    async function* iterLines() {
      const lineDecoder = new LineDecoder();
      const iter = readableStreamAsyncIterable(readableStream);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          yield line;
        }
      }
      for (const line of lineDecoder.flush()) {
        yield line;
      }
    }
    async function* iterator() {
      if (consumed) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed = true;
      let done = false;
      try {
        for await (const line of iterLines()) {
          if (done)
            continue;
          if (line)
            yield JSON.parse(line);
        }
        done = true;
      } catch (e) {
        if (e instanceof Error && e.name === "AbortError")
          return;
        throw e;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  [Symbol.asyncIterator]() {
    return this.iterator();
  }
  /**
   * Splits the stream into two streams which can be
   * independently read from at different speeds.
   */
  tee() {
    const left = [];
    const right = [];
    const iterator = this.iterator();
    const teeIterator = (queue) => {
      return {
        next: () => {
          if (queue.length === 0) {
            const result = iterator.next();
            left.push(result);
            right.push(result);
          }
          return queue.shift();
        }
      };
    };
    return [
      new Stream(() => teeIterator(left), this.controller),
      new Stream(() => teeIterator(right), this.controller)
    ];
  }
  /**
   * Converts this stream to a newline-separated ReadableStream of
   * JSON stringified values in the stream
   * which can be turned back into a Stream with `Stream.fromReadableStream()`.
   */
  toReadableStream() {
    const self2 = this;
    let iter;
    const encoder = new TextEncoder();
    return new ReadableStream2({
      async start() {
        iter = self2[Symbol.asyncIterator]();
      },
      async pull(ctrl) {
        try {
          const { value, done } = await iter.next();
          if (done)
            return ctrl.close();
          const bytes = encoder.encode(JSON.stringify(value) + "\n");
          ctrl.enqueue(bytes);
        } catch (err) {
          ctrl.error(err);
        }
      },
      async cancel() {
        var _a2;
        await ((_a2 = iter.return) == null ? void 0 : _a2.call(iter));
      }
    });
  }
};
var SSEDecoder = class {
  constructor() {
    this.event = null;
    this.data = [];
    this.chunks = [];
  }
  decode(line) {
    if (line.endsWith("\r")) {
      line = line.substring(0, line.length - 1);
    }
    if (!line) {
      if (!this.event && !this.data.length)
        return null;
      const sse = {
        event: this.event,
        data: this.data.join("\n"),
        raw: this.chunks
      };
      this.event = null;
      this.data = [];
      this.chunks = [];
      return sse;
    }
    this.chunks.push(line);
    if (line.startsWith(":")) {
      return null;
    }
    let [fieldname, _, value] = partition(line, ":");
    if (value.startsWith(" ")) {
      value = value.substring(1);
    }
    if (fieldname === "event") {
      this.event = value;
    } else if (fieldname === "data") {
      this.data.push(value);
    }
    return null;
  }
};
var LineDecoder = class {
  constructor() {
    this.buffer = [];
    this.trailingCR = false;
  }
  decode(chunk) {
    let text = this.decodeText(chunk);
    if (this.trailingCR) {
      text = "\r" + text;
      this.trailingCR = false;
    }
    if (text.endsWith("\r")) {
      this.trailingCR = true;
      text = text.slice(0, -1);
    }
    if (!text) {
      return [];
    }
    const trailingNewline = LineDecoder.NEWLINE_CHARS.has(text[text.length - 1] || "");
    let lines = text.split(LineDecoder.NEWLINE_REGEXP);
    if (lines.length === 1 && !trailingNewline) {
      this.buffer.push(lines[0]);
      return [];
    }
    if (this.buffer.length > 0) {
      lines = [this.buffer.join("") + lines[0], ...lines.slice(1)];
      this.buffer = [];
    }
    if (!trailingNewline) {
      this.buffer = [lines.pop() || ""];
    }
    return lines;
  }
  decodeText(bytes) {
    var _a2;
    if (bytes == null)
      return "";
    if (typeof bytes === "string")
      return bytes;
    if (typeof Buffer !== "undefined") {
      if (bytes instanceof Buffer) {
        return bytes.toString();
      }
      if (bytes instanceof Uint8Array) {
        return Buffer.from(bytes).toString();
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`);
    }
    if (typeof TextDecoder !== "undefined") {
      if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {
        (_a2 = this.textDecoder) != null ? _a2 : this.textDecoder = new TextDecoder("utf8");
        return this.textDecoder.decode(bytes);
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);
    }
    throw new OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);
  }
  flush() {
    if (!this.buffer.length && !this.trailingCR) {
      return [];
    }
    const lines = [this.buffer.join("")];
    this.buffer = [];
    this.trailingCR = false;
    return lines;
  }
};
LineDecoder.NEWLINE_CHARS = /* @__PURE__ */ new Set(["\n", "\r", "\v", "\f", "", "", "", "\x85", "\u2028", "\u2029"]);
LineDecoder.NEWLINE_REGEXP = /\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;
function partition(str2, delimiter) {
  const index = str2.indexOf(delimiter);
  if (index !== -1) {
    return [str2.substring(0, index), delimiter, str2.substring(index + delimiter.length)];
  }
  return [str2, "", ""];
}
function readableStreamAsyncIterable(stream) {
  if (stream[Symbol.asyncIterator])
    return stream;
  const reader = stream.getReader();
  return {
    async next() {
      try {
        const result = await reader.read();
        if (result == null ? void 0 : result.done)
          reader.releaseLock();
        return result;
      } catch (e) {
        reader.releaseLock();
        throw e;
      }
    },
    async return() {
      const cancelPromise = reader.cancel();
      reader.releaseLock();
      await cancelPromise;
      return { done: true, value: void 0 };
    },
    [Symbol.asyncIterator]() {
      return this;
    }
  };
}

// node_modules/openai/uploads.mjs
var isResponseLike = (value) => value != null && typeof value === "object" && typeof value.url === "string" && typeof value.blob === "function";
var isFileLike = (value) => value != null && typeof value === "object" && typeof value.name === "string" && typeof value.lastModified === "number" && isBlobLike(value);
var isBlobLike = (value) => value != null && typeof value === "object" && typeof value.size === "number" && typeof value.type === "string" && typeof value.text === "function" && typeof value.slice === "function" && typeof value.arrayBuffer === "function";
var isUploadable = (value) => {
  return isFileLike(value) || isResponseLike(value) || isFsReadStream(value);
};
async function toFile(value, name, options = {}) {
  var _a2, _b, _c;
  value = await value;
  if (isResponseLike(value)) {
    const blob = await value.blob();
    name || (name = (_a2 = new URL(value.url).pathname.split(/[\\/]/).pop()) != null ? _a2 : "unknown_file");
    return new File2([blob], name, options);
  }
  const bits = await getBytes(value);
  name || (name = (_b = getName(value)) != null ? _b : "unknown_file");
  if (!options.type) {
    const type = (_c = bits[0]) == null ? void 0 : _c.type;
    if (typeof type === "string") {
      options = { ...options, type };
    }
  }
  return new File2(bits, name, options);
}
async function getBytes(value) {
  var _a2;
  let parts = [];
  if (typeof value === "string" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.
  value instanceof ArrayBuffer) {
    parts.push(value);
  } else if (isBlobLike(value)) {
    parts.push(await value.arrayBuffer());
  } else if (isAsyncIterableIterator(value)) {
    for await (const chunk of value) {
      parts.push(chunk);
    }
  } else {
    throw new Error(`Unexpected data type: ${typeof value}; constructor: ${(_a2 = value == null ? void 0 : value.constructor) == null ? void 0 : _a2.name}; props: ${propsForError(value)}`);
  }
  return parts;
}
function propsForError(value) {
  const props = Object.getOwnPropertyNames(value);
  return `[${props.map((p) => `"${p}"`).join(", ")}]`;
}
function getName(value) {
  var _a2;
  return getStringFromMaybeBuffer(value.name) || getStringFromMaybeBuffer(value.filename) || // For fs.ReadStream
  ((_a2 = getStringFromMaybeBuffer(value.path)) == null ? void 0 : _a2.split(/[\\/]/).pop());
}
var getStringFromMaybeBuffer = (x) => {
  if (typeof x === "string")
    return x;
  if (typeof Buffer !== "undefined" && x instanceof Buffer)
    return String(x);
  return void 0;
};
var isAsyncIterableIterator = (value) => value != null && typeof value === "object" && typeof value[Symbol.asyncIterator] === "function";
var isMultipartBody = (body) => body && typeof body === "object" && body.body && body[Symbol.toStringTag] === "MultipartBody";
var multipartFormRequestOptions = async (opts) => {
  const form = await createForm(opts.body);
  return getMultipartRequestOptions(form, opts);
};
var createForm = async (body) => {
  const form = new FormData2();
  await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));
  return form;
};
var addFormValue = async (form, key, value) => {
  if (value === void 0)
    return;
  if (value == null) {
    throw new TypeError(`Received null for "${key}"; to pass null in FormData, you must use the string 'null'`);
  }
  if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
    form.append(key, String(value));
  } else if (isUploadable(value)) {
    const file = await toFile(value);
    form.append(key, file);
  } else if (Array.isArray(value)) {
    await Promise.all(value.map((entry) => addFormValue(form, key + "[]", entry)));
  } else if (typeof value === "object") {
    await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));
  } else {
    throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);
  }
};

// node_modules/openai/core.mjs
var __classPrivateFieldSet = function(receiver, state, value, kind2, f) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet = function(receiver, state, kind2, f) {
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f : kind2 === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _AbstractPage_client;
async function defaultParseResponse(props) {
  const { response } = props;
  if (props.options.stream) {
    debug("response", response.status, response.url, response.headers, response.body);
    return Stream.fromSSEResponse(response, props.controller);
  }
  if (response.status === 204) {
    return null;
  }
  if (props.options.__binaryResponse) {
    return response;
  }
  const contentType = response.headers.get("content-type");
  if (contentType == null ? void 0 : contentType.includes("application/json")) {
    const json = await response.json();
    debug("response", response.status, response.url, response.headers, json);
    return json;
  }
  const text = await response.text();
  debug("response", response.status, response.url, response.headers, text);
  return text;
}
var APIPromise = class extends Promise {
  constructor(responsePromise, parseResponse = defaultParseResponse) {
    super((resolve) => {
      resolve(null);
    });
    this.responsePromise = responsePromise;
    this.parseResponse = parseResponse;
  }
  _thenUnwrap(transform) {
    return new APIPromise(this.responsePromise, async (props) => transform(await this.parseResponse(props)));
  }
  /**
   * Gets the raw `Response` instance instead of parsing the response
   * data.
   *
   * If you want to parse the response body but still get the `Response`
   * instance, you can use {@link withResponse()}.
   *
   * 👋 Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import … from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  asResponse() {
    return this.responsePromise.then((p) => p.response);
  }
  /**
   * Gets the parsed response data and the raw `Response` instance.
   *
   * If you just want to get the raw `Response` instance without parsing it,
   * you can use {@link asResponse()}.
   *
   *
   * 👋 Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import … from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  async withResponse() {
    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);
    return { data, response };
  }
  parse() {
    if (!this.parsedPromise) {
      this.parsedPromise = this.responsePromise.then(this.parseResponse);
    }
    return this.parsedPromise;
  }
  then(onfulfilled, onrejected) {
    return this.parse().then(onfulfilled, onrejected);
  }
  catch(onrejected) {
    return this.parse().catch(onrejected);
  }
  finally(onfinally) {
    return this.parse().finally(onfinally);
  }
};
var APIClient = class {
  constructor({
    baseURL,
    maxRetries = 2,
    timeout = 6e5,
    // 10 minutes
    httpAgent,
    fetch: overridenFetch
  }) {
    this.baseURL = baseURL;
    this.maxRetries = validatePositiveInteger("maxRetries", maxRetries);
    this.timeout = validatePositiveInteger("timeout", timeout);
    this.httpAgent = httpAgent;
    this.fetch = overridenFetch != null ? overridenFetch : fetch2;
  }
  authHeaders(opts) {
    return {};
  }
  /**
   * Override this to add your own default headers, for example:
   *
   *  {
   *    ...super.defaultHeaders(),
   *    Authorization: 'Bearer 123',
   *  }
   */
  defaultHeaders(opts) {
    return {
      Accept: "application/json",
      "Content-Type": "application/json",
      "User-Agent": this.getUserAgent(),
      ...getPlatformHeaders(),
      ...this.authHeaders(opts)
    };
  }
  /**
   * Override this to add your own headers validation:
   */
  validateHeaders(headers, customHeaders) {
  }
  defaultIdempotencyKey() {
    return `stainless-node-retry-${uuid4()}`;
  }
  get(path, opts) {
    return this.methodRequest("get", path, opts);
  }
  post(path, opts) {
    return this.methodRequest("post", path, opts);
  }
  patch(path, opts) {
    return this.methodRequest("patch", path, opts);
  }
  put(path, opts) {
    return this.methodRequest("put", path, opts);
  }
  delete(path, opts) {
    return this.methodRequest("delete", path, opts);
  }
  methodRequest(method, path, opts) {
    return this.request(Promise.resolve(opts).then((opts2) => ({ method, path, ...opts2 })));
  }
  getAPIList(path, Page2, opts) {
    return this.requestAPIList(Page2, { method: "get", path, ...opts });
  }
  calculateContentLength(body) {
    if (typeof body === "string") {
      if (typeof Buffer !== "undefined") {
        return Buffer.byteLength(body, "utf8").toString();
      }
      if (typeof TextEncoder !== "undefined") {
        const encoder = new TextEncoder();
        const encoded = encoder.encode(body);
        return encoded.length.toString();
      }
    }
    return null;
  }
  buildRequest(options) {
    var _a2, _b, _c, _d, _e, _f;
    const { method, path, query, headers = {} } = options;
    const body = isMultipartBody(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;
    const contentLength = this.calculateContentLength(body);
    const url = this.buildURL(path, query);
    if ("timeout" in options)
      validatePositiveInteger("timeout", options.timeout);
    const timeout = (_a2 = options.timeout) != null ? _a2 : this.timeout;
    const httpAgent = (_c = (_b = options.httpAgent) != null ? _b : this.httpAgent) != null ? _c : getDefaultAgent(url);
    const minAgentTimeout = timeout + 1e3;
    if (typeof ((_d = httpAgent == null ? void 0 : httpAgent.options) == null ? void 0 : _d.timeout) === "number" && minAgentTimeout > ((_e = httpAgent.options.timeout) != null ? _e : 0)) {
      httpAgent.options.timeout = minAgentTimeout;
    }
    if (this.idempotencyHeader && method !== "get") {
      if (!options.idempotencyKey)
        options.idempotencyKey = this.defaultIdempotencyKey();
      headers[this.idempotencyHeader] = options.idempotencyKey;
    }
    const reqHeaders = this.buildHeaders({ options, headers, contentLength });
    const req = {
      method,
      ...body && { body },
      headers: reqHeaders,
      ...httpAgent && { agent: httpAgent },
      // @ts-ignore node-fetch uses a custom AbortSignal type that is
      // not compatible with standard web types
      signal: (_f = options.signal) != null ? _f : null
    };
    return { req, url, timeout };
  }
  buildHeaders({ options, headers, contentLength }) {
    const reqHeaders = {};
    if (contentLength) {
      reqHeaders["content-length"] = contentLength;
    }
    const defaultHeaders = this.defaultHeaders(options);
    applyHeadersMut(reqHeaders, defaultHeaders);
    applyHeadersMut(reqHeaders, headers);
    if (isMultipartBody(options.body) && kind !== "node") {
      delete reqHeaders["content-type"];
    }
    this.validateHeaders(reqHeaders, headers);
    return reqHeaders;
  }
  /**
   * Used as a callback for mutating the given `RequestInit` object.
   *
   * This is useful for cases where you want to add certain headers based off of
   * the request properties, e.g. `method` or `url`.
   */
  async prepareRequest(request, { url, options }) {
  }
  parseHeaders(headers) {
    return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map((header) => [...header])) : { ...headers };
  }
  makeStatusError(status, error, message, headers) {
    return APIError.generate(status, error, message, headers);
  }
  request(options, remainingRetries = null) {
    return new APIPromise(this.makeRequest(options, remainingRetries));
  }
  async makeRequest(optionsInput, retriesRemaining) {
    var _a2, _b, _c;
    const options = await optionsInput;
    if (retriesRemaining == null) {
      retriesRemaining = (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
    }
    const { req, url, timeout } = this.buildRequest(options);
    await this.prepareRequest(req, { url, options });
    debug("request", url, options, req.headers);
    if ((_b = options.signal) == null ? void 0 : _b.aborted) {
      throw new APIUserAbortError();
    }
    const controller = new AbortController();
    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);
    if (response instanceof Error) {
      if ((_c = options.signal) == null ? void 0 : _c.aborted) {
        throw new APIUserAbortError();
      }
      if (retriesRemaining) {
        return this.retryRequest(options, retriesRemaining);
      }
      if (response.name === "AbortError") {
        throw new APIConnectionTimeoutError();
      }
      throw new APIConnectionError({ cause: response });
    }
    const responseHeaders = createResponseHeaders(response.headers);
    if (!response.ok) {
      if (retriesRemaining && this.shouldRetry(response)) {
        return this.retryRequest(options, retriesRemaining, responseHeaders);
      }
      const errText = await response.text().catch((e) => castToError(e).message);
      const errJSON = safeJSON(errText);
      const errMessage = errJSON ? void 0 : errText;
      debug("response", response.status, url, responseHeaders, errMessage);
      const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);
      throw err;
    }
    return { response, options, controller };
  }
  requestAPIList(Page2, options) {
    const request = this.makeRequest(options, null);
    return new PagePromise(this, request, Page2);
  }
  buildURL(path, query) {
    const url = isAbsoluteURL(path) ? new URL(path) : new URL(this.baseURL + (this.baseURL.endsWith("/") && path.startsWith("/") ? path.slice(1) : path));
    const defaultQuery = this.defaultQuery();
    if (!isEmptyObj(defaultQuery)) {
      query = { ...defaultQuery, ...query };
    }
    if (typeof query === "object" && query && !Array.isArray(query)) {
      url.search = this.stringifyQuery(query);
    }
    return url.toString();
  }
  stringifyQuery(query) {
    return Object.entries(query).filter(([_, value]) => typeof value !== "undefined").map(([key, value]) => {
      if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
      }
      if (value === null) {
        return `${encodeURIComponent(key)}=`;
      }
      throw new OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);
    }).join("&");
  }
  async fetchWithTimeout(url, init, ms, controller) {
    const { signal, ...options } = init || {};
    if (signal)
      signal.addEventListener("abort", () => controller.abort());
    const timeout = setTimeout(() => controller.abort(), ms);
    return this.getRequestClient().fetch.call(void 0, url, { signal: controller.signal, ...options }).finally(() => {
      clearTimeout(timeout);
    });
  }
  getRequestClient() {
    return { fetch: this.fetch };
  }
  shouldRetry(response) {
    const shouldRetryHeader = response.headers.get("x-should-retry");
    if (shouldRetryHeader === "true")
      return true;
    if (shouldRetryHeader === "false")
      return false;
    if (response.status === 408)
      return true;
    if (response.status === 409)
      return true;
    if (response.status === 429)
      return true;
    if (response.status >= 500)
      return true;
    return false;
  }
  async retryRequest(options, retriesRemaining, responseHeaders) {
    var _a2;
    let timeoutMillis;
    const retryAfterHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after"];
    if (retryAfterHeader) {
      const timeoutSeconds = parseInt(retryAfterHeader);
      if (!Number.isNaN(timeoutSeconds)) {
        timeoutMillis = timeoutSeconds * 1e3;
      } else {
        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();
      }
    }
    if (!timeoutMillis || !Number.isInteger(timeoutMillis) || timeoutMillis <= 0 || timeoutMillis > 60 * 1e3) {
      const maxRetries = (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);
    }
    await sleep(timeoutMillis);
    return this.makeRequest(options, retriesRemaining - 1);
  }
  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {
    const initialRetryDelay = 0.5;
    const maxRetryDelay = 8;
    const numRetries = maxRetries - retriesRemaining;
    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);
    const jitter = 1 - Math.random() * 0.25;
    return sleepSeconds * jitter * 1e3;
  }
  getUserAgent() {
    return `${this.constructor.name}/JS ${VERSION}`;
  }
};
var AbstractPage = class {
  constructor(client, response, body, options) {
    _AbstractPage_client.set(this, void 0);
    __classPrivateFieldSet(this, _AbstractPage_client, client, "f");
    this.options = options;
    this.response = response;
    this.body = body;
  }
  hasNextPage() {
    const items = this.getPaginatedItems();
    if (!items.length)
      return false;
    return this.nextPageInfo() != null;
  }
  async getNextPage() {
    const nextInfo = this.nextPageInfo();
    if (!nextInfo) {
      throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");
    }
    const nextOptions = { ...this.options };
    if ("params" in nextInfo && typeof nextOptions.query === "object") {
      nextOptions.query = { ...nextOptions.query, ...nextInfo.params };
    } else if ("url" in nextInfo) {
      const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];
      for (const [key, value] of params) {
        nextInfo.url.searchParams.set(key, value);
      }
      nextOptions.query = void 0;
      nextOptions.path = nextInfo.url.toString();
    }
    return await __classPrivateFieldGet(this, _AbstractPage_client, "f").requestAPIList(this.constructor, nextOptions);
  }
  async *iterPages() {
    let page = this;
    yield page;
    while (page.hasNextPage()) {
      page = await page.getNextPage();
      yield page;
    }
  }
  async *[(_AbstractPage_client = /* @__PURE__ */ new WeakMap(), Symbol.asyncIterator)]() {
    for await (const page of this.iterPages()) {
      for (const item of page.getPaginatedItems()) {
        yield item;
      }
    }
  }
};
var PagePromise = class extends APIPromise {
  constructor(client, request, Page2) {
    super(request, async (props) => new Page2(client, props.response, await defaultParseResponse(props), props.options));
  }
  /**
   * Allow auto-paginating iteration on an unawaited list call, eg:
   *
   *    for await (const item of client.items.list()) {
   *      console.log(item)
   *    }
   */
  async *[Symbol.asyncIterator]() {
    const page = await this;
    for await (const item of page) {
      yield item;
    }
  }
};
var createResponseHeaders = (headers) => {
  return new Proxy(Object.fromEntries(
    // @ts-ignore
    headers.entries()
  ), {
    get(target, name) {
      const key = name.toString();
      return target[key.toLowerCase()] || target[key];
    }
  });
};
var requestOptionsKeys = {
  method: true,
  path: true,
  query: true,
  body: true,
  headers: true,
  maxRetries: true,
  stream: true,
  timeout: true,
  httpAgent: true,
  signal: true,
  idempotencyKey: true,
  __binaryResponse: true
};
var isRequestOptions = (obj) => {
  return typeof obj === "object" && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every((k) => hasOwn(requestOptionsKeys, k));
};
var getPlatformProperties = () => {
  if (typeof Deno !== "undefined" && Deno.build != null) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(Deno.build.os),
      "X-Stainless-Arch": normalizeArch(Deno.build.arch),
      "X-Stainless-Runtime": "deno",
      "X-Stainless-Runtime-Version": Deno.version
    };
  }
  if (typeof EdgeRuntime !== "undefined") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": `other:${EdgeRuntime}`,
      "X-Stainless-Runtime": "edge",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  if (Object.prototype.toString.call(typeof process !== "undefined" ? process : 0) === "[object process]") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(process.platform),
      "X-Stainless-Arch": normalizeArch(process.arch),
      "X-Stainless-Runtime": "node",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  const browserInfo = getBrowserInfo();
  if (browserInfo) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": "unknown",
      "X-Stainless-Runtime": `browser:${browserInfo.browser}`,
      "X-Stainless-Runtime-Version": browserInfo.version
    };
  }
  return {
    "X-Stainless-Lang": "js",
    "X-Stainless-Package-Version": VERSION,
    "X-Stainless-OS": "Unknown",
    "X-Stainless-Arch": "unknown",
    "X-Stainless-Runtime": "unknown",
    "X-Stainless-Runtime-Version": "unknown"
  };
};
function getBrowserInfo() {
  if (typeof navigator === "undefined" || !navigator) {
    return null;
  }
  const browserPatterns = [
    { key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "safari", pattern: /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/ }
  ];
  for (const { key, pattern } of browserPatterns) {
    const match = pattern.exec(navigator.userAgent);
    if (match) {
      const major = match[1] || 0;
      const minor = match[2] || 0;
      const patch = match[3] || 0;
      return { browser: key, version: `${major}.${minor}.${patch}` };
    }
  }
  return null;
}
var normalizeArch = (arch) => {
  if (arch === "x32")
    return "x32";
  if (arch === "x86_64" || arch === "x64")
    return "x64";
  if (arch === "arm")
    return "arm";
  if (arch === "aarch64" || arch === "arm64")
    return "arm64";
  if (arch)
    return `other:${arch}`;
  return "unknown";
};
var normalizePlatform = (platform) => {
  platform = platform.toLowerCase();
  if (platform.includes("ios"))
    return "iOS";
  if (platform === "android")
    return "Android";
  if (platform === "darwin")
    return "MacOS";
  if (platform === "win32")
    return "Windows";
  if (platform === "freebsd")
    return "FreeBSD";
  if (platform === "openbsd")
    return "OpenBSD";
  if (platform === "linux")
    return "Linux";
  if (platform)
    return `Other:${platform}`;
  return "Unknown";
};
var _platformHeaders;
var getPlatformHeaders = () => {
  return _platformHeaders != null ? _platformHeaders : _platformHeaders = getPlatformProperties();
};
var safeJSON = (text) => {
  try {
    return JSON.parse(text);
  } catch (err) {
    return void 0;
  }
};
var startsWithSchemeRegexp = new RegExp("^(?:[a-z]+:)?//", "i");
var isAbsoluteURL = (url) => {
  return startsWithSchemeRegexp.test(url);
};
var sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));
var validatePositiveInteger = (name, n) => {
  if (typeof n !== "number" || !Number.isInteger(n)) {
    throw new OpenAIError(`${name} must be an integer`);
  }
  if (n < 0) {
    throw new OpenAIError(`${name} must be a positive integer`);
  }
  return n;
};
var castToError = (err) => {
  if (err instanceof Error)
    return err;
  return new Error(err);
};
var readEnv = (env) => {
  var _a2, _b, _c, _d, _e, _f;
  if (typeof process !== "undefined") {
    return (_c = (_b = (_a2 = process.env) == null ? void 0 : _a2[env]) == null ? void 0 : _b.trim()) != null ? _c : void 0;
  }
  if (typeof Deno !== "undefined") {
    return (_f = (_e = (_d = Deno.env) == null ? void 0 : _d.get) == null ? void 0 : _e.call(_d, env)) == null ? void 0 : _f.trim();
  }
  return void 0;
};
function isEmptyObj(obj) {
  if (!obj)
    return true;
  for (const _k in obj)
    return false;
  return true;
}
function hasOwn(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
function applyHeadersMut(targetHeaders, newHeaders) {
  for (const k in newHeaders) {
    if (!hasOwn(newHeaders, k))
      continue;
    const lowerKey = k.toLowerCase();
    if (!lowerKey)
      continue;
    const val = newHeaders[k];
    if (val === null) {
      delete targetHeaders[lowerKey];
    } else if (val !== void 0) {
      targetHeaders[lowerKey] = val;
    }
  }
}
function debug(action, ...args) {
  if (typeof process !== "undefined" && process.env["DEBUG"] === "true") {
    console.log(`OpenAI:DEBUG:${action}`, ...args);
  }
}
var uuid4 = () => {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c) => {
    const r = Math.random() * 16 | 0;
    const v = c === "x" ? r : r & 3 | 8;
    return v.toString(16);
  });
};
var isRunningInBrowser = () => {
  return (
    // @ts-ignore
    typeof window !== "undefined" && // @ts-ignore
    typeof window.document !== "undefined" && // @ts-ignore
    typeof navigator !== "undefined"
  );
};

// node_modules/openai/pagination.mjs
var Page = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.object = body.object;
  }
  getPaginatedItems() {
    var _a2;
    return (_a2 = this.data) != null ? _a2 : [];
  }
  // @deprecated Please use `nextPageInfo()` instead
  /**
   * This page represents a response that isn't actually paginated at the API level
   * so there will never be any next page params.
   */
  nextPageParams() {
    return null;
  }
  nextPageInfo() {
    return null;
  }
};
var CursorPage = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
  }
  getPaginatedItems() {
    var _a2;
    return (_a2 = this.data) != null ? _a2 : [];
  }
  // @deprecated Please use `nextPageInfo()` instead
  nextPageParams() {
    const info = this.nextPageInfo();
    if (!info)
      return null;
    if ("params" in info)
      return info.params;
    const params = Object.fromEntries(info.url.searchParams);
    if (!Object.keys(params).length)
      return null;
    return params;
  }
  nextPageInfo() {
    var _a2;
    const data = this.getPaginatedItems();
    if (!data.length) {
      return null;
    }
    const id = (_a2 = data[data.length - 1]) == null ? void 0 : _a2.id;
    if (!id) {
      return null;
    }
    return { params: { after: id } };
  }
};

// node_modules/openai/resource.mjs
var APIResource = class {
  constructor(client) {
    this._client = client;
  }
};

// node_modules/openai/resources/chat/completions.mjs
var Completions = class extends APIResource {
  create(body, options) {
    var _a2;
    return this._client.post("/chat/completions", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false });
  }
};
(function(Completions4) {
})(Completions || (Completions = {}));

// node_modules/openai/resources/chat/chat.mjs
var Chat = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions(this._client);
  }
};
(function(Chat3) {
  Chat3.Completions = Completions;
})(Chat || (Chat = {}));

// node_modules/openai/resources/audio/speech.mjs
var Speech = class extends APIResource {
  /**
   * Generates audio from the input text.
   */
  create(body, options) {
    return this._client.post("/audio/speech", { body, ...options, __binaryResponse: true });
  }
};
(function(Speech2) {
})(Speech || (Speech = {}));

// node_modules/openai/resources/audio/transcriptions.mjs
var Transcriptions = class extends APIResource {
  /**
   * Transcribes audio into the input language.
   */
  create(body, options) {
    return this._client.post("/audio/transcriptions", multipartFormRequestOptions({ body, ...options }));
  }
};
(function(Transcriptions2) {
})(Transcriptions || (Transcriptions = {}));

// node_modules/openai/resources/audio/translations.mjs
var Translations = class extends APIResource {
  /**
   * Translates audio into English.
   */
  create(body, options) {
    return this._client.post("/audio/translations", multipartFormRequestOptions({ body, ...options }));
  }
};
(function(Translations2) {
})(Translations || (Translations = {}));

// node_modules/openai/resources/audio/audio.mjs
var Audio = class extends APIResource {
  constructor() {
    super(...arguments);
    this.transcriptions = new Transcriptions(this._client);
    this.translations = new Translations(this._client);
    this.speech = new Speech(this._client);
  }
};
(function(Audio2) {
  Audio2.Transcriptions = Transcriptions;
  Audio2.Translations = Translations;
  Audio2.Speech = Speech;
})(Audio || (Audio = {}));

// node_modules/openai/resources/beta/assistants/files.mjs
var Files = class extends APIResource {
  /**
   * Create an assistant file by attaching a
   * [File](https://platform.openai.com/docs/api-reference/files) to an
   * [assistant](https://platform.openai.com/docs/api-reference/assistants).
   */
  create(assistantId, body, options) {
    return this._client.post(`/assistants/${assistantId}/files`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves an AssistantFile.
   */
  retrieve(assistantId, fileId, options) {
    return this._client.get(`/assistants/${assistantId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  list(assistantId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(assistantId, {}, query);
    }
    return this._client.getAPIList(`/assistants/${assistantId}/files`, AssistantFilesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete an assistant file.
   */
  del(assistantId, fileId, options) {
    return this._client.delete(`/assistants/${assistantId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
};
var AssistantFilesPage = class extends CursorPage {
};
(function(Files4) {
  Files4.AssistantFilesPage = AssistantFilesPage;
})(Files || (Files = {}));

// node_modules/openai/resources/beta/assistants/assistants.mjs
var Assistants = class extends APIResource {
  constructor() {
    super(...arguments);
    this.files = new Files(this._client);
  }
  /**
   * Create an assistant with a model and instructions.
   */
  create(body, options) {
    return this._client.post("/assistants", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves an assistant.
   */
  retrieve(assistantId, options) {
    return this._client.get(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies an assistant.
   */
  update(assistantId, body, options) {
    return this._client.post(`/assistants/${assistantId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/assistants", AssistantsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete an assistant.
   */
  del(assistantId, options) {
    return this._client.delete(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
};
var AssistantsPage = class extends CursorPage {
};
(function(Assistants2) {
  Assistants2.AssistantsPage = AssistantsPage;
  Assistants2.Files = Files;
  Assistants2.AssistantFilesPage = AssistantFilesPage;
})(Assistants || (Assistants = {}));

// node_modules/openai/lib/RunnableFunction.mjs
function isRunnableFunctionWithParse(fn) {
  return typeof fn.parse === "function";
}

// node_modules/openai/lib/chatCompletionUtils.mjs
var isAssistantMessage = (message) => {
  return (message == null ? void 0 : message.role) === "assistant";
};
var isFunctionMessage = (message) => {
  return (message == null ? void 0 : message.role) === "function";
};
var isToolMessage = (message) => {
  return (message == null ? void 0 : message.role) === "tool";
};

// node_modules/openai/lib/AbstractChatCompletionRunner.mjs
var __classPrivateFieldSet2 = function(receiver, state, value, kind2, f) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet2 = function(receiver, state, kind2, f) {
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f : kind2 === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _AbstractChatCompletionRunner_instances;
var _AbstractChatCompletionRunner_connectedPromise;
var _AbstractChatCompletionRunner_resolveConnectedPromise;
var _AbstractChatCompletionRunner_rejectConnectedPromise;
var _AbstractChatCompletionRunner_endPromise;
var _AbstractChatCompletionRunner_resolveEndPromise;
var _AbstractChatCompletionRunner_rejectEndPromise;
var _AbstractChatCompletionRunner_listeners;
var _AbstractChatCompletionRunner_ended;
var _AbstractChatCompletionRunner_errored;
var _AbstractChatCompletionRunner_aborted;
var _AbstractChatCompletionRunner_catchingPromiseCreated;
var _AbstractChatCompletionRunner_getFinalContent;
var _AbstractChatCompletionRunner_getFinalMessage;
var _AbstractChatCompletionRunner_getFinalFunctionCall;
var _AbstractChatCompletionRunner_getFinalFunctionCallResult;
var _AbstractChatCompletionRunner_calculateTotalUsage;
var _AbstractChatCompletionRunner_handleError;
var _AbstractChatCompletionRunner_validateParams;
var _AbstractChatCompletionRunner_stringifyFunctionCallResult;
var DEFAULT_MAX_CHAT_COMPLETIONS = 10;
var AbstractChatCompletionRunner = class {
  constructor() {
    _AbstractChatCompletionRunner_instances.add(this);
    this.controller = new AbortController();
    _AbstractChatCompletionRunner_connectedPromise.set(this, void 0);
    _AbstractChatCompletionRunner_resolveConnectedPromise.set(this, () => {
    });
    _AbstractChatCompletionRunner_rejectConnectedPromise.set(this, () => {
    });
    _AbstractChatCompletionRunner_endPromise.set(this, void 0);
    _AbstractChatCompletionRunner_resolveEndPromise.set(this, () => {
    });
    _AbstractChatCompletionRunner_rejectEndPromise.set(this, () => {
    });
    _AbstractChatCompletionRunner_listeners.set(this, {});
    this._chatCompletions = [];
    this.messages = [];
    _AbstractChatCompletionRunner_ended.set(this, false);
    _AbstractChatCompletionRunner_errored.set(this, false);
    _AbstractChatCompletionRunner_aborted.set(this, false);
    _AbstractChatCompletionRunner_catchingPromiseCreated.set(this, false);
    _AbstractChatCompletionRunner_handleError.set(this, (error) => {
      __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_errored, true, "f");
      if (error instanceof Error && error.name === "AbortError") {
        error = new APIUserAbortError();
      }
      if (error instanceof APIUserAbortError) {
        __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_aborted, true, "f");
        return this._emit("abort", error);
      }
      if (error instanceof OpenAIError) {
        return this._emit("error", error);
      }
      if (error instanceof Error) {
        const openAIError = new OpenAIError(error.message);
        openAIError.cause = error;
        return this._emit("error", openAIError);
      }
      return this._emit("error", new OpenAIError(String(error)));
    });
    __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_connectedPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_resolveConnectedPromise, resolve, "f");
      __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_rejectConnectedPromise, reject, "f");
    }), "f");
    __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_endPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_resolveEndPromise, resolve, "f");
      __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_rejectEndPromise, reject, "f");
    }), "f");
    __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_connectedPromise, "f").catch(() => {
    });
    __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_endPromise, "f").catch(() => {
    });
  }
  _run(executor) {
    setTimeout(() => {
      executor().then(() => {
        this._emitFinal();
        this._emit("end");
      }, __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_handleError, "f"));
    }, 0);
  }
  _addChatCompletion(chatCompletion) {
    var _a2;
    this._chatCompletions.push(chatCompletion);
    this._emit("chatCompletion", chatCompletion);
    const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
    if (message)
      this._addMessage(message);
    return chatCompletion;
  }
  _addMessage(message, emit = true) {
    if (!("content" in message))
      message.content = null;
    this.messages.push(message);
    if (emit) {
      this._emit("message", message);
      if ((isFunctionMessage(message) || isToolMessage(message)) && message.content) {
        this._emit("functionCallResult", message.content);
      } else if (isAssistantMessage(message) && message.function_call) {
        this._emit("functionCall", message.function_call);
      } else if (isAssistantMessage(message) && message.tool_calls) {
        for (const tool_call of message.tool_calls) {
          if (tool_call.type === "function") {
            this._emit("functionCall", tool_call.function);
          }
        }
      }
    }
  }
  _connected() {
    if (this.ended)
      return;
    __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_resolveConnectedPromise, "f").call(this);
    this._emit("connect");
  }
  get ended() {
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_ended, "f");
  }
  get errored() {
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_errored, "f");
  }
  get aborted() {
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_aborted, "f");
  }
  abort() {
    this.controller.abort();
  }
  /**
   * Adds the listener function to the end of the listeners array for the event.
   * No checks are made to see if the listener has already been added. Multiple calls passing
   * the same combination of event and listener will result in the listener being added, and
   * called, multiple times.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  on(event, listener) {
    const listeners = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_listeners, "f")[event] || (__classPrivateFieldGet2(this, _AbstractChatCompletionRunner_listeners, "f")[event] = []);
    listeners.push({ listener });
    return this;
  }
  /**
   * Removes the specified listener from the listener array for the event.
   * off() will remove, at most, one instance of a listener from the listener array. If any single
   * listener has been added multiple times to the listener array for the specified event, then
   * off() must be called multiple times to remove each instance.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  off(event, listener) {
    const listeners = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_listeners, "f")[event];
    if (!listeners)
      return this;
    const index = listeners.findIndex((l) => l.listener === listener);
    if (index >= 0)
      listeners.splice(index, 1);
    return this;
  }
  /**
   * Adds a one-time listener function for the event. The next time the event is triggered,
   * this listener is removed and then invoked.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  once(event, listener) {
    const listeners = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_listeners, "f")[event] || (__classPrivateFieldGet2(this, _AbstractChatCompletionRunner_listeners, "f")[event] = []);
    listeners.push({ listener, once: true });
    return this;
  }
  /**
   * This is similar to `.once()`, but returns a Promise that resolves the next time
   * the event is triggered, instead of calling a listener callback.
   * @returns a Promise that resolves the next time given event is triggered,
   * or rejects if an error is emitted.  (If you request the 'error' event,
   * returns a promise that resolves with the error).
   *
   * Example:
   *
   *   const message = await stream.emitted('message') // rejects if the stream errors
   */
  emitted(event) {
    return new Promise((resolve, reject) => {
      __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_catchingPromiseCreated, true, "f");
      if (event !== "error")
        this.once("error", reject);
      this.once(event, resolve);
    });
  }
  async done() {
    __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_catchingPromiseCreated, true, "f");
    await __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_endPromise, "f");
  }
  /**
   * @returns a promise that resolves with the final ChatCompletion, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletion.
   */
  async finalChatCompletion() {
    await this.done();
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (!completion)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return completion;
  }
  /**
   * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalContent() {
    await this.done();
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
  }
  /**
   * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,
   * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalMessage() {
    await this.done();
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
  }
  /**
   * @returns a promise that resolves with the content of the final FunctionCall, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalFunctionCall() {
    await this.done();
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
  }
  async finalFunctionCallResult() {
    await this.done();
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
  }
  async totalUsage() {
    await this.done();
    return __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);
  }
  allChatCompletions() {
    return [...this._chatCompletions];
  }
  _emit(event, ...args) {
    if (__classPrivateFieldGet2(this, _AbstractChatCompletionRunner_ended, "f")) {
      return;
    }
    if (event === "end") {
      __classPrivateFieldSet2(this, _AbstractChatCompletionRunner_ended, true, "f");
      __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_resolveEndPromise, "f").call(this);
    }
    const listeners = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_listeners, "f")[event];
    if (listeners) {
      __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_listeners, "f")[event] = listeners.filter((l) => !l.once);
      listeners.forEach(({ listener }) => listener(...args));
    }
    if (event === "abort") {
      const error = args[0];
      if (!__classPrivateFieldGet2(this, _AbstractChatCompletionRunner_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_rejectEndPromise, "f").call(this, error);
      this._emit("end");
      return;
    }
    if (event === "error") {
      const error = args[0];
      if (!__classPrivateFieldGet2(this, _AbstractChatCompletionRunner_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_rejectEndPromise, "f").call(this, error);
      this._emit("end");
    }
  }
  _emitFinal() {
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (completion)
      this._emit("finalChatCompletion", completion);
    const finalMessage = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
    if (finalMessage)
      this._emit("finalMessage", finalMessage);
    const finalContent = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
    if (finalContent)
      this._emit("finalContent", finalContent);
    const finalFunctionCall = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
    if (finalFunctionCall)
      this._emit("finalFunctionCall", finalFunctionCall);
    const finalFunctionCallResult = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
    if (finalFunctionCallResult != null)
      this._emit("finalFunctionCallResult", finalFunctionCallResult);
    if (this._chatCompletions.some((c) => c.usage)) {
      this._emit("totalUsage", __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));
    }
  }
  async _createChatCompletion(completions, params, options) {
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_validateParams).call(this, params);
    const chatCompletion = await completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });
    this._connected();
    return this._addChatCompletion(chatCompletion);
  }
  async _runChatCompletion(completions, params, options) {
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    return await this._createChatCompletion(completions, params, options);
  }
  async _runFunctions(completions, params, options) {
    var _a2;
    const role = "function";
    const { function_call = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof function_call !== "string" && (function_call == null ? void 0 : function_call.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const functionsByName = {};
    for (const f of params.functions) {
      functionsByName[f.name || f.function.name] = f;
    }
    const functions = params.functions.map((f) => ({
      name: f.name || f.function.name,
      parameters: f.parameters,
      description: f.description
    }));
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i = 0; i < maxChatCompletions; ++i) {
      const chatCompletion = await this._createChatCompletion(completions, {
        ...restParams,
        function_call,
        functions,
        messages: [...this.messages]
      }, options);
      const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!message.function_call)
        return;
      const { name, arguments: args } = message.function_call;
      const fn = functionsByName[name];
      if (!fn) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions.map((f) => JSON.stringify(f.name)).join(", ")}. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      } else if (singleFunctionToCall && singleFunctionToCall !== name) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      }
      let parsed;
      try {
        parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
      } catch (error) {
        this._addMessage({
          role,
          name,
          content: error instanceof Error ? error.message : String(error)
        });
        continue;
      }
      const rawContent = await fn.function(parsed, this);
      const content = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
      this._addMessage({ role, name, content });
      if (singleFunctionToCall)
        return;
    }
  }
  async _runTools(completions, params, options) {
    var _a2, _b;
    const role = "tool";
    const { tool_choice = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof tool_choice !== "string" && ((_a2 = tool_choice == null ? void 0 : tool_choice.function) == null ? void 0 : _a2.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const functionsByName = {};
    for (const f of params.tools) {
      if (f.type === "function") {
        functionsByName[f.function.name || f.function.function.name] = f.function;
      }
    }
    const tools = "tools" in params ? params.tools.map((t) => t.type === "function" ? {
      type: "function",
      function: {
        name: t.function.name || t.function.function.name,
        parameters: t.function.parameters,
        description: t.function.description
      }
    } : t) : void 0;
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i = 0; i < maxChatCompletions; ++i) {
      const chatCompletion = await this._createChatCompletion(completions, {
        ...restParams,
        tool_choice,
        tools,
        messages: [...this.messages]
      }, options);
      const message = (_b = chatCompletion.choices[0]) == null ? void 0 : _b.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!message.tool_calls) {
        return;
      }
      for (const tool_call of message.tool_calls) {
        if (tool_call.type !== "function")
          continue;
        const tool_call_id = tool_call.id;
        const { name, arguments: args } = tool_call.function;
        const fn = functionsByName[name];
        if (!fn) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${tools.map((f) => JSON.stringify(f.function.name)).join(", ")}. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        } else if (singleFunctionToCall && singleFunctionToCall !== name) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        let parsed;
        try {
          parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
        } catch (error) {
          const content2 = error instanceof Error ? error.message : String(error);
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        const rawContent = await fn.function(parsed, this);
        const content = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
        this._addMessage({ role, tool_call_id, content });
        if (singleFunctionToCall) {
          return;
        }
      }
    }
    return;
  }
};
_AbstractChatCompletionRunner_connectedPromise = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_resolveConnectedPromise = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_rejectConnectedPromise = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_endPromise = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_resolveEndPromise = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_rejectEndPromise = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_listeners = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_ended = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_errored = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_aborted = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_catchingPromiseCreated = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_handleError = /* @__PURE__ */ new WeakMap(), _AbstractChatCompletionRunner_instances = /* @__PURE__ */ new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent2() {
  var _a2;
  return (_a2 = __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this).content) != null ? _a2 : null;
}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage2() {
  var _a2;
  let i = this.messages.length;
  while (i-- > 0) {
    const message = this.messages[i];
    if (isAssistantMessage(message)) {
      return { ...message, content: (_a2 = message.content) != null ? _a2 : null };
    }
  }
  throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant");
}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall2() {
  var _a2, _b;
  for (let i = this.messages.length - 1; i >= 0; i--) {
    const message = this.messages[i];
    if (isAssistantMessage(message) && (message == null ? void 0 : message.function_call)) {
      return message.function_call;
    }
    if (isAssistantMessage(message) && ((_a2 = message == null ? void 0 : message.tool_calls) == null ? void 0 : _a2.length)) {
      return (_b = message.tool_calls.at(-1)) == null ? void 0 : _b.function;
    }
  }
  return;
}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult2() {
  for (let i = this.messages.length - 1; i >= 0; i--) {
    const message = this.messages[i];
    if (isFunctionMessage(message) && message.content != null) {
      return message.content;
    }
    if (isToolMessage(message) && message.content != null && this.messages.some((x) => {
      var _a2;
      return x.role === "assistant" && ((_a2 = x.tool_calls) == null ? void 0 : _a2.some((y) => y.type === "function" && y.id === message.tool_call_id));
    })) {
      return message.content;
    }
  }
  return;
}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage2() {
  const total = {
    completion_tokens: 0,
    prompt_tokens: 0,
    total_tokens: 0
  };
  for (const { usage } of this._chatCompletions) {
    if (usage) {
      total.completion_tokens += usage.completion_tokens;
      total.prompt_tokens += usage.prompt_tokens;
      total.total_tokens += usage.total_tokens;
    }
  }
  return total;
}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams2(params) {
  if (params.n != null && params.n > 1) {
    throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.");
  }
}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult2(rawContent) {
  return typeof rawContent === "string" ? rawContent : rawContent === void 0 ? "undefined" : JSON.stringify(rawContent);
};

// node_modules/openai/lib/ChatCompletionRunner.mjs
var ChatCompletionRunner = class extends AbstractChatCompletionRunner {
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(completions, params, options) {
    const runner = new ChatCompletionRunner();
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(completions, params, opts));
    return runner;
  }
  static runTools(completions, params, options) {
    const runner = new ChatCompletionRunner();
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(completions, params, opts));
    return runner;
  }
  _addMessage(message) {
    super._addMessage(message);
    if (isAssistantMessage(message) && message.content) {
      this._emit("content", message.content);
    }
  }
};

// node_modules/openai/lib/ChatCompletionStream.mjs
var __classPrivateFieldGet3 = function(receiver, state, kind2, f) {
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f : kind2 === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var __classPrivateFieldSet3 = function(receiver, state, value, kind2, f) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;
};
var _ChatCompletionStream_instances;
var _ChatCompletionStream_currentChatCompletionSnapshot;
var _ChatCompletionStream_beginRequest;
var _ChatCompletionStream_addChunk;
var _ChatCompletionStream_endRequest;
var _ChatCompletionStream_accumulateChatCompletion;
var ChatCompletionStream = class extends AbstractChatCompletionRunner {
  constructor() {
    super(...arguments);
    _ChatCompletionStream_instances.add(this);
    _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);
  }
  get currentChatCompletionSnapshot() {
    return __classPrivateFieldGet3(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
  }
  /**
   * Intended for use on the frontend, consuming a stream produced with
   * `.toReadableStream()` on the backend.
   *
   * Note that messages sent to the model do not appear in `.on('message')`
   * in this context.
   */
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStream();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static createChatCompletion(completions, params, options) {
    const runner = new ChatCompletionStream();
    runner._run(() => runner._runChatCompletion(completions, { ...params, stream: true }, { ...options, headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" } }));
    return runner;
  }
  async _createChatCompletion(completions, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    const stream = await completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const chunk of stream) {
      __classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(__classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    this._connected();
    const stream = Stream.fromReadableStream(readableStream, this.controller);
    let chatId;
    for await (const chunk of stream) {
      if (chatId && chatId !== chunk.id) {
        this._addChatCompletion(__classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
      }
      __classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
      chatId = chunk.id;
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(__classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  [(_ChatCompletionStream_currentChatCompletionSnapshot = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_instances = /* @__PURE__ */ new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet3(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
  }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk2(chunk) {
    var _a2, _b, _c;
    if (this.ended)
      return;
    const completion = __classPrivateFieldGet3(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);
    this._emit("chunk", chunk, completion);
    const delta = (_b = (_a2 = chunk.choices[0]) == null ? void 0 : _a2.delta) == null ? void 0 : _b.content;
    const snapshot = (_c = completion.choices[0]) == null ? void 0 : _c.message;
    if (delta != null && (snapshot == null ? void 0 : snapshot.role) === "assistant" && (snapshot == null ? void 0 : snapshot.content)) {
      this._emit("content", delta, snapshot.content);
    }
  }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest2() {
    if (this.ended) {
      throw new OpenAIError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet3(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    if (!snapshot) {
      throw new OpenAIError(`request ended without sending any chunks`);
    }
    __classPrivateFieldSet3(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
    return finalizeChatCompletion(snapshot);
  }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion2(chunk) {
    var _a3, _b2, _c2, _d;
    var _a2, _b, _c;
    let snapshot = __classPrivateFieldGet3(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    const { choices, ...rest } = chunk;
    if (!snapshot) {
      snapshot = __classPrivateFieldSet3(this, _ChatCompletionStream_currentChatCompletionSnapshot, {
        ...rest,
        choices: []
      }, "f");
    } else {
      Object.assign(snapshot, rest);
    }
    for (const { delta, finish_reason, index, logprobs = null, ...other } of chunk.choices) {
      let choice = snapshot.choices[index];
      if (!choice) {
        snapshot.choices[index] = { finish_reason, index, message: delta, logprobs, ...other };
        continue;
      }
      if (logprobs) {
        if (!choice.logprobs) {
          choice.logprobs = logprobs;
        } else if (logprobs.content) {
          (_a3 = (_a2 = choice.logprobs).content) != null ? _a3 : _a2.content = [];
          choice.logprobs.content.push(...logprobs.content);
        }
      }
      if (finish_reason)
        choice.finish_reason = finish_reason;
      Object.assign(choice, other);
      if (!delta)
        continue;
      const { content, function_call, role, tool_calls } = delta;
      if (content)
        choice.message.content = (choice.message.content || "") + content;
      if (role)
        choice.message.role = role;
      if (function_call) {
        if (!choice.message.function_call) {
          choice.message.function_call = function_call;
        } else {
          if (function_call.name)
            choice.message.function_call.name = function_call.name;
          if (function_call.arguments) {
            (_b2 = (_b = choice.message.function_call).arguments) != null ? _b2 : _b.arguments = "";
            choice.message.function_call.arguments += function_call.arguments;
          }
        }
      }
      if (tool_calls) {
        if (!choice.message.tool_calls)
          choice.message.tool_calls = [];
        for (const { index: index2, id, type, function: fn } of tool_calls) {
          const tool_call = (_c2 = (_c = choice.message.tool_calls)[index2]) != null ? _c2 : _c[index2] = {};
          if (id)
            tool_call.id = id;
          if (type)
            tool_call.type = type;
          if (fn)
            (_d = tool_call.function) != null ? _d : tool_call.function = { arguments: "" };
          if (fn == null ? void 0 : fn.name)
            tool_call.function.name = fn.name;
          if (fn == null ? void 0 : fn.arguments)
            tool_call.function.arguments += fn.arguments;
        }
      }
    }
    return snapshot;
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("chunk", (chunk) => {
      const reader = readQueue.shift();
      if (reader) {
        reader(chunk);
      } else {
        pushQueue.push(chunk);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader(void 0);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve) => readQueue.push(resolve)).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      }
    };
  }
  toReadableStream() {
    const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
};
function finalizeChatCompletion(snapshot) {
  const { id, choices, created, model } = snapshot;
  return {
    id,
    choices: choices.map(({ message, finish_reason, index, logprobs }) => {
      if (!finish_reason)
        throw new OpenAIError(`missing finish_reason for choice ${index}`);
      const { content = null, function_call, tool_calls } = message;
      const role = message.role;
      if (!role)
        throw new OpenAIError(`missing role for choice ${index}`);
      if (function_call) {
        const { arguments: args, name } = function_call;
        if (args == null)
          throw new OpenAIError(`missing function_call.arguments for choice ${index}`);
        if (!name)
          throw new OpenAIError(`missing function_call.name for choice ${index}`);
        return {
          message: { content, function_call: { arguments: args, name }, role },
          finish_reason,
          index,
          logprobs
        };
      }
      if (tool_calls) {
        return {
          index,
          finish_reason,
          logprobs,
          message: {
            role,
            content,
            tool_calls: tool_calls.map((tool_call, i) => {
              const { function: fn, type, id: id2 } = tool_call;
              const { arguments: args, name } = fn || {};
              if (id2 == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].id
${str(snapshot)}`);
              if (type == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].type
${str(snapshot)}`);
              if (name == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name
${str(snapshot)}`);
              if (args == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments
${str(snapshot)}`);
              return { id: id2, type, function: { name, arguments: args } };
            })
          }
        };
      }
      return { message: { content, role }, finish_reason, index, logprobs };
    }),
    created,
    model,
    object: "chat.completion"
  };
}
function str(x) {
  return JSON.stringify(x);
}

// node_modules/openai/lib/ChatCompletionStreamingRunner.mjs
var ChatCompletionStreamingRunner = class extends ChatCompletionStream {
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStreamingRunner();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(completions, params, options) {
    const runner = new ChatCompletionStreamingRunner();
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(completions, params, opts));
    return runner;
  }
  static runTools(completions, params, options) {
    const runner = new ChatCompletionStreamingRunner();
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(completions, params, opts));
    return runner;
  }
};

// node_modules/openai/resources/beta/chat/completions.mjs
var Completions2 = class extends APIResource {
  runFunctions(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runFunctions(this._client.chat.completions, body, options);
    }
    return ChatCompletionRunner.runFunctions(this._client.chat.completions, body, options);
  }
  runTools(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runTools(this._client.chat.completions, body, options);
    }
    return ChatCompletionRunner.runTools(this._client.chat.completions, body, options);
  }
  /**
   * Creates a chat completion stream
   */
  stream(body, options) {
    return ChatCompletionStream.createChatCompletion(this._client.chat.completions, body, options);
  }
};

// node_modules/openai/resources/beta/chat/chat.mjs
var Chat2 = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions2(this._client);
  }
};
(function(Chat3) {
  Chat3.Completions = Completions2;
})(Chat2 || (Chat2 = {}));

// node_modules/openai/resources/beta/threads/messages/files.mjs
var Files2 = class extends APIResource {
  /**
   * Retrieves a message file.
   */
  retrieve(threadId, messageId, fileId, options) {
    return this._client.get(`/threads/${threadId}/messages/${messageId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, messageId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, messageId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/messages/${messageId}/files`, MessageFilesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
};
var MessageFilesPage = class extends CursorPage {
};
(function(Files4) {
  Files4.MessageFilesPage = MessageFilesPage;
})(Files2 || (Files2 = {}));

// node_modules/openai/resources/beta/threads/messages/messages.mjs
var Messages = class extends APIResource {
  constructor() {
    super(...arguments);
    this.files = new Files2(this._client);
  }
  /**
   * Create a message.
   */
  create(threadId, body, options) {
    return this._client.post(`/threads/${threadId}/messages`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieve a message.
   */
  retrieve(threadId, messageId, options) {
    return this._client.get(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a message.
   */
  update(threadId, messageId, body, options) {
    return this._client.post(`/threads/${threadId}/messages/${messageId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/messages`, ThreadMessagesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
};
var ThreadMessagesPage = class extends CursorPage {
};
(function(Messages2) {
  Messages2.ThreadMessagesPage = ThreadMessagesPage;
  Messages2.Files = Files2;
  Messages2.MessageFilesPage = MessageFilesPage;
})(Messages || (Messages = {}));

// node_modules/openai/resources/beta/threads/runs/steps.mjs
var Steps = class extends APIResource {
  /**
   * Retrieves a run step.
   */
  retrieve(threadId, runId, stepId, options) {
    return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, runId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, runId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
};
var RunStepsPage = class extends CursorPage {
};
(function(Steps2) {
  Steps2.RunStepsPage = RunStepsPage;
})(Steps || (Steps = {}));

// node_modules/openai/resources/beta/threads/runs/runs.mjs
var Runs = class extends APIResource {
  constructor() {
    super(...arguments);
    this.steps = new Steps(this._client);
  }
  /**
   * Create a run.
   */
  create(threadId, body, options) {
    return this._client.post(`/threads/${threadId}/runs`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a run.
   */
  retrieve(threadId, runId, options) {
    return this._client.get(`/threads/${threadId}/runs/${runId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a run.
   */
  update(threadId, runId, body, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Cancels a run that is `in_progress`.
   */
  cancel(threadId, runId, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * When a run has the `status: "requires_action"` and `required_action.type` is
   * `submit_tool_outputs`, this endpoint can be used to submit the outputs from the
   * tool calls once they're all completed. All outputs must be submitted in a single
   * request.
   */
  submitToolOutputs(threadId, runId, body, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
};
var RunsPage = class extends CursorPage {
};
(function(Runs2) {
  Runs2.RunsPage = RunsPage;
  Runs2.Steps = Steps;
  Runs2.RunStepsPage = RunStepsPage;
})(Runs || (Runs = {}));

// node_modules/openai/resources/beta/threads/threads.mjs
var Threads = class extends APIResource {
  constructor() {
    super(...arguments);
    this.runs = new Runs(this._client);
    this.messages = new Messages(this._client);
  }
  create(body = {}, options) {
    if (isRequestOptions(body)) {
      return this.create({}, body);
    }
    return this._client.post("/threads", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a thread.
   */
  retrieve(threadId, options) {
    return this._client.get(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a thread.
   */
  update(threadId, body, options) {
    return this._client.post(`/threads/${threadId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a thread.
   */
  del(threadId, options) {
    return this._client.delete(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Create a thread and run it in one request.
   */
  createAndRun(body, options) {
    return this._client.post("/threads/runs", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v1", ...options == null ? void 0 : options.headers }
    });
  }
};
(function(Threads2) {
  Threads2.Runs = Runs;
  Threads2.RunsPage = RunsPage;
  Threads2.Messages = Messages;
  Threads2.ThreadMessagesPage = ThreadMessagesPage;
})(Threads || (Threads = {}));

// node_modules/openai/resources/beta/beta.mjs
var Beta = class extends APIResource {
  constructor() {
    super(...arguments);
    this.chat = new Chat2(this._client);
    this.assistants = new Assistants(this._client);
    this.threads = new Threads(this._client);
  }
};
(function(Beta2) {
  Beta2.Chat = Chat2;
  Beta2.Assistants = Assistants;
  Beta2.AssistantsPage = AssistantsPage;
  Beta2.Threads = Threads;
})(Beta || (Beta = {}));

// node_modules/openai/resources/completions.mjs
var Completions3 = class extends APIResource {
  create(body, options) {
    var _a2;
    return this._client.post("/completions", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false });
  }
};
(function(Completions4) {
})(Completions3 || (Completions3 = {}));

// node_modules/openai/resources/embeddings.mjs
var Embeddings = class extends APIResource {
  /**
   * Creates an embedding vector representing the input text.
   */
  create(body, options) {
    return this._client.post("/embeddings", { body, ...options });
  }
};
(function(Embeddings2) {
})(Embeddings || (Embeddings = {}));

// node_modules/openai/resources/files.mjs
var Files3 = class extends APIResource {
  /**
   * Upload a file that can be used across various endpoints. The size of all the
   * files uploaded by one organization can be up to 100 GB.
   *
   * The size of individual files can be a maximum of 512 MB or 2 million tokens for
   * Assistants. See the
   * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) to
   * learn more about the types of files supported. The Fine-tuning API only supports
   * `.jsonl` files.
   *
   * Please [contact us](https://help.openai.com/) if you need to increase these
   * storage limits.
   */
  create(body, options) {
    return this._client.post("/files", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Returns information about a specific file.
   */
  retrieve(fileId, options) {
    return this._client.get(`/files/${fileId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/files", FileObjectsPage, { query, ...options });
  }
  /**
   * Delete a file.
   */
  del(fileId, options) {
    return this._client.delete(`/files/${fileId}`, options);
  }
  /**
   * Returns the contents of the specified file.
   */
  content(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, { ...options, __binaryResponse: true });
  }
  /**
   * Returns the contents of the specified file.
   *
   * @deprecated The `.content()` method should be used instead
   */
  retrieveContent(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, {
      ...options,
      headers: { Accept: "application/json", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Waits for the given file to be processed, default timeout is 30 mins.
   */
  async waitForProcessing(id, { pollInterval = 5e3, maxWait = 30 * 60 * 1e3 } = {}) {
    const TERMINAL_STATES = /* @__PURE__ */ new Set(["processed", "error", "deleted"]);
    const start = Date.now();
    let file = await this.retrieve(id);
    while (!file.status || !TERMINAL_STATES.has(file.status)) {
      await sleep(pollInterval);
      file = await this.retrieve(id);
      if (Date.now() - start > maxWait) {
        throw new APIConnectionTimeoutError({
          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`
        });
      }
    }
    return file;
  }
};
var FileObjectsPage = class extends Page {
};
(function(Files4) {
  Files4.FileObjectsPage = FileObjectsPage;
})(Files3 || (Files3 = {}));

// node_modules/openai/resources/fine-tuning/jobs.mjs
var Jobs = class extends APIResource {
  /**
   * Creates a fine-tuning job which begins the process of creating a new model from
   * a given dataset.
   *
   * Response includes details of the enqueued job including job status and the name
   * of the fine-tuned models once complete.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  create(body, options) {
    return this._client.post("/fine_tuning/jobs", { body, ...options });
  }
  /**
   * Get info about a fine-tuning job.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  retrieve(fineTuningJobId, options) {
    return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/fine_tuning/jobs", FineTuningJobsPage, { query, ...options });
  }
  /**
   * Immediately cancel a fine-tune job.
   */
  cancel(fineTuningJobId, options) {
    return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);
  }
  listEvents(fineTuningJobId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.listEvents(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {
      query,
      ...options
    });
  }
};
var FineTuningJobsPage = class extends CursorPage {
};
var FineTuningJobEventsPage = class extends CursorPage {
};
(function(Jobs2) {
  Jobs2.FineTuningJobsPage = FineTuningJobsPage;
  Jobs2.FineTuningJobEventsPage = FineTuningJobEventsPage;
})(Jobs || (Jobs = {}));

// node_modules/openai/resources/fine-tuning/fine-tuning.mjs
var FineTuning = class extends APIResource {
  constructor() {
    super(...arguments);
    this.jobs = new Jobs(this._client);
  }
};
(function(FineTuning2) {
  FineTuning2.Jobs = Jobs;
  FineTuning2.FineTuningJobsPage = FineTuningJobsPage;
  FineTuning2.FineTuningJobEventsPage = FineTuningJobEventsPage;
})(FineTuning || (FineTuning = {}));

// node_modules/openai/resources/images.mjs
var Images = class extends APIResource {
  /**
   * Creates a variation of a given image.
   */
  createVariation(body, options) {
    return this._client.post("/images/variations", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an edited or extended image given an original image and a prompt.
   */
  edit(body, options) {
    return this._client.post("/images/edits", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an image given a prompt.
   */
  generate(body, options) {
    return this._client.post("/images/generations", { body, ...options });
  }
};
(function(Images2) {
})(Images || (Images = {}));

// node_modules/openai/resources/models.mjs
var Models = class extends APIResource {
  /**
   * Retrieves a model instance, providing basic information about the model such as
   * the owner and permissioning.
   */
  retrieve(model, options) {
    return this._client.get(`/models/${model}`, options);
  }
  /**
   * Lists the currently available models, and provides basic information about each
   * one such as the owner and availability.
   */
  list(options) {
    return this._client.getAPIList("/models", ModelsPage, options);
  }
  /**
   * Delete a fine-tuned model. You must have the Owner role in your organization to
   * delete a model.
   */
  del(model, options) {
    return this._client.delete(`/models/${model}`, options);
  }
};
var ModelsPage = class extends Page {
};
(function(Models2) {
  Models2.ModelsPage = ModelsPage;
})(Models || (Models = {}));

// node_modules/openai/resources/moderations.mjs
var Moderations = class extends APIResource {
  /**
   * Classifies if text violates OpenAI's Content Policy
   */
  create(body, options) {
    return this._client.post("/moderations", { body, ...options });
  }
};
(function(Moderations2) {
})(Moderations || (Moderations = {}));

// node_modules/openai/index.mjs
var _a;
var OpenAI = class extends APIClient {
  /**
   * API Client for interfacing with the OpenAI API.
   *
   * @param {string} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]
   * @param {string | null} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]
   * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.
   * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.
   * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.
   * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.
   * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.
   * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.
   * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.
   * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.
   */
  constructor({ baseURL = readEnv("OPENAI_BASE_URL"), apiKey = readEnv("OPENAI_API_KEY"), organization = ((_a2) => (_a2 = readEnv("OPENAI_ORG_ID")) != null ? _a2 : null)(), ...opts } = {}) {
    var _a3;
    if (apiKey === void 0) {
      throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");
    }
    const options = {
      apiKey,
      organization,
      ...opts,
      baseURL: baseURL || `https://api.openai.com/v1`
    };
    if (!options.dangerouslyAllowBrowser && isRunningInBrowser()) {
      throw new OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");
    }
    super({
      baseURL: options.baseURL,
      timeout: (_a3 = options.timeout) != null ? _a3 : 6e5,
      httpAgent: options.httpAgent,
      maxRetries: options.maxRetries,
      fetch: options.fetch
    });
    this.completions = new Completions3(this);
    this.chat = new Chat(this);
    this.embeddings = new Embeddings(this);
    this.files = new Files3(this);
    this.images = new Images(this);
    this.audio = new Audio(this);
    this.moderations = new Moderations(this);
    this.models = new Models(this);
    this.fineTuning = new FineTuning(this);
    this.beta = new Beta(this);
    this._options = options;
    this.apiKey = apiKey;
    this.organization = organization;
  }
  defaultQuery() {
    return this._options.defaultQuery;
  }
  defaultHeaders(opts) {
    return {
      ...super.defaultHeaders(opts),
      "OpenAI-Organization": this.organization,
      ...this._options.defaultHeaders
    };
  }
  authHeaders(opts) {
    return { Authorization: `Bearer ${this.apiKey}` };
  }
};
_a = OpenAI;
OpenAI.OpenAI = _a;
OpenAI.OpenAIError = OpenAIError;
OpenAI.APIError = APIError;
OpenAI.APIConnectionError = APIConnectionError;
OpenAI.APIConnectionTimeoutError = APIConnectionTimeoutError;
OpenAI.APIUserAbortError = APIUserAbortError;
OpenAI.NotFoundError = NotFoundError;
OpenAI.ConflictError = ConflictError;
OpenAI.RateLimitError = RateLimitError;
OpenAI.BadRequestError = BadRequestError;
OpenAI.AuthenticationError = AuthenticationError;
OpenAI.InternalServerError = InternalServerError;
OpenAI.PermissionDeniedError = PermissionDeniedError;
OpenAI.UnprocessableEntityError = UnprocessableEntityError;
var { OpenAIError: OpenAIError2, APIError: APIError2, APIConnectionError: APIConnectionError2, APIConnectionTimeoutError: APIConnectionTimeoutError2, APIUserAbortError: APIUserAbortError2, NotFoundError: NotFoundError2, ConflictError: ConflictError2, RateLimitError: RateLimitError2, BadRequestError: BadRequestError2, AuthenticationError: AuthenticationError2, InternalServerError: InternalServerError2, PermissionDeniedError: PermissionDeniedError2, UnprocessableEntityError: UnprocessableEntityError2 } = error_exports;
(function(OpenAI2) {
  OpenAI2.toFile = toFile;
  OpenAI2.fileFromPath = fileFromPath;
  OpenAI2.Page = Page;
  OpenAI2.CursorPage = CursorPage;
  OpenAI2.Completions = Completions3;
  OpenAI2.Chat = Chat;
  OpenAI2.Embeddings = Embeddings;
  OpenAI2.Files = Files3;
  OpenAI2.FileObjectsPage = FileObjectsPage;
  OpenAI2.Images = Images;
  OpenAI2.Audio = Audio;
  OpenAI2.Moderations = Moderations;
  OpenAI2.Models = Models;
  OpenAI2.ModelsPage = ModelsPage;
  OpenAI2.FineTuning = FineTuning;
  OpenAI2.Beta = Beta;
})(OpenAI || (OpenAI = {}));
var openai_default = OpenAI;

// src/logger.ts
var import_obsidian2 = require("obsidian");
var import_winston = __toESM(require_winston());
var import_winston_transport = __toESM(require_dist());
var ObsidianNoticeTransport = class extends import_winston_transport.default {
  constructor(opts) {
    super(opts);
  }
  log(info, callback) {
    setImmediate(() => {
      this.emit("logged", info);
    });
    new import_obsidian2.Notice(`ERROR ("auto-anki" plugin)
${info.message}`, 0);
    callback();
  }
};
var logger = (0, import_winston.createLogger)({
  level: "info",
  format: import_winston.format.json(),
  transports: [
    // new transports.File({ filename: `${logDir}/error.log`, level: 'error' }),
    // new transports.File({ filename: `${logDir}/combined.log` })
  ]
});
logger.add(new ObsidianNoticeTransport({ level: "error" }));
if (true) {
  logger.add(new import_winston.transports.Console({
    format: import_winston.format.simple()
  }));
}
var logger_default = logger;

// src/utils/gpt.ts
function checkGpt(openAiKey) {
  if (openAiKey === "") {
    logger_default.log({
      level: "error",
      message: "OpenAI API key not provided! Please go to your 'Auto Anki' settings to set an API key."
    });
    return false;
  }
  return true;
}
var SAMPLE_NOTE = `A numeral system is a writing system for expressing numbers. It is a mathematical notation for representing numbers of a given set, using digits or other symbols in a consistent manner.

Ideally, a numeral system will:
- represent a useful set of numbers (eg: integers, rational numbers)
- give every number represented a unique representation
- reflect the algebraic and arithmetic structure of the numbers

#### Positional Notation
> also known as the "place-value notation"

Uses a **radix**/**base** (eg: base 10) to indicate the number of unique *digits* that are used to represent numbers in a position until the position of the digit is used to signify a power of the *base* number.

- Positional Systems with Base 2: [[Binary Numeral System]]
- Positional Systems with Base 8: Octal Numeral System
- Positional Systems with Base 10: Decimal Numeral System
- Positional Systems with Base 12: Duodecimal (dozenal) Numeral System
- Positional Systems with Base 16: Hexadecimal Numeral System
- Positional Systems with Base 20: Vigesimal Numeral System
- Positional Systems with Base 60: Sexagesimal Numeral System
`;
var SAMPLE_OUTPUT = [
  { q: "What is a numeral system?", a: "A numeral system is a writing system for expressing numbers, using digits or other symbols in a consistent manner." },
  { q: "What is the goal of a numeral system?", a: "The goal of a numeral system is to represent a useful set of numbers (eg: integers, rational numbers), give every number represented a unique representation, and reflect the algebraic and arithmetic structure of the numbers." },
  { q: "What is a positional notation also known as?", a: "Place-value Notation" },
  { q: "What is a radix/base used for in the context of positional notation?", a: "To indicate the number of unique digits that are used to represent numbers in a position until the position of the digit is used to signify a power of the base number" },
  { q: "What numeral system uses a base of 2?", a: "Binary Numeral System" },
  { q: "What numeral system uses a base of 8?", a: "Octal Numeral System" },
  { q: "What numeral system uses a base of 10?", a: "Decimal Numeral System" },
  { q: "What numeral system uses a base of 12?", a: "Duodecimal Numeral System" },
  { q: "What numeral system uses a base of 16?", a: "Hexadecimal Numeral System" },
  { q: "What numeral system uses a base of 20?", a: "Vigesimal Numeral System" },
  { q: "What numeral system uses a base of 60?", a: "Sexagesimal Numeral System" },
  { q: "What is binary number representation?", a: "Binary number representation is a number expressed in the base-2 numeral system or binary numeral system." }
  // { q: '', a: '' },
];
function generateRepeatedSampleOutput(num) {
  if (num < SAMPLE_OUTPUT.length)
    return SAMPLE_OUTPUT.slice(0, num);
  let count = 0;
  const output = [];
  while (count < num) {
    output.push(...SAMPLE_OUTPUT);
    count += SAMPLE_OUTPUT.length;
  }
  return output.slice(0, num);
}
function createMessages(notes, num) {
  const messages = [];
  messages.push({
    role: "system",
    content: `You will be provided notes on a specific topic. The notes are formatted in markdown. Based on the given notes, make a list of ${num} questions and short answers that can be used for reviewing said notes by spaced repetition. Use the following guidelines:
        - output the questions and answers in the following JSON format { "questions_answers": [{ "q": "<generated question>", "a": "<generated answer>" }] }
        - ensure that the questions cover the entire portion of the given notes, do not come up with similar questions or repeat the same questions
    `
  });
  messages.push({
    role: "user",
    content: SAMPLE_NOTE
  });
  messages.push({
    role: "assistant",
    content: JSON.stringify({
      "questions_answers": generateRepeatedSampleOutput(num)
    })
  });
  console.log({
    "questions_answers": generateRepeatedSampleOutput(num)
  });
  messages.push({
    role: "user",
    content: `
${notes.trim()}
`
  });
  return messages;
}
async function convertNotesToFlashcards(apiKey, notes, num_q, num, options) {
  let response;
  try {
    const client = new openai_default({ apiKey, dangerouslyAllowBrowser: true });
    const {
      max_tokens_per_question: tokensPerQuestion,
      ...completionOptions
    } = options;
    response = await client.chat.completions.create({
      ...completionOptions,
      model: "gpt-3.5-turbo-1106",
      messages: createMessages(notes, num_q),
      max_tokens: tokensPerQuestion * num_q,
      n: num,
      stream: false,
      response_format: { type: "json_object" }
    });
  } catch (err) {
    if (!err.response) {
      logger_default.log({
        level: "error",
        message: `Could not connect to OpenAI! ${err.message}`
      });
    } else {
      const errStatus = err.response.status;
      const errBody = err.response.data;
      let supportingMessage = `(${errBody.error.code}) ${errBody.error.message}`;
      if (errStatus === 401) {
        supportingMessage = "Check that your API Key is correct/valid!";
      }
      logger_default.log({
        level: "error",
        message: `ERR ${errStatus}: Could not connect to OpenAI! ${supportingMessage}`
      });
    }
    return [];
  }
  try {
    const card_choices = [];
    logger_default.log({
      level: "info",
      message: `Generated ${response.choices.length} choices!`
    });
    response.choices.forEach((set, idx) => {
      var _a2;
      const content = (_a2 = set.message.content) != null ? _a2 : "";
      logger_default.log({
        level: "info",
        message: content
      });
      const parsedContent = JSON.parse(content);
      if (parsedContent["questions_answers"] === void 0)
        throw "";
      logger_default.log({
        level: "info",
        message: `Choice ${idx}: generated ${parsedContent["questions_answers"].length} questions and answers`
      });
      card_choices.push(parsedContent["questions_answers"]);
    });
    return card_choices;
  } catch (err) {
    logger_default.log({
      level: "error",
      message: `Something happened while parsing OpenAI output! Please contact a developer for more support.`
    });
    return [];
  }
}

// src/modal.ts
function checkValidNumGreaterThanZero(text, inclusiveZero) {
  if (typeof text == "string" && text === "")
    return false;
  if (isNaN(+text))
    return false;
  return inclusiveZero ? +text >= 0 : +text > 0;
}
var ExportModal = class extends import_obsidian3.Modal {
  constructor(app, statusBar, data, openAiApiKey, ankiConnectPort, ankiDestinationDeck, gptAdvancedOptions, dafaultNumQuestions, defaultNumAlternatives) {
    super(app);
    this.statusBar = statusBar;
    this.data = data;
    this.apiKey = openAiApiKey;
    this.port = ankiConnectPort;
    this.deck = ankiDestinationDeck;
    this.gptAdvancedOptions = gptAdvancedOptions;
    this.n_q = dafaultNumQuestions != null ? dafaultNumQuestions : 5;
    this.n_q_valid = checkValidNumGreaterThanZero(this.n_q);
    this.n_alt = defaultNumAlternatives != null ? defaultNumAlternatives : 3;
    this.n_alt_valid = checkValidNumGreaterThanZero(this.n_alt, true);
  }
  async onOpen() {
    const { contentEl } = this;
    const isAnkiAvailable = await checkAnkiAvailability(this.port);
    if (this.statusBar.doDisplayError && !isAnkiAvailable)
      this.statusBar.doDisplayError();
    if (this.statusBar.doReset && isAnkiAvailable)
      this.statusBar.doReset();
    if (!isAnkiAvailable)
      return this.close();
    const ankiCheck = await checkAnkiDecksExist(this.port);
    if (this.statusBar.doDisplayError && !ankiCheck)
      this.statusBar.doDisplayError();
    if (this.statusBar.doReset && ankiCheck)
      this.statusBar.doReset();
    if (!ankiCheck)
      return this.close();
    contentEl.createEl("h1", { text: "How many questions should be generated?" });
    new import_obsidian3.Setting(contentEl).setName("Number of Questions").addText(
      (text) => text.setValue(String(this.n_q)).onChange((value) => {
        this.n_q_valid = checkValidNumGreaterThanZero(value);
        this.n_q = Number(value);
      })
    );
    new import_obsidian3.Setting(contentEl).setName("Number of Alternatives").setDesc("Generate multiple versions of questions and choose your favorite ones!").addText(
      (text) => text.setValue(String(this.n_alt)).onChange((value) => {
        this.n_alt_valid = checkValidNumGreaterThanZero(value, true);
        this.n_alt = Number(value);
      })
    );
    new import_obsidian3.Setting(contentEl).addButton(
      (btn) => btn.setButtonText("Generate Cards").setCta().onClick(async () => {
        if (!this.n_q_valid || !this.n_alt_valid) {
          new import_obsidian3.Notice("An invalid number was entered!");
          return;
        }
        this.close();
        let isRequestValid = false;
        isRequestValid = checkGpt(this.apiKey);
        if (!isRequestValid)
          return;
        if (this.statusBar.doDisplayRunning)
          this.statusBar.doDisplayRunning();
        const card_sets = await convertNotesToFlashcards(
          this.apiKey,
          this.data,
          this.n_q,
          this.n_alt + 1,
          this.gptAdvancedOptions
        );
        if (this.statusBar.doReset)
          this.statusBar.doReset();
        if (card_sets.length === 0)
          return;
        new ChoiceModal(
          this.app,
          card_sets,
          // SAMPLE_CARD_INFORMATION,
          this.port,
          this.deck,
          this.n_q,
          this.n_alt > 0
        ).open();
      })
    );
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var QuestionSetWithSelections = class {
  constructor(questions, onChangeCallback, selectAllOnInit) {
    this.questions = questions;
    if (selectAllOnInit)
      this.selected = /* @__PURE__ */ new Set([...Array(questions.length).keys()]);
    else
      this.selected = /* @__PURE__ */ new Set([]);
    this.renderFunc = onChangeCallback;
  }
  renderHtmlList() {
    const htmlList = createEl("ul", { cls: "question-options-container" });
    const convenienceButtons = createEl("div", { cls: "question-options__buttons" });
    const selectAllButton = convenienceButtons.createEl("button", { text: "Select All" });
    selectAllButton.onclick = (e) => {
      this.selectAll();
    };
    const deselectAllButton = convenienceButtons.createEl("button", { text: "Deselect All" });
    deselectAllButton.onclick = (e) => {
      this.deselectAll();
    };
    htmlList.appendChild(convenienceButtons);
    this.questions.forEach((q, idx) => {
      const htmlQuestion = createEl("li");
      htmlQuestion.appendChild(createEl("h3", { text: q.q }));
      htmlQuestion.appendChild(createEl("p", { text: q.a }));
      if (this.selected.has(idx)) {
        htmlQuestion.className = "question-option --selected";
      } else {
        htmlQuestion.className = "question-option";
      }
      htmlQuestion.onclick = () => {
        this.toggleSelect(idx);
      };
      htmlList.appendChild(htmlQuestion);
    });
    return htmlList;
  }
  toggleSelect(idx) {
    if (this.selected.has(idx)) {
      this.selected.delete(idx);
    } else {
      this.selected.add(idx);
    }
    this.renderFunc();
  }
  selectAll() {
    this.questions.forEach((q, idx) => {
      if (this.selected.has(idx))
        return;
      this.selected.add(idx);
    });
    this.renderFunc();
  }
  deselectAll() {
    this.selected.clear();
    this.renderFunc();
  }
  extractSelectedQuesions() {
    return this.questions.filter((val, idx) => this.selected.has(idx));
  }
};
var ChoiceModal = class extends import_obsidian3.Modal {
  constructor(app, card_sets, port, deck, n_q, has_alternatives) {
    super(app);
    this.renderContent = this.renderContent.bind(this);
    this.card_sets = card_sets;
    this.port = port;
    this.deck = deck;
    this.curr_set = 0;
    this.question_sets = [];
    if (has_alternatives) {
      this.n_sets = n_q;
      for (let i = 0; i < n_q; i++) {
        const question_choices = [];
        card_sets.forEach((set) => {
          if (i < set.length)
            question_choices.push(set[i]);
        });
        this.question_sets.push(
          new QuestionSetWithSelections(question_choices, this.renderContent)
        );
      }
    } else {
      this.n_sets = 1;
      this.question_sets.push(
        new QuestionSetWithSelections(card_sets[0], this.renderContent)
      );
    }
  }
  renderContent() {
    const { contentEl } = this;
    contentEl.innerHTML = "";
    if (this.n_sets === 1) {
      contentEl.createEl("h1", { text: "Questions List" });
    } else {
      contentEl.createEl("h1", { text: `Question Set No. ${this.curr_set + 1}` });
    }
    contentEl.createEl("p", { text: "Pick one or more of the questions below you want to export to Anki." });
    const htmlList = this.question_sets[this.curr_set].renderHtmlList();
    contentEl.appendChild(htmlList);
    if (this.n_sets > 1) {
      const htmlButtons = createEl("div", { cls: "modal-buttons" });
      new import_obsidian3.Setting(htmlButtons).addButton(
        (btn) => btn.setButtonText("Previous").setCta().setClass(this.curr_set === 0 ? "disabled" : "enabled").setDisabled(this.curr_set === 0).onClick(() => {
          this.curr_set -= 1;
          this.renderContent();
        })
      );
      if (this.curr_set < this.n_sets - 1) {
        new import_obsidian3.Setting(htmlButtons).addButton(
          (btn) => btn.setButtonText("Next").setCta().onClick(() => {
            this.curr_set += 1;
            this.renderContent();
          })
        );
      } else {
        new import_obsidian3.Setting(htmlButtons).addButton(
          (btn) => btn.setButtonText("Confirm Selection").setCta().onClick(async () => {
            this.close();
            const allSelectedCards = [];
            this.question_sets.forEach((set) => {
              const selectedCards = set.extractSelectedQuesions();
              allSelectedCards.push(...selectedCards);
            });
            new AnkiDeckModal(
              this.app,
              this.port,
              this.deck,
              allSelectedCards
            ).open();
          })
        );
      }
      contentEl.appendChild(htmlButtons);
    } else {
      new import_obsidian3.Setting(contentEl).addButton(
        (btn) => btn.setButtonText("Confirm Selection").setCta().onClick(async () => {
          this.close();
          const allSelectedCards = [];
          this.question_sets.forEach((set) => {
            const selectedCards = set.extractSelectedQuesions();
            allSelectedCards.push(...selectedCards);
          });
          new AnkiDeckModal(
            this.app,
            this.port,
            this.deck,
            allSelectedCards
          ).open();
        })
      );
    }
  }
  onOpen() {
    this.renderContent();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var AnkiDeckModal = class extends import_obsidian3.Modal {
  constructor(app, port, defaultDeck, allSelectedCards) {
    super(app);
    this.renderContent = this.renderContent.bind(this);
    this.port = port;
    this.selectedDeck = defaultDeck;
    this.cardsToExport = allSelectedCards;
    this.isDataFetched = false;
  }
  async fetchData() {
    const fetchedDecks = await getAnkiDecks(this.port);
    this.decks = fetchedDecks;
    this.isDataFetched = true;
    if (this.selectedDeck === "" && fetchedDecks.length > 0) {
      this.selectedDeck = fetchedDecks[0];
    }
  }
  renderHtmlList() {
    const htmlList = createEl("ul", { cls: "deck-options-container" });
    const convenienceButtons = createEl("div", { cls: "deck-options__buttons" });
    htmlList.appendChild(convenienceButtons);
    this.decks.forEach((d) => {
      const htmlDeck = createEl("li");
      htmlDeck.appendChild(createEl("h3", { text: d }));
      if (this.selectedDeck === d) {
        htmlDeck.className = "deck-option --selected";
      } else {
        htmlDeck.className = "deck-option";
      }
      htmlDeck.onclick = () => {
        this.selectedDeck = d;
        this.renderContent();
      };
      htmlList.appendChild(htmlDeck);
    });
    return htmlList;
  }
  renderContent() {
    const { contentEl } = this;
    contentEl.innerHTML = "";
    contentEl.createEl("h1", { text: "Anki Decks" });
    if (!this.isDataFetched) {
      const centerContainer = contentEl.createEl("div", { cls: "error-notice" });
      centerContainer.createEl("h4", { text: "loading data..." });
      return;
    }
    if (this.decks.length === 0) {
      const centerContainer = contentEl.createEl("div", { cls: "error-notice" });
      centerContainer.createEl("h4", { text: "Either an error occured or no Anki decks were found" });
      const refreshButton = centerContainer.createEl("button", { text: "Refresh" });
      refreshButton.onclick = async () => {
        this.renderContent();
        await this.fetchData();
        this.renderContent();
      };
      return;
    }
    contentEl.createEl("p", { text: "Pick one of the following available Anki decks to export to." });
    const htmlList = this.renderHtmlList();
    contentEl.appendChild(htmlList);
    new import_obsidian3.Setting(contentEl).addButton(
      (btn) => btn.setButtonText("Confirm and Export").setDisabled(this.selectedDeck === "").setCta().onClick(async () => {
        if (this.selectedDeck === "")
          return;
        this.close();
        exportToAnki(
          this.cardsToExport,
          this.port,
          this.selectedDeck
        );
      })
    );
  }
  async onOpen() {
    this.renderContent();
    await this.fetchData();
    this.renderContent();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/utils/validations.ts
function isNumeric(str2) {
  if (typeof str2 != "string")
    return false;
  return !isNaN(+str2) && !isNaN(parseFloat(str2));
}

// src/main.ts
var AutoAnkiPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new AutoAnkiSettingTab(this.app, this));
    const defaults = this.settings.questionGenerationDefaults;
    const { textSelection: defaultsTextSelection, file: defaultsFile } = defaults;
    this.statusBar = this.addStatusBarItem();
    this.statusBar.className = "status-bar-auto-anki";
    this.statusBarIcon = this.statusBar.createEl("span", { cls: "status-bar-icon" });
    this.statusBar.createEl("div", { text: "auto-anki" });
    this.statusBar.doReset = () => {
      (0, import_obsidian4.setIcon)(this.statusBarIcon, "check-circle-2");
      this.statusBar.classList.remove("--running");
      this.statusBar.classList.remove("--error");
    };
    this.statusBar.doDisplayError = () => {
      (0, import_obsidian4.setIcon)(this.statusBarIcon, "alert-circle");
      this.statusBar.classList.remove("--running");
      this.statusBar.classList.add("--error");
    };
    this.statusBar.doDisplayRunning = () => {
      (0, import_obsidian4.setIcon)(this.statusBarIcon, "refresh-cw");
      this.statusBar.classList.remove("--error");
      this.statusBar.classList.add("--running");
    };
    this.statusBar.doReset();
    this.addCommand({
      id: "export-current-file-to-anki",
      name: "Export Current File to Anki",
      checkCallback: (checking) => {
        if (this.settings.openAiApiKey == null) {
          return false;
        }
        const view = this.app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
        if (view == null) {
          return false;
        }
        if (!checking) {
          if (view.data.length <= 0) {
            new import_obsidian4.Notice("There is nothing in the file!");
            return;
          }
          const apiKey = this.settings.openAiApiKey;
          const port = this.settings.ankiConnectPort || ANKI_CONNECT_DEFAULT_PORT;
          new ExportModal(
            this.app,
            this.statusBar,
            view.data,
            apiKey,
            port,
            this.settings.ankiDestinationDeck,
            this.settings.gptAdvancedOptions,
            defaultsFile.numQuestions,
            defaultsFile.numAlternatives
          ).open();
        }
        return true;
      }
    });
    this.addCommand({
      id: "export-text-selection-to-anki",
      name: "Export Highlighted Text to Anki",
      editorCheckCallback: (checking, editor, view) => {
        const currTextSelection = editor.getSelection();
        if (this.settings.openAiApiKey == null) {
          return false;
        }
        if (!checking) {
          if (currTextSelection.length == 0) {
            new import_obsidian4.Notice("No text was selected!");
            return;
          }
          const apiKey = this.settings.openAiApiKey;
          const port = this.settings.ankiConnectPort || ANKI_CONNECT_DEFAULT_PORT;
          new ExportModal(
            this.app,
            this.statusBar,
            currTextSelection,
            apiKey,
            port,
            this.settings.ankiDestinationDeck,
            this.settings.gptAdvancedOptions,
            defaultsTextSelection.numQuestions,
            defaultsTextSelection.numAlternatives
          ).open();
        }
        return true;
      }
    });
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var AutoAnkiSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    const ankiDescription = document.createElement("div");
    ankiDescription.innerHTML = `<p><a href="https://apps.ankiweb.net/">Anki</a> is an open-source flashcard program that is popular for spaced repetition. This plugin has only been tested on desktop, and requires <a href="https://foosoft.net/projects/anki-connect/">Anki Connect</a> to be installed alongside the main Anki program.</p><p>Enabling this plugin will add commands to automatically generate Question-Answer-style flashcards into the Anki system using OpenAI's AI models.</p><p>For information on usage, see <a href="https://github.com/ad2969/obsidian-auto-anki#readme">the instructions</a> online.</p>`;
    containerEl.appendChild(ankiDescription);
    new import_obsidian4.Setting(containerEl).setName("Anki Port").setDesc("The port number used to host Anki Connect").addText(
      (textComponent) => textComponent.setPlaceholder("Anki Connect Default: 8765").setValue(String(this.plugin.settings.ankiConnectPort)).onChange(async (value) => {
        this.plugin.settings.ankiConnectPort = Number(value);
        await this.plugin.saveSettings();
      })
    );
    const openAiDescription = new DocumentFragment();
    const openAiDescHtml = document.createElement("p");
    openAiDescHtml.innerHTML = 'The API Key associated with your OpenAI account, used for querying GPT. Go <a href="https://platform.openai.com/account/api-keys">here</a> to obtain one.';
    openAiDescription.appendChild(openAiDescHtml);
    new import_obsidian4.Setting(containerEl).setName("OpenAI API Key").setDesc(openAiDescription).addText(
      (textComponent) => {
        var _a2;
        return textComponent.setPlaceholder((_a2 = `key entered: ${this.plugin.settings.openAiApiKeyIdentifier}`) != null ? _a2 : "NO_KEY_ENTERED").onChange(async (value) => {
          this.plugin.settings.openAiApiKey = value;
          let identifier = "xxxx";
          if (value.length >= 7) {
            identifier = `${value.slice(0, 3)}...${value.slice(-4)}`;
          }
          this.plugin.settings.openAiApiKeyIdentifier = identifier;
          await this.plugin.saveSettings();
        });
      }
    );
    containerEl.createEl("h2", { text: "Default Options for Exporting" });
    new import_obsidian4.Setting(containerEl).setName("Anki Default Deck Name").setDesc("The name of the deck in Anki you want to export flashcards to, by default").addText(
      (textComponent) => textComponent.setPlaceholder("Default").setValue(String(this.plugin.settings.ankiDestinationDeck)).onChange(async (value) => {
        this.plugin.settings.ankiDestinationDeck = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("p", { text: "--> For exporting full files" });
    new import_obsidian4.Setting(containerEl).setName("Number of Questions").setDesc("The number of questions to generate from the file.").addText(
      (textComponent) => textComponent.setValue(String(this.plugin.settings.questionGenerationDefaults.file.numQuestions)).onChange(async (value) => {
        if (value == "") {
          this.plugin.settings.questionGenerationDefaults.file.numQuestions = 0;
          await this.plugin.saveSettings();
        } else if (!isNumeric(value)) {
          new import_obsidian4.Notice("The value you entered is not a number value");
        } else {
          this.plugin.settings.questionGenerationDefaults.file.numQuestions = Number(value);
          await this.plugin.saveSettings();
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("Number of Alternatives").setDesc("The number of alternatives to generate for each question. Zero means no alteratives.").addText(
      (textComponent) => textComponent.setValue(String(this.plugin.settings.questionGenerationDefaults.file.numAlternatives)).onChange(async (value) => {
        if (value == "") {
          this.plugin.settings.questionGenerationDefaults.file.numAlternatives = 0;
          await this.plugin.saveSettings();
        } else if (!isNumeric(value)) {
          new import_obsidian4.Notice("The value you entered is not a number value");
        } else {
          this.plugin.settings.questionGenerationDefaults.file.numAlternatives = Number(value);
          await this.plugin.saveSettings();
        }
      })
    );
    containerEl.createEl("p", { text: "--> For exporting selected text" });
    new import_obsidian4.Setting(containerEl).setName("Number of Questions").setDesc("The number of questions to generate from the selected text.").addText(
      (textComponent) => textComponent.setValue(String(this.plugin.settings.questionGenerationDefaults.textSelection.numQuestions)).onChange(async (value) => {
        if (value == "") {
          this.plugin.settings.questionGenerationDefaults.textSelection.numQuestions = 0;
          await this.plugin.saveSettings();
        } else if (!isNumeric(value)) {
          new import_obsidian4.Notice("The value you entered is not a number value");
        } else {
          this.plugin.settings.questionGenerationDefaults.textSelection.numQuestions = Number(value);
          await this.plugin.saveSettings();
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("Number of Alternatives").setDesc("The number of alternatives to generate for each question. Zero means no alteratives.").addText(
      (textComponent) => textComponent.setValue(String(this.plugin.settings.questionGenerationDefaults.textSelection.numAlternatives)).onChange(async (value) => {
        if (value == "") {
          this.plugin.settings.questionGenerationDefaults.textSelection.numAlternatives = 0;
          await this.plugin.saveSettings();
        } else if (!isNumeric(value)) {
          new import_obsidian4.Notice("The value you entered is not a number value");
        } else {
          this.plugin.settings.questionGenerationDefaults.textSelection.numAlternatives = Number(value);
          await this.plugin.saveSettings();
        }
      })
    );
    containerEl.createEl("h2", { text: "Advanced Options for OpenAI's GPT Models" });
    const tempValComponent = createEl("span", {
      text: String(this.plugin.settings.gptAdvancedOptions.temperature),
      cls: "slider-val"
      // used to make custom slider component with displayed value next to it
    });
    const tempComponent = new import_obsidian4.Setting(containerEl).setName("Temperature").setDesc("The sampling temperature used. Higher values increases randomness, while lower values makes the output more deterministic. (Default = 1)").addSlider(
      (sliderComponent) => sliderComponent.setValue(this.plugin.settings.gptAdvancedOptions.temperature).setLimits(0, 2, 0.1).onChange(async (value) => {
        this.plugin.settings.gptAdvancedOptions.temperature = value;
        tempValComponent.textContent = String(value);
        await this.plugin.saveSettings();
      })
    );
    tempComponent.settingEl.appendChild(tempValComponent);
    const topPValComponent = createEl("span", {
      text: String(this.plugin.settings.gptAdvancedOptions.top_p),
      cls: "slider-val"
    });
    const topPComponent = new import_obsidian4.Setting(containerEl).setName("Top P").setDesc("Value for nucleus sampling. Lower values mean the output considers the tokens comprising higher probability mass. (Default = 1)").addSlider(
      (sliderComponent) => sliderComponent.setValue(this.plugin.settings.gptAdvancedOptions.top_p).setLimits(0, 1, 0.05).onChange(async (value) => {
        this.plugin.settings.gptAdvancedOptions.top_p = value;
        topPValComponent.textContent = String(value);
        await this.plugin.saveSettings();
      })
    );
    topPComponent.settingEl.appendChild(topPValComponent);
    const fPenaltyValComponent = createEl("span", {
      text: String(this.plugin.settings.gptAdvancedOptions.frequency_penalty),
      cls: "slider-val"
    });
    const fPenaltyComponent = new import_obsidian4.Setting(containerEl).setName("Frequency Penalty").setDesc("Positive values penalize new tokens based on their existing frequency in the text so far. Higher values decrease chance of 'repetition'. (Default = 0)").addSlider(
      (sliderComponent) => sliderComponent.setValue(this.plugin.settings.gptAdvancedOptions.frequency_penalty).setLimits(-2, 2, 0.1).onChange(async (value) => {
        this.plugin.settings.gptAdvancedOptions.frequency_penalty = value;
        fPenaltyValComponent.textContent = String(value);
        await this.plugin.saveSettings();
      })
    );
    fPenaltyComponent.settingEl.appendChild(fPenaltyValComponent);
    const pPenaltyValComponent = createEl("span", {
      text: String(this.plugin.settings.gptAdvancedOptions.presence_penalty),
      cls: "slider-val"
    });
    const pPenaltyComponent = new import_obsidian4.Setting(containerEl).setName("Presence Penalty").setDesc("Positive values penalize new tokens based on whether they appear in the text so far. Higher values increase chance of 'creativity'. (Default = 0)").addSlider(
      (sliderComponent) => sliderComponent.setValue(this.plugin.settings.gptAdvancedOptions.presence_penalty).setLimits(-2, 2, 0.1).onChange(async (value) => {
        this.plugin.settings.gptAdvancedOptions.presence_penalty = value;
        pPenaltyValComponent.textContent = String(value);
        await this.plugin.saveSettings();
      })
    );
    pPenaltyComponent.settingEl.appendChild(pPenaltyValComponent);
    const openAiTokenDescription = new DocumentFragment();
    const openAiTokenDescHtml = document.createElement("p");
    openAiTokenDescHtml.innerHTML = 'The maximum number of tokens consumed for each question. See <a href="https://platform.openai.com/tokenizer">tokens</a> to better understand how tokens are quantized. (Default = 16)';
    openAiTokenDescription.appendChild(openAiTokenDescHtml);
    new import_obsidian4.Setting(containerEl).setName("Maximum Tokens per Question").setDesc(openAiTokenDescription).addText(
      (textComponent) => textComponent.setValue(String(this.plugin.settings.gptAdvancedOptions.max_tokens_per_question)).onChange(async (value) => {
        if (value == "") {
          this.plugin.settings.gptAdvancedOptions.max_tokens_per_question = DEFAULT_SETTINGS.gptAdvancedOptions.max_tokens_per_question;
          await this.plugin.saveSettings();
        } else if (!isNumeric(value)) {
          new import_obsidian4.Notice("The value you entered is not a number value");
        } else {
          this.plugin.settings.gptAdvancedOptions.max_tokens_per_question = Number(value);
          await this.plugin.saveSettings();
        }
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9mb3JtYXQuanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL2xpYi9zdHlsZXMuanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL2xpYi9zeXN0ZW0vaGFzLWZsYWcuanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL2xpYi9zeXN0ZW0vc3VwcG9ydHMtY29sb3JzLmpzIiwgIm5vZGVfbW9kdWxlcy9AY29sb3JzL2NvbG9ycy9saWIvY3VzdG9tL3RyYXAuanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL2xpYi9jdXN0b20vemFsZ28uanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL2xpYi9tYXBzL2FtZXJpY2EuanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL2xpYi9tYXBzL3plYnJhLmpzIiwgIm5vZGVfbW9kdWxlcy9AY29sb3JzL2NvbG9ycy9saWIvbWFwcy9yYWluYm93LmpzIiwgIm5vZGVfbW9kdWxlcy9AY29sb3JzL2NvbG9ycy9saWIvbWFwcy9yYW5kb20uanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL2xpYi9jb2xvcnMuanMiLCAibm9kZV9tb2R1bGVzL0Bjb2xvcnMvY29sb3JzL3NhZmUuanMiLCAibm9kZV9tb2R1bGVzL3RyaXBsZS1iZWFtL2NvbmZpZy9jbGkuanMiLCAibm9kZV9tb2R1bGVzL3RyaXBsZS1iZWFtL2NvbmZpZy9ucG0uanMiLCAibm9kZV9tb2R1bGVzL3RyaXBsZS1iZWFtL2NvbmZpZy9zeXNsb2cuanMiLCAibm9kZV9tb2R1bGVzL3RyaXBsZS1iZWFtL2NvbmZpZy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvdHJpcGxlLWJlYW0vaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9jb2xvcml6ZS5qcyIsICJub2RlX21vZHVsZXMvbG9nZm9ybS9kaXN0L2xldmVscy5qcyIsICJub2RlX21vZHVsZXMvbG9nZm9ybS9kaXN0L2FsaWduLmpzIiwgIm5vZGVfbW9kdWxlcy9sb2dmb3JtL2Rpc3QvcGFkLWxldmVscy5qcyIsICJub2RlX21vZHVsZXMvbG9nZm9ybS9kaXN0L2NsaS5qcyIsICJub2RlX21vZHVsZXMvbG9nZm9ybS9kaXN0L2NvbWJpbmUuanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9lcnJvcnMuanMiLCAibm9kZV9tb2R1bGVzL3NhZmUtc3RhYmxlLXN0cmluZ2lmeS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvbG9nZm9ybS9kaXN0L2pzb24uanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9sYWJlbC5qcyIsICJub2RlX21vZHVsZXMvbG9nZm9ybS9kaXN0L2xvZ3N0YXNoLmpzIiwgIm5vZGVfbW9kdWxlcy9sb2dmb3JtL2Rpc3QvbWV0YWRhdGEuanMiLCAibm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9sb2dmb3JtL2Rpc3QvbXMuanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9wcmV0dHktcHJpbnQuanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9wcmludGYuanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9zaW1wbGUuanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZGlzdC9zcGxhdC5qcyIsICJub2RlX21vZHVsZXMvZmVjaGEvc3JjL2ZlY2hhLnRzIiwgIm5vZGVfbW9kdWxlcy9sb2dmb3JtL2Rpc3QvdGltZXN0YW1wLmpzIiwgIm5vZGVfbW9kdWxlcy9sb2dmb3JtL2Rpc3QvdW5jb2xvcml6ZS5qcyIsICJub2RlX21vZHVsZXMvbG9nZm9ybS9kaXN0L2Jyb3dzZXIuanMiLCAibm9kZV9tb2R1bGVzL3dpbnN0b24vZGlzdC93aW5zdG9uL2NvbW1vbi5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi9wYWNrYWdlLmpzb24iLCAibm9kZV9tb2R1bGVzL3V0aWwtZGVwcmVjYXRlL2Jyb3dzZXIuanMiLCAibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0tYnJvd3Nlci5qcyIsICJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3kuanMiLCAibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9lcnJvcnMtYnJvd3Nlci5qcyIsICJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3N0YXRlLmpzIiwgIm5vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwgIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3QuanMiLCAibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9lbmQtb2Ytc3RyZWFtLmpzIiwgIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvYXN5bmNfaXRlcmF0b3IuanMiLCAibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9mcm9tLWJyb3dzZXIuanMiLCAibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcyIsICJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX2R1cGxleC5qcyIsICJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIiwgIm5vZGVfbW9kdWxlcy93aW5zdG9uLXRyYW5zcG9ydC9kaXN0L2xlZ2FjeS5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi10cmFuc3BvcnQvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi9kaXN0L3dpbnN0b24vdHJhbnNwb3J0cy9jb25zb2xlLmpzIiwgIm5vZGVfbW9kdWxlcy9hc3luYy9pbnRlcm5hbC9pc0FycmF5TGlrZS5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvaW5pdGlhbFBhcmFtcy5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvc2V0SW1tZWRpYXRlLmpzIiwgIm5vZGVfbW9kdWxlcy9hc3luYy9hc3luY2lmeS5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvd3JhcEFzeW5jLmpzIiwgIm5vZGVfbW9kdWxlcy9hc3luYy9pbnRlcm5hbC9hd2FpdGlmeS5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvcGFyYWxsZWwuanMiLCAibm9kZV9tb2R1bGVzL2FzeW5jL2ludGVybmFsL29uY2UuanMiLCAibm9kZV9tb2R1bGVzL2FzeW5jL2ludGVybmFsL2dldEl0ZXJhdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9hc3luYy9pbnRlcm5hbC9pdGVyYXRvci5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvb25seU9uY2UuanMiLCAibm9kZV9tb2R1bGVzL2FzeW5jL2ludGVybmFsL2JyZWFrTG9vcC5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvYXN5bmNFYWNoT2ZMaW1pdC5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvZWFjaE9mTGltaXQuanMiLCAibm9kZV9tb2R1bGVzL2FzeW5jL2VhY2hPZkxpbWl0LmpzIiwgIm5vZGVfbW9kdWxlcy9hc3luYy9lYWNoT2ZTZXJpZXMuanMiLCAibm9kZV9tb2R1bGVzL2FzeW5jL3Nlcmllcy5qcyIsICJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyIsICJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzIiwgIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvcGlwZWxpbmUuanMiLCAibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9yZWFkYWJsZS1icm93c2VyLmpzIiwgIm5vZGVfbW9kdWxlcy9AZGFiaC9kaWFnbm9zdGljcy9kaWFnbm9zdGljcy5qcyIsICJub2RlX21vZHVsZXMvY29sb3ItbmFtZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvaXMtYXJyYXlpc2gvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3NpbXBsZS1zd2l6emxlL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb2xvci1zdHJpbmcvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbG9yL25vZGVfbW9kdWxlcy9jb2xvci1uYW1lL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb2xvci9ub2RlX21vZHVsZXMvY29sb3ItY29udmVydC9jb252ZXJzaW9ucy5qcyIsICJub2RlX21vZHVsZXMvY29sb3Ivbm9kZV9tb2R1bGVzL2NvbG9yLWNvbnZlcnQvcm91dGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbG9yL25vZGVfbW9kdWxlcy9jb2xvci1jb252ZXJ0L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb2xvci9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvdGV4dC1oZXgvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbG9yc3BhY2UvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BkYWJoL2RpYWdub3N0aWNzL21vZGlmaWVycy9uYW1lc3BhY2UuanMiLCAibm9kZV9tb2R1bGVzL2VuYWJsZWQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BkYWJoL2RpYWdub3N0aWNzL2FkYXB0ZXJzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9AZGFiaC9kaWFnbm9zdGljcy9hZGFwdGVycy9sb2NhbHN0b3JhZ2UuanMiLCAibm9kZV9tb2R1bGVzL0BkYWJoL2RpYWdub3N0aWNzL2FkYXB0ZXJzL2hhc2guanMiLCAibm9kZV9tb2R1bGVzL0BkYWJoL2RpYWdub3N0aWNzL2xvZ2dlci9jb25zb2xlLmpzIiwgIm5vZGVfbW9kdWxlcy9AZGFiaC9kaWFnbm9zdGljcy9icm93c2VyL2RldmVsb3BtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AZGFiaC9kaWFnbm9zdGljcy9icm93c2VyL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy93aW5zdG9uL2Rpc3Qvd2luc3Rvbi90YWlsLWZpbGUuanMiLCAibm9kZV9tb2R1bGVzL3dpbnN0b24vZGlzdC93aW5zdG9uL3RyYW5zcG9ydHMvZmlsZS5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi9kaXN0L3dpbnN0b24vdHJhbnNwb3J0cy9odHRwLmpzIiwgIm5vZGVfbW9kdWxlcy9pcy1zdHJlYW0vaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3dpbnN0b24vZGlzdC93aW5zdG9uL3RyYW5zcG9ydHMvc3RyZWFtLmpzIiwgIm5vZGVfbW9kdWxlcy93aW5zdG9uL2Rpc3Qvd2luc3Rvbi90cmFuc3BvcnRzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy93aW5zdG9uL2Rpc3Qvd2luc3Rvbi9jb25maWcvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2FzeW5jL2VhY2hPZi5qcyIsICJub2RlX21vZHVsZXMvYXN5bmMvaW50ZXJuYWwvd2l0aG91dEluZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9hc3luYy9mb3JFYWNoLmpzIiwgIm5vZGVfbW9kdWxlcy9mbi5uYW1lL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9vbmUtdGltZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvc3RhY2stdHJhY2UvbGliL3N0YWNrLXRyYWNlLmpzIiwgIm5vZGVfbW9kdWxlcy93aW5zdG9uL2Rpc3Qvd2luc3Rvbi9leGNlcHRpb24tc3RyZWFtLmpzIiwgIm5vZGVfbW9kdWxlcy93aW5zdG9uL2Rpc3Qvd2luc3Rvbi9leGNlcHRpb24taGFuZGxlci5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi9kaXN0L3dpbnN0b24vcmVqZWN0aW9uLWhhbmRsZXIuanMiLCAibm9kZV9tb2R1bGVzL3dpbnN0b24tdHJhbnNwb3J0L2xlZ2FjeS5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi9kaXN0L3dpbnN0b24vcHJvZmlsZXIuanMiLCAibm9kZV9tb2R1bGVzL2xvZ2Zvcm0vZm9ybWF0LmpzIiwgIm5vZGVfbW9kdWxlcy9sb2dmb3JtL2pzb24uanMiLCAibm9kZV9tb2R1bGVzL3dpbnN0b24vZGlzdC93aW5zdG9uL2xvZ2dlci5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi9kaXN0L3dpbnN0b24vY3JlYXRlLWxvZ2dlci5qcyIsICJub2RlX21vZHVsZXMvd2luc3Rvbi9kaXN0L3dpbnN0b24vY29udGFpbmVyLmpzIiwgIm5vZGVfbW9kdWxlcy93aW5zdG9uL2Rpc3Qvd2luc3Rvbi5qcyIsICJzcmMvbWFpbi50cyIsICJzcmMvdXRpbHMvYW5raS50cyIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL21vZGFsLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3ZlcnNpb24udHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvX3NoaW1zL3JlZ2lzdHJ5LnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL19zaGltcy9NdWx0aXBhcnRCb2R5LnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL19zaGltcy93ZWItcnVudGltZS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9pbmRleC5tanMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvZXJyb3IudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvc3RyZWFtaW5nLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3VwbG9hZHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvY29yZS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9wYWdpbmF0aW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9jaGF0L2NoYXQudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL3NwZWVjaC50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYXVkaW8vdHJhbnNjcmlwdGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zbGF0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYXVkaW8vYXVkaW8udHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvYXNzaXN0YW50cy9maWxlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9hc3Npc3RhbnRzL2Fzc2lzdGFudHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL1J1bm5hYmxlRnVuY3Rpb24udHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL2NoYXRDb21wbGV0aW9uVXRpbHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0NoYXRDb21wbGV0aW9uUnVubmVyLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvY2hhdC9jb21wbGV0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9jaGF0L2NoYXQudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9tZXNzYWdlcy9maWxlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL21lc3NhZ2VzL21lc3NhZ2VzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9zdGVwcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL3J1bnMvcnVucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL3RocmVhZHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvYmV0YS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY29tcGxldGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2VtYmVkZGluZ3MudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9maW5lLXR1bmluZy9qb2JzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9maW5lLXR1bmluZy9maW5lLXR1bmluZy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvaW1hZ2VzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9tb2RlbHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL21vZGVyYXRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2luZGV4LnRzIiwgInNyYy9sb2dnZXIudHMiLCAic3JjL3V0aWxzL2dwdC50cyIsICJzcmMvdXRpbHMvdmFsaWRhdGlvbnMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIid1c2Ugc3RyaWN0JztcblxuLypcbiAqIERpc3BsYXlzIGEgaGVscGZ1bCBtZXNzYWdlIGFuZCB0aGUgc291cmNlIG9mXG4gKiB0aGUgZm9ybWF0IHdoZW4gaXQgaXMgaW52YWxpZC5cbiAqL1xuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0LmJpbmQoKTsgfSBlbHNlIHsgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyB2YXIgYSA9IFtudWxsXTsgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpOyB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7IHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpOyBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTsgcmV0dXJuIGluc3RhbmNlOyB9OyB9IHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgdHJ5IHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCI7IH0gfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG52YXIgSW52YWxpZEZvcm1hdEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IpIHtcbiAgX2luaGVyaXRzKEludmFsaWRGb3JtYXRFcnJvciwgX0Vycm9yKTtcbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihJbnZhbGlkRm9ybWF0RXJyb3IpO1xuICBmdW5jdGlvbiBJbnZhbGlkRm9ybWF0RXJyb3IoZm9ybWF0Rm4pIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludmFsaWRGb3JtYXRFcnJvcik7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcIkZvcm1hdCBmdW5jdGlvbnMgbXVzdCBiZSBzeW5jaHJvbm91cyB0YWtpbmcgYSB0d28gYXJndW1lbnRzOiAoaW5mbywgb3B0cylcXG5Gb3VuZDogXCIuY29uY2F0KGZvcm1hdEZuLnRvU3RyaW5nKCkuc3BsaXQoJ1xcbicpWzBdLCBcIlxcblwiKSk7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIEludmFsaWRGb3JtYXRFcnJvcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoSW52YWxpZEZvcm1hdEVycm9yKTtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG4vKlxuICogZnVuY3Rpb24gZm9ybWF0IChmb3JtYXRGbilcbiAqIFJldHVybnMgYSBjcmVhdGUgZnVuY3Rpb24gZm9yIHRoZSBgZm9ybWF0Rm5gLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmb3JtYXRGbikge1xuICBpZiAoZm9ybWF0Rm4ubGVuZ3RoID4gMikge1xuICAgIHRocm93IG5ldyBJbnZhbGlkRm9ybWF0RXJyb3IoZm9ybWF0Rm4pO1xuICB9XG5cbiAgLypcbiAgICogZnVuY3Rpb24gRm9ybWF0IChvcHRpb25zKVxuICAgKiBCYXNlIHByb3RvdHlwZSB3aGljaCBjYWxscyBhIGBfZm9ybWF0YFxuICAgKiBmdW5jdGlvbiBhbmQgcHVzaGVzIHRoZSByZXN1bHQuXG4gICAqL1xuICBmdW5jdGlvbiBGb3JtYXQoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgRm9ybWF0LnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmb3JtYXRGbjtcblxuICAvL1xuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIG5ldyBpbnN0YW5jZXMgb2ZcbiAgLy8gRm9ybWF0V3JhcCBmb3Igc2ltcGxlIHN5bnRheCBsaWtlOlxuICAvL1xuICAvLyByZXF1aXJlKCd3aW5zdG9uJykuZm9ybWF0cy5qc29uKCk7XG4gIC8vXG4gIGZ1bmN0aW9uIGNyZWF0ZUZvcm1hdFdyYXAob3B0cykge1xuICAgIHJldHVybiBuZXcgRm9ybWF0KG9wdHMpO1xuICB9XG5cbiAgLy9cbiAgLy8gRXhwb3NlIHRoZSBGb3JtYXRXcmFwIHRocm91Z2ggdGhlIGNyZWF0ZSBmdW5jdGlvblxuICAvLyBmb3IgdGVzdGFiaWxpdHkuXG4gIC8vXG4gIGNyZWF0ZUZvcm1hdFdyYXAuRm9ybWF0ID0gRm9ybWF0O1xuICByZXR1cm4gY3JlYXRlRm9ybWF0V3JhcDtcbn07IiwgIi8qXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuQ29weXJpZ2h0IChjKSBTaW5kcmUgU29yaHVzIDxzaW5kcmVzb3JodXNAZ21haWwuY29tPiAoc2luZHJlc29yaHVzLmNvbSlcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG52YXIgc3R5bGVzID0ge307XG5tb2R1bGVbJ2V4cG9ydHMnXSA9IHN0eWxlcztcblxudmFyIGNvZGVzID0ge1xuICByZXNldDogWzAsIDBdLFxuXG4gIGJvbGQ6IFsxLCAyMl0sXG4gIGRpbTogWzIsIDIyXSxcbiAgaXRhbGljOiBbMywgMjNdLFxuICB1bmRlcmxpbmU6IFs0LCAyNF0sXG4gIGludmVyc2U6IFs3LCAyN10sXG4gIGhpZGRlbjogWzgsIDI4XSxcbiAgc3RyaWtldGhyb3VnaDogWzksIDI5XSxcblxuICBibGFjazogWzMwLCAzOV0sXG4gIHJlZDogWzMxLCAzOV0sXG4gIGdyZWVuOiBbMzIsIDM5XSxcbiAgeWVsbG93OiBbMzMsIDM5XSxcbiAgYmx1ZTogWzM0LCAzOV0sXG4gIG1hZ2VudGE6IFszNSwgMzldLFxuICBjeWFuOiBbMzYsIDM5XSxcbiAgd2hpdGU6IFszNywgMzldLFxuICBncmF5OiBbOTAsIDM5XSxcbiAgZ3JleTogWzkwLCAzOV0sXG5cbiAgYnJpZ2h0UmVkOiBbOTEsIDM5XSxcbiAgYnJpZ2h0R3JlZW46IFs5MiwgMzldLFxuICBicmlnaHRZZWxsb3c6IFs5MywgMzldLFxuICBicmlnaHRCbHVlOiBbOTQsIDM5XSxcbiAgYnJpZ2h0TWFnZW50YTogWzk1LCAzOV0sXG4gIGJyaWdodEN5YW46IFs5NiwgMzldLFxuICBicmlnaHRXaGl0ZTogWzk3LCAzOV0sXG5cbiAgYmdCbGFjazogWzQwLCA0OV0sXG4gIGJnUmVkOiBbNDEsIDQ5XSxcbiAgYmdHcmVlbjogWzQyLCA0OV0sXG4gIGJnWWVsbG93OiBbNDMsIDQ5XSxcbiAgYmdCbHVlOiBbNDQsIDQ5XSxcbiAgYmdNYWdlbnRhOiBbNDUsIDQ5XSxcbiAgYmdDeWFuOiBbNDYsIDQ5XSxcbiAgYmdXaGl0ZTogWzQ3LCA0OV0sXG4gIGJnR3JheTogWzEwMCwgNDldLFxuICBiZ0dyZXk6IFsxMDAsIDQ5XSxcblxuICBiZ0JyaWdodFJlZDogWzEwMSwgNDldLFxuICBiZ0JyaWdodEdyZWVuOiBbMTAyLCA0OV0sXG4gIGJnQnJpZ2h0WWVsbG93OiBbMTAzLCA0OV0sXG4gIGJnQnJpZ2h0Qmx1ZTogWzEwNCwgNDldLFxuICBiZ0JyaWdodE1hZ2VudGE6IFsxMDUsIDQ5XSxcbiAgYmdCcmlnaHRDeWFuOiBbMTA2LCA0OV0sXG4gIGJnQnJpZ2h0V2hpdGU6IFsxMDcsIDQ5XSxcblxuICAvLyBsZWdhY3kgc3R5bGVzIGZvciBjb2xvcnMgcHJlIHYxLjAuMFxuICBibGFja0JHOiBbNDAsIDQ5XSxcbiAgcmVkQkc6IFs0MSwgNDldLFxuICBncmVlbkJHOiBbNDIsIDQ5XSxcbiAgeWVsbG93Qkc6IFs0MywgNDldLFxuICBibHVlQkc6IFs0NCwgNDldLFxuICBtYWdlbnRhQkc6IFs0NSwgNDldLFxuICBjeWFuQkc6IFs0NiwgNDldLFxuICB3aGl0ZUJHOiBbNDcsIDQ5XSxcblxufTtcblxuT2JqZWN0LmtleXMoY29kZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gIHZhciB2YWwgPSBjb2Rlc1trZXldO1xuICB2YXIgc3R5bGUgPSBzdHlsZXNba2V5XSA9IFtdO1xuICBzdHlsZS5vcGVuID0gJ1xcdTAwMWJbJyArIHZhbFswXSArICdtJztcbiAgc3R5bGUuY2xvc2UgPSAnXFx1MDAxYlsnICsgdmFsWzFdICsgJ20nO1xufSk7XG4iLCAiLypcbk1JVCBMaWNlbnNlXG5cbkNvcHlyaWdodCAoYykgU2luZHJlIFNvcmh1cyA8c2luZHJlc29yaHVzQGdtYWlsLmNvbT4gKHNpbmRyZXNvcmh1cy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2ZcbnRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW5cbnRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG9cbnVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzXG5vZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG9cbnNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG5jb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG5TT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbGFnLCBhcmd2KSB7XG4gIGFyZ3YgPSBhcmd2IHx8IHByb2Nlc3MuYXJndiB8fCBbXTtcblxuICB2YXIgdGVybWluYXRvclBvcyA9IGFyZ3YuaW5kZXhPZignLS0nKTtcbiAgdmFyIHByZWZpeCA9IC9eLXsxLDJ9Ly50ZXN0KGZsYWcpID8gJycgOiAnLS0nO1xuICB2YXIgcG9zID0gYXJndi5pbmRleE9mKHByZWZpeCArIGZsYWcpO1xuXG4gIHJldHVybiBwb3MgIT09IC0xICYmICh0ZXJtaW5hdG9yUG9zID09PSAtMSA/IHRydWUgOiBwb3MgPCB0ZXJtaW5hdG9yUG9zKTtcbn07XG4iLCAiLypcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG5Db3B5cmlnaHQgKGMpIFNpbmRyZSBTb3JodXMgPHNpbmRyZXNvcmh1c0BnbWFpbC5jb20+IChzaW5kcmVzb3JodXMuY29tKVxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIG9zID0gcmVxdWlyZSgnb3MnKTtcbnZhciBoYXNGbGFnID0gcmVxdWlyZSgnLi9oYXMtZmxhZy5qcycpO1xuXG52YXIgZW52ID0gcHJvY2Vzcy5lbnY7XG5cbnZhciBmb3JjZUNvbG9yID0gdm9pZCAwO1xuaWYgKGhhc0ZsYWcoJ25vLWNvbG9yJykgfHwgaGFzRmxhZygnbm8tY29sb3JzJykgfHwgaGFzRmxhZygnY29sb3I9ZmFsc2UnKSkge1xuICBmb3JjZUNvbG9yID0gZmFsc2U7XG59IGVsc2UgaWYgKGhhc0ZsYWcoJ2NvbG9yJykgfHwgaGFzRmxhZygnY29sb3JzJykgfHwgaGFzRmxhZygnY29sb3I9dHJ1ZScpXG4gICAgICAgICAgIHx8IGhhc0ZsYWcoJ2NvbG9yPWFsd2F5cycpKSB7XG4gIGZvcmNlQ29sb3IgPSB0cnVlO1xufVxuaWYgKCdGT1JDRV9DT0xPUicgaW4gZW52KSB7XG4gIGZvcmNlQ29sb3IgPSBlbnYuRk9SQ0VfQ09MT1IubGVuZ3RoID09PSAwXG4gICAgfHwgcGFyc2VJbnQoZW52LkZPUkNFX0NPTE9SLCAxMCkgIT09IDA7XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUxldmVsKGxldmVsKSB7XG4gIGlmIChsZXZlbCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGV2ZWw6IGxldmVsLFxuICAgIGhhc0Jhc2ljOiB0cnVlLFxuICAgIGhhczI1NjogbGV2ZWwgPj0gMixcbiAgICBoYXMxNm06IGxldmVsID49IDMsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHN1cHBvcnRzQ29sb3Ioc3RyZWFtKSB7XG4gIGlmIChmb3JjZUNvbG9yID09PSBmYWxzZSkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGhhc0ZsYWcoJ2NvbG9yPTE2bScpIHx8IGhhc0ZsYWcoJ2NvbG9yPWZ1bGwnKVxuICAgICAgfHwgaGFzRmxhZygnY29sb3I9dHJ1ZWNvbG9yJykpIHtcbiAgICByZXR1cm4gMztcbiAgfVxuXG4gIGlmIChoYXNGbGFnKCdjb2xvcj0yNTYnKSkge1xuICAgIHJldHVybiAyO1xuICB9XG5cbiAgaWYgKHN0cmVhbSAmJiAhc3RyZWFtLmlzVFRZICYmIGZvcmNlQ29sb3IgIT09IHRydWUpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBtaW4gPSBmb3JjZUNvbG9yID8gMSA6IDA7XG5cbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicpIHtcbiAgICAvLyBOb2RlLmpzIDcuNS4wIGlzIHRoZSBmaXJzdCB2ZXJzaW9uIG9mIE5vZGUuanMgdG8gaW5jbHVkZSBhIHBhdGNoIHRvXG4gICAgLy8gbGlidXYgdGhhdCBlbmFibGVzIDI1NiBjb2xvciBvdXRwdXQgb24gV2luZG93cy4gQW55dGhpbmcgZWFybGllciBhbmQgaXRcbiAgICAvLyB3b24ndCB3b3JrLiBIb3dldmVyLCBoZXJlIHdlIHRhcmdldCBOb2RlLmpzIDggYXQgbWluaW11bSBhcyBpdCBpcyBhbiBMVFNcbiAgICAvLyByZWxlYXNlLCBhbmQgTm9kZS5qcyA3IGlzIG5vdC4gV2luZG93cyAxMCBidWlsZCAxMDU4NiBpcyB0aGUgZmlyc3RcbiAgICAvLyBXaW5kb3dzIHJlbGVhc2UgdGhhdCBzdXBwb3J0cyAyNTYgY29sb3JzLiBXaW5kb3dzIDEwIGJ1aWxkIDE0OTMxIGlzIHRoZVxuICAgIC8vIGZpcnN0IHJlbGVhc2UgdGhhdCBzdXBwb3J0cyAxNm0vVHJ1ZUNvbG9yLlxuICAgIHZhciBvc1JlbGVhc2UgPSBvcy5yZWxlYXNlKCkuc3BsaXQoJy4nKTtcbiAgICBpZiAoTnVtYmVyKHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdCgnLicpWzBdKSA+PSA4XG4gICAgICAgICYmIE51bWJlcihvc1JlbGVhc2VbMF0pID49IDEwICYmIE51bWJlcihvc1JlbGVhc2VbMl0pID49IDEwNTg2KSB7XG4gICAgICByZXR1cm4gTnVtYmVyKG9zUmVsZWFzZVsyXSkgPj0gMTQ5MzEgPyAzIDogMjtcbiAgICB9XG5cbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIGlmICgnQ0knIGluIGVudikge1xuICAgIGlmIChbJ1RSQVZJUycsICdDSVJDTEVDSScsICdBUFBWRVlPUicsICdHSVRMQUJfQ0knXS5zb21lKGZ1bmN0aW9uKHNpZ24pIHtcbiAgICAgIHJldHVybiBzaWduIGluIGVudjtcbiAgICB9KSB8fCBlbnYuQ0lfTkFNRSA9PT0gJ2NvZGVzaGlwJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pbjtcbiAgfVxuXG4gIGlmICgnVEVBTUNJVFlfVkVSU0lPTicgaW4gZW52KSB7XG4gICAgcmV0dXJuICgvXig5XFwuKDAqWzEtOV1cXGQqKVxcLnxcXGR7Mix9XFwuKS8udGVzdChlbnYuVEVBTUNJVFlfVkVSU0lPTikgPyAxIDogMFxuICAgICk7XG4gIH1cblxuICBpZiAoJ1RFUk1fUFJPR1JBTScgaW4gZW52KSB7XG4gICAgdmFyIHZlcnNpb24gPSBwYXJzZUludCgoZW52LlRFUk1fUFJPR1JBTV9WRVJTSU9OIHx8ICcnKS5zcGxpdCgnLicpWzBdLCAxMCk7XG5cbiAgICBzd2l0Y2ggKGVudi5URVJNX1BST0dSQU0pIHtcbiAgICAgIGNhc2UgJ2lUZXJtLmFwcCc6XG4gICAgICAgIHJldHVybiB2ZXJzaW9uID49IDMgPyAzIDogMjtcbiAgICAgIGNhc2UgJ0h5cGVyJzpcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgICBjYXNlICdBcHBsZV9UZXJtaW5hbCc6XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgLy8gTm8gZGVmYXVsdFxuICAgIH1cbiAgfVxuXG4gIGlmICgvLTI1Nihjb2xvcik/JC9pLnRlc3QoZW52LlRFUk0pKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cblxuICBpZiAoL15zY3JlZW58Xnh0ZXJtfF52dDEwMHxecnh2dHxjb2xvcnxhbnNpfGN5Z3dpbnxsaW51eC9pLnRlc3QoZW52LlRFUk0pKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBpZiAoJ0NPTE9SVEVSTScgaW4gZW52KSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBpZiAoZW52LlRFUk0gPT09ICdkdW1iJykge1xuICAgIHJldHVybiBtaW47XG4gIH1cblxuICByZXR1cm4gbWluO1xufVxuXG5mdW5jdGlvbiBnZXRTdXBwb3J0TGV2ZWwoc3RyZWFtKSB7XG4gIHZhciBsZXZlbCA9IHN1cHBvcnRzQ29sb3Ioc3RyZWFtKTtcbiAgcmV0dXJuIHRyYW5zbGF0ZUxldmVsKGxldmVsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN1cHBvcnRzQ29sb3I6IGdldFN1cHBvcnRMZXZlbCxcbiAgc3Rkb3V0OiBnZXRTdXBwb3J0TGV2ZWwocHJvY2Vzcy5zdGRvdXQpLFxuICBzdGRlcnI6IGdldFN1cHBvcnRMZXZlbChwcm9jZXNzLnN0ZGVyciksXG59O1xuIiwgIm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24gcnVuVGhlVHJhcCh0ZXh0LCBvcHRpb25zKSB7XG4gIHZhciByZXN1bHQgPSAnJztcbiAgdGV4dCA9IHRleHQgfHwgJ1J1biB0aGUgdHJhcCwgZHJvcCB0aGUgYmFzcyc7XG4gIHRleHQgPSB0ZXh0LnNwbGl0KCcnKTtcbiAgdmFyIHRyYXAgPSB7XG4gICAgYTogWydcXHUwMDQwJywgJ1xcdTAxMDQnLCAnXFx1MDIzYScsICdcXHUwMjQ1JywgJ1xcdTAzOTQnLCAnXFx1MDM5YicsICdcXHUwNDE0J10sXG4gICAgYjogWydcXHUwMGRmJywgJ1xcdTAxODEnLCAnXFx1MDI0MycsICdcXHUwMjZlJywgJ1xcdTAzYjInLCAnXFx1MGUzZiddLFxuICAgIGM6IFsnXFx1MDBhOScsICdcXHUwMjNiJywgJ1xcdTAzZmUnXSxcbiAgICBkOiBbJ1xcdTAwZDAnLCAnXFx1MDE4YScsICdcXHUwNTAwJywgJ1xcdTA1MDEnLCAnXFx1MDUwMicsICdcXHUwNTAzJ10sXG4gICAgZTogWydcXHUwMGNiJywgJ1xcdTAxMTUnLCAnXFx1MDE4ZScsICdcXHUwMjU4JywgJ1xcdTAzYTMnLCAnXFx1MDNiZScsICdcXHUwNGJjJyxcbiAgICAgICdcXHUwYTZjJ10sXG4gICAgZjogWydcXHUwNGZhJ10sXG4gICAgZzogWydcXHUwMjYyJ10sXG4gICAgaDogWydcXHUwMTI2JywgJ1xcdTAxOTUnLCAnXFx1MDRhMicsICdcXHUwNGJhJywgJ1xcdTA0YzcnLCAnXFx1MDUwYSddLFxuICAgIGk6IFsnXFx1MGYwZiddLFxuICAgIGo6IFsnXFx1MDEzNCddLFxuICAgIGs6IFsnXFx1MDEzOCcsICdcXHUwNGEwJywgJ1xcdTA0YzMnLCAnXFx1MDUxZSddLFxuICAgIGw6IFsnXFx1MDEzOSddLFxuICAgIG06IFsnXFx1MDI4ZCcsICdcXHUwNGNkJywgJ1xcdTA0Y2UnLCAnXFx1MDUyMCcsICdcXHUwNTIxJywgJ1xcdTBkNjknXSxcbiAgICBuOiBbJ1xcdTAwZDEnLCAnXFx1MDE0YicsICdcXHUwMTlkJywgJ1xcdTAzNzYnLCAnXFx1MDNhMCcsICdcXHUwNDhhJ10sXG4gICAgbzogWydcXHUwMGQ4JywgJ1xcdTAwZjUnLCAnXFx1MDBmOCcsICdcXHUwMWZlJywgJ1xcdTAyOTgnLCAnXFx1MDQ3YScsICdcXHUwNWRkJyxcbiAgICAgICdcXHUwNmRkJywgJ1xcdTBlNGYnXSxcbiAgICBwOiBbJ1xcdTAxZjcnLCAnXFx1MDQ4ZSddLFxuICAgIHE6IFsnXFx1MDljZCddLFxuICAgIHI6IFsnXFx1MDBhZScsICdcXHUwMWE2JywgJ1xcdTAyMTAnLCAnXFx1MDI0YycsICdcXHUwMjgwJywgJ1xcdTA0MmYnXSxcbiAgICBzOiBbJ1xcdTAwYTcnLCAnXFx1MDNkZScsICdcXHUwM2RmJywgJ1xcdTAzZTgnXSxcbiAgICB0OiBbJ1xcdTAxNDEnLCAnXFx1MDE2NicsICdcXHUwMzczJ10sXG4gICAgdTogWydcXHUwMWIxJywgJ1xcdTA1NGQnXSxcbiAgICB2OiBbJ1xcdTA1ZDgnXSxcbiAgICB3OiBbJ1xcdTA0MjgnLCAnXFx1MDQ2MCcsICdcXHUwNDdjJywgJ1xcdTBkNzAnXSxcbiAgICB4OiBbJ1xcdTA0YjInLCAnXFx1MDRmZScsICdcXHUwNGZjJywgJ1xcdTA0ZmQnXSxcbiAgICB5OiBbJ1xcdTAwYTUnLCAnXFx1MDRiMCcsICdcXHUwNGNiJ10sXG4gICAgejogWydcXHUwMWI1JywgJ1xcdTAyNDAnXSxcbiAgfTtcbiAgdGV4dC5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICBjID0gYy50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBjaGFycyA9IHRyYXBbY10gfHwgWycgJ107XG4gICAgdmFyIHJhbmQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpO1xuICAgIGlmICh0eXBlb2YgdHJhcFtjXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJlc3VsdCArPSB0cmFwW2NdW3JhbmRdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgKz0gYztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsICIvLyBwbGVhc2Ugbm9cbm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24gemFsZ28odGV4dCwgb3B0aW9ucykge1xuICB0ZXh0ID0gdGV4dCB8fCAnICAgaGUgaXMgaGVyZSAgICc7XG4gIHZhciBzb3VsID0ge1xuICAgICd1cCc6IFtcbiAgICAgICdcdTAzMEQnLCAnXHUwMzBFJywgJ1x1MDMwNCcsICdcdTAzMDUnLFxuICAgICAgJ1x1MDMzRicsICdcdTAzMTEnLCAnXHUwMzA2JywgJ1x1MDMxMCcsXG4gICAgICAnXHUwMzUyJywgJ1x1MDM1NycsICdcdTAzNTEnLCAnXHUwMzA3JyxcbiAgICAgICdcdTAzMDgnLCAnXHUwMzBBJywgJ1x1MDM0MicsICdcdTAzMTMnLFxuICAgICAgJ1x1MDMwOCcsICdcdTAzNEEnLCAnXHUwMzRCJywgJ1x1MDM0QycsXG4gICAgICAnXHUwMzAzJywgJ1x1MDMwMicsICdcdTAzMEMnLCAnXHUwMzUwJyxcbiAgICAgICdcdTAzMDAnLCAnXHUwMzAxJywgJ1x1MDMwQicsICdcdTAzMEYnLFxuICAgICAgJ1x1MDMxMicsICdcdTAzMTMnLCAnXHUwMzE0JywgJ1x1MDMzRCcsXG4gICAgICAnXHUwMzA5JywgJ1x1MDM2MycsICdcdTAzNjQnLCAnXHUwMzY1JyxcbiAgICAgICdcdTAzNjYnLCAnXHUwMzY3JywgJ1x1MDM2OCcsICdcdTAzNjknLFxuICAgICAgJ1x1MDM2QScsICdcdTAzNkInLCAnXHUwMzZDJywgJ1x1MDM2RCcsXG4gICAgICAnXHUwMzZFJywgJ1x1MDM2RicsICdcdTAzM0UnLCAnXHUwMzVCJyxcbiAgICAgICdcdTAzNDYnLCAnXHUwMzFBJyxcbiAgICBdLFxuICAgICdkb3duJzogW1xuICAgICAgJ1x1MDMxNicsICdcdTAzMTcnLCAnXHUwMzE4JywgJ1x1MDMxOScsXG4gICAgICAnXHUwMzFDJywgJ1x1MDMxRCcsICdcdTAzMUUnLCAnXHUwMzFGJyxcbiAgICAgICdcdTAzMjAnLCAnXHUwMzI0JywgJ1x1MDMyNScsICdcdTAzMjYnLFxuICAgICAgJ1x1MDMyOScsICdcdTAzMkEnLCAnXHUwMzJCJywgJ1x1MDMyQycsXG4gICAgICAnXHUwMzJEJywgJ1x1MDMyRScsICdcdTAzMkYnLCAnXHUwMzMwJyxcbiAgICAgICdcdTAzMzEnLCAnXHUwMzMyJywgJ1x1MDMzMycsICdcdTAzMzknLFxuICAgICAgJ1x1MDMzQScsICdcdTAzM0InLCAnXHUwMzNDJywgJ1x1MDM0NScsXG4gICAgICAnXHUwMzQ3JywgJ1x1MDM0OCcsICdcdTAzNDknLCAnXHUwMzREJyxcbiAgICAgICdcdTAzNEUnLCAnXHUwMzUzJywgJ1x1MDM1NCcsICdcdTAzNTUnLFxuICAgICAgJ1x1MDM1NicsICdcdTAzNTknLCAnXHUwMzVBJywgJ1x1MDMyMycsXG4gICAgXSxcbiAgICAnbWlkJzogW1xuICAgICAgJ1x1MDMxNScsICdcdTAzMUInLCAnXHUwMzAwJywgJ1x1MDMwMScsXG4gICAgICAnXHUwMzU4JywgJ1x1MDMyMScsICdcdTAzMjInLCAnXHUwMzI3JyxcbiAgICAgICdcdTAzMjgnLCAnXHUwMzM0JywgJ1x1MDMzNScsICdcdTAzMzYnLFxuICAgICAgJ1x1MDM1QycsICdcdTAzNUQnLCAnXHUwMzVFJyxcbiAgICAgICdcdTAzNUYnLCAnXHUwMzYwJywgJ1x1MDM2MicsICdcdTAzMzgnLFxuICAgICAgJ1x1MDMzNycsICdcdTAzNjEnLCAnIFx1MDQ4OScsXG4gICAgXSxcbiAgfTtcbiAgdmFyIGFsbCA9IFtdLmNvbmNhdChzb3VsLnVwLCBzb3VsLmRvd24sIHNvdWwubWlkKTtcblxuICBmdW5jdGlvbiByYW5kb21OdW1iZXIocmFuZ2UpIHtcbiAgICB2YXIgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJhbmdlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQ2hhcihjaGFyYWN0ZXIpIHtcbiAgICB2YXIgYm9vbCA9IGZhbHNlO1xuICAgIGFsbC5maWx0ZXIoZnVuY3Rpb24oaSkge1xuICAgICAgYm9vbCA9IChpID09PSBjaGFyYWN0ZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBib29sO1xuICB9XG5cblxuICBmdW5jdGlvbiBoZUNvbWVzKHRleHQsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgdmFyIGNvdW50cztcbiAgICB2YXIgbDtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zWyd1cCddID1cbiAgICAgIHR5cGVvZiBvcHRpb25zWyd1cCddICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnNbJ3VwJ10gOiB0cnVlO1xuICAgIG9wdGlvbnNbJ21pZCddID1cbiAgICAgIHR5cGVvZiBvcHRpb25zWydtaWQnXSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zWydtaWQnXSA6IHRydWU7XG4gICAgb3B0aW9uc1snZG93biddID1cbiAgICAgIHR5cGVvZiBvcHRpb25zWydkb3duJ10gIT09ICd1bmRlZmluZWQnID8gb3B0aW9uc1snZG93biddIDogdHJ1ZTtcbiAgICBvcHRpb25zWydzaXplJ10gPVxuICAgICAgdHlwZW9mIG9wdGlvbnNbJ3NpemUnXSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zWydzaXplJ10gOiAnbWF4aSc7XG4gICAgdGV4dCA9IHRleHQuc3BsaXQoJycpO1xuICAgIGZvciAobCBpbiB0ZXh0KSB7XG4gICAgICBpZiAoaXNDaGFyKGwpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgdGV4dFtsXTtcbiAgICAgIGNvdW50cyA9IHsndXAnOiAwLCAnZG93bic6IDAsICdtaWQnOiAwfTtcbiAgICAgIHN3aXRjaCAob3B0aW9ucy5zaXplKSB7XG4gICAgICAgIGNhc2UgJ21pbmknOlxuICAgICAgICAgIGNvdW50cy51cCA9IHJhbmRvbU51bWJlcig4KTtcbiAgICAgICAgICBjb3VudHMubWlkID0gcmFuZG9tTnVtYmVyKDIpO1xuICAgICAgICAgIGNvdW50cy5kb3duID0gcmFuZG9tTnVtYmVyKDgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtYXhpJzpcbiAgICAgICAgICBjb3VudHMudXAgPSByYW5kb21OdW1iZXIoMTYpICsgMztcbiAgICAgICAgICBjb3VudHMubWlkID0gcmFuZG9tTnVtYmVyKDQpICsgMTtcbiAgICAgICAgICBjb3VudHMuZG93biA9IHJhbmRvbU51bWJlcig2NCkgKyAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvdW50cy51cCA9IHJhbmRvbU51bWJlcig4KSArIDE7XG4gICAgICAgICAgY291bnRzLm1pZCA9IHJhbmRvbU51bWJlcig2KSAvIDI7XG4gICAgICAgICAgY291bnRzLmRvd24gPSByYW5kb21OdW1iZXIoOCkgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJyID0gWyd1cCcsICdtaWQnLCAnZG93biddO1xuICAgICAgZm9yICh2YXIgZCBpbiBhcnIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyW2RdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBjb3VudHNbaW5kZXhdOyBpKyspIHtcbiAgICAgICAgICBpZiAob3B0aW9uc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIHNvdWxbaW5kZXhdW3JhbmRvbU51bWJlcihzb3VsW2luZGV4XS5sZW5ndGgpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvLyBkb24ndCBzdW1tb24gaGltXG4gIHJldHVybiBoZUNvbWVzKHRleHQsIG9wdGlvbnMpO1xufTtcblxuIiwgIm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24oY29sb3JzKSB7XG4gIHJldHVybiBmdW5jdGlvbihsZXR0ZXIsIGksIGV4cGxvZGVkKSB7XG4gICAgaWYgKGxldHRlciA9PT0gJyAnKSByZXR1cm4gbGV0dGVyO1xuICAgIHN3aXRjaCAoaSUzKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBjb2xvcnMucmVkKGxldHRlcik7XG4gICAgICBjYXNlIDE6IHJldHVybiBjb2xvcnMud2hpdGUobGV0dGVyKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGNvbG9ycy5ibHVlKGxldHRlcik7XG4gICAgfVxuICB9O1xufTtcbiIsICJtb2R1bGVbJ2V4cG9ydHMnXSA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICByZXR1cm4gZnVuY3Rpb24obGV0dGVyLCBpLCBleHBsb2RlZCkge1xuICAgIHJldHVybiBpICUgMiA9PT0gMCA/IGxldHRlciA6IGNvbG9ycy5pbnZlcnNlKGxldHRlcik7XG4gIH07XG59O1xuIiwgIm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24oY29sb3JzKSB7XG4gIC8vIFJvWSBHIEJpVlxuICB2YXIgcmFpbmJvd0NvbG9ycyA9IFsncmVkJywgJ3llbGxvdycsICdncmVlbicsICdibHVlJywgJ21hZ2VudGEnXTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxldHRlciwgaSwgZXhwbG9kZWQpIHtcbiAgICBpZiAobGV0dGVyID09PSAnICcpIHtcbiAgICAgIHJldHVybiBsZXR0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb2xvcnNbcmFpbmJvd0NvbG9yc1tpKysgJSByYWluYm93Q29sb3JzLmxlbmd0aF1dKGxldHRlcik7XG4gICAgfVxuICB9O1xufTtcblxuIiwgIm1vZHVsZVsnZXhwb3J0cyddID0gZnVuY3Rpb24oY29sb3JzKSB7XG4gIHZhciBhdmFpbGFibGUgPSBbJ3VuZGVybGluZScsICdpbnZlcnNlJywgJ2dyZXknLCAneWVsbG93JywgJ3JlZCcsICdncmVlbicsXG4gICAgJ2JsdWUnLCAnd2hpdGUnLCAnY3lhbicsICdtYWdlbnRhJywgJ2JyaWdodFllbGxvdycsICdicmlnaHRSZWQnLFxuICAgICdicmlnaHRHcmVlbicsICdicmlnaHRCbHVlJywgJ2JyaWdodFdoaXRlJywgJ2JyaWdodEN5YW4nLCAnYnJpZ2h0TWFnZW50YSddO1xuICByZXR1cm4gZnVuY3Rpb24obGV0dGVyLCBpLCBleHBsb2RlZCkge1xuICAgIHJldHVybiBsZXR0ZXIgPT09ICcgJyA/IGxldHRlciA6XG4gICAgICBjb2xvcnNbXG4gICAgICAgICAgYXZhaWxhYmxlW01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChhdmFpbGFibGUubGVuZ3RoIC0gMikpXVxuICAgICAgXShsZXR0ZXIpO1xuICB9O1xufTtcbiIsICIvKlxuXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuT3JpZ2luYWwgTGlicmFyeVxuICAtIENvcHlyaWdodCAoYykgTWFyYWsgU3F1aXJlc1xuXG5BZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHlcbiAtIENvcHlyaWdodCAoYykgU2luZHJlIFNvcmh1cyA8c2luZHJlc29yaHVzQGdtYWlsLmNvbT4gKHNpbmRyZXNvcmh1cy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cblxudmFyIGNvbG9ycyA9IHt9O1xubW9kdWxlWydleHBvcnRzJ10gPSBjb2xvcnM7XG5cbmNvbG9ycy50aGVtZXMgPSB7fTtcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgYW5zaVN0eWxlcyA9IGNvbG9ycy5zdHlsZXMgPSByZXF1aXJlKCcuL3N0eWxlcycpO1xudmFyIGRlZmluZVByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgbmV3TGluZVJlZ2V4ID0gbmV3IFJlZ0V4cCgvW1xcclxcbl0rL2cpO1xuXG5jb2xvcnMuc3VwcG9ydHNDb2xvciA9IHJlcXVpcmUoJy4vc3lzdGVtL3N1cHBvcnRzLWNvbG9ycycpLnN1cHBvcnRzQ29sb3I7XG5cbmlmICh0eXBlb2YgY29sb3JzLmVuYWJsZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbG9ycy5lbmFibGVkID0gY29sb3JzLnN1cHBvcnRzQ29sb3IoKSAhPT0gZmFsc2U7XG59XG5cbmNvbG9ycy5lbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgY29sb3JzLmVuYWJsZWQgPSB0cnVlO1xufTtcblxuY29sb3JzLmRpc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgY29sb3JzLmVuYWJsZWQgPSBmYWxzZTtcbn07XG5cbmNvbG9ycy5zdHJpcENvbG9ycyA9IGNvbG9ycy5zdHJpcCA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gKCcnICsgc3RyKS5yZXBsYWNlKC9cXHgxQlxcW1xcZCttL2csICcnKTtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xudmFyIHN0eWxpemUgPSBjb2xvcnMuc3R5bGl6ZSA9IGZ1bmN0aW9uIHN0eWxpemUoc3RyLCBzdHlsZSkge1xuICBpZiAoIWNvbG9ycy5lbmFibGVkKSB7XG4gICAgcmV0dXJuIHN0cisnJztcbiAgfVxuXG4gIHZhciBzdHlsZU1hcCA9IGFuc2lTdHlsZXNbc3R5bGVdO1xuXG4gIC8vIFN0eWxpemUgc2hvdWxkIHdvcmsgZm9yIG5vbi1BTlNJIHN0eWxlcywgdG9vXG4gIGlmICghc3R5bGVNYXAgJiYgc3R5bGUgaW4gY29sb3JzKSB7XG4gICAgLy8gU3R5bGUgbWFwcyBsaWtlIHRyYXAgb3BlcmF0ZSBhcyBmdW5jdGlvbnMgb24gc3RyaW5ncztcbiAgICAvLyB0aGV5IGRvbid0IGhhdmUgcHJvcGVydGllcyBsaWtlIG9wZW4gb3IgY2xvc2UuXG4gICAgcmV0dXJuIGNvbG9yc1tzdHlsZV0oc3RyKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZU1hcC5vcGVuICsgc3RyICsgc3R5bGVNYXAuY2xvc2U7XG59O1xuXG52YXIgbWF0Y2hPcGVyYXRvcnNSZSA9IC9bfFxcXFx7fSgpW1xcXV4kKyo/Ll0vZztcbnZhciBlc2NhcGVTdHJpbmdSZWdleHAgPSBmdW5jdGlvbihzdHIpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcnKTtcbiAgfVxuICByZXR1cm4gc3RyLnJlcGxhY2UobWF0Y2hPcGVyYXRvcnNSZSwgJ1xcXFwkJicpO1xufTtcblxuZnVuY3Rpb24gYnVpbGQoX3N0eWxlcykge1xuICB2YXIgYnVpbGRlciA9IGZ1bmN0aW9uIGJ1aWxkZXIoKSB7XG4gICAgcmV0dXJuIGFwcGx5U3R5bGUuYXBwbHkoYnVpbGRlciwgYXJndW1lbnRzKTtcbiAgfTtcbiAgYnVpbGRlci5fc3R5bGVzID0gX3N0eWxlcztcbiAgLy8gX19wcm90b19fIGlzIHVzZWQgYmVjYXVzZSB3ZSBtdXN0IHJldHVybiBhIGZ1bmN0aW9uLCBidXQgdGhlcmUgaXNcbiAgLy8gbm8gd2F5IHRvIGNyZWF0ZSBhIGZ1bmN0aW9uIHdpdGggYSBkaWZmZXJlbnQgcHJvdG90eXBlLlxuICBidWlsZGVyLl9fcHJvdG9fXyA9IHByb3RvO1xuICByZXR1cm4gYnVpbGRlcjtcbn1cblxudmFyIHN0eWxlcyA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHJldCA9IHt9O1xuICBhbnNpU3R5bGVzLmdyZXkgPSBhbnNpU3R5bGVzLmdyYXk7XG4gIE9iamVjdC5rZXlzKGFuc2lTdHlsZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgYW5zaVN0eWxlc1trZXldLmNsb3NlUmUgPVxuICAgICAgbmV3IFJlZ0V4cChlc2NhcGVTdHJpbmdSZWdleHAoYW5zaVN0eWxlc1trZXldLmNsb3NlKSwgJ2cnKTtcbiAgICByZXRba2V5XSA9IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBidWlsZCh0aGlzLl9zdHlsZXMuY29uY2F0KGtleSkpO1xuICAgICAgfSxcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn0pKCk7XG5cbnZhciBwcm90byA9IGRlZmluZVByb3BzKGZ1bmN0aW9uIGNvbG9ycygpIHt9LCBzdHlsZXMpO1xuXG5mdW5jdGlvbiBhcHBseVN0eWxlKCkge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgdmFyIHN0ciA9IGFyZ3MubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgIC8vIFVzZSB3ZWFrIGVxdWFsaXR5IGNoZWNrIHNvIHdlIGNhbiBjb2xvcml6ZSBudWxsL3VuZGVmaW5lZCBpbiBzYWZlIG1vZGVcbiAgICBpZiAoYXJnICE9IG51bGwgJiYgYXJnLmNvbnN0cnVjdG9yID09PSBTdHJpbmcpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1dGlsLmluc3BlY3QoYXJnKTtcbiAgICB9XG4gIH0pLmpvaW4oJyAnKTtcblxuICBpZiAoIWNvbG9ycy5lbmFibGVkIHx8ICFzdHIpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgdmFyIG5ld0xpbmVzUHJlc2VudCA9IHN0ci5pbmRleE9mKCdcXG4nKSAhPSAtMTtcblxuICB2YXIgbmVzdGVkU3R5bGVzID0gdGhpcy5fc3R5bGVzO1xuXG4gIHZhciBpID0gbmVzdGVkU3R5bGVzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBjb2RlID0gYW5zaVN0eWxlc1tuZXN0ZWRTdHlsZXNbaV1dO1xuICAgIHN0ciA9IGNvZGUub3BlbiArIHN0ci5yZXBsYWNlKGNvZGUuY2xvc2VSZSwgY29kZS5vcGVuKSArIGNvZGUuY2xvc2U7XG4gICAgaWYgKG5ld0xpbmVzUHJlc2VudCkge1xuICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3TGluZVJlZ2V4LCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICByZXR1cm4gY29kZS5jbG9zZSArIG1hdGNoICsgY29kZS5vcGVuO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cblxuY29sb3JzLnNldFRoZW1lID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgaWYgKHR5cGVvZiB0aGVtZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zb2xlLmxvZygnY29sb3JzLnNldFRoZW1lIG5vdyBvbmx5IGFjY2VwdHMgYW4gb2JqZWN0LCBub3QgYSBzdHJpbmcuICAnICtcbiAgICAgICdJZiB5b3UgYXJlIHRyeWluZyB0byBzZXQgYSB0aGVtZSBmcm9tIGEgZmlsZSwgaXQgaXMgbm93IHlvdXIgKHRoZSAnICtcbiAgICAgICdjYWxsZXJcXCdzKSByZXNwb25zaWJpbGl0eSB0byByZXF1aXJlIHRoZSBmaWxlLiAgVGhlIG9sZCBzeW50YXggJyArXG4gICAgICAnbG9va2VkIGxpa2UgY29sb3JzLnNldFRoZW1lKF9fZGlybmFtZSArICcgK1xuICAgICAgJ1xcJy8uLi90aGVtZXMvZ2VuZXJpYy1sb2dnaW5nLmpzXFwnKTsgVGhlIG5ldyBzeW50YXggbG9va3MgbGlrZSAnK1xuICAgICAgJ2NvbG9ycy5zZXRUaGVtZShyZXF1aXJlKF9fZGlybmFtZSArICcgK1xuICAgICAgJ1xcJy8uLi90aGVtZXMvZ2VuZXJpYy1sb2dnaW5nLmpzXFwnKSk7Jyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAodmFyIHN0eWxlIGluIHRoZW1lKSB7XG4gICAgKGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICBjb2xvcnNbc3R5bGVdID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhlbWVbc3R5bGVdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHZhciBvdXQgPSBzdHI7XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGVtZVtzdHlsZV0pIHtcbiAgICAgICAgICAgIG91dCA9IGNvbG9yc1t0aGVtZVtzdHlsZV1baV1dKG91dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yc1t0aGVtZVtzdHlsZV1dKHN0cik7XG4gICAgICB9O1xuICAgIH0pKHN0eWxlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgdmFyIHJldCA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIHJldFtuYW1lXSA9IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBidWlsZChbbmFtZV0pO1xuICAgICAgfSxcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxudmFyIHNlcXVlbmNlciA9IGZ1bmN0aW9uIHNlcXVlbmNlcihtYXAsIHN0cikge1xuICB2YXIgZXhwbG9kZWQgPSBzdHIuc3BsaXQoJycpO1xuICBleHBsb2RlZCA9IGV4cGxvZGVkLm1hcChtYXApO1xuICByZXR1cm4gZXhwbG9kZWQuam9pbignJyk7XG59O1xuXG4vLyBjdXN0b20gZm9ybWF0dGVyIG1ldGhvZHNcbmNvbG9ycy50cmFwID0gcmVxdWlyZSgnLi9jdXN0b20vdHJhcCcpO1xuY29sb3JzLnphbGdvID0gcmVxdWlyZSgnLi9jdXN0b20vemFsZ28nKTtcblxuLy8gbWFwc1xuY29sb3JzLm1hcHMgPSB7fTtcbmNvbG9ycy5tYXBzLmFtZXJpY2EgPSByZXF1aXJlKCcuL21hcHMvYW1lcmljYScpKGNvbG9ycyk7XG5jb2xvcnMubWFwcy56ZWJyYSA9IHJlcXVpcmUoJy4vbWFwcy96ZWJyYScpKGNvbG9ycyk7XG5jb2xvcnMubWFwcy5yYWluYm93ID0gcmVxdWlyZSgnLi9tYXBzL3JhaW5ib3cnKShjb2xvcnMpO1xuY29sb3JzLm1hcHMucmFuZG9tID0gcmVxdWlyZSgnLi9tYXBzL3JhbmRvbScpKGNvbG9ycyk7XG5cbmZvciAodmFyIG1hcCBpbiBjb2xvcnMubWFwcykge1xuICAoZnVuY3Rpb24obWFwKSB7XG4gICAgY29sb3JzW21hcF0gPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHJldHVybiBzZXF1ZW5jZXIoY29sb3JzLm1hcHNbbWFwXSwgc3RyKTtcbiAgICB9O1xuICB9KShtYXApO1xufVxuXG5kZWZpbmVQcm9wcyhjb2xvcnMsIGluaXQoKSk7XG4iLCAiLy9cbi8vIFJlbWFyazogUmVxdWlyaW5nIHRoaXMgZmlsZSB3aWxsIHVzZSB0aGUgXCJzYWZlXCIgY29sb3JzIEFQSSxcbi8vIHdoaWNoIHdpbGwgbm90IHRvdWNoIFN0cmluZy5wcm90b3R5cGUuXG4vL1xuLy8gICB2YXIgY29sb3JzID0gcmVxdWlyZSgnY29sb3JzL3NhZmUnKTtcbi8vICAgY29sb3JzLnJlZChcImZvb1wiKVxuLy9cbi8vXG52YXIgY29sb3JzID0gcmVxdWlyZSgnLi9saWIvY29sb3JzJyk7XG5tb2R1bGVbJ2V4cG9ydHMnXSA9IGNvbG9ycztcbiIsICIvKipcbiAqIGNsaS5qczogQ29uZmlnIHRoYXQgY29uZm9ybSB0byBjb21tb25seSB1c2VkIENMSSBsb2dnaW5nIGxldmVscy5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERlZmF1bHQgbGV2ZWxzIGZvciB0aGUgQ0xJIGNvbmZpZ3VyYXRpb24uXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLmxldmVscyA9IHtcbiAgZXJyb3I6IDAsXG4gIHdhcm46IDEsXG4gIGhlbHA6IDIsXG4gIGRhdGE6IDMsXG4gIGluZm86IDQsXG4gIGRlYnVnOiA1LFxuICBwcm9tcHQ6IDYsXG4gIHZlcmJvc2U6IDcsXG4gIGlucHV0OiA4LFxuICBzaWxseTogOVxufTtcblxuLyoqXG4gKiBEZWZhdWx0IGNvbG9ycyBmb3IgdGhlIENMSSBjb25maWd1cmF0aW9uLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5jb2xvcnMgPSB7XG4gIGVycm9yOiAncmVkJyxcbiAgd2FybjogJ3llbGxvdycsXG4gIGhlbHA6ICdjeWFuJyxcbiAgZGF0YTogJ2dyZXknLFxuICBpbmZvOiAnZ3JlZW4nLFxuICBkZWJ1ZzogJ2JsdWUnLFxuICBwcm9tcHQ6ICdncmV5JyxcbiAgdmVyYm9zZTogJ2N5YW4nLFxuICBpbnB1dDogJ2dyZXknLFxuICBzaWxseTogJ21hZ2VudGEnXG59O1xuIiwgIi8qKlxuICogbnBtLmpzOiBDb25maWcgdGhhdCBjb25mb3JtIHRvIG5wbSBsb2dnaW5nIGxldmVscy5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERlZmF1bHQgbGV2ZWxzIGZvciB0aGUgbnBtIGNvbmZpZ3VyYXRpb24uXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLmxldmVscyA9IHtcbiAgZXJyb3I6IDAsXG4gIHdhcm46IDEsXG4gIGluZm86IDIsXG4gIGh0dHA6IDMsXG4gIHZlcmJvc2U6IDQsXG4gIGRlYnVnOiA1LFxuICBzaWxseTogNlxufTtcblxuLyoqXG4gKiBEZWZhdWx0IGxldmVscyBmb3IgdGhlIG5wbSBjb25maWd1cmF0aW9uLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5jb2xvcnMgPSB7XG4gIGVycm9yOiAncmVkJyxcbiAgd2FybjogJ3llbGxvdycsXG4gIGluZm86ICdncmVlbicsXG4gIGh0dHA6ICdncmVlbicsXG4gIHZlcmJvc2U6ICdjeWFuJyxcbiAgZGVidWc6ICdibHVlJyxcbiAgc2lsbHk6ICdtYWdlbnRhJ1xufTtcbiIsICIvKipcbiAqIHN5c2xvZy5qczogQ29uZmlnIHRoYXQgY29uZm9ybSB0byBzeXNsb2cgbG9nZ2luZyBsZXZlbHMuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZWZhdWx0IGxldmVscyBmb3IgdGhlIHN5c2xvZyBjb25maWd1cmF0aW9uLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5sZXZlbHMgPSB7XG4gIGVtZXJnOiAwLFxuICBhbGVydDogMSxcbiAgY3JpdDogMixcbiAgZXJyb3I6IDMsXG4gIHdhcm5pbmc6IDQsXG4gIG5vdGljZTogNSxcbiAgaW5mbzogNixcbiAgZGVidWc6IDdcbn07XG5cbi8qKlxuICogRGVmYXVsdCBsZXZlbHMgZm9yIHRoZSBzeXNsb2cgY29uZmlndXJhdGlvbi5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuY29sb3JzID0ge1xuICBlbWVyZzogJ3JlZCcsXG4gIGFsZXJ0OiAneWVsbG93JyxcbiAgY3JpdDogJ3JlZCcsXG4gIGVycm9yOiAncmVkJyxcbiAgd2FybmluZzogJ3JlZCcsXG4gIG5vdGljZTogJ3llbGxvdycsXG4gIGluZm86ICdncmVlbicsXG4gIGRlYnVnOiAnYmx1ZSdcbn07XG4iLCAiLyoqXG4gKiBpbmRleC5qczogRGVmYXVsdCBzZXR0aW5ncyBmb3IgYWxsIGxldmVscyB0aGF0IHdpbnN0b24ga25vd3MgYWJvdXQuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBFeHBvcnQgY29uZmlnIHNldCBmb3IgdGhlIENMSS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2xpJywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi9jbGknKVxufSk7XG5cbi8qKlxuICogRXhwb3J0IGNvbmZpZyBzZXQgZm9yIG5wbS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnbnBtJywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi9ucG0nKVxufSk7XG5cbi8qKlxuICogRXhwb3J0IGNvbmZpZyBzZXQgZm9yIHRoZSBzeXNsb2cuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3N5c2xvZycsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vc3lzbG9nJylcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIHNoYXJlYWJsZSBzeW1ib2wgY29uc3RhbnQgdGhhdCBjYW4gYmUgdXNlZFxuICogYXMgYSBub24tZW51bWVyYWJsZSAvIHNlbWktaGlkZGVuIGxldmVsIGlkZW50aWZpZXJcbiAqIHRvIGFsbG93IHRoZSByZWFkYWJsZSBsZXZlbCBwcm9wZXJ0eSB0byBiZSBtdXRhYmxlIGZvclxuICogb3BlcmF0aW9ucyBsaWtlIGNvbG9yaXphdGlvblxuICpcbiAqIEB0eXBlIHtTeW1ib2x9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTEVWRUwnLCB7XG4gIHZhbHVlOiBTeW1ib2wuZm9yKCdsZXZlbCcpXG59KTtcblxuLyoqXG4gKiBBIHNoYXJlYWJsZSBzeW1ib2wgY29uc3RhbnQgdGhhdCBjYW4gYmUgdXNlZFxuICogYXMgYSBub24tZW51bWVyYWJsZSAvIHNlbWktaGlkZGVuIG1lc3NhZ2UgaWRlbnRpZmllclxuICogdG8gYWxsb3cgdGhlIGZpbmFsIG1lc3NhZ2UgcHJvcGVydHkgdG8gbm90IGhhdmVcbiAqIHNpZGUgZWZmZWN0cyBvbiBhbm90aGVyLlxuICpcbiAqIEB0eXBlIHtTeW1ib2x9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTUVTU0FHRScsIHtcbiAgdmFsdWU6IFN5bWJvbC5mb3IoJ21lc3NhZ2UnKVxufSk7XG5cbi8qKlxuICogQSBzaGFyZWFibGUgc3ltYm9sIGNvbnN0YW50IHRoYXQgY2FuIGJlIHVzZWRcbiAqIGFzIGEgbm9uLWVudW1lcmFibGUgLyBzZW1pLWhpZGRlbiBtZXNzYWdlIGlkZW50aWZpZXJcbiAqIHRvIGFsbG93IHRoZSBleHRyYWN0ZWQgc3BsYXQgcHJvcGVydHkgYmUgaGlkZGVuXG4gKlxuICogQHR5cGUge1N5bWJvbH1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTUExBVCcsIHtcbiAgdmFsdWU6IFN5bWJvbC5mb3IoJ3NwbGF0Jylcbn0pO1xuXG4vKipcbiAqIEEgc2hhcmVhYmxlIG9iamVjdCBjb25zdGFudCAgdGhhdCBjYW4gYmUgdXNlZFxuICogYXMgYSBzdGFuZGFyZCBjb25maWd1cmF0aW9uIGZvciB3aW5zdG9uQDMuXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb25maWdzJywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi9jb25maWcnKVxufSk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbnZhciBjb2xvcnMgPSByZXF1aXJlKCdAY29sb3JzL2NvbG9ycy9zYWZlJyk7XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICBMRVZFTCA9IF9yZXF1aXJlLkxFVkVMLFxuICBNRVNTQUdFID0gX3JlcXVpcmUuTUVTU0FHRTtcblxuLy9cbi8vIEZpeCBjb2xvcnMgbm90IGFwcGVhcmluZyBpbiBub24tdHR5IGVudmlyb25tZW50c1xuLy9cbmNvbG9ycy5lbmFibGVkID0gdHJ1ZTtcblxuLyoqXG4gKiBAcHJvcGVydHkge1JlZ0V4cH0gaGFzU3BhY2VcbiAqIFNpbXBsZSByZWdleCB0byBjaGVjayBmb3IgcHJlc2VuY2Ugb2Ygc3BhY2VzLlxuICovXG52YXIgaGFzU3BhY2UgPSAvXFxzKy87XG5cbi8qXG4gKiBDb2xvcml6ZXIgZm9ybWF0LiBXcmFwcyB0aGUgYGxldmVsYCBhbmQvb3IgYG1lc3NhZ2VgIHByb3BlcnRpZXNcbiAqIG9mIHRoZSBgaW5mb2Agb2JqZWN0cyB3aXRoIEFOU0kgY29sb3IgY29kZXMgYmFzZWQgb24gYSBmZXcgb3B0aW9ucy5cbiAqL1xudmFyIENvbG9yaXplciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbG9yaXplcigpIHtcbiAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbG9yaXplcik7XG4gICAgaWYgKG9wdHMuY29sb3JzKSB7XG4gICAgICB0aGlzLmFkZENvbG9ycyhvcHRzLmNvbG9ycyk7XG4gICAgfVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdHM7XG4gIH1cblxuICAvKlxuICAgKiBBZGRzIHRoZSBjb2xvcnMgT2JqZWN0IHRvIHRoZSBzZXQgb2YgYWxsQ29sb3JzXG4gICAqIGtub3duIGJ5IHRoZSBDb2xvcml6ZXJcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbG9ycyBTZXQgb2YgY29sb3IgbWFwcGluZ3MgdG8gYWRkLlxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKENvbG9yaXplciwgW3tcbiAgICBrZXk6IFwiYWRkQ29sb3JzXCIsXG4gICAgdmFsdWU6XG4gICAgLypcbiAgICAgKiBBZGRzIHRoZSBjb2xvcnMgT2JqZWN0IHRvIHRoZSBzZXQgb2YgYWxsQ29sb3JzXG4gICAgICoga25vd24gYnkgdGhlIENvbG9yaXplclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbG9ycyBTZXQgb2YgY29sb3IgbWFwcGluZ3MgdG8gYWRkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZENvbG9ycyhjbHJzKSB7XG4gICAgICByZXR1cm4gQ29sb3JpemVyLmFkZENvbG9ycyhjbHJzKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGZ1bmN0aW9uIGNvbG9yaXplIChsb29rdXAsIGxldmVsLCBtZXNzYWdlKVxuICAgICAqIFBlcmZvcm1zIG11bHRpLXN0ZXAgY29sb3JpemF0aW9uIHVzaW5nIEBjb2xvcnMvY29sb3JzL3NhZmVcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJjb2xvcml6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb2xvcml6ZShsb29rdXAsIGxldmVsLCBtZXNzYWdlKSB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBsZXZlbDtcbiAgICAgIH1cblxuICAgICAgLy9cbiAgICAgIC8vIElmIHRoZSBjb2xvciBmb3IgdGhlIGxldmVsIGlzIGp1c3QgYSBzdHJpbmdcbiAgICAgIC8vIHRoZW4gYXR0ZW1wdCB0byBjb2xvcml6ZSB0aGUgbWVzc2FnZSB3aXRoIGl0LlxuICAgICAgLy9cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShDb2xvcml6ZXIuYWxsQ29sb3JzW2xvb2t1cF0pKSB7XG4gICAgICAgIHJldHVybiBjb2xvcnNbQ29sb3JpemVyLmFsbENvbG9yc1tsb29rdXBdXShtZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgLy9cbiAgICAgIC8vIElmIGl0IGlzIGFuIEFycmF5IHRoZW4gaXRlcmF0ZSBvdmVyIHRoYXQgQXJyYXksIGFwcGx5aW5nXG4gICAgICAvLyB0aGUgY29sb3JzIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gICAgICAvL1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IENvbG9yaXplci5hbGxDb2xvcnNbbG9va3VwXS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBtZXNzYWdlID0gY29sb3JzW0NvbG9yaXplci5hbGxDb2xvcnNbbG9va3VwXVtpXV0obWVzc2FnZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGZ1bmN0aW9uIHRyYW5zZm9ybSAoaW5mbywgb3B0cylcbiAgICAgKiBBdHRlbXB0cyB0byBjb2xvcml6ZSB0aGUgeyBsZXZlbCwgbWVzc2FnZSB9IG9mIHRoZSBnaXZlblxuICAgICAqIGBsb2dmb3JtYCBpbmZvIG9iamVjdC5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJ0cmFuc2Zvcm1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNmb3JtKGluZm8sIG9wdHMpIHtcbiAgICAgIGlmIChvcHRzLmFsbCAmJiB0eXBlb2YgaW5mb1tNRVNTQUdFXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaW5mb1tNRVNTQUdFXSA9IHRoaXMuY29sb3JpemUoaW5mb1tMRVZFTF0sIGluZm8ubGV2ZWwsIGluZm9bTUVTU0FHRV0pO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMubGV2ZWwgfHwgb3B0cy5hbGwgfHwgIW9wdHMubWVzc2FnZSkge1xuICAgICAgICBpbmZvLmxldmVsID0gdGhpcy5jb2xvcml6ZShpbmZvW0xFVkVMXSwgaW5mby5sZXZlbCk7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5hbGwgfHwgb3B0cy5tZXNzYWdlKSB7XG4gICAgICAgIGluZm8ubWVzc2FnZSA9IHRoaXMuY29sb3JpemUoaW5mb1tMRVZFTF0sIGluZm8ubGV2ZWwsIGluZm8ubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJhZGRDb2xvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ29sb3JzKGNscnMpIHtcbiAgICAgIHZhciBuZXh0Q29sb3JzID0gT2JqZWN0LmtleXMoY2xycykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGxldmVsKSB7XG4gICAgICAgIGFjY1tsZXZlbF0gPSBoYXNTcGFjZS50ZXN0KGNscnNbbGV2ZWxdKSA/IGNscnNbbGV2ZWxdLnNwbGl0KGhhc1NwYWNlKSA6IGNscnNbbGV2ZWxdO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuICAgICAgQ29sb3JpemVyLmFsbENvbG9ycyA9IE9iamVjdC5hc3NpZ24oe30sIENvbG9yaXplci5hbGxDb2xvcnMgfHwge30sIG5leHRDb2xvcnMpO1xuICAgICAgcmV0dXJuIENvbG9yaXplci5hbGxDb2xvcnM7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDb2xvcml6ZXI7XG59KCk7XG4vKlxuICogZnVuY3Rpb24gY29sb3JpemUgKGluZm8pXG4gKiBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBjb2xvcml6ZSBGb3JtYXQgdGhhdCBhcHBsaWVzXG4gKiBsZXZlbCBjb2xvcnMgdG8gYGluZm9gIG9iamVjdHMuIFRoaXMgd2FzIHByZXZpb3VzbHkgZXhwb3NlZFxuICogYXMgeyBjb2xvcml6ZTogdHJ1ZSB9IHRvIHRyYW5zcG9ydHMgaW4gYHdpbnN0b24gPCAzLjAuMGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIG5ldyBDb2xvcml6ZXIob3B0cyk7XG59O1xuXG4vL1xuLy8gQXR0YWNoIHRoZSBDb2xvcml6ZXIgZm9yIHJlZ2lzdHJhdGlvbiBwdXJwb3Nlc1xuLy9cbm1vZHVsZS5leHBvcnRzLkNvbG9yaXplciA9IG1vZHVsZS5leHBvcnRzLkZvcm1hdCA9IENvbG9yaXplcjsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuL2NvbG9yaXplJyksXG4gIENvbG9yaXplciA9IF9yZXF1aXJlLkNvbG9yaXplcjtcblxuLypcbiAqIFNpbXBsZSBtZXRob2QgdG8gcmVnaXN0ZXIgY29sb3JzIHdpdGggYSBzaW1wbGVyIHJlcXVpcmVcbiAqIHBhdGggd2l0aGluIHRoZSBtb2R1bGUuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICBDb2xvcml6ZXIuYWRkQ29sb3JzKGNvbmZpZy5jb2xvcnMgfHwgY29uZmlnKTtcbiAgcmV0dXJuIGNvbmZpZztcbn07IiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGZvcm1hdCA9IHJlcXVpcmUoJy4vZm9ybWF0Jyk7XG5cbi8qXG4gKiBmdW5jdGlvbiBhbGlnbiAoaW5mbylcbiAqIFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGFsaWduIEZvcm1hdCB3aGljaCBhZGRzIGEgYFxcdGBcbiAqIGRlbGltaXRlciBiZWZvcmUgdGhlIG1lc3NhZ2UgdG8gcHJvcGVybHkgYWxpZ24gaXQgaW4gdGhlIHNhbWUgcGxhY2UuXG4gKiBJdCB3YXMgcHJldmlvdXNseSB7IGFsaWduOiB0cnVlIH0gaW4gd2luc3RvbiA8IDMuMC4wXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0KGZ1bmN0aW9uIChpbmZvKSB7XG4gIGluZm8ubWVzc2FnZSA9IFwiXFx0XCIuY29uY2F0KGluZm8ubWVzc2FnZSk7XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogMCAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICBjb25maWdzID0gX3JlcXVpcmUuY29uZmlncyxcbiAgTEVWRUwgPSBfcmVxdWlyZS5MRVZFTCxcbiAgTUVTU0FHRSA9IF9yZXF1aXJlLk1FU1NBR0U7XG52YXIgUGFkZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGFkZGVyKCkge1xuICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7XG4gICAgICBsZXZlbHM6IGNvbmZpZ3MubnBtLmxldmVsc1xuICAgIH07XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZGRlcik7XG4gICAgdGhpcy5wYWRkaW5ncyA9IFBhZGRlci5wYWRkaW5nRm9yTGV2ZWxzKG9wdHMubGV2ZWxzLCBvcHRzLmZpbGxlcik7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtYXhpbXVtIGxlbmd0aCBvZiBrZXlzIGluIHRoZSBzcGVjaWZpZWQgYGxldmVsc2AgT2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGxldmVscyBTZXQgb2YgYWxsIGxldmVscyB0byBjYWxjdWxhdGUgbG9uZ2VzdCBsZXZlbCBhZ2FpbnN0LlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBNYXhpbXVtIGxlbmd0aCBvZiB0aGUgbG9uZ2VzdCBsZXZlbCBzdHJpbmcuXG4gICAqL1xuICBfY3JlYXRlQ2xhc3MoUGFkZGVyLCBbe1xuICAgIGtleTogXCJ0cmFuc2Zvcm1cIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgcGFkZGluZyBvbnRvIHRoZSBgbWVzc2FnZWAgYmFzZWQgb24gdGhlIGBMRVZFTGAgb2ZcbiAgICAgKiB0aGUgYGluZm9gLiBUaGlzIGlzIGJhc2VkIG9uIHRoZSBiZWhhdmlvciBvZiBgd2luc3RvbkAyYCB3aGljaCBhbHNvXG4gICAgICogcHJlcGVuZGVkIHRoZSBsZXZlbCBvbnRvIHRoZSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vd2luc3RvbmpzL3dpbnN0b24vYmxvYi8yLngvbGliL3dpbnN0b24vbG9nZ2VyLmpzI0wxOTgtTDIwMVxuICAgICAqXG4gICAgICogQHBhcmFtICB7SW5mb30gaW5mbyBMb2dmb3JtIGluZm8gb2JqZWN0XG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRzIE9wdGlvbnMgcGFzc2VkIGFsb25nIHRvIHRoaXMgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge0luZm99IE1vZGlmaWVkIGxvZ2Zvcm0gaW5mbyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKGluZm8sIG9wdHMpIHtcbiAgICAgIGluZm8ubWVzc2FnZSA9IFwiXCIuY29uY2F0KHRoaXMucGFkZGluZ3NbaW5mb1tMRVZFTF1dKS5jb25jYXQoaW5mby5tZXNzYWdlKTtcbiAgICAgIGlmIChpbmZvW01FU1NBR0VdKSB7XG4gICAgICAgIGluZm9bTUVTU0FHRV0gPSBcIlwiLmNvbmNhdCh0aGlzLnBhZGRpbmdzW2luZm9bTEVWRUxdXSkuY29uY2F0KGluZm9bTUVTU0FHRV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0TG9uZ2VzdExldmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvbmdlc3RMZXZlbChsZXZlbHMpIHtcbiAgICAgIHZhciBsdmxzID0gT2JqZWN0LmtleXMobGV2ZWxzKS5tYXAoZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIHJldHVybiBsZXZlbC5sZW5ndGg7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkobHZscykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIHRoZSBzcGVjaWZpZWQgYGxldmVsYCBhc3N1bWluZyB0aGF0IHRoZVxuICAgICAqIG1heGltdW0gbGVuZ3RoIG9mIGFsbCBsZXZlbHMgaXQncyBhc3NvY2lhdGVkIHdpdGggaXMgYG1heExlbmd0aGAuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBsZXZlbCBMZXZlbCB0byBjYWxjdWxhdGUgcGFkZGluZyBmb3IuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBmaWxsZXIgUmVwZWF0YWJsZSB0ZXh0IHRvIHVzZSBmb3IgcGFkZGluZy5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1heExlbmd0aCBMZW5ndGggb2YgdGhlIGxvbmdlc3QgbGV2ZWxcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBQYWRkaW5nIHN0cmluZyBmb3IgdGhlIGBsZXZlbGBcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJwYWRkaW5nRm9yTGV2ZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFkZGluZ0ZvckxldmVsKGxldmVsLCBmaWxsZXIsIG1heExlbmd0aCkge1xuICAgICAgdmFyIHRhcmdldExlbiA9IG1heExlbmd0aCArIDEgLSBsZXZlbC5sZW5ndGg7XG4gICAgICB2YXIgcmVwID0gTWF0aC5mbG9vcih0YXJnZXRMZW4gLyBmaWxsZXIubGVuZ3RoKTtcbiAgICAgIHZhciBwYWRkaW5nID0gXCJcIi5jb25jYXQoZmlsbGVyKS5jb25jYXQoZmlsbGVyLnJlcGVhdChyZXApKTtcbiAgICAgIHJldHVybiBwYWRkaW5nLnNsaWNlKDAsIHRhcmdldExlbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgc3RyaW5nIHBhZGRpbmdzIGZvciB0aGUgZ2l2ZW4gYGxldmVsc2BcbiAgICAgKiB1c2luZyB0aGUgc3BlY2lmaWVkIGBmaWxsZXJgLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbGV2ZWxzIFNldCBvZiBhbGwgbGV2ZWxzIHRvIGNhbGN1bGF0ZSBwYWRkaW5nIGZvci5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZpbGxlciBSZXBlYXRhYmxlIHRleHQgdG8gdXNlIGZvciBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IE1hcHBpbmcgb2YgbGV2ZWwgdG8gZGVzaXJlZCBwYWRkaW5nLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInBhZGRpbmdGb3JMZXZlbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFkZGluZ0ZvckxldmVscyhsZXZlbHMpIHtcbiAgICAgIHZhciBmaWxsZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcgJztcbiAgICAgIHZhciBtYXhMZW5ndGggPSBQYWRkZXIuZ2V0TG9uZ2VzdExldmVsKGxldmVscyk7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMobGV2ZWxzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbGV2ZWwpIHtcbiAgICAgICAgYWNjW2xldmVsXSA9IFBhZGRlci5wYWRkaW5nRm9yTGV2ZWwobGV2ZWwsIGZpbGxlciwgbWF4TGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFBhZGRlcjtcbn0oKTtcbi8qXG4gKiBmdW5jdGlvbiBwYWRMZXZlbHMgKGluZm8pXG4gKiBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwYWRMZXZlbHMgRm9ybWF0IHdoaWNoIHBhZHNcbiAqIGxldmVscyB0byBiZSB0aGUgc2FtZSBsZW5ndGguIFRoaXMgd2FzIHByZXZpb3VzbHkgZXhwb3NlZCBhc1xuICogeyBwYWRMZXZlbHM6IHRydWUgfSB0byB0cmFuc3BvcnRzIGluIGB3aW5zdG9uIDwgMy4wLjBgLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHJldHVybiBuZXcgUGFkZGVyKG9wdHMpO1xufTtcbm1vZHVsZS5leHBvcnRzLlBhZGRlciA9IG1vZHVsZS5leHBvcnRzLkZvcm1hdCA9IFBhZGRlcjsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vY29sb3JpemUnKSxcbiAgQ29sb3JpemVyID0gX3JlcXVpcmUuQ29sb3JpemVyO1xudmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJy4vcGFkLWxldmVscycpLFxuICBQYWRkZXIgPSBfcmVxdWlyZTIuUGFkZGVyO1xudmFyIF9yZXF1aXJlMyA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyksXG4gIGNvbmZpZ3MgPSBfcmVxdWlyZTMuY29uZmlncyxcbiAgTUVTU0FHRSA9IF9yZXF1aXJlMy5NRVNTQUdFO1xuXG4vKipcbiAqIENsaSBmb3JtYXQgY2xhc3MgdGhhdCBoYW5kbGVzIGluaXRpYWwgc3RhdGUgZm9yIGEgYSBzZXBhcmF0ZVxuICogQ29sb3JpemVyIGFuZCBQYWRkZXIgaW5zdGFuY2UuXG4gKi9cbnZhciBDbGlGb3JtYXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDbGlGb3JtYXQoKSB7XG4gICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlGb3JtYXQpO1xuICAgIGlmICghb3B0cy5sZXZlbHMpIHtcbiAgICAgIG9wdHMubGV2ZWxzID0gY29uZmlncy5jbGkubGV2ZWxzO1xuICAgIH1cbiAgICB0aGlzLmNvbG9yaXplciA9IG5ldyBDb2xvcml6ZXIob3B0cyk7XG4gICAgdGhpcy5wYWRkZXIgPSBuZXcgUGFkZGVyKG9wdHMpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdHM7XG4gIH1cblxuICAvKlxuICAgKiBmdW5jdGlvbiB0cmFuc2Zvcm0gKGluZm8sIG9wdHMpXG4gICAqIEF0dGVtcHRzIHRvIGJvdGg6XG4gICAqIDEuIFBhZCB0aGUgeyBsZXZlbCB9XG4gICAqIDIuIENvbG9yaXplIHRoZSB7IGxldmVsLCBtZXNzYWdlIH1cbiAgICogb2YgdGhlIGdpdmVuIGBsb2dmb3JtYCBpbmZvIG9iamVjdCBkZXBlbmRpbmcgb24gdGhlIGBvcHRzYC5cbiAgICovXG4gIF9jcmVhdGVDbGFzcyhDbGlGb3JtYXQsIFt7XG4gICAga2V5OiBcInRyYW5zZm9ybVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2Zvcm0oaW5mbywgb3B0cykge1xuICAgICAgdGhpcy5jb2xvcml6ZXIudHJhbnNmb3JtKHRoaXMucGFkZGVyLnRyYW5zZm9ybShpbmZvLCBvcHRzKSwgb3B0cyk7XG4gICAgICBpbmZvW01FU1NBR0VdID0gXCJcIi5jb25jYXQoaW5mby5sZXZlbCwgXCI6XCIpLmNvbmNhdChpbmZvLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbGlGb3JtYXQ7XG59KCk7XG4vKlxuICogZnVuY3Rpb24gY2xpIChvcHRzKVxuICogUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQ0xJIGZvcm1hdCB0aGF0IHR1cm5zIGEgbG9nXG4gKiBgaW5mb2Agb2JqZWN0IGludG8gdGhlIHNhbWUgZm9ybWF0IHByZXZpb3VzbHkgYXZhaWxhYmxlXG4gKiBpbiBgd2luc3Rvbi5jbGkoKWAgaW4gYHdpbnN0b24gPCAzLjAuMGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIG5ldyBDbGlGb3JtYXQob3B0cyk7XG59O1xuXG4vL1xuLy8gQXR0YWNoIHRoZSBDbGlGb3JtYXQgZm9yIHJlZ2lzdHJhdGlvbiBwdXJwb3Nlc1xuLy9cbm1vZHVsZS5leHBvcnRzLkZvcm1hdCA9IENsaUZvcm1hdDsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm9ybWF0ID0gcmVxdWlyZSgnLi9mb3JtYXQnKTtcblxuLypcbiAqIGZ1bmN0aW9uIGNhc2NhZGUoZm9ybWF0cylcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIGAuX2Zvcm1hdGAgZnVuY3Rpb24gaW4tb3JkZXJcbiAqIGZvciB0aGUgc3BlY2lmaWVkIHNldCBvZiBgZm9ybWF0c2AuIEluIHRoaXMgbWFubmVyIHdlIHNheSB0aGF0IEZvcm1hdHNcbiAqIGFyZSBcInBpcGUtbGlrZVwiLCBidXQgbm90IGEgcHVyZSBwdW1waWZ5IGltcGxlbWVudGF0aW9uLiBTaW5jZSB0aGVyZSBpcyBubyBiYWNrXG4gKiBwcmVzc3VyZSB3ZSBjYW4gcmVtb3ZlIGFsbCBvZiB0aGUgXCJyZWFkYWJsZVwiIHBsdW1iaW5nIGluIE5vZGUgc3RyZWFtcy5cbiAqL1xuZnVuY3Rpb24gY2FzY2FkZShmb3JtYXRzKSB7XG4gIGlmICghZm9ybWF0cy5ldmVyeShpc1ZhbGlkRm9ybWF0KSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKGluZm8pIHtcbiAgICB2YXIgb2JqID0gaW5mbztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1hdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iaiA9IGZvcm1hdHNbaV0udHJhbnNmb3JtKG9iaiwgZm9ybWF0c1tpXS5vcHRpb25zKTtcbiAgICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcbn1cblxuLypcbiAqIGZ1bmN0aW9uIGlzVmFsaWRGb3JtYXQoZm9ybWF0KVxuICogSWYgdGhlIGZvcm1hdCBkb2VzIG5vdCBkZWZpbmUgYSBgdHJhbnNmb3JtYCBmdW5jdGlvbiB0aHJvdyBhbiBlcnJvclxuICogd2l0aCBtb3JlIGRldGFpbGVkIHVzYWdlLlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkRm9ybWF0KGZtdCkge1xuICBpZiAodHlwZW9mIGZtdC50cmFuc2Zvcm0gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoWydObyB0cmFuc2Zvcm0gZnVuY3Rpb24gZm91bmQgb24gZm9ybWF0LiBEaWQgeW91IGNyZWF0ZSBhIGZvcm1hdCBpbnN0YW5jZT8nLCAnY29uc3QgbXlGb3JtYXQgPSBmb3JtYXQoZm9ybWF0Rm4pOycsICdjb25zdCBpbnN0YW5jZSA9IG15Rm9ybWF0KCk7J10uam9pbignXFxuJykpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKlxuICogZnVuY3Rpb24gY29tYmluZSAoaW5mbylcbiAqIFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGNvbWJpbmUgRm9ybWF0IHdoaWNoIGNvbWJpbmVzIHRoZSBzcGVjaWZpZWRcbiAqIGZvcm1hdHMgaW50byBhIG5ldyBmb3JtYXQuIFRoaXMgaXMgc2ltaWxhciB0byBhIHBpcGUtY2hhaW4gaW4gdHJhbnNmb3JtIHN0cmVhbXMuXG4gKiBXZSBjaG9vc2UgdG8gY29tYmluZSB0aGUgcHJvdG90eXBlcyB0aGlzIHdheSBiZWNhdXNlIHRoZXJlIGlzIG5vIGJhY2sgcHJlc3N1cmUgaW5cbiAqIGFuIGluLW1lbW9yeSB0cmFuc2Zvcm0gY2hhaW4uXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZm9ybWF0cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmb3JtYXRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHZhciBjb21iaW5lZEZvcm1hdCA9IGZvcm1hdChjYXNjYWRlKGZvcm1hdHMpKTtcbiAgdmFyIGluc3RhbmNlID0gY29tYmluZWRGb3JtYXQoKTtcbiAgaW5zdGFuY2UuRm9ybWF0ID0gY29tYmluZWRGb3JtYXQuRm9ybWF0O1xuICByZXR1cm4gaW5zdGFuY2U7XG59O1xuXG4vL1xuLy8gRXhwb3J0IHRoZSBjYXNjYWRlIG1ldGhvZCBmb3IgdXNlIGluIGNsaSBhbmQgb3RoZXJcbi8vIGNvbWJpbmVkIGZvcm1hdHMgdGhhdCBzaG91bGQgbm90IGJlIGFzc3VtZWQgdG8gYmVcbi8vIHNpbmdsZXRvbnMuXG4vL1xubW9kdWxlLmV4cG9ydHMuY2FzY2FkZSA9IGNhc2NhZGU7IiwgIi8qIGVzbGludCBuby11bmRlZmluZWQ6IDAgKi9cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxudmFyIGZvcm1hdCA9IHJlcXVpcmUoJy4vZm9ybWF0Jyk7XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICBMRVZFTCA9IF9yZXF1aXJlLkxFVkVMLFxuICBNRVNTQUdFID0gX3JlcXVpcmUuTUVTU0FHRTtcblxuLypcbiAqIGZ1bmN0aW9uIGVycm9ycyAoaW5mbylcbiAqIElmIHRoZSBgbWVzc2FnZWAgcHJvcGVydHkgb2YgdGhlIGBpbmZvYCBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgYEVycm9yYCxcbiAqIHJlcGxhY2UgdGhlIGBFcnJvcmAgb2JqZWN0IGl0cyBvd24gYG1lc3NhZ2VgIHByb3BlcnR5LlxuICpcbiAqIE9wdGlvbmFsbHksIHRoZSBFcnJvcidzIGBzdGFja2AgYW5kL29yIGBjYXVzZWAgcHJvcGVydGllcyBjYW4gYWxzbyBiZSBhcHBlbmRlZCB0byB0aGUgYGluZm9gIG9iamVjdC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXQoZnVuY3Rpb24gKGVpbmZvLCBfcmVmKSB7XG4gIHZhciBzdGFjayA9IF9yZWYuc3RhY2ssXG4gICAgY2F1c2UgPSBfcmVmLmNhdXNlO1xuICBpZiAoZWluZm8gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHZhciBfT2JqZWN0JGFzc2lnbjtcbiAgICB2YXIgaW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIGVpbmZvLCAoX09iamVjdCRhc3NpZ24gPSB7XG4gICAgICBsZXZlbDogZWluZm8ubGV2ZWxcbiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRhc3NpZ24sIExFVkVMLCBlaW5mb1tMRVZFTF0gfHwgZWluZm8ubGV2ZWwpLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRhc3NpZ24sIFwibWVzc2FnZVwiLCBlaW5mby5tZXNzYWdlKSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkYXNzaWduLCBNRVNTQUdFLCBlaW5mb1tNRVNTQUdFXSB8fCBlaW5mby5tZXNzYWdlKSwgX09iamVjdCRhc3NpZ24pKTtcbiAgICBpZiAoc3RhY2spIGluZm8uc3RhY2sgPSBlaW5mby5zdGFjaztcbiAgICBpZiAoY2F1c2UpIGluZm8uY2F1c2UgPSBlaW5mby5jYXVzZTtcbiAgICByZXR1cm4gaW5mbztcbiAgfVxuICBpZiAoIShlaW5mby5tZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpKSByZXR1cm4gZWluZm87XG5cbiAgLy8gQXNzaWduIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIHRoZVxuICAvLyBtZXNzYWdlIHByb3BlcnR5IGZyb20gdGhlIGVycm9yIHByb3ZpZGVkLlxuICB2YXIgZXJyID0gZWluZm8ubWVzc2FnZTtcbiAgT2JqZWN0LmFzc2lnbihlaW5mbywgZXJyKTtcbiAgZWluZm8ubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICBlaW5mb1tNRVNTQUdFXSA9IGVyci5tZXNzYWdlO1xuXG4gIC8vIEFzc2lnbiB0aGUgc3RhY2sgYW5kL29yIGNhdXNlIGlmIHJlcXVlc3RlZC5cbiAgaWYgKHN0YWNrKSBlaW5mby5zdGFjayA9IGVyci5zdGFjaztcbiAgaWYgKGNhdXNlKSBlaW5mby5jYXVzZSA9IGVyci5jYXVzZTtcbiAgcmV0dXJuIGVpbmZvO1xufSk7IiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IGhhc093blByb3BlcnR5IH0gPSBPYmplY3QucHJvdG90eXBlXG5cbmNvbnN0IHN0cmluZ2lmeSA9IGNvbmZpZ3VyZSgpXG5cbi8vIEB0cy1leHBlY3QtZXJyb3JcbnN0cmluZ2lmeS5jb25maWd1cmUgPSBjb25maWd1cmVcbi8vIEB0cy1leHBlY3QtZXJyb3JcbnN0cmluZ2lmeS5zdHJpbmdpZnkgPSBzdHJpbmdpZnlcblxuLy8gQHRzLWV4cGVjdC1lcnJvclxuc3RyaW5naWZ5LmRlZmF1bHQgPSBzdHJpbmdpZnlcblxuLy8gQHRzLWV4cGVjdC1lcnJvciB1c2VkIGZvciBuYW1lZCBleHBvcnRcbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5XG4vLyBAdHMtZXhwZWN0LWVycm9yIHVzZWQgZm9yIG5hbWVkIGV4cG9ydFxuZXhwb3J0cy5jb25maWd1cmUgPSBjb25maWd1cmVcblxubW9kdWxlLmV4cG9ydHMgPSBzdHJpbmdpZnlcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbmNvbnN0IHN0ckVzY2FwZVNlcXVlbmNlc1JlZ0V4cCA9IC9bXFx1MDAwMC1cXHUwMDFmXFx1MDAyMlxcdTAwNWNcXHVkODAwLVxcdWRmZmZdfFtcXHVkODAwLVxcdWRiZmZdKD8hW1xcdWRjMDAtXFx1ZGZmZl0pfCg/OlteXFx1ZDgwMC1cXHVkYmZmXXxeKVtcXHVkYzAwLVxcdWRmZmZdL1xuXG4vLyBFc2NhcGUgQzAgY29udHJvbCBjaGFyYWN0ZXJzLCBkb3VibGUgcXVvdGVzLCB0aGUgYmFja3NsYXNoIGFuZCBldmVyeSBjb2RlXG4vLyB1bml0IHdpdGggYSBudW1lcmljIHZhbHVlIGluIHRoZSBpbmNsdXNpdmUgcmFuZ2UgMHhEODAwIHRvIDB4REZGRi5cbmZ1bmN0aW9uIHN0ckVzY2FwZSAoc3RyKSB7XG4gIC8vIFNvbWUgbWFnaWMgbnVtYmVycyB0aGF0IHdvcmtlZCBvdXQgZmluZSB3aGlsZSBiZW5jaG1hcmtpbmcgd2l0aCB2OCA4LjBcbiAgaWYgKHN0ci5sZW5ndGggPCA1MDAwICYmICFzdHJFc2NhcGVTZXF1ZW5jZXNSZWdFeHAudGVzdChzdHIpKSB7XG4gICAgcmV0dXJuIGBcIiR7c3RyfVwiYFxuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHIpXG59XG5cbmZ1bmN0aW9uIGluc2VydFNvcnQgKGFycmF5KSB7XG4gIC8vIEluc2VydGlvbiBzb3J0IGlzIHZlcnkgZWZmaWNpZW50IGZvciBzbWFsbCBpbnB1dCBzaXplcyBidXQgaXQgaGFzIGEgYmFkXG4gIC8vIHdvcnN0IGNhc2UgY29tcGxleGl0eS4gVGh1cywgdXNlIG5hdGl2ZSBhcnJheSBzb3J0IGZvciBiaWdnZXIgdmFsdWVzLlxuICBpZiAoYXJyYXkubGVuZ3RoID4gMmUyKSB7XG4gICAgcmV0dXJuIGFycmF5LnNvcnQoKVxuICB9XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBhcnJheVtpXVxuICAgIGxldCBwb3NpdGlvbiA9IGlcbiAgICB3aGlsZSAocG9zaXRpb24gIT09IDAgJiYgYXJyYXlbcG9zaXRpb24gLSAxXSA+IGN1cnJlbnRWYWx1ZSkge1xuICAgICAgYXJyYXlbcG9zaXRpb25dID0gYXJyYXlbcG9zaXRpb24gLSAxXVxuICAgICAgcG9zaXRpb24tLVxuICAgIH1cbiAgICBhcnJheVtwb3NpdGlvbl0gPSBjdXJyZW50VmFsdWVcbiAgfVxuICByZXR1cm4gYXJyYXlcbn1cblxuY29uc3QgdHlwZWRBcnJheVByb3RvdHlwZUdldFN5bWJvbFRvU3RyaW5nVGFnID1cbiAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoXG4gICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoXG4gICAgICAgIG5ldyBJbnQ4QXJyYXkoKVxuICAgICAgKVxuICAgICksXG4gICAgU3ltYm9sLnRvU3RyaW5nVGFnXG4gICkuZ2V0XG5cbmZ1bmN0aW9uIGlzVHlwZWRBcnJheVdpdGhFbnRyaWVzICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZWRBcnJheVByb3RvdHlwZUdldFN5bWJvbFRvU3RyaW5nVGFnLmNhbGwodmFsdWUpICE9PSB1bmRlZmluZWQgJiYgdmFsdWUubGVuZ3RoICE9PSAwXG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeVR5cGVkQXJyYXkgKGFycmF5LCBzZXBhcmF0b3IsIG1heGltdW1CcmVhZHRoKSB7XG4gIGlmIChhcnJheS5sZW5ndGggPCBtYXhpbXVtQnJlYWR0aCkge1xuICAgIG1heGltdW1CcmVhZHRoID0gYXJyYXkubGVuZ3RoXG4gIH1cbiAgY29uc3Qgd2hpdGVzcGFjZSA9IHNlcGFyYXRvciA9PT0gJywnID8gJycgOiAnICdcbiAgbGV0IHJlcyA9IGBcIjBcIjoke3doaXRlc3BhY2V9JHthcnJheVswXX1gXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbWF4aW11bUJyZWFkdGg7IGkrKykge1xuICAgIHJlcyArPSBgJHtzZXBhcmF0b3J9XCIke2l9XCI6JHt3aGl0ZXNwYWNlfSR7YXJyYXlbaV19YFxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gZ2V0Q2lyY3VsYXJWYWx1ZU9wdGlvbiAob3B0aW9ucykge1xuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnY2lyY3VsYXJWYWx1ZScpKSB7XG4gICAgY29uc3QgY2lyY3VsYXJWYWx1ZSA9IG9wdGlvbnMuY2lyY3VsYXJWYWx1ZVxuICAgIGlmICh0eXBlb2YgY2lyY3VsYXJWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBgXCIke2NpcmN1bGFyVmFsdWV9XCJgXG4gICAgfVxuICAgIGlmIChjaXJjdWxhclZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjaXJjdWxhclZhbHVlXG4gICAgfVxuICAgIGlmIChjaXJjdWxhclZhbHVlID09PSBFcnJvciB8fCBjaXJjdWxhclZhbHVlID09PSBUeXBlRXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvU3RyaW5nICgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb252ZXJ0aW5nIGNpcmN1bGFyIHN0cnVjdHVyZSB0byBKU09OJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJjaXJjdWxhclZhbHVlXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZyBvciB0aGUgdmFsdWUgbnVsbCBvciB1bmRlZmluZWQnKVxuICB9XG4gIHJldHVybiAnXCJbQ2lyY3VsYXJdXCInXG59XG5cbmZ1bmN0aW9uIGdldEJvb2xlYW5PcHRpb24gKG9wdGlvbnMsIGtleSkge1xuICBsZXQgdmFsdWVcbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywga2V5KSkge1xuICAgIHZhbHVlID0gb3B0aW9uc1trZXldXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgXCIke2tleX1cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgYm9vbGVhbmApXG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHZhbHVlXG59XG5cbmZ1bmN0aW9uIGdldFBvc2l0aXZlSW50ZWdlck9wdGlvbiAob3B0aW9ucywga2V5KSB7XG4gIGxldCB2YWx1ZVxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBrZXkpKSB7XG4gICAgdmFsdWUgPSBvcHRpb25zW2tleV1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIFwiJHtrZXl9XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcmApXG4gICAgfVxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBcIiR7a2V5fVwiIGFyZ3VtZW50IG11c3QgYmUgYW4gaW50ZWdlcmApXG4gICAgfVxuICAgIGlmICh2YWx1ZSA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBUaGUgXCIke2tleX1cIiBhcmd1bWVudCBtdXN0IGJlID49IDFgKVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogdmFsdWVcbn1cblxuZnVuY3Rpb24gZ2V0SXRlbUNvdW50IChudW1iZXIpIHtcbiAgaWYgKG51bWJlciA9PT0gMSkge1xuICAgIHJldHVybiAnMSBpdGVtJ1xuICB9XG4gIHJldHVybiBgJHtudW1iZXJ9IGl0ZW1zYFxufVxuXG5mdW5jdGlvbiBnZXRVbmlxdWVSZXBsYWNlclNldCAocmVwbGFjZXJBcnJheSkge1xuICBjb25zdCByZXBsYWNlclNldCA9IG5ldyBTZXQoKVxuICBmb3IgKGNvbnN0IHZhbHVlIG9mIHJlcGxhY2VyQXJyYXkpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXBsYWNlclNldC5hZGQoU3RyaW5nKHZhbHVlKSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcGxhY2VyU2V0XG59XG5cbmZ1bmN0aW9uIGdldFN0cmljdE9wdGlvbiAob3B0aW9ucykge1xuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc3RyaWN0JykpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnMuc3RyaWN0XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpY3RcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgYm9vbGVhbicpXG4gICAgfVxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGBPYmplY3QgY2FuIG5vdCBzYWZlbHkgYmUgc3RyaW5naWZpZWQuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgdmFsdWV9YFxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSBtZXNzYWdlICs9IGAgKCR7dmFsdWUudG9TdHJpbmcoKX0pYFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29uZmlndXJlIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfVxuICBjb25zdCBmYWlsID0gZ2V0U3RyaWN0T3B0aW9uKG9wdGlvbnMpXG4gIGlmIChmYWlsKSB7XG4gICAgaWYgKG9wdGlvbnMuYmlnaW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdGlvbnMuYmlnaW50ID0gZmFsc2VcbiAgICB9XG4gICAgaWYgKCEoJ2NpcmN1bGFyVmFsdWUnIGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zLmNpcmN1bGFyVmFsdWUgPSBFcnJvclxuICAgIH1cbiAgfVxuICBjb25zdCBjaXJjdWxhclZhbHVlID0gZ2V0Q2lyY3VsYXJWYWx1ZU9wdGlvbihvcHRpb25zKVxuICBjb25zdCBiaWdpbnQgPSBnZXRCb29sZWFuT3B0aW9uKG9wdGlvbnMsICdiaWdpbnQnKVxuICBjb25zdCBkZXRlcm1pbmlzdGljID0gZ2V0Qm9vbGVhbk9wdGlvbihvcHRpb25zLCAnZGV0ZXJtaW5pc3RpYycpXG4gIGNvbnN0IG1heGltdW1EZXB0aCA9IGdldFBvc2l0aXZlSW50ZWdlck9wdGlvbihvcHRpb25zLCAnbWF4aW11bURlcHRoJylcbiAgY29uc3QgbWF4aW11bUJyZWFkdGggPSBnZXRQb3NpdGl2ZUludGVnZXJPcHRpb24ob3B0aW9ucywgJ21heGltdW1CcmVhZHRoJylcblxuICBmdW5jdGlvbiBzdHJpbmdpZnlGblJlcGxhY2VyIChrZXksIHBhcmVudCwgc3RhY2ssIHJlcGxhY2VyLCBzcGFjZXIsIGluZGVudGF0aW9uKSB7XG4gICAgbGV0IHZhbHVlID0gcGFyZW50W2tleV1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9KU09OKGtleSlcbiAgICB9XG4gICAgdmFsdWUgPSByZXBsYWNlci5jYWxsKHBhcmVudCwga2V5LCB2YWx1ZSlcblxuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gc3RyRXNjYXBlKHZhbHVlKVxuICAgICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gJ251bGwnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgICAgIHJldHVybiBjaXJjdWxhclZhbHVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzID0gJydcbiAgICAgICAgbGV0IGpvaW4gPSAnLCdcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmRlbnRhdGlvbiA9IGluZGVudGF0aW9uXG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICdbXSdcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGltdW1EZXB0aCA8IHN0YWNrLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICAgIHJldHVybiAnXCJbQXJyYXldXCInXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YWNrLnB1c2godmFsdWUpXG4gICAgICAgICAgaWYgKHNwYWNlciAhPT0gJycpIHtcbiAgICAgICAgICAgIGluZGVudGF0aW9uICs9IHNwYWNlclxuICAgICAgICAgICAgcmVzICs9IGBcXG4ke2luZGVudGF0aW9ufWBcbiAgICAgICAgICAgIGpvaW4gPSBgLFxcbiR7aW5kZW50YXRpb259YFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBtYXhpbXVtVmFsdWVzVG9TdHJpbmdpZnkgPSBNYXRoLm1pbih2YWx1ZS5sZW5ndGgsIG1heGltdW1CcmVhZHRoKVxuICAgICAgICAgIGxldCBpID0gMFxuICAgICAgICAgIGZvciAoOyBpIDwgbWF4aW11bVZhbHVlc1RvU3RyaW5naWZ5IC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlGblJlcGxhY2VyKFN0cmluZyhpKSwgdmFsdWUsIHN0YWNrLCByZXBsYWNlciwgc3BhY2VyLCBpbmRlbnRhdGlvbilcbiAgICAgICAgICAgIHJlcyArPSB0bXAgIT09IHVuZGVmaW5lZCA/IHRtcCA6ICdudWxsJ1xuICAgICAgICAgICAgcmVzICs9IGpvaW5cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5Rm5SZXBsYWNlcihTdHJpbmcoaSksIHZhbHVlLCBzdGFjaywgcmVwbGFjZXIsIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgcmVzICs9IHRtcCAhPT0gdW5kZWZpbmVkID8gdG1wIDogJ251bGwnXG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAtIDEgPiBtYXhpbXVtQnJlYWR0aCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSB2YWx1ZS5sZW5ndGggLSBtYXhpbXVtQnJlYWR0aCAtIDFcbiAgICAgICAgICAgIHJlcyArPSBgJHtqb2lufVwiLi4uICR7Z2V0SXRlbUNvdW50KHJlbW92ZWRLZXlzKX0gbm90IHN0cmluZ2lmaWVkXCJgXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzcGFjZXIgIT09ICcnKSB7XG4gICAgICAgICAgICByZXMgKz0gYFxcbiR7b3JpZ2luYWxJbmRlbnRhdGlvbn1gXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgcmV0dXJuIGBbJHtyZXN9XWBcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpXG4gICAgICAgIGNvbnN0IGtleUxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgICAgIGlmIChrZXlMZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gJ3t9J1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhpbXVtRGVwdGggPCBzdGFjay5sZW5ndGggKyAxKSB7XG4gICAgICAgICAgcmV0dXJuICdcIltPYmplY3RdXCInXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHdoaXRlc3BhY2UgPSAnJ1xuICAgICAgICBsZXQgc2VwYXJhdG9yID0gJydcbiAgICAgICAgaWYgKHNwYWNlciAhPT0gJycpIHtcbiAgICAgICAgICBpbmRlbnRhdGlvbiArPSBzcGFjZXJcbiAgICAgICAgICBqb2luID0gYCxcXG4ke2luZGVudGF0aW9ufWBcbiAgICAgICAgICB3aGl0ZXNwYWNlID0gJyAnXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF4aW11bVByb3BlcnRpZXNUb1N0cmluZ2lmeSA9IE1hdGgubWluKGtleUxlbmd0aCwgbWF4aW11bUJyZWFkdGgpXG4gICAgICAgIGlmIChkZXRlcm1pbmlzdGljICYmICFpc1R5cGVkQXJyYXlXaXRoRW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICBrZXlzID0gaW5zZXJ0U29ydChrZXlzKVxuICAgICAgICB9XG4gICAgICAgIHN0YWNrLnB1c2godmFsdWUpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4aW11bVByb3BlcnRpZXNUb1N0cmluZ2lmeTsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXVxuICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeUZuUmVwbGFjZXIoa2V5LCB2YWx1ZSwgc3RhY2ssIHJlcGxhY2VyLCBzcGFjZXIsIGluZGVudGF0aW9uKVxuICAgICAgICAgIGlmICh0bXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzICs9IGAke3NlcGFyYXRvcn0ke3N0ckVzY2FwZShrZXkpfToke3doaXRlc3BhY2V9JHt0bXB9YFxuICAgICAgICAgICAgc2VwYXJhdG9yID0gam9pblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5TGVuZ3RoID4gbWF4aW11bUJyZWFkdGgpIHtcbiAgICAgICAgICBjb25zdCByZW1vdmVkS2V5cyA9IGtleUxlbmd0aCAtIG1heGltdW1CcmVhZHRoXG4gICAgICAgICAgcmVzICs9IGAke3NlcGFyYXRvcn1cIi4uLlwiOiR7d2hpdGVzcGFjZX1cIiR7Z2V0SXRlbUNvdW50KHJlbW92ZWRLZXlzKX0gbm90IHN0cmluZ2lmaWVkXCJgXG4gICAgICAgICAgc2VwYXJhdG9yID0gam9pblxuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFjZXIgIT09ICcnICYmIHNlcGFyYXRvci5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmVzID0gYFxcbiR7aW5kZW50YXRpb259JHtyZXN9XFxuJHtvcmlnaW5hbEluZGVudGF0aW9ufWBcbiAgICAgICAgfVxuICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICByZXR1cm4gYHske3Jlc319YFxuICAgICAgfVxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgcmV0dXJuIGlzRmluaXRlKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiBmYWlsID8gZmFpbCh2YWx1ZSkgOiAnbnVsbCdcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgPyAndHJ1ZScgOiAnZmFsc2UnXG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgICBpZiAoYmlnaW50KSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSlcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhaWwgPyBmYWlsKHZhbHVlKSA6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmluZ2lmeUFycmF5UmVwbGFjZXIgKGtleSwgdmFsdWUsIHN0YWNrLCByZXBsYWNlciwgc3BhY2VyLCBpbmRlbnRhdGlvbikge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9KU09OKGtleSlcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuIHN0ckVzY2FwZSh2YWx1ZSlcbiAgICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuICdudWxsJ1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gY2lyY3VsYXJWYWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmRlbnRhdGlvbiA9IGluZGVudGF0aW9uXG4gICAgICAgIGxldCByZXMgPSAnJ1xuICAgICAgICBsZXQgam9pbiA9ICcsJ1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnW10nXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbXVtRGVwdGggPCBzdGFjay5sZW5ndGggKyAxKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1wiW0FycmF5XVwiJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKVxuICAgICAgICAgIGlmIChzcGFjZXIgIT09ICcnKSB7XG4gICAgICAgICAgICBpbmRlbnRhdGlvbiArPSBzcGFjZXJcbiAgICAgICAgICAgIHJlcyArPSBgXFxuJHtpbmRlbnRhdGlvbn1gXG4gICAgICAgICAgICBqb2luID0gYCxcXG4ke2luZGVudGF0aW9ufWBcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbWF4aW11bVZhbHVlc1RvU3RyaW5naWZ5ID0gTWF0aC5taW4odmFsdWUubGVuZ3RoLCBtYXhpbXVtQnJlYWR0aClcbiAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICBmb3IgKDsgaSA8IG1heGltdW1WYWx1ZXNUb1N0cmluZ2lmeSAtIDE7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5QXJyYXlSZXBsYWNlcihTdHJpbmcoaSksIHZhbHVlW2ldLCBzdGFjaywgcmVwbGFjZXIsIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgICByZXMgKz0gdG1wICE9PSB1bmRlZmluZWQgPyB0bXAgOiAnbnVsbCdcbiAgICAgICAgICAgIHJlcyArPSBqb2luXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeUFycmF5UmVwbGFjZXIoU3RyaW5nKGkpLCB2YWx1ZVtpXSwgc3RhY2ssIHJlcGxhY2VyLCBzcGFjZXIsIGluZGVudGF0aW9uKVxuICAgICAgICAgIHJlcyArPSB0bXAgIT09IHVuZGVmaW5lZCA/IHRtcCA6ICdudWxsJ1xuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggLSAxID4gbWF4aW11bUJyZWFkdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWRLZXlzID0gdmFsdWUubGVuZ3RoIC0gbWF4aW11bUJyZWFkdGggLSAxXG4gICAgICAgICAgICByZXMgKz0gYCR7am9pbn1cIi4uLiAke2dldEl0ZW1Db3VudChyZW1vdmVkS2V5cyl9IG5vdCBzdHJpbmdpZmllZFwiYFxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3BhY2VyICE9PSAnJykge1xuICAgICAgICAgICAgcmVzICs9IGBcXG4ke29yaWdpbmFsSW5kZW50YXRpb259YFxuICAgICAgICAgIH1cbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIHJldHVybiBgWyR7cmVzfV1gXG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSlcbiAgICAgICAgbGV0IHdoaXRlc3BhY2UgPSAnJ1xuICAgICAgICBpZiAoc3BhY2VyICE9PSAnJykge1xuICAgICAgICAgIGluZGVudGF0aW9uICs9IHNwYWNlclxuICAgICAgICAgIGpvaW4gPSBgLFxcbiR7aW5kZW50YXRpb259YFxuICAgICAgICAgIHdoaXRlc3BhY2UgPSAnICdcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VwYXJhdG9yID0gJydcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcmVwbGFjZXIpIHtcbiAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlBcnJheVJlcGxhY2VyKGtleSwgdmFsdWVba2V5XSwgc3RhY2ssIHJlcGxhY2VyLCBzcGFjZXIsIGluZGVudGF0aW9uKVxuICAgICAgICAgIGlmICh0bXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzICs9IGAke3NlcGFyYXRvcn0ke3N0ckVzY2FwZShrZXkpfToke3doaXRlc3BhY2V9JHt0bXB9YFxuICAgICAgICAgICAgc2VwYXJhdG9yID0gam9pblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhY2VyICE9PSAnJyAmJiBzZXBhcmF0b3IubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJlcyA9IGBcXG4ke2luZGVudGF0aW9ufSR7cmVzfVxcbiR7b3JpZ2luYWxJbmRlbnRhdGlvbn1gXG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgcmV0dXJuIGB7JHtyZXN9fWBcbiAgICAgIH1cbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogZmFpbCA/IGZhaWwodmFsdWUpIDogJ251bGwnXG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgY2FzZSAnYmlnaW50JzpcbiAgICAgICAgaWYgKGJpZ2ludCkge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpXG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsID8gZmFpbCh2YWx1ZSkgOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpbmdpZnlJbmRlbnQgKGtleSwgdmFsdWUsIHN0YWNrLCBzcGFjZXIsIGluZGVudGF0aW9uKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiBzdHJFc2NhcGUodmFsdWUpXG4gICAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiAnbnVsbCdcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9KU09OKGtleSlcbiAgICAgICAgICAvLyBQcmV2ZW50IGNhbGxpbmcgYHRvSlNPTmAgYWdhaW4uXG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZnlJbmRlbnQoa2V5LCB2YWx1ZSwgc3RhY2ssIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICdudWxsJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIGNpcmN1bGFyVmFsdWVcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmlnaW5hbEluZGVudGF0aW9uID0gaW5kZW50YXRpb25cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tdJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW11bURlcHRoIDwgc3RhY2subGVuZ3RoICsgMSkge1xuICAgICAgICAgICAgcmV0dXJuICdcIltBcnJheV1cIidcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSlcbiAgICAgICAgICBpbmRlbnRhdGlvbiArPSBzcGFjZXJcbiAgICAgICAgICBsZXQgcmVzID0gYFxcbiR7aW5kZW50YXRpb259YFxuICAgICAgICAgIGNvbnN0IGpvaW4gPSBgLFxcbiR7aW5kZW50YXRpb259YFxuICAgICAgICAgIGNvbnN0IG1heGltdW1WYWx1ZXNUb1N0cmluZ2lmeSA9IE1hdGgubWluKHZhbHVlLmxlbmd0aCwgbWF4aW11bUJyZWFkdGgpXG4gICAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgICAgZm9yICg7IGkgPCBtYXhpbXVtVmFsdWVzVG9TdHJpbmdpZnkgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeUluZGVudChTdHJpbmcoaSksIHZhbHVlW2ldLCBzdGFjaywgc3BhY2VyLCBpbmRlbnRhdGlvbilcbiAgICAgICAgICAgIHJlcyArPSB0bXAgIT09IHVuZGVmaW5lZCA/IHRtcCA6ICdudWxsJ1xuICAgICAgICAgICAgcmVzICs9IGpvaW5cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5SW5kZW50KFN0cmluZyhpKSwgdmFsdWVbaV0sIHN0YWNrLCBzcGFjZXIsIGluZGVudGF0aW9uKVxuICAgICAgICAgIHJlcyArPSB0bXAgIT09IHVuZGVmaW5lZCA/IHRtcCA6ICdudWxsJ1xuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggLSAxID4gbWF4aW11bUJyZWFkdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWRLZXlzID0gdmFsdWUubGVuZ3RoIC0gbWF4aW11bUJyZWFkdGggLSAxXG4gICAgICAgICAgICByZXMgKz0gYCR7am9pbn1cIi4uLiAke2dldEl0ZW1Db3VudChyZW1vdmVkS2V5cyl9IG5vdCBzdHJpbmdpZmllZFwiYFxuICAgICAgICAgIH1cbiAgICAgICAgICByZXMgKz0gYFxcbiR7b3JpZ2luYWxJbmRlbnRhdGlvbn1gXG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICByZXR1cm4gYFske3Jlc31dYFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSlcbiAgICAgICAgY29uc3Qga2V5TGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICAgaWYgKGtleUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAne30nXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heGltdW1EZXB0aCA8IHN0YWNrLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICByZXR1cm4gJ1wiW09iamVjdF1cIidcbiAgICAgICAgfVxuICAgICAgICBpbmRlbnRhdGlvbiArPSBzcGFjZXJcbiAgICAgICAgY29uc3Qgam9pbiA9IGAsXFxuJHtpbmRlbnRhdGlvbn1gXG4gICAgICAgIGxldCByZXMgPSAnJ1xuICAgICAgICBsZXQgc2VwYXJhdG9yID0gJydcbiAgICAgICAgbGV0IG1heGltdW1Qcm9wZXJ0aWVzVG9TdHJpbmdpZnkgPSBNYXRoLm1pbihrZXlMZW5ndGgsIG1heGltdW1CcmVhZHRoKVxuICAgICAgICBpZiAoaXNUeXBlZEFycmF5V2l0aEVudHJpZXModmFsdWUpKSB7XG4gICAgICAgICAgcmVzICs9IHN0cmluZ2lmeVR5cGVkQXJyYXkodmFsdWUsIGpvaW4sIG1heGltdW1CcmVhZHRoKVxuICAgICAgICAgIGtleXMgPSBrZXlzLnNsaWNlKHZhbHVlLmxlbmd0aClcbiAgICAgICAgICBtYXhpbXVtUHJvcGVydGllc1RvU3RyaW5naWZ5IC09IHZhbHVlLmxlbmd0aFxuICAgICAgICAgIHNlcGFyYXRvciA9IGpvaW5cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGV0ZXJtaW5pc3RpYykge1xuICAgICAgICAgIGtleXMgPSBpbnNlcnRTb3J0KGtleXMpXG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhpbXVtUHJvcGVydGllc1RvU3RyaW5naWZ5OyBpKyspIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldXG4gICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5SW5kZW50KGtleSwgdmFsdWVba2V5XSwgc3RhY2ssIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgaWYgKHRtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXMgKz0gYCR7c2VwYXJhdG9yfSR7c3RyRXNjYXBlKGtleSl9OiAke3RtcH1gXG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBqb2luXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlMZW5ndGggPiBtYXhpbXVtQnJlYWR0aCkge1xuICAgICAgICAgIGNvbnN0IHJlbW92ZWRLZXlzID0ga2V5TGVuZ3RoIC0gbWF4aW11bUJyZWFkdGhcbiAgICAgICAgICByZXMgKz0gYCR7c2VwYXJhdG9yfVwiLi4uXCI6IFwiJHtnZXRJdGVtQ291bnQocmVtb3ZlZEtleXMpfSBub3Qgc3RyaW5naWZpZWRcImBcbiAgICAgICAgICBzZXBhcmF0b3IgPSBqb2luXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcGFyYXRvciAhPT0gJycpIHtcbiAgICAgICAgICByZXMgPSBgXFxuJHtpbmRlbnRhdGlvbn0ke3Jlc31cXG4ke29yaWdpbmFsSW5kZW50YXRpb259YFxuICAgICAgICB9XG4gICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgIHJldHVybiBgeyR7cmVzfX1gXG4gICAgICB9XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6IGZhaWwgPyBmYWlsKHZhbHVlKSA6ICdudWxsJ1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICAgIGlmIChiaWdpbnQpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKVxuICAgICAgICB9XG4gICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFpbCA/IGZhaWwodmFsdWUpIDogdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5U2ltcGxlIChrZXksIHZhbHVlLCBzdGFjaykge1xuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gc3RyRXNjYXBlKHZhbHVlKVxuICAgICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gJ251bGwnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvSlNPTihrZXkpXG4gICAgICAgICAgLy8gUHJldmVudCBjYWxsaW5nIGB0b0pTT05gIGFnYWluXG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZnlTaW1wbGUoa2V5LCB2YWx1ZSwgc3RhY2spXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICdudWxsJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIGNpcmN1bGFyVmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXMgPSAnJ1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnW10nXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbXVtRGVwdGggPCBzdGFjay5sZW5ndGggKyAxKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1wiW0FycmF5XVwiJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKVxuICAgICAgICAgIGNvbnN0IG1heGltdW1WYWx1ZXNUb1N0cmluZ2lmeSA9IE1hdGgubWluKHZhbHVlLmxlbmd0aCwgbWF4aW11bUJyZWFkdGgpXG4gICAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgICAgZm9yICg7IGkgPCBtYXhpbXVtVmFsdWVzVG9TdHJpbmdpZnkgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeVNpbXBsZShTdHJpbmcoaSksIHZhbHVlW2ldLCBzdGFjaylcbiAgICAgICAgICAgIHJlcyArPSB0bXAgIT09IHVuZGVmaW5lZCA/IHRtcCA6ICdudWxsJ1xuICAgICAgICAgICAgcmVzICs9ICcsJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlTaW1wbGUoU3RyaW5nKGkpLCB2YWx1ZVtpXSwgc3RhY2spXG4gICAgICAgICAgcmVzICs9IHRtcCAhPT0gdW5kZWZpbmVkID8gdG1wIDogJ251bGwnXG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAtIDEgPiBtYXhpbXVtQnJlYWR0aCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSB2YWx1ZS5sZW5ndGggLSBtYXhpbXVtQnJlYWR0aCAtIDFcbiAgICAgICAgICAgIHJlcyArPSBgLFwiLi4uICR7Z2V0SXRlbUNvdW50KHJlbW92ZWRLZXlzKX0gbm90IHN0cmluZ2lmaWVkXCJgXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgcmV0dXJuIGBbJHtyZXN9XWBcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpXG4gICAgICAgIGNvbnN0IGtleUxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgICAgIGlmIChrZXlMZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gJ3t9J1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhpbXVtRGVwdGggPCBzdGFjay5sZW5ndGggKyAxKSB7XG4gICAgICAgICAgcmV0dXJuICdcIltPYmplY3RdXCInXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNlcGFyYXRvciA9ICcnXG4gICAgICAgIGxldCBtYXhpbXVtUHJvcGVydGllc1RvU3RyaW5naWZ5ID0gTWF0aC5taW4oa2V5TGVuZ3RoLCBtYXhpbXVtQnJlYWR0aClcbiAgICAgICAgaWYgKGlzVHlwZWRBcnJheVdpdGhFbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgIHJlcyArPSBzdHJpbmdpZnlUeXBlZEFycmF5KHZhbHVlLCAnLCcsIG1heGltdW1CcmVhZHRoKVxuICAgICAgICAgIGtleXMgPSBrZXlzLnNsaWNlKHZhbHVlLmxlbmd0aClcbiAgICAgICAgICBtYXhpbXVtUHJvcGVydGllc1RvU3RyaW5naWZ5IC09IHZhbHVlLmxlbmd0aFxuICAgICAgICAgIHNlcGFyYXRvciA9ICcsJ1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXRlcm1pbmlzdGljKSB7XG4gICAgICAgICAga2V5cyA9IGluc2VydFNvcnQoa2V5cylcbiAgICAgICAgfVxuICAgICAgICBzdGFjay5wdXNoKHZhbHVlKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heGltdW1Qcm9wZXJ0aWVzVG9TdHJpbmdpZnk7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV1cbiAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlTaW1wbGUoa2V5LCB2YWx1ZVtrZXldLCBzdGFjaylcbiAgICAgICAgICBpZiAodG1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcyArPSBgJHtzZXBhcmF0b3J9JHtzdHJFc2NhcGUoa2V5KX06JHt0bXB9YFxuICAgICAgICAgICAgc2VwYXJhdG9yID0gJywnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlMZW5ndGggPiBtYXhpbXVtQnJlYWR0aCkge1xuICAgICAgICAgIGNvbnN0IHJlbW92ZWRLZXlzID0ga2V5TGVuZ3RoIC0gbWF4aW11bUJyZWFkdGhcbiAgICAgICAgICByZXMgKz0gYCR7c2VwYXJhdG9yfVwiLi4uXCI6XCIke2dldEl0ZW1Db3VudChyZW1vdmVkS2V5cyl9IG5vdCBzdHJpbmdpZmllZFwiYFxuICAgICAgICB9XG4gICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgIHJldHVybiBgeyR7cmVzfX1gXG4gICAgICB9XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6IGZhaWwgPyBmYWlsKHZhbHVlKSA6ICdudWxsJ1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICAgIGlmIChiaWdpbnQpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKVxuICAgICAgICB9XG4gICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFpbCA/IGZhaWwodmFsdWUpIDogdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5ICh2YWx1ZSwgcmVwbGFjZXIsIHNwYWNlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICBsZXQgc3BhY2VyID0gJydcbiAgICAgIGlmICh0eXBlb2Ygc3BhY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNwYWNlciA9ICcgJy5yZXBlYXQoTWF0aC5taW4oc3BhY2UsIDEwKSlcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgICBzcGFjZXIgPSBzcGFjZS5zbGljZSgwLCAxMClcbiAgICAgIH1cbiAgICAgIGlmIChyZXBsYWNlciAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVwbGFjZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gc3RyaW5naWZ5Rm5SZXBsYWNlcignJywgeyAnJzogdmFsdWUgfSwgW10sIHJlcGxhY2VyLCBzcGFjZXIsICcnKVxuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlcGxhY2VyKSkge1xuICAgICAgICAgIHJldHVybiBzdHJpbmdpZnlBcnJheVJlcGxhY2VyKCcnLCB2YWx1ZSwgW10sIGdldFVuaXF1ZVJlcGxhY2VyU2V0KHJlcGxhY2VyKSwgc3BhY2VyLCAnJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNwYWNlci5sZW5ndGggIT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeUluZGVudCgnJywgdmFsdWUsIFtdLCBzcGFjZXIsICcnKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyaW5naWZ5U2ltcGxlKCcnLCB2YWx1ZSwgW10pXG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm9ybWF0ID0gcmVxdWlyZSgnLi9mb3JtYXQnKTtcbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyksXG4gIE1FU1NBR0UgPSBfcmVxdWlyZS5NRVNTQUdFO1xudmFyIHN0cmluZ2lmeSA9IHJlcXVpcmUoJ3NhZmUtc3RhYmxlLXN0cmluZ2lmeScpO1xuXG4vKlxuICogZnVuY3Rpb24gcmVwbGFjZXIgKGtleSwgdmFsdWUpXG4gKiBIYW5kbGVzIHByb3BlciBzdHJpbmdpZmljYXRpb24gb2YgQnVmZmVyIGFuZCBiaWdpbnQgb3V0cHV0LlxuICovXG5mdW5jdGlvbiByZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIC8vIHNhZmUtc3RhYmxlLXN0cmluZ2lmeSBkb2VzIHN1cHBvcnQgQmlnSW50LCBob3dldmVyLCBpdCBkb2Vzbid0IHdyYXAgdGhlIHZhbHVlIGluIHF1b3Rlcy5cbiAgLy8gTGVhZGluZyB0byBhIGxvc3MgaW4gZmlkZWxpdHkgaWYgdGhlIHJlc3VsdGluZyBzdHJpbmcgaXMgcGFyc2VkLlxuICAvLyBJdCB3b3VsZCBhbHNvIGJlIGEgYnJlYWtpbmcgY2hhbmdlIGZvciBsb2dmb3JtLlxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYmlnaW50JykgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLypcbiAqIGZ1bmN0aW9uIGpzb24gKGluZm8pXG4gKiBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBKU09OIGZvcm1hdCB0aGF0IHR1cm5zIGEgbG9nIGBpbmZvYFxuICogb2JqZWN0IGludG8gcHVyZSBKU09OLiBUaGlzIHdhcyBwcmV2aW91c2x5IGV4cG9zZWQgYXMgeyBqc29uOiB0cnVlIH1cbiAqIHRvIHRyYW5zcG9ydHMgaW4gYHdpbnN0b24gPCAzLjAuMGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0KGZ1bmN0aW9uIChpbmZvLCBvcHRzKSB7XG4gIHZhciBqc29uU3RyaW5naWZ5ID0gc3RyaW5naWZ5LmNvbmZpZ3VyZShvcHRzKTtcbiAgaW5mb1tNRVNTQUdFXSA9IGpzb25TdHJpbmdpZnkoaW5mbywgb3B0cy5yZXBsYWNlciB8fCByZXBsYWNlciwgb3B0cy5zcGFjZSk7XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGZvcm1hdCA9IHJlcXVpcmUoJy4vZm9ybWF0Jyk7XG5cbi8qXG4gKiBmdW5jdGlvbiBsYWJlbCAoaW5mbylcbiAqIFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGxhYmVsIEZvcm1hdCB3aGljaCBhZGRzIHRoZSBzcGVjaWZpZWRcbiAqIGBvcHRzLmxhYmVsYCBiZWZvcmUgdGhlIG1lc3NhZ2UuIFRoaXMgd2FzIHByZXZpb3VzbHkgZXhwb3NlZCBhc1xuICogeyBsYWJlbDogJ215IGxhYmVsJyB9IHRvIHRyYW5zcG9ydHMgaW4gYHdpbnN0b24gPCAzLjAuMGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0KGZ1bmN0aW9uIChpbmZvLCBvcHRzKSB7XG4gIGlmIChvcHRzLm1lc3NhZ2UpIHtcbiAgICBpbmZvLm1lc3NhZ2UgPSBcIltcIi5jb25jYXQob3B0cy5sYWJlbCwgXCJdIFwiKS5jb25jYXQoaW5mby5tZXNzYWdlKTtcbiAgICByZXR1cm4gaW5mbztcbiAgfVxuICBpbmZvLmxhYmVsID0gb3B0cy5sYWJlbDtcbiAgcmV0dXJuIGluZm87XG59KTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm9ybWF0ID0gcmVxdWlyZSgnLi9mb3JtYXQnKTtcbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyksXG4gIE1FU1NBR0UgPSBfcmVxdWlyZS5NRVNTQUdFO1xudmFyIGpzb25TdHJpbmdpZnkgPSByZXF1aXJlKCdzYWZlLXN0YWJsZS1zdHJpbmdpZnknKTtcblxuLypcbiAqIGZ1bmN0aW9uIGxvZ3N0YXNoIChpbmZvKVxuICogUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgTG9nU3Rhc2ggRm9ybWF0IHRoYXQgdHVybnMgYVxuICogbG9nIGBpbmZvYCBvYmplY3QgaW50byBwdXJlIEpTT04gd2l0aCB0aGUgYXBwcm9wcmlhdGUgbG9nc3Rhc2hcbiAqIG9wdGlvbnMuIFRoaXMgd2FzIHByZXZpb3VzbHkgZXhwb3NlZCBhcyB7IGxvZ3N0YXNoOiB0cnVlIH1cbiAqIHRvIHRyYW5zcG9ydHMgaW4gYHdpbnN0b24gPCAzLjAuMGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0KGZ1bmN0aW9uIChpbmZvKSB7XG4gIHZhciBsb2dzdGFzaCA9IHt9O1xuICBpZiAoaW5mby5tZXNzYWdlKSB7XG4gICAgbG9nc3Rhc2hbJ0BtZXNzYWdlJ10gPSBpbmZvLm1lc3NhZ2U7XG4gICAgZGVsZXRlIGluZm8ubWVzc2FnZTtcbiAgfVxuICBpZiAoaW5mby50aW1lc3RhbXApIHtcbiAgICBsb2dzdGFzaFsnQHRpbWVzdGFtcCddID0gaW5mby50aW1lc3RhbXA7XG4gICAgZGVsZXRlIGluZm8udGltZXN0YW1wO1xuICB9XG4gIGxvZ3N0YXNoWydAZmllbGRzJ10gPSBpbmZvO1xuICBpbmZvW01FU1NBR0VdID0ganNvblN0cmluZ2lmeShsb2dzdGFzaCk7XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxudmFyIGZvcm1hdCA9IHJlcXVpcmUoJy4vZm9ybWF0Jyk7XG5mdW5jdGlvbiBmaWxsRXhjZXB0KGluZm8sIGZpbGxFeGNlcHRLZXlzLCBtZXRhZGF0YUtleSkge1xuICB2YXIgc2F2ZWRLZXlzID0gZmlsbEV4Y2VwdEtleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgIGFjY1trZXldID0gaW5mb1trZXldO1xuICAgIGRlbGV0ZSBpbmZvW2tleV07XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICB2YXIgbWV0YWRhdGEgPSBPYmplY3Qua2V5cyhpbmZvKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgYWNjW2tleV0gPSBpbmZvW2tleV07XG4gICAgZGVsZXRlIGluZm9ba2V5XTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIE9iamVjdC5hc3NpZ24oaW5mbywgc2F2ZWRLZXlzLCBfZGVmaW5lUHJvcGVydHkoe30sIG1ldGFkYXRhS2V5LCBtZXRhZGF0YSkpO1xuICByZXR1cm4gaW5mbztcbn1cbmZ1bmN0aW9uIGZpbGxXaXRoKGluZm8sIGZpbGxXaXRoS2V5cywgbWV0YWRhdGFLZXkpIHtcbiAgaW5mb1ttZXRhZGF0YUtleV0gPSBmaWxsV2l0aEtleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgIGFjY1trZXldID0gaW5mb1trZXldO1xuICAgIGRlbGV0ZSBpbmZvW2tleV07XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICByZXR1cm4gaW5mbztcbn1cblxuLyoqXG4gKiBBZGRzIGluIGEgXCJtZXRhZGF0YVwiIG9iamVjdCB0byBjb2xsZWN0IGV4dHJhbmVvdXMgZGF0YSwgc2ltaWxhciB0byB0aGUgbWV0YWRhdGFcbiAqIG9iamVjdCBpbiB3aW5zdG9uIDIueC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXQoZnVuY3Rpb24gKGluZm8pIHtcbiAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICB2YXIgbWV0YWRhdGFLZXkgPSAnbWV0YWRhdGEnO1xuICBpZiAob3B0cy5rZXkpIHtcbiAgICBtZXRhZGF0YUtleSA9IG9wdHMua2V5O1xuICB9XG4gIHZhciBmaWxsRXhjZXB0S2V5cyA9IFtdO1xuICBpZiAoIW9wdHMuZmlsbEV4Y2VwdCAmJiAhb3B0cy5maWxsV2l0aCkge1xuICAgIGZpbGxFeGNlcHRLZXlzLnB1c2goJ2xldmVsJyk7XG4gICAgZmlsbEV4Y2VwdEtleXMucHVzaCgnbWVzc2FnZScpO1xuICB9XG4gIGlmIChvcHRzLmZpbGxFeGNlcHQpIHtcbiAgICBmaWxsRXhjZXB0S2V5cyA9IG9wdHMuZmlsbEV4Y2VwdDtcbiAgfVxuICBpZiAoZmlsbEV4Y2VwdEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBmaWxsRXhjZXB0KGluZm8sIGZpbGxFeGNlcHRLZXlzLCBtZXRhZGF0YUtleSk7XG4gIH1cbiAgaWYgKG9wdHMuZmlsbFdpdGgpIHtcbiAgICByZXR1cm4gZmlsbFdpdGgoaW5mbywgb3B0cy5maWxsV2l0aCwgbWV0YWRhdGFLZXkpO1xuICB9XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIF90aGlzID0gdm9pZCAwO1xudmFyIGZvcm1hdCA9IHJlcXVpcmUoJy4vZm9ybWF0Jyk7XG52YXIgbXMgPSByZXF1aXJlKCdtcycpO1xuXG4vKlxuICogZnVuY3Rpb24gbXMgKGluZm8pXG4gKiBSZXR1cm5zIGFuIGBpbmZvYCB3aXRoIGEgYG1zYCBwcm9wZXJ0eS4gVGhlIGBtc2AgcHJvcGVydHkgaG9sZHMgdGhlIFZhbHVlXG4gKiBvZiB0aGUgdGltZSBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIGNhbGxzIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXQoZnVuY3Rpb24gKGluZm8pIHtcbiAgdmFyIGN1cnIgPSArbmV3IERhdGUoKTtcbiAgX3RoaXMuZGlmZiA9IGN1cnIgLSAoX3RoaXMucHJldlRpbWUgfHwgY3Vycik7XG4gIF90aGlzLnByZXZUaW1lID0gY3VycjtcbiAgaW5mby5tcyA9IFwiK1wiLmNvbmNhdChtcyhfdGhpcy5kaWZmKSk7XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGluc3BlY3QgPSByZXF1aXJlKCd1dGlsJykuaW5zcGVjdDtcbnZhciBmb3JtYXQgPSByZXF1aXJlKCcuL2Zvcm1hdCcpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgndHJpcGxlLWJlYW0nKSxcbiAgTEVWRUwgPSBfcmVxdWlyZS5MRVZFTCxcbiAgTUVTU0FHRSA9IF9yZXF1aXJlLk1FU1NBR0UsXG4gIFNQTEFUID0gX3JlcXVpcmUuU1BMQVQ7XG5cbi8qXG4gKiBmdW5jdGlvbiBwcmV0dHlQcmludCAoaW5mbylcbiAqIFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHByZXR0eVByaW50IEZvcm1hdCB0aGF0IFwicHJldHR5UHJpbnRcIlxuICogc2VyaWFsaXplcyBgaW5mb2Agb2JqZWN0cy4gVGhpcyB3YXMgcHJldmlvdXNseSBleHBvc2VkIGFzXG4gKiB7IHByZXR0eVByaW50OiB0cnVlIH0gdG8gdHJhbnNwb3J0cyBpbiBgd2luc3RvbiA8IDMuMC4wYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXQoZnVuY3Rpb24gKGluZm8pIHtcbiAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAvL1xuICAvLyBpbmZvW3tMRVZFTCwgTUVTU0FHRSwgU1BMQVR9XSBhcmUgZW51bWVyYWJsZSBoZXJlLiBTaW5jZSB0aGV5XG4gIC8vIGFyZSBpbnRlcm5hbCwgd2UgcmVtb3ZlIHRoZW0gYmVmb3JlIHV0aWwuaW5zcGVjdCBzbyB0aGV5XG4gIC8vIGFyZSBub3QgcHJpbnRlZC5cbiAgLy9cbiAgdmFyIHN0cmlwcGVkID0gT2JqZWN0LmFzc2lnbih7fSwgaW5mbyk7XG5cbiAgLy8gUmVtYXJrIChpbmRleHplcm8pOiB1cGRhdGUgdGhpcyB0ZWNobmlxdWUgaW4gQXByaWwgMjAxOVxuICAvLyB3aGVuIG5vZGVANiBpcyBFT0xcbiAgZGVsZXRlIHN0cmlwcGVkW0xFVkVMXTtcbiAgZGVsZXRlIHN0cmlwcGVkW01FU1NBR0VdO1xuICBkZWxldGUgc3RyaXBwZWRbU1BMQVRdO1xuICBpbmZvW01FU1NBR0VdID0gaW5zcGVjdChzdHJpcHBlZCwgZmFsc2UsIG9wdHMuZGVwdGggfHwgbnVsbCwgb3B0cy5jb2xvcml6ZSk7XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICBNRVNTQUdFID0gX3JlcXVpcmUuTUVTU0FHRTtcbnZhciBQcmludGYgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcmludGYodGVtcGxhdGVGbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcmludGYpO1xuICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZUZuO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhQcmludGYsIFt7XG4gICAga2V5OiBcInRyYW5zZm9ybVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2Zvcm0oaW5mbykge1xuICAgICAgaW5mb1tNRVNTQUdFXSA9IHRoaXMudGVtcGxhdGUoaW5mbyk7XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFByaW50Zjtcbn0oKTtcbi8qXG4gKiBmdW5jdGlvbiBwcmludGYgKHRlbXBsYXRlRm4pXG4gKiBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwcmludGYgRm9ybWF0IHRoYXQgY3JlYXRlcyBhblxuICogaW50ZXJtZWRpYXRlIHByb3RvdHlwZSB0byBzdG9yZSB0aGUgdGVtcGxhdGUgc3RyaW5nLWJhc2VkIGZvcm1hdHRlclxuICogZnVuY3Rpb24uXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIG5ldyBQcmludGYob3B0cyk7XG59O1xubW9kdWxlLmV4cG9ydHMuUHJpbnRmID0gbW9kdWxlLmV4cG9ydHMuRm9ybWF0ID0gUHJpbnRmOyIsICIvKiBlc2xpbnQgbm8tdW5kZWZpbmVkOiAwICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBmb3JtYXQgPSByZXF1aXJlKCcuL2Zvcm1hdCcpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgndHJpcGxlLWJlYW0nKSxcbiAgTUVTU0FHRSA9IF9yZXF1aXJlLk1FU1NBR0U7XG52YXIganNvblN0cmluZ2lmeSA9IHJlcXVpcmUoJ3NhZmUtc3RhYmxlLXN0cmluZ2lmeScpO1xuXG4vKlxuICogZnVuY3Rpb24gc2ltcGxlIChpbmZvKVxuICogUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgc2ltcGxlIGZvcm1hdCBUcmFuc2Zvcm1TdHJlYW1cbiAqIHdoaWNoIHdyaXRlcyBhIHNpbXBsZSByZXByZXNlbnRhdGlvbiBvZiBsb2dzLlxuICpcbiAqICAgIGNvbnN0IHsgbGV2ZWwsIG1lc3NhZ2UsIHNwbGF0LCAuLi5yZXN0IH0gPSBpbmZvO1xuICpcbiAqICAgICR7bGV2ZWx9OiAke21lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlc3QgaXMgZW1wdHlcbiAqICAgICR7bGV2ZWx9OiAke21lc3NhZ2V9ICR7SlNPTi5zdHJpbmdpZnkocmVzdCl9ICAgIG90aGVyd2lzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZvcm1hdChmdW5jdGlvbiAoaW5mbykge1xuICB2YXIgc3RyaW5naWZpZWRSZXN0ID0ganNvblN0cmluZ2lmeShPYmplY3QuYXNzaWduKHt9LCBpbmZvLCB7XG4gICAgbGV2ZWw6IHVuZGVmaW5lZCxcbiAgICBtZXNzYWdlOiB1bmRlZmluZWQsXG4gICAgc3BsYXQ6IHVuZGVmaW5lZFxuICB9KSk7XG4gIHZhciBwYWRkaW5nID0gaW5mby5wYWRkaW5nICYmIGluZm8ucGFkZGluZ1tpbmZvLmxldmVsXSB8fCAnJztcbiAgaWYgKHN0cmluZ2lmaWVkUmVzdCAhPT0gJ3t9Jykge1xuICAgIGluZm9bTUVTU0FHRV0gPSBcIlwiLmNvbmNhdChpbmZvLmxldmVsLCBcIjpcIikuY29uY2F0KHBhZGRpbmcsIFwiIFwiKS5jb25jYXQoaW5mby5tZXNzYWdlLCBcIiBcIikuY29uY2F0KHN0cmluZ2lmaWVkUmVzdCk7XG4gIH0gZWxzZSB7XG4gICAgaW5mb1tNRVNTQUdFXSA9IFwiXCIuY29uY2F0KGluZm8ubGV2ZWwsIFwiOlwiKS5jb25jYXQocGFkZGluZywgXCIgXCIpLmNvbmNhdChpbmZvLm1lc3NhZ2UpO1xuICB9XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICBTUExBVCA9IF9yZXF1aXJlLlNQTEFUO1xuXG4vKipcbiAqIENhcHR1cmVzIHRoZSBudW1iZXIgb2YgZm9ybWF0IChpLmUuICVzIHN0cmluZ3MpIGluIGEgZ2l2ZW4gc3RyaW5nLlxuICogQmFzZWQgb24gYHV0aWwuZm9ybWF0YCwgc2VlIE5vZGUuanMgc291cmNlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvYjFjOGYxNWM1ZjE2OWUwMjFmN2M0NmViN2IyMTlkZTk1ZmU5NzYwMy9saWIvdXRpbC5qcyNMMjAxLUwyMzBcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzY2RqaWZvTyVdL2c7XG5cbi8qKlxuICogQ2FwdHVyZXMgdGhlIG51bWJlciBvZiBlc2NhcGVkICUgc2lnbnMgaW4gYSBmb3JtYXQgc3RyaW5nIChpLmUuICVzIHN0cmluZ3MpLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIGVzY2FwZWRQZXJjZW50ID0gLyUlL2c7XG52YXIgU3BsYXR0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTcGxhdHRlcihvcHRzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwbGF0dGVyKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRzO1xuICB9XG5cbiAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHRva2VucyA8PSBzcGxhdC5sZW5ndGgsIGFzc2lnbiB7IHNwbGF0LCBtZXRhIH0gaW50byB0aGVcbiAgICAgKiBgaW5mb2AgYWNjb3JkaW5nbHksIGFuZCB3cml0ZSB0byB0aGlzIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7SW5mb30gaW5mbyBMb2dmb3JtIGluZm8gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmdbXX0gdG9rZW5zIFNldCBvZiBzdHJpbmcgaW50ZXJwb2xhdGlvbiB0b2tlbnMuXG4gICAgICogQHJldHVybnMge0luZm99IE1vZGlmaWVkIGluZm8gbWVzc2FnZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gIF9jcmVhdGVDbGFzcyhTcGxhdHRlciwgW3tcbiAgICBrZXk6IFwiX3NwbGF0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zcGxhdChpbmZvLCB0b2tlbnMpIHtcbiAgICAgIHZhciBtc2cgPSBpbmZvLm1lc3NhZ2U7XG4gICAgICB2YXIgc3BsYXQgPSBpbmZvW1NQTEFUXSB8fCBpbmZvLnNwbGF0IHx8IFtdO1xuICAgICAgdmFyIHBlcmNlbnRzID0gbXNnLm1hdGNoKGVzY2FwZWRQZXJjZW50KTtcbiAgICAgIHZhciBlc2NhcGVzID0gcGVyY2VudHMgJiYgcGVyY2VudHMubGVuZ3RoIHx8IDA7XG5cbiAgICAgIC8vIFRoZSBleHBlY3RlZCBzcGxhdCBpcyB0aGUgbnVtYmVyIG9mIHRva2VucyBtaW51cyB0aGUgbnVtYmVyIG9mIGVzY2FwZXNcbiAgICAgIC8vIGUuZy5cbiAgICAgIC8vIC0geyBleHBlY3RlZFNwbGF0OiAzIH0gJyVkICVzICVqJ1xuICAgICAgLy8gLSB7IGV4cGVjdGVkU3BsYXQ6IDUgfSAnWyVzXSAlZCUlICVkJSUgJXMgJWonXG4gICAgICAvL1xuICAgICAgLy8gQW55IFwibWV0YVwiIHdpbGwgYmUgYXJ1Z21lbnRzIGluIGFkZGl0aW9uIHRvIHRoZSBleHBlY3RlZCBzcGxhdCBzaXplXG4gICAgICAvLyByZWdhcmRsZXNzIG9mIHR5cGUuIGUuZy5cbiAgICAgIC8vXG4gICAgICAvLyBsb2dnZXIubG9nKCdpbmZvJywgJyVkJSUgJXMgJWonLCAxMDAsICd3b3cnLCB7IHN1Y2g6ICdqcycgfSwgeyB0aGlzSXNNZXRhOiB0cnVlIH0pO1xuICAgICAgLy8gd291bGQgcmVzdWx0IGluIHNwbGF0IG9mIGZvdXIgKDQpLCBidXQgb25seSB0aHJlZSAoMykgYXJlIGV4cGVjdGVkLiBUaGVyZWZvcmU6XG4gICAgICAvL1xuICAgICAgLy8gZXh0cmFTcGxhdCA9IDMgLSA0ID0gLTFcbiAgICAgIC8vIG1ldGFzID0gWzEwMCwgJ3dvdycsIHsgc3VjaDogJ2pzJyB9LCB7IHRoaXNJc01ldGE6IHRydWUgfV0uc3BsaWNlKC0xLCAtMSAqIC0xKTtcbiAgICAgIC8vIHNwbGF0ID0gWzEwMCwgJ3dvdycsIHsgc3VjaDogJ2pzJyB9XVxuICAgICAgdmFyIGV4cGVjdGVkU3BsYXQgPSB0b2tlbnMubGVuZ3RoIC0gZXNjYXBlcztcbiAgICAgIHZhciBleHRyYVNwbGF0ID0gZXhwZWN0ZWRTcGxhdCAtIHNwbGF0Lmxlbmd0aDtcbiAgICAgIHZhciBtZXRhcyA9IGV4dHJhU3BsYXQgPCAwID8gc3BsYXQuc3BsaWNlKGV4dHJhU3BsYXQsIC0xICogZXh0cmFTcGxhdCkgOiBbXTtcblxuICAgICAgLy8gTm93IHRoYXQgeyBzcGxhdCB9IGhhcyBiZWVuIHNlcGFyYXRlZCBmcm9tIGFueSBwb3RlbnRpYWwgeyBtZXRhIH0uIHdlXG4gICAgICAvLyBjYW4gYXNzaWduIHRoaXMgdG8gdGhlIGBpbmZvYCBvYmplY3QgYW5kIHdyaXRlIGl0IHRvIG91ciBmb3JtYXQgc3RyZWFtLlxuICAgICAgLy8gSWYgdGhlIGFkZGl0aW9uYWwgbWV0YXMgYXJlICoqTk9UKiogb2JqZWN0cyBvciAqKkxBQ0sqKiBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgIC8vIHlvdSBhcmUgZ29pbmcgdG8gaGF2ZSBhIGJhZCB0aW1lLlxuICAgICAgdmFyIG1ldGFsZW4gPSBtZXRhcy5sZW5ndGg7XG4gICAgICBpZiAobWV0YWxlbikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGFsZW47IGkrKykge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oaW5mbywgbWV0YXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpbmZvLm1lc3NhZ2UgPSB1dGlsLmZvcm1hdC5hcHBseSh1dGlsLCBbbXNnXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNwbGF0KSkpO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICAqIFRyYW5zZm9ybXMgdGhlIGBpbmZvYCBtZXNzYWdlIGJ5IHVzaW5nIGB1dGlsLmZvcm1hdGAgdG8gY29tcGxldGVcbiAgICAgICogYW55IGBpbmZvLm1lc3NhZ2VgIHByb3ZpZGVkIGl0IGhhcyBzdHJpbmcgaW50ZXJwb2xhdGlvbiB0b2tlbnMuXG4gICAgICAqIElmIG5vIHRva2VucyBleGlzdCB0aGVuIGBpbmZvYCBpcyBpbW11dGFibGUuXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSAge0luZm99IGluZm8gTG9nZm9ybSBpbmZvIG1lc3NhZ2UuXG4gICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0cyBPcHRpb25zIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAgKiBAcmV0dXJucyB7SW5mb30gTW9kaWZpZWQgaW5mbyBtZXNzYWdlXG4gICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInRyYW5zZm9ybVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2Zvcm0oaW5mbykge1xuICAgICAgdmFyIG1zZyA9IGluZm8ubWVzc2FnZTtcbiAgICAgIHZhciBzcGxhdCA9IGluZm9bU1BMQVRdIHx8IGluZm8uc3BsYXQ7XG5cbiAgICAgIC8vIE5vIG5lZWQgdG8gcHJvY2VzcyBhbnl0aGluZyBpZiBzcGxhdCBpcyB1bmRlZmluZWRcbiAgICAgIGlmICghc3BsYXQgfHwgIXNwbGF0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH1cblxuICAgICAgLy8gRXh0cmFjdCB0b2tlbnMsIGlmIG5vbmUgYXZhaWxhYmxlIGRlZmF1bHQgdG8gZW1wdHkgYXJyYXkgdG9cbiAgICAgIC8vIGVuc3VyZSBjb25zaXN0YW5jeSBpbiBleHBlY3RlZCByZXN1bHRzXG4gICAgICB2YXIgdG9rZW5zID0gbXNnICYmIG1zZy5tYXRjaCAmJiBtc2cubWF0Y2goZm9ybWF0UmVnRXhwKTtcblxuICAgICAgLy8gVGhpcyBjb25kaXRpb24gd2lsbCB0YWtlIGNhcmUgb2YgaW5wdXRzIHdpdGggaW5mb1tTUExBVF1cbiAgICAgIC8vIGJ1dCBubyB0b2tlbnMgcHJlc2VudFxuICAgICAgaWYgKCF0b2tlbnMgJiYgKHNwbGF0IHx8IHNwbGF0Lmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIG1ldGFzID0gc3BsYXQubGVuZ3RoID4gMSA/IHNwbGF0LnNwbGljZSgwKSA6IHNwbGF0O1xuXG4gICAgICAgIC8vIE5vdyB0aGF0IHsgc3BsYXQgfSBoYXMgYmVlbiBzZXBhcmF0ZWQgZnJvbSBhbnkgcG90ZW50aWFsIHsgbWV0YSB9LiB3ZVxuICAgICAgICAvLyBjYW4gYXNzaWduIHRoaXMgdG8gdGhlIGBpbmZvYCBvYmplY3QgYW5kIHdyaXRlIGl0IHRvIG91ciBmb3JtYXQgc3RyZWFtLlxuICAgICAgICAvLyBJZiB0aGUgYWRkaXRpb25hbCBtZXRhcyBhcmUgKipOT1QqKiBvYmplY3RzIG9yICoqTEFDSyoqIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAgICAvLyB5b3UgYXJlIGdvaW5nIHRvIGhhdmUgYSBiYWQgdGltZS5cbiAgICAgICAgdmFyIG1ldGFsZW4gPSBtZXRhcy5sZW5ndGg7XG4gICAgICAgIGlmIChtZXRhbGVuKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhbGVuOyBpKyspIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaW5mbywgbWV0YXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0b2tlbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwbGF0KGluZm8sIHRva2Vucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNwbGF0dGVyO1xufSgpO1xuLypcbiAqIGZ1bmN0aW9uIHNwbGF0IChpbmZvKVxuICogUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgc3BsYXQgZm9ybWF0IFRyYW5zZm9ybVN0cmVhbVxuICogd2hpY2ggcGVyZm9ybXMgc3RyaW5nIGludGVycG9sYXRpb24gZnJvbSBgaW5mb2Agb2JqZWN0cy4gVGhpcyB3YXNcbiAqIHByZXZpb3VzbHkgZXhwb3NlZCBpbXBsaWNpdGx5IGluIGB3aW5zdG9uIDwgMy4wLjBgLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHJldHVybiBuZXcgU3BsYXR0ZXIob3B0cyk7XG59OyIsICJjb25zdCB0b2tlbiA9IC9kezEsNH18TXsxLDR9fFlZKD86WVkpP3xTezEsM318RG98Wlp8WnwoW0hoTXNEbV0pXFwxP3xbYUFdfFwiW15cIl0qXCJ8J1teJ10qJy9nO1xuY29uc3QgdHdvRGlnaXRzT3B0aW9uYWwgPSBcIlxcXFxkXFxcXGQ/XCI7XG5jb25zdCB0d29EaWdpdHMgPSBcIlxcXFxkXFxcXGRcIjtcbmNvbnN0IHRocmVlRGlnaXRzID0gXCJcXFxcZHszfVwiO1xuY29uc3QgZm91ckRpZ2l0cyA9IFwiXFxcXGR7NH1cIjtcbmNvbnN0IHdvcmQgPSBcIlteXFxcXHNdK1wiO1xuY29uc3QgbGl0ZXJhbCA9IC9cXFsoW15dKj8pXFxdL2dtO1xuXG50eXBlIERhdGVJbmZvID0ge1xuICB5ZWFyOiBudW1iZXI7XG4gIG1vbnRoOiBudW1iZXI7XG4gIGRheTogbnVtYmVyO1xuICBob3VyOiBudW1iZXI7XG4gIG1pbnV0ZTogbnVtYmVyO1xuICBzZWNvbmQ6IG51bWJlcjtcbiAgbWlsbGlzZWNvbmQ6IG51bWJlcjtcbiAgaXNQbTogbnVtYmVyIHwgbnVsbDtcbiAgdGltZXpvbmVPZmZzZXQ6IG51bWJlciB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBJMThuU2V0dGluZ3MgPSB7XG4gIGFtUG06IFtzdHJpbmcsIHN0cmluZ107XG4gIGRheU5hbWVzOiBEYXlzO1xuICBkYXlOYW1lc1Nob3J0OiBEYXlzO1xuICBtb250aE5hbWVzOiBNb250aHM7XG4gIG1vbnRoTmFtZXNTaG9ydDogTW9udGhzO1xuICBEb0ZuKGRheU9mTW9udGg6IG51bWJlcik6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEkxOG5TZXR0aW5nc09wdGlvbmFsID0gUGFydGlhbDxJMThuU2V0dGluZ3M+O1xuXG5leHBvcnQgdHlwZSBEYXlzID0gW3N0cmluZywgc3RyaW5nLCBzdHJpbmcsIHN0cmluZywgc3RyaW5nLCBzdHJpbmcsIHN0cmluZ107XG5leHBvcnQgdHlwZSBNb250aHMgPSBbXG4gIHN0cmluZyxcbiAgc3RyaW5nLFxuICBzdHJpbmcsXG4gIHN0cmluZyxcbiAgc3RyaW5nLFxuICBzdHJpbmcsXG4gIHN0cmluZyxcbiAgc3RyaW5nLFxuICBzdHJpbmcsXG4gIHN0cmluZyxcbiAgc3RyaW5nLFxuICBzdHJpbmdcbl07XG5cbmZ1bmN0aW9uIHNob3J0ZW48VCBleHRlbmRzIHN0cmluZ1tdPihhcnI6IFQsIHNMZW46IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgY29uc3QgbmV3QXJyOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbmV3QXJyLnB1c2goYXJyW2ldLnN1YnN0cigwLCBzTGVuKSk7XG4gIH1cbiAgcmV0dXJuIG5ld0Fycjtcbn1cblxuY29uc3QgbW9udGhVcGRhdGUgPSAoXG4gIGFyck5hbWU6IFwibW9udGhOYW1lc1wiIHwgXCJtb250aE5hbWVzU2hvcnRcIiB8IFwiZGF5TmFtZXNcIiB8IFwiZGF5TmFtZXNTaG9ydFwiXG4pID0+ICh2OiBzdHJpbmcsIGkxOG46IEkxOG5TZXR0aW5ncyk6IG51bWJlciB8IG51bGwgPT4ge1xuICBjb25zdCBsb3dlckNhc2VBcnIgPSBpMThuW2Fyck5hbWVdLm1hcCh2ID0+IHYudG9Mb3dlckNhc2UoKSk7XG4gIGNvbnN0IGluZGV4ID0gbG93ZXJDYXNlQXJyLmluZGV4T2Yodi50b0xvd2VyQ2FzZSgpKTtcbiAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduPEE+KGE6IEEpOiBBO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbjxBLCBCPihhOiBBLCBiOiBCKTogQSAmIEI7XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduPEEsIEIsIEM+KGE6IEEsIGI6IEIsIGM6IEMpOiBBICYgQiAmIEM7XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduPEEsIEIsIEMsIEQ+KGE6IEEsIGI6IEIsIGM6IEMsIGQ6IEQpOiBBICYgQiAmIEMgJiBEO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbihvcmlnT2JqOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55IHtcbiAgZm9yIChjb25zdCBvYmogb2YgYXJncykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgLy8gQHRzLWlnbm9yZSBleFxuICAgICAgb3JpZ09ialtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvcmlnT2JqO1xufVxuXG5jb25zdCBkYXlOYW1lczogRGF5cyA9IFtcbiAgXCJTdW5kYXlcIixcbiAgXCJNb25kYXlcIixcbiAgXCJUdWVzZGF5XCIsXG4gIFwiV2VkbmVzZGF5XCIsXG4gIFwiVGh1cnNkYXlcIixcbiAgXCJGcmlkYXlcIixcbiAgXCJTYXR1cmRheVwiXG5dO1xuY29uc3QgbW9udGhOYW1lczogTW9udGhzID0gW1xuICBcIkphbnVhcnlcIixcbiAgXCJGZWJydWFyeVwiLFxuICBcIk1hcmNoXCIsXG4gIFwiQXByaWxcIixcbiAgXCJNYXlcIixcbiAgXCJKdW5lXCIsXG4gIFwiSnVseVwiLFxuICBcIkF1Z3VzdFwiLFxuICBcIlNlcHRlbWJlclwiLFxuICBcIk9jdG9iZXJcIixcbiAgXCJOb3ZlbWJlclwiLFxuICBcIkRlY2VtYmVyXCJcbl07XG5cbmNvbnN0IG1vbnRoTmFtZXNTaG9ydDogTW9udGhzID0gc2hvcnRlbihtb250aE5hbWVzLCAzKSBhcyBNb250aHM7XG5jb25zdCBkYXlOYW1lc1Nob3J0OiBEYXlzID0gc2hvcnRlbihkYXlOYW1lcywgMykgYXMgRGF5cztcblxuY29uc3QgZGVmYXVsdEkxOG46IEkxOG5TZXR0aW5ncyA9IHtcbiAgZGF5TmFtZXNTaG9ydCxcbiAgZGF5TmFtZXMsXG4gIG1vbnRoTmFtZXNTaG9ydCxcbiAgbW9udGhOYW1lcyxcbiAgYW1QbTogW1wiYW1cIiwgXCJwbVwiXSxcbiAgRG9GbihkYXlPZk1vbnRoOiBudW1iZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZGF5T2ZNb250aCArXG4gICAgICBbXCJ0aFwiLCBcInN0XCIsIFwibmRcIiwgXCJyZFwiXVtcbiAgICAgICAgZGF5T2ZNb250aCAlIDEwID4gM1xuICAgICAgICAgID8gMFxuICAgICAgICAgIDogKChkYXlPZk1vbnRoIC0gKGRheU9mTW9udGggJSAxMCkgIT09IDEwID8gMSA6IDApICogZGF5T2ZNb250aCkgJSAxMFxuICAgICAgXVxuICAgICk7XG4gIH1cbn07XG5sZXQgZ2xvYmFsSTE4biA9IGFzc2lnbih7fSwgZGVmYXVsdEkxOG4pO1xuY29uc3Qgc2V0R2xvYmFsRGF0ZUkxOG4gPSAoaTE4bjogSTE4blNldHRpbmdzT3B0aW9uYWwpOiBJMThuU2V0dGluZ3MgPT5cbiAgKGdsb2JhbEkxOG4gPSBhc3NpZ24oZ2xvYmFsSTE4biwgaTE4bikpO1xuXG5jb25zdCByZWdleEVzY2FwZSA9IChzdHI6IHN0cmluZyk6IHN0cmluZyA9PlxuICBzdHIucmVwbGFjZSgvW3xcXFxceygpW14kKyo/Li1dL2csIFwiXFxcXCQmXCIpO1xuXG5jb25zdCBwYWQgPSAodmFsOiBzdHJpbmcgfCBudW1iZXIsIGxlbiA9IDIpOiBzdHJpbmcgPT4ge1xuICB2YWwgPSBTdHJpbmcodmFsKTtcbiAgd2hpbGUgKHZhbC5sZW5ndGggPCBsZW4pIHtcbiAgICB2YWwgPSBcIjBcIiArIHZhbDtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcblxuY29uc3QgZm9ybWF0RmxhZ3M6IFJlY29yZDxcbiAgc3RyaW5nLFxuICAoZGF0ZU9iajogRGF0ZSwgaTE4bjogSTE4blNldHRpbmdzKSA9PiBzdHJpbmdcbj4gPSB7XG4gIEQ6IChkYXRlT2JqOiBEYXRlKTogc3RyaW5nID0+IFN0cmluZyhkYXRlT2JqLmdldERhdGUoKSksXG4gIEREOiAoZGF0ZU9iajogRGF0ZSk6IHN0cmluZyA9PiBwYWQoZGF0ZU9iai5nZXREYXRlKCkpLFxuICBEbzogKGRhdGVPYmo6IERhdGUsIGkxOG46IEkxOG5TZXR0aW5ncyk6IHN0cmluZyA9PlxuICAgIGkxOG4uRG9GbihkYXRlT2JqLmdldERhdGUoKSksXG4gIGQ6IChkYXRlT2JqOiBEYXRlKTogc3RyaW5nID0+IFN0cmluZyhkYXRlT2JqLmdldERheSgpKSxcbiAgZGQ6IChkYXRlT2JqOiBEYXRlKTogc3RyaW5nID0+IHBhZChkYXRlT2JqLmdldERheSgpKSxcbiAgZGRkOiAoZGF0ZU9iajogRGF0ZSwgaTE4bjogSTE4blNldHRpbmdzKTogc3RyaW5nID0+XG4gICAgaTE4bi5kYXlOYW1lc1Nob3J0W2RhdGVPYmouZ2V0RGF5KCldLFxuICBkZGRkOiAoZGF0ZU9iajogRGF0ZSwgaTE4bjogSTE4blNldHRpbmdzKTogc3RyaW5nID0+XG4gICAgaTE4bi5kYXlOYW1lc1tkYXRlT2JqLmdldERheSgpXSxcbiAgTTogKGRhdGVPYmo6IERhdGUpOiBzdHJpbmcgPT4gU3RyaW5nKGRhdGVPYmouZ2V0TW9udGgoKSArIDEpLFxuICBNTTogKGRhdGVPYmo6IERhdGUpOiBzdHJpbmcgPT4gcGFkKGRhdGVPYmouZ2V0TW9udGgoKSArIDEpLFxuICBNTU06IChkYXRlT2JqOiBEYXRlLCBpMThuOiBJMThuU2V0dGluZ3MpOiBzdHJpbmcgPT5cbiAgICBpMThuLm1vbnRoTmFtZXNTaG9ydFtkYXRlT2JqLmdldE1vbnRoKCldLFxuICBNTU1NOiAoZGF0ZU9iajogRGF0ZSwgaTE4bjogSTE4blNldHRpbmdzKTogc3RyaW5nID0+XG4gICAgaTE4bi5tb250aE5hbWVzW2RhdGVPYmouZ2V0TW9udGgoKV0sXG4gIFlZOiAoZGF0ZU9iajogRGF0ZSk6IHN0cmluZyA9PlxuICAgIHBhZChTdHJpbmcoZGF0ZU9iai5nZXRGdWxsWWVhcigpKSwgNCkuc3Vic3RyKDIpLFxuICBZWVlZOiAoZGF0ZU9iajogRGF0ZSk6IHN0cmluZyA9PiBwYWQoZGF0ZU9iai5nZXRGdWxsWWVhcigpLCA0KSxcbiAgaDogKGRhdGVPYmo6IERhdGUpOiBzdHJpbmcgPT4gU3RyaW5nKGRhdGVPYmouZ2V0SG91cnMoKSAlIDEyIHx8IDEyKSxcbiAgaGg6IChkYXRlT2JqOiBEYXRlKTogc3RyaW5nID0+IHBhZChkYXRlT2JqLmdldEhvdXJzKCkgJSAxMiB8fCAxMiksXG4gIEg6IChkYXRlT2JqOiBEYXRlKTogc3RyaW5nID0+IFN0cmluZyhkYXRlT2JqLmdldEhvdXJzKCkpLFxuICBISDogKGRhdGVPYmo6IERhdGUpOiBzdHJpbmcgPT4gcGFkKGRhdGVPYmouZ2V0SG91cnMoKSksXG4gIG06IChkYXRlT2JqOiBEYXRlKTogc3RyaW5nID0+IFN0cmluZyhkYXRlT2JqLmdldE1pbnV0ZXMoKSksXG4gIG1tOiAoZGF0ZU9iajogRGF0ZSk6IHN0cmluZyA9PiBwYWQoZGF0ZU9iai5nZXRNaW51dGVzKCkpLFxuICBzOiAoZGF0ZU9iajogRGF0ZSk6IHN0cmluZyA9PiBTdHJpbmcoZGF0ZU9iai5nZXRTZWNvbmRzKCkpLFxuICBzczogKGRhdGVPYmo6IERhdGUpOiBzdHJpbmcgPT4gcGFkKGRhdGVPYmouZ2V0U2Vjb25kcygpKSxcbiAgUzogKGRhdGVPYmo6IERhdGUpOiBzdHJpbmcgPT5cbiAgICBTdHJpbmcoTWF0aC5yb3VuZChkYXRlT2JqLmdldE1pbGxpc2Vjb25kcygpIC8gMTAwKSksXG4gIFNTOiAoZGF0ZU9iajogRGF0ZSk6IHN0cmluZyA9PlxuICAgIHBhZChNYXRoLnJvdW5kKGRhdGVPYmouZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMCksIDIpLFxuICBTU1M6IChkYXRlT2JqOiBEYXRlKTogc3RyaW5nID0+IHBhZChkYXRlT2JqLmdldE1pbGxpc2Vjb25kcygpLCAzKSxcbiAgYTogKGRhdGVPYmo6IERhdGUsIGkxOG46IEkxOG5TZXR0aW5ncyk6IHN0cmluZyA9PlxuICAgIGRhdGVPYmouZ2V0SG91cnMoKSA8IDEyID8gaTE4bi5hbVBtWzBdIDogaTE4bi5hbVBtWzFdLFxuICBBOiAoZGF0ZU9iajogRGF0ZSwgaTE4bjogSTE4blNldHRpbmdzKTogc3RyaW5nID0+XG4gICAgZGF0ZU9iai5nZXRIb3VycygpIDwgMTJcbiAgICAgID8gaTE4bi5hbVBtWzBdLnRvVXBwZXJDYXNlKClcbiAgICAgIDogaTE4bi5hbVBtWzFdLnRvVXBwZXJDYXNlKCksXG4gIFpaKGRhdGVPYmo6IERhdGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IG9mZnNldCA9IGRhdGVPYmouZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICByZXR1cm4gKFxuICAgICAgKG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiKSArXG4gICAgICBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhvZmZzZXQpIC8gNjApICogMTAwICsgKE1hdGguYWJzKG9mZnNldCkgJSA2MCksIDQpXG4gICAgKTtcbiAgfSxcbiAgWihkYXRlT2JqOiBEYXRlKTogc3RyaW5nIHtcbiAgICBjb25zdCBvZmZzZXQgPSBkYXRlT2JqLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgcmV0dXJuIChcbiAgICAgIChvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIikgK1xuICAgICAgcGFkKE1hdGguZmxvb3IoTWF0aC5hYnMob2Zmc2V0KSAvIDYwKSwgMikgK1xuICAgICAgXCI6XCIgK1xuICAgICAgcGFkKE1hdGguYWJzKG9mZnNldCkgJSA2MCwgMilcbiAgICApO1xuICB9XG59O1xuXG50eXBlIFBhcnNlSW5mbyA9IFtcbiAga2V5b2YgRGF0ZUluZm8sXG4gIHN0cmluZyxcbiAgKCh2OiBzdHJpbmcsIGkxOG46IEkxOG5TZXR0aW5ncykgPT4gbnVtYmVyIHwgbnVsbCk/LFxuICBzdHJpbmc/XG5dO1xuY29uc3QgbW9udGhQYXJzZSA9ICh2OiBzdHJpbmcpOiBudW1iZXIgPT4gK3YgLSAxO1xuY29uc3QgZW1wdHlEaWdpdHM6IFBhcnNlSW5mbyA9IFtudWxsLCB0d29EaWdpdHNPcHRpb25hbF07XG5jb25zdCBlbXB0eVdvcmQ6IFBhcnNlSW5mbyA9IFtudWxsLCB3b3JkXTtcbmNvbnN0IGFtUG06IFBhcnNlSW5mbyA9IFtcbiAgXCJpc1BtXCIsXG4gIHdvcmQsXG4gICh2OiBzdHJpbmcsIGkxOG46IEkxOG5TZXR0aW5ncyk6IG51bWJlciB8IG51bGwgPT4ge1xuICAgIGNvbnN0IHZhbCA9IHYudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAodmFsID09PSBpMThuLmFtUG1bMF0pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSBpZiAodmFsID09PSBpMThuLmFtUG1bMV0pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXTtcbmNvbnN0IHRpbWV6b25lT2Zmc2V0OiBQYXJzZUluZm8gPSBbXG4gIFwidGltZXpvbmVPZmZzZXRcIixcbiAgXCJbXlxcXFxzXSo/W1xcXFwrXFxcXC1dXFxcXGRcXFxcZDo/XFxcXGRcXFxcZHxbXlxcXFxzXSo/Wj9cIixcbiAgKHY6IHN0cmluZyk6IG51bWJlciB8IG51bGwgPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gKHYgKyBcIlwiKS5tYXRjaCgvKFsrLV18XFxkXFxkKS9naSk7XG5cbiAgICBpZiAocGFydHMpIHtcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSArcGFydHNbMV0gKiA2MCArIHBhcnNlSW50KHBhcnRzWzJdLCAxMCk7XG4gICAgICByZXR1cm4gcGFydHNbMF0gPT09IFwiK1wiID8gbWludXRlcyA6IC1taW51dGVzO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5dO1xuY29uc3QgcGFyc2VGbGFnczogUmVjb3JkPHN0cmluZywgUGFyc2VJbmZvPiA9IHtcbiAgRDogW1wiZGF5XCIsIHR3b0RpZ2l0c09wdGlvbmFsXSxcbiAgREQ6IFtcImRheVwiLCB0d29EaWdpdHNdLFxuICBEbzogW1wiZGF5XCIsIHR3b0RpZ2l0c09wdGlvbmFsICsgd29yZCwgKHY6IHN0cmluZyk6IG51bWJlciA9PiBwYXJzZUludCh2LCAxMCldLFxuICBNOiBbXCJtb250aFwiLCB0d29EaWdpdHNPcHRpb25hbCwgbW9udGhQYXJzZV0sXG4gIE1NOiBbXCJtb250aFwiLCB0d29EaWdpdHMsIG1vbnRoUGFyc2VdLFxuICBZWTogW1xuICAgIFwieWVhclwiLFxuICAgIHR3b0RpZ2l0cyxcbiAgICAodjogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCBjZW50ID0gKyhcIlwiICsgbm93LmdldEZ1bGxZZWFyKCkpLnN1YnN0cigwLCAyKTtcbiAgICAgIHJldHVybiArKFwiXCIgKyAoK3YgPiA2OCA/IGNlbnQgLSAxIDogY2VudCkgKyB2KTtcbiAgICB9XG4gIF0sXG4gIGg6IFtcImhvdXJcIiwgdHdvRGlnaXRzT3B0aW9uYWwsIHVuZGVmaW5lZCwgXCJpc1BtXCJdLFxuICBoaDogW1wiaG91clwiLCB0d29EaWdpdHMsIHVuZGVmaW5lZCwgXCJpc1BtXCJdLFxuICBIOiBbXCJob3VyXCIsIHR3b0RpZ2l0c09wdGlvbmFsXSxcbiAgSEg6IFtcImhvdXJcIiwgdHdvRGlnaXRzXSxcbiAgbTogW1wibWludXRlXCIsIHR3b0RpZ2l0c09wdGlvbmFsXSxcbiAgbW06IFtcIm1pbnV0ZVwiLCB0d29EaWdpdHNdLFxuICBzOiBbXCJzZWNvbmRcIiwgdHdvRGlnaXRzT3B0aW9uYWxdLFxuICBzczogW1wic2Vjb25kXCIsIHR3b0RpZ2l0c10sXG4gIFlZWVk6IFtcInllYXJcIiwgZm91ckRpZ2l0c10sXG4gIFM6IFtcIm1pbGxpc2Vjb25kXCIsIFwiXFxcXGRcIiwgKHY6IHN0cmluZyk6IG51bWJlciA9PiArdiAqIDEwMF0sXG4gIFNTOiBbXCJtaWxsaXNlY29uZFwiLCB0d29EaWdpdHMsICh2OiBzdHJpbmcpOiBudW1iZXIgPT4gK3YgKiAxMF0sXG4gIFNTUzogW1wibWlsbGlzZWNvbmRcIiwgdGhyZWVEaWdpdHNdLFxuICBkOiBlbXB0eURpZ2l0cyxcbiAgZGQ6IGVtcHR5RGlnaXRzLFxuICBkZGQ6IGVtcHR5V29yZCxcbiAgZGRkZDogZW1wdHlXb3JkLFxuICBNTU06IFtcIm1vbnRoXCIsIHdvcmQsIG1vbnRoVXBkYXRlKFwibW9udGhOYW1lc1Nob3J0XCIpXSxcbiAgTU1NTTogW1wibW9udGhcIiwgd29yZCwgbW9udGhVcGRhdGUoXCJtb250aE5hbWVzXCIpXSxcbiAgYTogYW1QbSxcbiAgQTogYW1QbSxcbiAgWlo6IHRpbWV6b25lT2Zmc2V0LFxuICBaOiB0aW1lem9uZU9mZnNldFxufTtcblxuLy8gU29tZSBjb21tb24gZm9ybWF0IHN0cmluZ3NcbmNvbnN0IGdsb2JhbE1hc2tzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICBkZWZhdWx0OiBcImRkZCBNTU0gREQgWVlZWSBISDptbTpzc1wiLFxuICBzaG9ydERhdGU6IFwiTS9EL1lZXCIsXG4gIG1lZGl1bURhdGU6IFwiTU1NIEQsIFlZWVlcIixcbiAgbG9uZ0RhdGU6IFwiTU1NTSBELCBZWVlZXCIsXG4gIGZ1bGxEYXRlOiBcImRkZGQsIE1NTU0gRCwgWVlZWVwiLFxuICBpc29EYXRlOiBcIllZWVktTU0tRERcIixcbiAgaXNvRGF0ZVRpbWU6IFwiWVlZWS1NTS1ERFRISDptbTpzc1pcIixcbiAgc2hvcnRUaW1lOiBcIkhIOm1tXCIsXG4gIG1lZGl1bVRpbWU6IFwiSEg6bW06c3NcIixcbiAgbG9uZ1RpbWU6IFwiSEg6bW06c3MuU1NTXCJcbn07XG5jb25zdCBzZXRHbG9iYWxEYXRlTWFza3MgPSAobWFza3M6IHtcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xufSk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPT4gYXNzaWduKGdsb2JhbE1hc2tzLCBtYXNrcyk7XG5cbi8qKipcbiAqIEZvcm1hdCBhIGRhdGVcbiAqIEBtZXRob2QgZm9ybWF0XG4gKiBAcGFyYW0ge0RhdGV8bnVtYmVyfSBkYXRlT2JqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFzayBGb3JtYXQgb2YgdGhlIGRhdGUsIGkuZS4gJ21tLWRkLXl5JyBvciAnc2hvcnREYXRlJ1xuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIGRhdGUgc3RyaW5nXG4gKi9cbmNvbnN0IGZvcm1hdCA9IChcbiAgZGF0ZU9iajogRGF0ZSxcbiAgbWFzazogc3RyaW5nID0gZ2xvYmFsTWFza3NbXCJkZWZhdWx0XCJdLFxuICBpMThuOiBJMThuU2V0dGluZ3NPcHRpb25hbCA9IHt9XG4pOiBzdHJpbmcgPT4ge1xuICBpZiAodHlwZW9mIGRhdGVPYmogPT09IFwibnVtYmVyXCIpIHtcbiAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZU9iaik7XG4gIH1cblxuICBpZiAoXG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGVPYmopICE9PSBcIltvYmplY3QgRGF0ZV1cIiB8fFxuICAgIGlzTmFOKGRhdGVPYmouZ2V0VGltZSgpKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIERhdGUgcGFzcyB0byBmb3JtYXRcIik7XG4gIH1cblxuICBtYXNrID0gZ2xvYmFsTWFza3NbbWFza10gfHwgbWFzaztcblxuICBjb25zdCBsaXRlcmFsczogc3RyaW5nW10gPSBbXTtcblxuICAvLyBNYWtlIGxpdGVyYWxzIGluYWN0aXZlIGJ5IHJlcGxhY2luZyB0aGVtIHdpdGggQEBAXG4gIG1hc2sgPSBtYXNrLnJlcGxhY2UobGl0ZXJhbCwgZnVuY3Rpb24oJDAsICQxKSB7XG4gICAgbGl0ZXJhbHMucHVzaCgkMSk7XG4gICAgcmV0dXJuIFwiQEBAXCI7XG4gIH0pO1xuXG4gIGNvbnN0IGNvbWJpbmVkSTE4blNldHRpbmdzOiBJMThuU2V0dGluZ3MgPSBhc3NpZ24oXG4gICAgYXNzaWduKHt9LCBnbG9iYWxJMThuKSxcbiAgICBpMThuXG4gICk7XG4gIC8vIEFwcGx5IGZvcm1hdHRpbmcgcnVsZXNcbiAgbWFzayA9IG1hc2sucmVwbGFjZSh0b2tlbiwgJDAgPT5cbiAgICBmb3JtYXRGbGFnc1skMF0oZGF0ZU9iaiwgY29tYmluZWRJMThuU2V0dGluZ3MpXG4gICk7XG4gIC8vIElubGluZSBsaXRlcmFsIHZhbHVlcyBiYWNrIGludG8gdGhlIGZvcm1hdHRlZCB2YWx1ZVxuICByZXR1cm4gbWFzay5yZXBsYWNlKC9AQEAvZywgKCkgPT4gbGl0ZXJhbHMuc2hpZnQoKSk7XG59O1xuXG4vKipcbiAqIFBhcnNlIGEgZGF0ZSBzdHJpbmcgaW50byBhIEphdmFzY3JpcHQgRGF0ZSBvYmplY3QgL1xuICogQG1ldGhvZCBwYXJzZVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGVTdHIgRGF0ZSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgRGF0ZSBwYXJzZSBmb3JtYXRcbiAqIEBwYXJhbSB7aTE4bn0gSTE4blNldHRpbmdzT3B0aW9uYWwgRnVsbCBvciBzdWJzZXQgb2YgSTE4TiBzZXR0aW5nc1xuICogQHJldHVybnMge0RhdGV8bnVsbH0gUmV0dXJucyBEYXRlIG9iamVjdC4gUmV0dXJucyBudWxsIHdoYXQgZGF0ZSBzdHJpbmcgaXMgaW52YWxpZCBvciBkb2Vzbid0IG1hdGNoIGZvcm1hdFxuICovXG5mdW5jdGlvbiBwYXJzZShcbiAgZGF0ZVN0cjogc3RyaW5nLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgaTE4bjogSTE4blNldHRpbmdzT3B0aW9uYWwgPSB7fVxuKTogRGF0ZSB8IG51bGwge1xuICBpZiAodHlwZW9mIGZvcm1hdCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm9ybWF0IGluIGZlY2hhIHBhcnNlXCIpO1xuICB9XG5cbiAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBmb3JtYXQgaXMgYWN0dWFsbHkgYSBtYXNrXG4gIGZvcm1hdCA9IGdsb2JhbE1hc2tzW2Zvcm1hdF0gfHwgZm9ybWF0O1xuXG4gIC8vIEF2b2lkIHJlZ3VsYXIgZXhwcmVzc2lvbiBkZW5pYWwgb2Ygc2VydmljZSwgZmFpbCBlYXJseSBmb3IgcmVhbGx5IGxvbmcgc3RyaW5nc1xuICAvLyBodHRwczovL3d3dy5vd2FzcC5vcmcvaW5kZXgucGhwL1JlZ3VsYXJfZXhwcmVzc2lvbl9EZW5pYWxfb2ZfU2VydmljZV8tX1JlRG9TXG4gIGlmIChkYXRlU3RyLmxlbmd0aCA+IDEwMDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIERlZmF1bHQgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgeWVhci5cbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBkYXRlSW5mbzogRGF0ZUluZm8gPSB7XG4gICAgeWVhcjogdG9kYXkuZ2V0RnVsbFllYXIoKSxcbiAgICBtb250aDogMCxcbiAgICBkYXk6IDEsXG4gICAgaG91cjogMCxcbiAgICBtaW51dGU6IDAsXG4gICAgc2Vjb25kOiAwLFxuICAgIG1pbGxpc2Vjb25kOiAwLFxuICAgIGlzUG06IG51bGwsXG4gICAgdGltZXpvbmVPZmZzZXQ6IG51bGxcbiAgfTtcbiAgY29uc3QgcGFyc2VJbmZvOiBQYXJzZUluZm9bXSA9IFtdO1xuICBjb25zdCBsaXRlcmFsczogc3RyaW5nW10gPSBbXTtcblxuICAvLyBSZXBsYWNlIGFsbCB0aGUgbGl0ZXJhbHMgd2l0aCBAQEAuIEhvcGVmdWxseSBhIHN0cmluZyB0aGF0IHdvbid0IGV4aXN0IGluIHRoZSBmb3JtYXRcbiAgbGV0IG5ld0Zvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxpdGVyYWwsICgkMCwgJDEpID0+IHtcbiAgICBsaXRlcmFscy5wdXNoKHJlZ2V4RXNjYXBlKCQxKSk7XG4gICAgcmV0dXJuIFwiQEBAXCI7XG4gIH0pO1xuICBjb25zdCBzcGVjaWZpZWRGaWVsZHM6IHsgW2ZpZWxkOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgY29uc3QgcmVxdWlyZWRGaWVsZHM6IHsgW2ZpZWxkOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICAvLyBDaGFuZ2UgZXZlcnkgdG9rZW4gdGhhdCB3ZSBmaW5kIGludG8gdGhlIGNvcnJlY3QgcmVnZXhcbiAgbmV3Rm9ybWF0ID0gcmVnZXhFc2NhcGUobmV3Rm9ybWF0KS5yZXBsYWNlKHRva2VuLCAkMCA9PiB7XG4gICAgY29uc3QgaW5mbyA9IHBhcnNlRmxhZ3NbJDBdO1xuICAgIGNvbnN0IFtmaWVsZCwgcmVnZXgsICwgcmVxdWlyZWRGaWVsZF0gPSBpbmZvO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHBlcnNvbiBoYXMgc3BlY2lmaWVkIHRoZSBzYW1lIGZpZWxkIHR3aWNlLiBUaGlzIHdpbGwgbGVhZCB0byBjb25mdXNpbmcgcmVzdWx0cy5cbiAgICBpZiAoc3BlY2lmaWVkRmllbGRzW2ZpZWxkXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZvcm1hdC4gJHtmaWVsZH0gc3BlY2lmaWVkIHR3aWNlIGluIGZvcm1hdGApO1xuICAgIH1cblxuICAgIHNwZWNpZmllZEZpZWxkc1tmaWVsZF0gPSB0cnVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIGFueSByZXF1aXJlZCBmaWVsZHMuIEZvciBpbnN0YW5jZSwgMTIgaG91ciB0aW1lIHJlcXVpcmVzIEFNL1BNIHNwZWNpZmllZFxuICAgIGlmIChyZXF1aXJlZEZpZWxkKSB7XG4gICAgICByZXF1aXJlZEZpZWxkc1tyZXF1aXJlZEZpZWxkXSA9IHRydWU7XG4gICAgfVxuXG4gICAgcGFyc2VJbmZvLnB1c2goaW5mbyk7XG4gICAgcmV0dXJuIFwiKFwiICsgcmVnZXggKyBcIilcIjtcbiAgfSk7XG5cbiAgLy8gQ2hlY2sgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMgYXJlIHByZXNlbnRcbiAgT2JqZWN0LmtleXMocmVxdWlyZWRGaWVsZHMpLmZvckVhY2goZmllbGQgPT4ge1xuICAgIGlmICghc3BlY2lmaWVkRmllbGRzW2ZpZWxkXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgSW52YWxpZCBmb3JtYXQuICR7ZmllbGR9IGlzIHJlcXVpcmVkIGluIHNwZWNpZmllZCBmb3JtYXRgXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQWRkIGJhY2sgYWxsIHRoZSBsaXRlcmFscyBhZnRlclxuICBuZXdGb3JtYXQgPSBuZXdGb3JtYXQucmVwbGFjZSgvQEBAL2csICgpID0+IGxpdGVyYWxzLnNoaWZ0KCkpO1xuXG4gIC8vIENoZWNrIGlmIHRoZSBkYXRlIHN0cmluZyBtYXRjaGVzIHRoZSBmb3JtYXQuIElmIGl0IGRvZXNuJ3QgcmV0dXJuIG51bGxcbiAgY29uc3QgbWF0Y2hlcyA9IGRhdGVTdHIubWF0Y2gobmV3IFJlZ0V4cChuZXdGb3JtYXQsIFwiaVwiKSk7XG4gIGlmICghbWF0Y2hlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgY29tYmluZWRJMThuU2V0dGluZ3M6IEkxOG5TZXR0aW5ncyA9IGFzc2lnbihcbiAgICBhc3NpZ24oe30sIGdsb2JhbEkxOG4pLFxuICAgIGkxOG5cbiAgKTtcblxuICAvLyBGb3IgZWFjaCBtYXRjaCwgY2FsbCB0aGUgcGFyc2VyIGZ1bmN0aW9uIGZvciB0aGF0IGRhdGUgcGFydFxuICBmb3IgKGxldCBpID0gMTsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBbZmllbGQsICwgcGFyc2VyXSA9IHBhcnNlSW5mb1tpIC0gMV07XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZXJcbiAgICAgID8gcGFyc2VyKG1hdGNoZXNbaV0sIGNvbWJpbmVkSTE4blNldHRpbmdzKVxuICAgICAgOiArbWF0Y2hlc1tpXTtcblxuICAgIC8vIElmIHRoZSBwYXJzZXIgY2FuJ3QgbWFrZSBzZW5zZSBvZiB0aGUgdmFsdWUsIHJldHVybiBudWxsXG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGRhdGVJbmZvW2ZpZWxkXSA9IHZhbHVlO1xuICB9XG5cbiAgaWYgKGRhdGVJbmZvLmlzUG0gPT09IDEgJiYgZGF0ZUluZm8uaG91ciAhPSBudWxsICYmICtkYXRlSW5mby5ob3VyICE9PSAxMikge1xuICAgIGRhdGVJbmZvLmhvdXIgPSArZGF0ZUluZm8uaG91ciArIDEyO1xuICB9IGVsc2UgaWYgKGRhdGVJbmZvLmlzUG0gPT09IDAgJiYgK2RhdGVJbmZvLmhvdXIgPT09IDEyKSB7XG4gICAgZGF0ZUluZm8uaG91ciA9IDA7XG4gIH1cblxuICBsZXQgZGF0ZVRaOiBEYXRlO1xuICBpZiAoZGF0ZUluZm8udGltZXpvbmVPZmZzZXQgPT0gbnVsbCkge1xuICAgIGRhdGVUWiA9IG5ldyBEYXRlKFxuICAgICAgZGF0ZUluZm8ueWVhcixcbiAgICAgIGRhdGVJbmZvLm1vbnRoLFxuICAgICAgZGF0ZUluZm8uZGF5LFxuICAgICAgZGF0ZUluZm8uaG91cixcbiAgICAgIGRhdGVJbmZvLm1pbnV0ZSxcbiAgICAgIGRhdGVJbmZvLnNlY29uZCxcbiAgICAgIGRhdGVJbmZvLm1pbGxpc2Vjb25kXG4gICAgKTtcbiAgICBjb25zdCB2YWxpZGF0ZUZpZWxkczogW1xuICAgICAgXCJtb250aFwiIHwgXCJkYXlcIiB8IFwiaG91clwiIHwgXCJtaW51dGVcIiB8IFwic2Vjb25kXCIsXG4gICAgICBcImdldE1vbnRoXCIgfCBcImdldERhdGVcIiB8IFwiZ2V0SG91cnNcIiB8IFwiZ2V0TWludXRlc1wiIHwgXCJnZXRTZWNvbmRzXCJcbiAgICBdW10gPSBbXG4gICAgICBbXCJtb250aFwiLCBcImdldE1vbnRoXCJdLFxuICAgICAgW1wiZGF5XCIsIFwiZ2V0RGF0ZVwiXSxcbiAgICAgIFtcImhvdXJcIiwgXCJnZXRIb3Vyc1wiXSxcbiAgICAgIFtcIm1pbnV0ZVwiLCBcImdldE1pbnV0ZXNcIl0sXG4gICAgICBbXCJzZWNvbmRcIiwgXCJnZXRTZWNvbmRzXCJdXG4gICAgXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdmFsaWRhdGVGaWVsZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIC8vIENoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgZGF0ZSBmaWVsZCBpcyB3aXRoaW4gdGhlIGFsbG93ZWQgcmFuZ2UuIEphdmFzY3JpcHQgZGF0ZXMgYWxsb3dzIHZhbHVlc1xuICAgICAgLy8gb3V0c2lkZSB0aGUgYWxsb3dlZCByYW5nZS4gSWYgdGhlIHZhbHVlcyBkb24ndCBtYXRjaCB0aGUgdmFsdWUgd2FzIGludmFsaWRcbiAgICAgIGlmIChcbiAgICAgICAgc3BlY2lmaWVkRmllbGRzW3ZhbGlkYXRlRmllbGRzW2ldWzBdXSAmJlxuICAgICAgICBkYXRlSW5mb1t2YWxpZGF0ZUZpZWxkc1tpXVswXV0gIT09IGRhdGVUWlt2YWxpZGF0ZUZpZWxkc1tpXVsxXV0oKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkYXRlVFogPSBuZXcgRGF0ZShcbiAgICAgIERhdGUuVVRDKFxuICAgICAgICBkYXRlSW5mby55ZWFyLFxuICAgICAgICBkYXRlSW5mby5tb250aCxcbiAgICAgICAgZGF0ZUluZm8uZGF5LFxuICAgICAgICBkYXRlSW5mby5ob3VyLFxuICAgICAgICBkYXRlSW5mby5taW51dGUgLSBkYXRlSW5mby50aW1lem9uZU9mZnNldCxcbiAgICAgICAgZGF0ZUluZm8uc2Vjb25kLFxuICAgICAgICBkYXRlSW5mby5taWxsaXNlY29uZFxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBXZSBjYW4ndCB2YWxpZGF0ZSBkYXRlcyBpbiBhbm90aGVyIHRpbWV6b25lIHVuZm9ydHVuYXRlbHkuIERvIGEgYmFzaWMgY2hlY2sgaW5zdGVhZFxuICAgIGlmIChcbiAgICAgIGRhdGVJbmZvLm1vbnRoID4gMTEgfHxcbiAgICAgIGRhdGVJbmZvLm1vbnRoIDwgMCB8fFxuICAgICAgZGF0ZUluZm8uZGF5ID4gMzEgfHxcbiAgICAgIGRhdGVJbmZvLmRheSA8IDEgfHxcbiAgICAgIGRhdGVJbmZvLmhvdXIgPiAyMyB8fFxuICAgICAgZGF0ZUluZm8uaG91ciA8IDAgfHxcbiAgICAgIGRhdGVJbmZvLm1pbnV0ZSA+IDU5IHx8XG4gICAgICBkYXRlSW5mby5taW51dGUgPCAwIHx8XG4gICAgICBkYXRlSW5mby5zZWNvbmQgPiA1OSB8fFxuICAgICAgZGF0ZUluZm8uc2Vjb25kIDwgMFxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gRG9uJ3QgYWxsb3cgaW52YWxpZCBkYXRlc1xuXG4gIHJldHVybiBkYXRlVFo7XG59XG5leHBvcnQgZGVmYXVsdCB7XG4gIGZvcm1hdCxcbiAgcGFyc2UsXG4gIGRlZmF1bHRJMThuLFxuICBzZXRHbG9iYWxEYXRlSTE4bixcbiAgc2V0R2xvYmFsRGF0ZU1hc2tzXG59O1xuZXhwb3J0IHsgZm9ybWF0LCBwYXJzZSwgZGVmYXVsdEkxOG4sIHNldEdsb2JhbERhdGVJMThuLCBzZXRHbG9iYWxEYXRlTWFza3MgfTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBmZWNoYSA9IHJlcXVpcmUoJ2ZlY2hhJyk7XG52YXIgZm9ybWF0ID0gcmVxdWlyZSgnLi9mb3JtYXQnKTtcblxuLypcbiAqIGZ1bmN0aW9uIHRpbWVzdGFtcCAoaW5mbylcbiAqIFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHRpbWVzdGFtcCBGb3JtYXQgd2hpY2ggYWRkcyBhIHRpbWVzdGFtcFxuICogdG8gdGhlIGluZm8uIEl0IHdhcyBwcmV2aW91c2x5IGF2YWlsYWJsZSBpbiB3aW5zdG9uIDwgMy4wLjAgYXM6XG4gKlxuICogLSB7IHRpbWVzdGFtcDogdHJ1ZSB9ICAgICAgICAgICAgIC8vIGBuZXcgRGF0ZS50b0lTT1N0cmluZygpYFxuICogLSB7IHRpbWVzdGFtcDogZnVuY3Rpb246U3RyaW5nIH0gIC8vIFZhbHVlIHJldHVybmVkIGJ5IGB0aW1lc3RhbXAoKWBcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXQoZnVuY3Rpb24gKGluZm8pIHtcbiAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBpZiAob3B0cy5mb3JtYXQpIHtcbiAgICBpbmZvLnRpbWVzdGFtcCA9IHR5cGVvZiBvcHRzLmZvcm1hdCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZm9ybWF0KCkgOiBmZWNoYS5mb3JtYXQobmV3IERhdGUoKSwgb3B0cy5mb3JtYXQpO1xuICB9XG4gIGlmICghaW5mby50aW1lc3RhbXApIHtcbiAgICBpbmZvLnRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgfVxuICBpZiAob3B0cy5hbGlhcykge1xuICAgIGluZm9bb3B0cy5hbGlhc10gPSBpbmZvLnRpbWVzdGFtcDtcbiAgfVxuICByZXR1cm4gaW5mbztcbn0pOyIsICIndXNlIHN0cmljdCc7XG5cbnZhciBjb2xvcnMgPSByZXF1aXJlKCdAY29sb3JzL2NvbG9ycy9zYWZlJyk7XG52YXIgZm9ybWF0ID0gcmVxdWlyZSgnLi9mb3JtYXQnKTtcbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyksXG4gIE1FU1NBR0UgPSBfcmVxdWlyZS5NRVNTQUdFO1xuXG4vKlxuICogZnVuY3Rpb24gdW5jb2xvcml6ZSAoaW5mbylcbiAqIFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHVuY29sb3JpemUgRm9ybWF0IHRoYXQgc3RyaXBzIGNvbG9yc1xuICogZnJvbSBgaW5mb2Agb2JqZWN0cy4gVGhpcyB3YXMgcHJldmlvdXNseSBleHBvc2VkIGFzIHsgc3RyaXBDb2xvcnM6IHRydWUgfVxuICogdG8gdHJhbnNwb3J0cyBpbiBgd2luc3RvbiA8IDMuMC4wYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXQoZnVuY3Rpb24gKGluZm8sIG9wdHMpIHtcbiAgaWYgKG9wdHMubGV2ZWwgIT09IGZhbHNlKSB7XG4gICAgaW5mby5sZXZlbCA9IGNvbG9ycy5zdHJpcChpbmZvLmxldmVsKTtcbiAgfVxuICBpZiAob3B0cy5tZXNzYWdlICE9PSBmYWxzZSkge1xuICAgIGluZm8ubWVzc2FnZSA9IGNvbG9ycy5zdHJpcChTdHJpbmcoaW5mby5tZXNzYWdlKSk7XG4gIH1cbiAgaWYgKG9wdHMucmF3ICE9PSBmYWxzZSAmJiBpbmZvW01FU1NBR0VdKSB7XG4gICAgaW5mb1tNRVNTQUdFXSA9IGNvbG9ycy5zdHJpcChTdHJpbmcoaW5mb1tNRVNTQUdFXSkpO1xuICB9XG4gIHJldHVybiBpbmZvO1xufSk7IiwgIid1c2Ugc3RyaWN0JztcblxuLypcbiAqIEBhcGkgcHVibGljXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBmb3JtYXRcbiAqIEJvdGggdGhlIGNvbnN0cnVjdGlvbiBtZXRob2QgYW5kIHNldCBvZiBleHBvc2VkXG4gKiBmb3JtYXRzLlxuICovXG52YXIgZm9ybWF0ID0gZXhwb3J0cy5mb3JtYXQgPSByZXF1aXJlKCcuLy4vZm9ybWF0Jyk7XG5cbi8qXG4gKiBAYXBpIHB1YmxpY1xuICogQG1ldGhvZCB7ZnVuY3Rpb259IGxldmVsc1xuICogUmVnaXN0ZXJzIHRoZSBzcGVjaWZpZWQgbGV2ZWxzIHdpdGggbG9nZm9ybS5cbiAqL1xuZXhwb3J0cy5sZXZlbHMgPSByZXF1aXJlKCcuLy4vbGV2ZWxzJyk7XG5cbi8vXG4vLyBTZXR1cCBhbGwgdHJhbnNwb3J0cyBhcyBlYWdlci1sb2FkZWQgZXhwb3J0c1xuLy8gc28gdGhhdCB0aGV5IGFyZSBzdGF0aWMgZm9yIHRoZSBidW5kbGVycy5cbi8vXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZm9ybWF0LCAnYWxpZ24nLCB7XG4gIHZhbHVlOiByZXF1aXJlKCcuL2FsaWduJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ2NsaScsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vY2xpJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ2NvbG9yaXplJywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi9jb2xvcml6ZScpXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtYXQsICdjb21iaW5lJywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi9jb21iaW5lJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ2Vycm9ycycsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vZXJyb3JzJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ2pzb24nLCB7XG4gIHZhbHVlOiByZXF1aXJlKCcuL2pzb24nKVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZm9ybWF0LCAnbGFiZWwnLCB7XG4gIHZhbHVlOiByZXF1aXJlKCcuL2xhYmVsJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ2xvZ3N0YXNoJywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi9sb2dzdGFzaCcpXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtYXQsICdtZXRhZGF0YScsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vbWV0YWRhdGEnKVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZm9ybWF0LCAnbXMnLCB7XG4gIHZhbHVlOiByZXF1aXJlKCcuL21zJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ3BhZExldmVscycsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vcGFkLWxldmVscycpXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtYXQsICdwcmV0dHlQcmludCcsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vcHJldHR5LXByaW50Jylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ3ByaW50ZicsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vcHJpbnRmJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ3NpbXBsZScsIHtcbiAgdmFsdWU6IHJlcXVpcmUoJy4vc2ltcGxlJylcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1hdCwgJ3NwbGF0Jywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi9zcGxhdCcpXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtYXQsICd0aW1lc3RhbXAnLCB7XG4gIHZhbHVlOiByZXF1aXJlKCcuL3RpbWVzdGFtcCcpXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtYXQsICd1bmNvbG9yaXplJywge1xuICB2YWx1ZTogcmVxdWlyZSgnLi91bmNvbG9yaXplJylcbn0pOyIsICIvKipcbiAqIGNvbW1vbi5qczogSW50ZXJuYWwgaGVscGVyIGFuZCB1dGlsaXR5IGZ1bmN0aW9ucyBmb3Igd2luc3Rvbi5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd1dGlsJyksXG4gIGZvcm1hdCA9IF9yZXF1aXJlLmZvcm1hdDtcblxuLyoqXG4gKiBTZXQgb2Ygc2ltcGxlIGRlcHJlY2F0aW9uIG5vdGljZXMgYW5kIGEgd2F5IHRvIGV4cG9zZSB0aGVtIGZvciBhIHNldCBvZlxuICogcHJvcGVydGllcy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnRzLndhcm4gPSB7XG4gIGRlcHJlY2F0ZWQ6IGZ1bmN0aW9uIGRlcHJlY2F0ZWQocHJvcCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KCd7ICVzIH0gd2FzIHJlbW92ZWQgaW4gd2luc3RvbkAzLjAuMC4nLCBwcm9wKSk7XG4gICAgfTtcbiAgfSxcbiAgdXNlRm9ybWF0OiBmdW5jdGlvbiB1c2VGb3JtYXQocHJvcCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoW2Zvcm1hdCgneyAlcyB9IHdhcyByZW1vdmVkIGluIHdpbnN0b25AMy4wLjAuJywgcHJvcCksICdVc2UgYSBjdXN0b20gd2luc3Rvbi5mb3JtYXQgPSB3aW5zdG9uLmZvcm1hdChmdW5jdGlvbikgaW5zdGVhZC4nXS5qb2luKCdcXG4nKSk7XG4gICAgfTtcbiAgfSxcbiAgZm9yRnVuY3Rpb25zOiBmdW5jdGlvbiBmb3JGdW5jdGlvbnMob2JqLCB0eXBlLCBwcm9wcykge1xuICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIG9ialtwcm9wXSA9IGV4cG9ydHMud2Fyblt0eXBlXShwcm9wKTtcbiAgICB9KTtcbiAgfSxcbiAgZm9yUHJvcGVydGllczogZnVuY3Rpb24gZm9yUHJvcGVydGllcyhvYmosIHR5cGUsIHByb3BzKSB7XG4gICAgcHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgdmFyIG5vdGljZSA9IGV4cG9ydHMud2Fyblt0eXBlXShwcm9wKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIHtcbiAgICAgICAgZ2V0OiBub3RpY2UsXG4gICAgICAgIHNldDogbm90aWNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufTsiLCAie1xuICBcIm5hbWVcIjogXCJ3aW5zdG9uXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJBIGxvZ2dlciBmb3IganVzdCBhYm91dCBldmVyeXRoaW5nLlwiLFxuICBcInZlcnNpb25cIjogXCIzLjExLjBcIixcbiAgXCJhdXRob3JcIjogXCJDaGFybGllIFJvYmJpbnMgPGNoYXJsaWUucm9iYmluc0BnbWFpbC5jb20+XCIsXG4gIFwibWFpbnRhaW5lcnNcIjogW1xuICAgIFwiRGF2aWQgSHlkZSA8ZGFiaEBhbHVtbmkuc3RhbmZvcmQuZWR1PlwiXG4gIF0sXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vd2luc3RvbmpzL3dpbnN0b24uZ2l0XCJcbiAgfSxcbiAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgXCJ3aW5zdG9uXCIsXG4gICAgXCJsb2dnZXJcIixcbiAgICBcImxvZ2dpbmdcIixcbiAgICBcImxvZ3NcIixcbiAgICBcInN5c2FkbWluXCIsXG4gICAgXCJidW55YW5cIixcbiAgICBcInBpbm9cIixcbiAgICBcImxvZ2xldmVsXCIsXG4gICAgXCJ0b29sc1wiLFxuICAgIFwianNvblwiLFxuICAgIFwic3RyZWFtXCJcbiAgXSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiQGRhYmgvZGlhZ25vc3RpY3NcIjogXCJeMi4wLjJcIixcbiAgICBcIkBjb2xvcnMvY29sb3JzXCI6IFwiXjEuNi4wXCIsXG4gICAgXCJhc3luY1wiOiBcIl4zLjIuM1wiLFxuICAgIFwiaXMtc3RyZWFtXCI6IFwiXjIuMC4wXCIsXG4gICAgXCJsb2dmb3JtXCI6IFwiXjIuNC4wXCIsXG4gICAgXCJvbmUtdGltZVwiOiBcIl4xLjAuMFwiLFxuICAgIFwicmVhZGFibGUtc3RyZWFtXCI6IFwiXjMuNC4wXCIsXG4gICAgXCJzYWZlLXN0YWJsZS1zdHJpbmdpZnlcIjogXCJeMi4zLjFcIixcbiAgICBcInN0YWNrLXRyYWNlXCI6IFwiMC4wLnhcIixcbiAgICBcInRyaXBsZS1iZWFtXCI6IFwiXjEuMy4wXCIsXG4gICAgXCJ3aW5zdG9uLXRyYW5zcG9ydFwiOiBcIl40LjUuMFwiXG4gIH0sXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcIkBiYWJlbC9jbGlcIjogXCJeNy4xNy4wXCIsXG4gICAgXCJAYmFiZWwvY29yZVwiOiBcIl43LjE3LjJcIixcbiAgICBcIkBiYWJlbC9wcmVzZXQtZW52XCI6IFwiXjcuMTYuN1wiLFxuICAgIFwiQGRhYmgvZXNsaW50LWNvbmZpZy1wb3B1bGlzdFwiOiBcIl41LjAuMFwiLFxuICAgIFwiQHR5cGVzL25vZGVcIjogXCJeMjAuMy4xXCIsXG4gICAgXCJhYnN0cmFjdC13aW5zdG9uLXRyYW5zcG9ydFwiOiBcIl4wLjUuMVwiLFxuICAgIFwiYXNzdW1lXCI6IFwiXjIuMi4wXCIsXG4gICAgXCJjcm9zcy1zcGF3bi1hc3luY1wiOiBcIl4yLjIuNVwiLFxuICAgIFwiZXNsaW50XCI6IFwiXjguOS4wXCIsXG4gICAgXCJob2NrXCI6IFwiXjEuNC4xXCIsXG4gICAgXCJtb2NoYVwiOiBcIjguMS4zXCIsXG4gICAgXCJueWNcIjogXCJeMTUuMS4wXCIsXG4gICAgXCJyaW1yYWZcIjogXCJeNS4wLjVcIixcbiAgICBcInNwbGl0MlwiOiBcIl40LjEuMFwiLFxuICAgIFwic3RkLW1vY2tzXCI6IFwiXjEuMC4xXCIsXG4gICAgXCJ0aHJvdWdoMlwiOiBcIl40LjAuMlwiLFxuICAgIFwid2luc3Rvbi1jb21wYXRcIjogXCJeMC4xLjVcIlxuICB9LFxuICBcIm1haW5cIjogXCIuL2xpYi93aW5zdG9uLmpzXCIsXG4gIFwiYnJvd3NlclwiOiBcIi4vZGlzdC93aW5zdG9uXCIsXG4gIFwidHlwZXNcIjogXCIuL2luZGV4LmQudHNcIixcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcImxpbnRcIjogXCJlc2xpbnQgbGliLyouanMgbGliL3dpbnN0b24vKi5qcyBsaWIvd2luc3Rvbi8qKi8qLmpzIC0tcmVzb2x2ZS1wbHVnaW5zLXJlbGF0aXZlLXRvIC4vbm9kZV9tb2R1bGVzL0BkYWJoL2VzbGludC1jb25maWctcG9wdWxpc3RcIixcbiAgICBcInRlc3RcIjogXCJtb2NoYVwiLFxuICAgIFwidGVzdDpjb3ZlcmFnZVwiOiBcIm55YyBucG0gcnVuIHRlc3Q6dW5pdFwiLFxuICAgIFwidGVzdDp1bml0XCI6IFwibW9jaGEgdGVzdC91bml0XCIsXG4gICAgXCJ0ZXN0OmludGVncmF0aW9uXCI6IFwibW9jaGEgdGVzdC9pbnRlZ3JhdGlvblwiLFxuICAgIFwiYnVpbGRcIjogXCJyaW1yYWYgZGlzdCAmJiBiYWJlbCBsaWIgLWQgZGlzdFwiLFxuICAgIFwicHJlcHVibGlzaE9ubHlcIjogXCJucG0gcnVuIGJ1aWxkXCJcbiAgfSxcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCI+PSAxMi4wLjBcIlxuICB9LFxuICBcImxpY2Vuc2VcIjogXCJNSVRcIlxufVxuIiwgIlxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlcHJlY2F0ZTtcblxuLyoqXG4gKiBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICogUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLm5vRGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLnRocm93RGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnNcbiAqIHdpbGwgdGhyb3cgYW4gRXJyb3Igd2hlbiBpbnZva2VkLlxuICpcbiAqIElmIGBsb2NhbFN0b3JhZ2UudHJhY2VEZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBkZXByZWNhdGVkIGZ1bmN0aW9uc1xuICogd2lsbCBpbnZva2UgYGNvbnNvbGUudHJhY2UoKWAgaW5zdGVhZCBvZiBgY29uc29sZS5lcnJvcigpYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIHRoZSBmdW5jdGlvbiB0byBkZXByZWNhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgLSB0aGUgc3RyaW5nIHRvIHByaW50IHRvIHRoZSBjb25zb2xlIHdoZW4gYGZuYCBpcyBpbnZva2VkXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IGEgbmV3IFwiZGVwcmVjYXRlZFwiIHZlcnNpb24gb2YgYGZuYFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkZXByZWNhdGUgKGZuLCBtc2cpIHtcbiAgaWYgKGNvbmZpZygnbm9EZXByZWNhdGlvbicpKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAoY29uZmlnKCd0aHJvd0RlcHJlY2F0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKGNvbmZpZygndHJhY2VEZXByZWNhdGlvbicpKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgYGxvY2FsU3RvcmFnZWAgZm9yIGJvb2xlYW4gdmFsdWVzIGZvciB0aGUgZ2l2ZW4gYG5hbWVgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvbmZpZyAobmFtZSkge1xuICAvLyBhY2Nlc3NpbmcgZ2xvYmFsLmxvY2FsU3RvcmFnZSBjYW4gdHJpZ2dlciBhIERPTUV4Y2VwdGlvbiBpbiBzYW5kYm94ZWQgaWZyYW1lc1xuICB0cnkge1xuICAgIGlmICghZ2xvYmFsLmxvY2FsU3RvcmFnZSkgcmV0dXJuIGZhbHNlO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB2YWwgPSBnbG9iYWwubG9jYWxTdG9yYWdlW25hbWVdO1xuICBpZiAobnVsbCA9PSB2YWwpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIFN0cmluZyh2YWwpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcbn1cbiIsICJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIHVuZG9jdW1lbnRlZCBjYigpIEFQSSwgbmVlZGVkIGZvciBjb3JlLCBub3QgZm9yIHB1YmxpYyBBUElcbmZ1bmN0aW9uIGRlc3Ryb3koZXJyLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB2YXIgcmVhZGFibGVEZXN0cm95ZWQgPSB0aGlzLl9yZWFkYWJsZVN0YXRlICYmIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB2YXIgd3JpdGFibGVEZXN0cm95ZWQgPSB0aGlzLl93cml0YWJsZVN0YXRlICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICBpZiAocmVhZGFibGVEZXN0cm95ZWQgfHwgd3JpdGFibGVEZXN0cm95ZWQpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGNiKGVycik7XG4gICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRFcnJvck5ULCB0aGlzLCBlcnIpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQpIHtcbiAgICAgICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRFcnJvck5ULCB0aGlzLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHdlIHNldCBkZXN0cm95ZWQgdG8gdHJ1ZSBiZWZvcmUgZmlyaW5nIGVycm9yIGNhbGxiYWNrcyBpbiBvcmRlclxuICAvLyB0byBtYWtlIGl0IHJlLWVudHJhbmNlIHNhZmUgaW4gY2FzZSBkZXN0cm95KCkgaXMgY2FsbGVkIHdpdGhpbiBjYWxsYmFja3NcblxuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlmIHRoaXMgaXMgYSBkdXBsZXggc3RyZWFtIG1hcmsgdGhlIHdyaXRhYmxlIHBhcnQgYXMgZGVzdHJveWVkIGFzIHdlbGxcbiAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cbiAgdGhpcy5fZGVzdHJveShlcnIgfHwgbnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmICghY2IgJiYgZXJyKSB7XG4gICAgICBpZiAoIV90aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdEVycm9yQW5kQ2xvc2VOVCwgX3RoaXMsIGVycik7XG4gICAgICB9IGVsc2UgaWYgKCFfdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQpIHtcbiAgICAgICAgX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JBbmRDbG9zZU5ULCBfdGhpcywgZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlTlQsIF90aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZU5ULCBfdGhpcyk7XG4gICAgICBjYihlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZU5ULCBfdGhpcyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBlbWl0RXJyb3JBbmRDbG9zZU5UKHNlbGYsIGVycikge1xuICBlbWl0RXJyb3JOVChzZWxmLCBlcnIpO1xuICBlbWl0Q2xvc2VOVChzZWxmKTtcbn1cbmZ1bmN0aW9uIGVtaXRDbG9zZU5UKHNlbGYpIHtcbiAgaWYgKHNlbGYuX3dyaXRhYmxlU3RhdGUgJiYgIXNlbGYuX3dyaXRhYmxlU3RhdGUuZW1pdENsb3NlKSByZXR1cm47XG4gIGlmIChzZWxmLl9yZWFkYWJsZVN0YXRlICYmICFzZWxmLl9yZWFkYWJsZVN0YXRlLmVtaXRDbG9zZSkgcmV0dXJuO1xuICBzZWxmLmVtaXQoJ2Nsb3NlJyk7XG59XG5mdW5jdGlvbiB1bmRlc3Ryb3koKSB7XG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluYWxDYWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLnByZWZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRFcnJvck5UKHNlbGYsIGVycikge1xuICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbn1cbmZ1bmN0aW9uIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXJyKSB7XG4gIC8vIFdlIGhhdmUgdGVzdHMgdGhhdCByZWx5IG9uIGVycm9ycyBiZWluZyBlbWl0dGVkXG4gIC8vIGluIHRoZSBzYW1lIHRpY2ssIHNvIGNoYW5naW5nIHRoaXMgaXMgc2VtdmVyIG1ham9yLlxuICAvLyBGb3Igbm93IHdoZW4geW91IG9wdC1pbiB0byBhdXRvRGVzdHJveSB3ZSBhbGxvd1xuICAvLyB0aGUgZXJyb3IgdG8gYmUgZW1pdHRlZCBuZXh0VGljay4gSW4gYSBmdXR1cmVcbiAgLy8gc2VtdmVyIG1ham9yIHVwZGF0ZSB3ZSBzaG91bGQgY2hhbmdlIHRoZSBkZWZhdWx0IHRvIHRoaXMuXG5cbiAgdmFyIHJTdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHdTdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgaWYgKHJTdGF0ZSAmJiByU3RhdGUuYXV0b0Rlc3Ryb3kgfHwgd1N0YXRlICYmIHdTdGF0ZS5hdXRvRGVzdHJveSkgc3RyZWFtLmRlc3Ryb3koZXJyKTtlbHNlIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVzdHJveTogZGVzdHJveSxcbiAgdW5kZXN0cm95OiB1bmRlc3Ryb3ksXG4gIGVycm9yT3JEZXN0cm95OiBlcnJvck9yRGVzdHJveVxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGNvZGVzID0ge307XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yVHlwZShjb2RlLCBtZXNzYWdlLCBCYXNlKSB7XG4gIGlmICghQmFzZSkge1xuICAgIEJhc2UgPSBFcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKTtcbiAgICB9XG4gIH1cblxuICB2YXIgTm9kZUVycm9yID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0Jhc2UpIHtcbiAgICBfaW5oZXJpdHNMb29zZShOb2RlRXJyb3IsIF9CYXNlKTtcblxuICAgIGZ1bmN0aW9uIE5vZGVFcnJvcihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICByZXR1cm4gX0Jhc2UuY2FsbCh0aGlzLCBnZXRNZXNzYWdlKGFyZzEsIGFyZzIsIGFyZzMpKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBOb2RlRXJyb3I7XG4gIH0oQmFzZSk7XG5cbiAgTm9kZUVycm9yLnByb3RvdHlwZS5uYW1lID0gQmFzZS5uYW1lO1xuICBOb2RlRXJyb3IucHJvdG90eXBlLmNvZGUgPSBjb2RlO1xuICBjb2Rlc1tjb2RlXSA9IE5vZGVFcnJvcjtcbn0gLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjEwLjguMC9saWIvaW50ZXJuYWwvZXJyb3JzLmpzXG5cblxuZnVuY3Rpb24gb25lT2YoZXhwZWN0ZWQsIHRoaW5nKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSkge1xuICAgIHZhciBsZW4gPSBleHBlY3RlZC5sZW5ndGg7XG4gICAgZXhwZWN0ZWQgPSBleHBlY3RlZC5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaSk7XG4gICAgfSk7XG5cbiAgICBpZiAobGVuID4gMikge1xuICAgICAgcmV0dXJuIFwib25lIG9mIFwiLmNvbmNhdCh0aGluZywgXCIgXCIpLmNvbmNhdChleHBlY3RlZC5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpLCBcIiwgb3IgXCIpICsgZXhwZWN0ZWRbbGVuIC0gMV07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIHJldHVybiBcIm9uZSBvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0sIFwiIG9yIFwiKS5jb25jYXQoZXhwZWN0ZWRbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoU3RyaW5nKGV4cGVjdGVkKSk7XG4gIH1cbn0gLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGhcblxuXG5mdW5jdGlvbiBzdGFydHNXaXRoKHN0ciwgc2VhcmNoLCBwb3MpIHtcbiAgcmV0dXJuIHN0ci5zdWJzdHIoIXBvcyB8fCBwb3MgPCAwID8gMCA6ICtwb3MsIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG59IC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aFxuXG5cbmZ1bmN0aW9uIGVuZHNXaXRoKHN0ciwgc2VhcmNoLCB0aGlzX2xlbikge1xuICBpZiAodGhpc19sZW4gPT09IHVuZGVmaW5lZCB8fCB0aGlzX2xlbiA+IHN0ci5sZW5ndGgpIHtcbiAgICB0aGlzX2xlbiA9IHN0ci5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gc3RyLnN1YnN0cmluZyh0aGlzX2xlbiAtIHNlYXJjaC5sZW5ndGgsIHRoaXNfbGVuKSA9PT0gc2VhcmNoO1xufSAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5jbHVkZXNcblxuXG5mdW5jdGlvbiBpbmNsdWRlcyhzdHIsIHNlYXJjaCwgc3RhcnQpIHtcbiAgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICBzdGFydCA9IDA7XG4gIH1cblxuICBpZiAoc3RhcnQgKyBzZWFyY2gubGVuZ3RoID4gc3RyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICB9XG59XG5cbmNyZWF0ZUVycm9yVHlwZSgnRVJSX0lOVkFMSURfT1BUX1ZBTFVFJywgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiAnVGhlIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcIicgKyBuYW1lICsgJ1wiJztcbn0sIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJywgZnVuY3Rpb24gKG5hbWUsIGV4cGVjdGVkLCBhY3R1YWwpIHtcbiAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcbiAgdmFyIGRldGVybWluZXI7XG5cbiAgaWYgKHR5cGVvZiBleHBlY3RlZCA9PT0gJ3N0cmluZycgJiYgc3RhcnRzV2l0aChleHBlY3RlZCwgJ25vdCAnKSkge1xuICAgIGRldGVybWluZXIgPSAnbXVzdCBub3QgYmUnO1xuICAgIGV4cGVjdGVkID0gZXhwZWN0ZWQucmVwbGFjZSgvXm5vdCAvLCAnJyk7XG4gIH0gZWxzZSB7XG4gICAgZGV0ZXJtaW5lciA9ICdtdXN0IGJlJztcbiAgfVxuXG4gIHZhciBtc2c7XG5cbiAgaWYgKGVuZHNXaXRoKG5hbWUsICcgYXJndW1lbnQnKSkge1xuICAgIC8vIEZvciBjYXNlcyBsaWtlICdmaXJzdCBhcmd1bWVudCdcbiAgICBtc2cgPSBcIlRoZSBcIi5jb25jYXQobmFtZSwgXCIgXCIpLmNvbmNhdChkZXRlcm1pbmVyLCBcIiBcIikuY29uY2F0KG9uZU9mKGV4cGVjdGVkLCAndHlwZScpKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdHlwZSA9IGluY2x1ZGVzKG5hbWUsICcuJykgPyAncHJvcGVydHknIDogJ2FyZ3VtZW50JztcbiAgICBtc2cgPSBcIlRoZSBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIiBcIikuY29uY2F0KHR5cGUsIFwiIFwiKS5jb25jYXQoZGV0ZXJtaW5lciwgXCIgXCIpLmNvbmNhdChvbmVPZihleHBlY3RlZCwgJ3R5cGUnKSk7XG4gIH1cblxuICBtc2cgKz0gXCIuIFJlY2VpdmVkIHR5cGUgXCIuY29uY2F0KHR5cGVvZiBhY3R1YWwpO1xuICByZXR1cm4gbXNnO1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRicsICdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCcsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAnVGhlICcgKyBuYW1lICsgJyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkJztcbn0pO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRScsICdQcmVtYXR1cmUgY2xvc2UnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9ERVNUUk9ZRUQnLCBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gJ0Nhbm5vdCBjYWxsICcgKyBuYW1lICsgJyBhZnRlciBhIHN0cmVhbSB3YXMgZGVzdHJveWVkJztcbn0pO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTVVMVElQTEVfQ0FMTEJBQ0snLCAnQ2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzJyk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9TVFJFQU1fQ0FOTk9UX1BJUEUnLCAnQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZScpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCcsICd3cml0ZSBhZnRlciBlbmQnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUycsICdNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbScsIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9VTktOT1dOX0VOQ09ESU5HJywgZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBhcmc7XG59LCBUeXBlRXJyb3IpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UJywgJ3N0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50Jyk7XG5tb2R1bGUuZXhwb3J0cy5jb2RlcyA9IGNvZGVzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9JTlZBTElEX09QVF9WQUxVRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9JTlZBTElEX09QVF9WQUxVRTtcbmZ1bmN0aW9uIGhpZ2hXYXRlck1hcmtGcm9tKG9wdGlvbnMsIGlzRHVwbGV4LCBkdXBsZXhLZXkpIHtcbiAgcmV0dXJuIG9wdGlvbnMuaGlnaFdhdGVyTWFyayAhPSBudWxsID8gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrIDogaXNEdXBsZXggPyBvcHRpb25zW2R1cGxleEtleV0gOiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0SGlnaFdhdGVyTWFyayhzdGF0ZSwgb3B0aW9ucywgZHVwbGV4S2V5LCBpc0R1cGxleCkge1xuICB2YXIgaHdtID0gaGlnaFdhdGVyTWFya0Zyb20ob3B0aW9ucywgaXNEdXBsZXgsIGR1cGxleEtleSk7XG4gIGlmIChod20gIT0gbnVsbCkge1xuICAgIGlmICghKGlzRmluaXRlKGh3bSkgJiYgTWF0aC5mbG9vcihod20pID09PSBod20pIHx8IGh3bSA8IDApIHtcbiAgICAgIHZhciBuYW1lID0gaXNEdXBsZXggPyBkdXBsZXhLZXkgOiAnaGlnaFdhdGVyTWFyayc7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfT1BUX1ZBTFVFKG5hbWUsIGh3bSk7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmZsb29yKGh3bSk7XG4gIH1cblxuICAvLyBEZWZhdWx0IHZhbHVlXG4gIHJldHVybiBzdGF0ZS5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0SGlnaFdhdGVyTWFyazogZ2V0SGlnaFdhdGVyTWFya1xufTsiLCAiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAodHlwZW9mIHJlcyAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCdidWZmZXInKSxcbiAgQnVmZmVyID0gX3JlcXVpcmUuQnVmZmVyO1xudmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJ3V0aWwnKSxcbiAgaW5zcGVjdCA9IF9yZXF1aXJlMi5pbnNwZWN0O1xudmFyIGN1c3RvbSA9IGluc3BlY3QgJiYgaW5zcGVjdC5jdXN0b20gfHwgJ2luc3BlY3QnO1xuZnVuY3Rpb24gY29weUJ1ZmZlcihzcmMsIHRhcmdldCwgb2Zmc2V0KSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuY29weS5jYWxsKHNyYywgdGFyZ2V0LCBvZmZzZXQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCdWZmZXJMaXN0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXJMaXN0KTtcbiAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhCdWZmZXJMaXN0LCBbe1xuICAgIGtleTogXCJwdXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2godikge1xuICAgICAgdmFyIGVudHJ5ID0ge1xuICAgICAgICBkYXRhOiB2LFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID4gMCkgdGhpcy50YWlsLm5leHQgPSBlbnRyeTtlbHNlIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgICAgdGhpcy50YWlsID0gZW50cnk7XG4gICAgICArK3RoaXMubGVuZ3RoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1bnNoaWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc2hpZnQodikge1xuICAgICAgdmFyIGVudHJ5ID0ge1xuICAgICAgICBkYXRhOiB2LFxuICAgICAgICBuZXh0OiB0aGlzLmhlYWRcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHRoaXMudGFpbCA9IGVudHJ5O1xuICAgICAgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgICArK3RoaXMubGVuZ3RoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaGlmdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaGlmdCgpIHtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgdmFyIHJldCA9IHRoaXMuaGVhZC5kYXRhO1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO2Vsc2UgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgICAtLXRoaXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO1xuICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJqb2luXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGpvaW4ocykge1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciByZXQgPSAnJyArIHAuZGF0YTtcbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSByZXQgKz0gcyArIHAuZGF0YTtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbmNhdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25jYXQobikge1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gQnVmZmVyLmFsbG9jKDApO1xuICAgICAgdmFyIHJldCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuID4+PiAwKTtcbiAgICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgY29weUJ1ZmZlcihwLmRhdGEsIHJldCwgaSk7XG4gICAgICAgIGkgKz0gcC5kYXRhLmxlbmd0aDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLy8gQ29uc3VtZXMgYSBzcGVjaWZpZWQgYW1vdW50IG9mIGJ5dGVzIG9yIGNoYXJhY3RlcnMgZnJvbSB0aGUgYnVmZmVyZWQgZGF0YS5cbiAgfSwge1xuICAgIGtleTogXCJjb25zdW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnN1bWUobiwgaGFzU3RyaW5ncykge1xuICAgICAgdmFyIHJldDtcbiAgICAgIGlmIChuIDwgdGhpcy5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIC8vIGBzbGljZWAgaXMgdGhlIHNhbWUgZm9yIGJ1ZmZlcnMgYW5kIHN0cmluZ3MuXG4gICAgICAgIHJldCA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgICAgICB0aGlzLmhlYWQuZGF0YSA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKG4pO1xuICAgICAgfSBlbHNlIGlmIChuID09PSB0aGlzLmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoLlxuICAgICAgICByZXQgPSB0aGlzLnNoaWZ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXN1bHQgc3BhbnMgbW9yZSB0aGFuIG9uZSBidWZmZXIuXG4gICAgICAgIHJldCA9IGhhc1N0cmluZ3MgPyB0aGlzLl9nZXRTdHJpbmcobikgOiB0aGlzLl9nZXRCdWZmZXIobik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaXJzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaXJzdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlYWQuZGF0YTtcbiAgICB9XG5cbiAgICAvLyBDb25zdW1lcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0cmluZyhuKSB7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBjID0gMTtcbiAgICAgIHZhciByZXQgPSBwLmRhdGE7XG4gICAgICBuIC09IHJldC5sZW5ndGg7XG4gICAgICB3aGlsZSAocCA9IHAubmV4dCkge1xuICAgICAgICB2YXIgc3RyID0gcC5kYXRhO1xuICAgICAgICB2YXIgbmIgPSBuID4gc3RyLmxlbmd0aCA/IHN0ci5sZW5ndGggOiBuO1xuICAgICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHJldCArPSBzdHI7ZWxzZSByZXQgKz0gc3RyLnNsaWNlKDAsIG4pO1xuICAgICAgICBuIC09IG5iO1xuICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgKytjO1xuICAgICAgICAgICAgaWYgKHAubmV4dCkgdGhpcy5oZWFkID0gcC5uZXh0O2Vsc2UgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gcDtcbiAgICAgICAgICAgIHAuZGF0YSA9IHN0ci5zbGljZShuYik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgICsrYztcbiAgICAgIH1cbiAgICAgIHRoaXMubGVuZ3RoIC09IGM7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8vIENvbnN1bWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRCdWZmZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEJ1ZmZlcihuKSB7XG4gICAgICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4pO1xuICAgICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgICB2YXIgYyA9IDE7XG4gICAgICBwLmRhdGEuY29weShyZXQpO1xuICAgICAgbiAtPSBwLmRhdGEubGVuZ3RoO1xuICAgICAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHAuZGF0YTtcbiAgICAgICAgdmFyIG5iID0gbiA+IGJ1Zi5sZW5ndGggPyBidWYubGVuZ3RoIDogbjtcbiAgICAgICAgYnVmLmNvcHkocmV0LCByZXQubGVuZ3RoIC0gbiwgMCwgbmIpO1xuICAgICAgICBuIC09IG5iO1xuICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgKytjO1xuICAgICAgICAgICAgaWYgKHAubmV4dCkgdGhpcy5oZWFkID0gcC5uZXh0O2Vsc2UgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gcDtcbiAgICAgICAgICAgIHAuZGF0YSA9IGJ1Zi5zbGljZShuYik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgICsrYztcbiAgICAgIH1cbiAgICAgIHRoaXMubGVuZ3RoIC09IGM7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgbGlua2VkIGxpc3Qgb25seSBzaG93cyB0aGUgbWluaW1hbCBuZWNlc3NhcnkgaW5mb3JtYXRpb24uXG4gIH0sIHtcbiAgICBrZXk6IGN1c3RvbSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoXywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGluc3BlY3QodGhpcywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgLy8gT25seSBpbnNwZWN0IG9uZSBsZXZlbC5cbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIC8vIEl0IHNob3VsZCBub3QgcmVjdXJzZS5cbiAgICAgICAgY3VzdG9tSW5zcGVjdDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEJ1ZmZlckxpc3Q7XG59KCk7IiwgIi8vIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWZpbnRvc2gvZW5kLW9mLXN0cmVhbSB3aXRoXG4vLyBwZXJtaXNzaW9uIGZyb20gdGhlIGF1dGhvciwgTWF0aGlhcyBCdXVzIChAbWFmaW50b3NoKS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0UgPSByZXF1aXJlKCcuLi8uLi8uLi9lcnJvcnMnKS5jb2Rlcy5FUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRTtcbmZ1bmN0aW9uIG9uY2UoY2FsbGJhY2spIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG59XG5mdW5jdGlvbiBub29wKCkge31cbmZ1bmN0aW9uIGlzUmVxdWVzdChzdHJlYW0pIHtcbiAgcmV0dXJuIHN0cmVhbS5zZXRIZWFkZXIgJiYgdHlwZW9mIHN0cmVhbS5hYm9ydCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGVvcyhzdHJlYW0sIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGVvcyhzdHJlYW0sIG51bGwsIG9wdHMpO1xuICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcbiAgY2FsbGJhY2sgPSBvbmNlKGNhbGxiYWNrIHx8IG5vb3ApO1xuICB2YXIgcmVhZGFibGUgPSBvcHRzLnJlYWRhYmxlIHx8IG9wdHMucmVhZGFibGUgIT09IGZhbHNlICYmIHN0cmVhbS5yZWFkYWJsZTtcbiAgdmFyIHdyaXRhYmxlID0gb3B0cy53cml0YWJsZSB8fCBvcHRzLndyaXRhYmxlICE9PSBmYWxzZSAmJiBzdHJlYW0ud3JpdGFibGU7XG4gIHZhciBvbmxlZ2FjeWZpbmlzaCA9IGZ1bmN0aW9uIG9ubGVnYWN5ZmluaXNoKCkge1xuICAgIGlmICghc3RyZWFtLndyaXRhYmxlKSBvbmZpbmlzaCgpO1xuICB9O1xuICB2YXIgd3JpdGFibGVFbmRlZCA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZSAmJiBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ7XG4gIHZhciBvbmZpbmlzaCA9IGZ1bmN0aW9uIG9uZmluaXNoKCkge1xuICAgIHdyaXRhYmxlID0gZmFsc2U7XG4gICAgd3JpdGFibGVFbmRlZCA9IHRydWU7XG4gICAgaWYgKCFyZWFkYWJsZSkgY2FsbGJhY2suY2FsbChzdHJlYW0pO1xuICB9O1xuICB2YXIgcmVhZGFibGVFbmRlZCA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZSAmJiBzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZDtcbiAgdmFyIG9uZW5kID0gZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgcmVhZGFibGUgPSBmYWxzZTtcbiAgICByZWFkYWJsZUVuZGVkID0gdHJ1ZTtcbiAgICBpZiAoIXdyaXRhYmxlKSBjYWxsYmFjay5jYWxsKHN0cmVhbSk7XG4gIH07XG4gIHZhciBvbmVycm9yID0gZnVuY3Rpb24gb25lcnJvcihlcnIpIHtcbiAgICBjYWxsYmFjay5jYWxsKHN0cmVhbSwgZXJyKTtcbiAgfTtcbiAgdmFyIG9uY2xvc2UgPSBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIHZhciBlcnI7XG4gICAgaWYgKHJlYWRhYmxlICYmICFyZWFkYWJsZUVuZGVkKSB7XG4gICAgICBpZiAoIXN0cmVhbS5fcmVhZGFibGVTdGF0ZSB8fCAhc3RyZWFtLl9yZWFkYWJsZVN0YXRlLmVuZGVkKSBlcnIgPSBuZXcgRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0UoKTtcbiAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHN0cmVhbSwgZXJyKTtcbiAgICB9XG4gICAgaWYgKHdyaXRhYmxlICYmICF3cml0YWJsZUVuZGVkKSB7XG4gICAgICBpZiAoIXN0cmVhbS5fd3JpdGFibGVTdGF0ZSB8fCAhc3RyZWFtLl93cml0YWJsZVN0YXRlLmVuZGVkKSBlcnIgPSBuZXcgRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0UoKTtcbiAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHN0cmVhbSwgZXJyKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbnJlcXVlc3QgPSBmdW5jdGlvbiBvbnJlcXVlc3QoKSB7XG4gICAgc3RyZWFtLnJlcS5vbignZmluaXNoJywgb25maW5pc2gpO1xuICB9O1xuICBpZiAoaXNSZXF1ZXN0KHN0cmVhbSkpIHtcbiAgICBzdHJlYW0ub24oJ2NvbXBsZXRlJywgb25maW5pc2gpO1xuICAgIHN0cmVhbS5vbignYWJvcnQnLCBvbmNsb3NlKTtcbiAgICBpZiAoc3RyZWFtLnJlcSkgb25yZXF1ZXN0KCk7ZWxzZSBzdHJlYW0ub24oJ3JlcXVlc3QnLCBvbnJlcXVlc3QpO1xuICB9IGVsc2UgaWYgKHdyaXRhYmxlICYmICFzdHJlYW0uX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAvLyBsZWdhY3kgc3RyZWFtc1xuICAgIHN0cmVhbS5vbignZW5kJywgb25sZWdhY3lmaW5pc2gpO1xuICAgIHN0cmVhbS5vbignY2xvc2UnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gIH1cbiAgc3RyZWFtLm9uKCdlbmQnLCBvbmVuZCk7XG4gIHN0cmVhbS5vbignZmluaXNoJywgb25maW5pc2gpO1xuICBpZiAob3B0cy5lcnJvciAhPT0gZmFsc2UpIHN0cmVhbS5vbignZXJyb3InLCBvbmVycm9yKTtcbiAgc3RyZWFtLm9uKCdjbG9zZScsIG9uY2xvc2UpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignY29tcGxldGUnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdhYm9ydCcsIG9uY2xvc2UpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcigncmVxdWVzdCcsIG9ucmVxdWVzdCk7XG4gICAgaWYgKHN0cmVhbS5yZXEpIHN0cmVhbS5yZXEucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9ubGVnYWN5ZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25sZWdhY3lmaW5pc2gpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGVvczsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX09iamVjdCRzZXRQcm90b3R5cGVPO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxudmFyIGZpbmlzaGVkID0gcmVxdWlyZSgnLi9lbmQtb2Ytc3RyZWFtJyk7XG52YXIga0xhc3RSZXNvbHZlID0gU3ltYm9sKCdsYXN0UmVzb2x2ZScpO1xudmFyIGtMYXN0UmVqZWN0ID0gU3ltYm9sKCdsYXN0UmVqZWN0Jyk7XG52YXIga0Vycm9yID0gU3ltYm9sKCdlcnJvcicpO1xudmFyIGtFbmRlZCA9IFN5bWJvbCgnZW5kZWQnKTtcbnZhciBrTGFzdFByb21pc2UgPSBTeW1ib2woJ2xhc3RQcm9taXNlJyk7XG52YXIga0hhbmRsZVByb21pc2UgPSBTeW1ib2woJ2hhbmRsZVByb21pc2UnKTtcbnZhciBrU3RyZWFtID0gU3ltYm9sKCdzdHJlYW0nKTtcbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJSZXN1bHQodmFsdWUsIGRvbmUpIHtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZG9uZTogZG9uZVxuICB9O1xufVxuZnVuY3Rpb24gcmVhZEFuZFJlc29sdmUoaXRlcikge1xuICB2YXIgcmVzb2x2ZSA9IGl0ZXJba0xhc3RSZXNvbHZlXTtcbiAgaWYgKHJlc29sdmUgIT09IG51bGwpIHtcbiAgICB2YXIgZGF0YSA9IGl0ZXJba1N0cmVhbV0ucmVhZCgpO1xuICAgIC8vIHdlIGRlZmVyIGlmIGRhdGEgaXMgbnVsbFxuICAgIC8vIHdlIGNhbiBiZSBleHBlY3RpbmcgZWl0aGVyICdlbmQnIG9yXG4gICAgLy8gJ2Vycm9yJ1xuICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICBpdGVyW2tMYXN0UHJvbWlzZV0gPSBudWxsO1xuICAgICAgaXRlcltrTGFzdFJlc29sdmVdID0gbnVsbDtcbiAgICAgIGl0ZXJba0xhc3RSZWplY3RdID0gbnVsbDtcbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdChkYXRhLCBmYWxzZSkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gb25SZWFkYWJsZShpdGVyKSB7XG4gIC8vIHdlIHdhaXQgZm9yIHRoZSBuZXh0IHRpY2ssIGJlY2F1c2UgaXQgbWlnaHRcbiAgLy8gZW1pdCBhbiBlcnJvciB3aXRoIHByb2Nlc3MubmV4dFRpY2tcbiAgcHJvY2Vzcy5uZXh0VGljayhyZWFkQW5kUmVzb2x2ZSwgaXRlcik7XG59XG5mdW5jdGlvbiB3cmFwRm9yTmV4dChsYXN0UHJvbWlzZSwgaXRlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGxhc3RQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGl0ZXJba0VuZGVkXSkge1xuICAgICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZXJba0hhbmRsZVByb21pc2VdKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSwgcmVqZWN0KTtcbiAgfTtcbn1cbnZhciBBc3luY0l0ZXJhdG9yUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uICgpIHt9KTtcbnZhciBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JQcm90b3R5cGUgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YoKF9PYmplY3Qkc2V0UHJvdG90eXBlTyA9IHtcbiAgZ2V0IHN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpc1trU3RyZWFtXTtcbiAgfSxcbiAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIC8vIGlmIHdlIGhhdmUgZGV0ZWN0ZWQgYW4gZXJyb3IgaW4gdGhlIG1lYW53aGlsZVxuICAgIC8vIHJlamVjdCBzdHJhaWdodCBhd2F5XG4gICAgdmFyIGVycm9yID0gdGhpc1trRXJyb3JdO1xuICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4gICAgaWYgKHRoaXNba0VuZGVkXSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjcmVhdGVJdGVyUmVzdWx0KHVuZGVmaW5lZCwgdHJ1ZSkpO1xuICAgIH1cbiAgICBpZiAodGhpc1trU3RyZWFtXS5kZXN0cm95ZWQpIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gZGVmZXIgdmlhIG5leHRUaWNrIGJlY2F1c2UgaWYgLmRlc3Ryb3koZXJyKSBpc1xuICAgICAgLy8gY2FsbGVkLCB0aGUgZXJyb3Igd2lsbCBiZSBlbWl0dGVkIHZpYSBuZXh0VGljaywgYW5kXG4gICAgICAvLyB3ZSBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgdGhlcmUgaXMgbm8gZXJyb3IgbGluZ2VyaW5nIGFyb3VuZFxuICAgICAgLy8gd2FpdGluZyB0byBiZSBlbWl0dGVkLlxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzW2tFcnJvcl0pIHtcbiAgICAgICAgICAgIHJlamVjdChfdGhpc1trRXJyb3JdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShjcmVhdGVJdGVyUmVzdWx0KHVuZGVmaW5lZCwgdHJ1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBoYXZlIG11bHRpcGxlIG5leHQoKSBjYWxsc1xuICAgIC8vIHdlIHdpbGwgd2FpdCBmb3IgdGhlIHByZXZpb3VzIFByb21pc2UgdG8gZmluaXNoXG4gICAgLy8gdGhpcyBsb2dpYyBpcyBvcHRpbWl6ZWQgdG8gc3VwcG9ydCBmb3IgYXdhaXQgbG9vcHMsXG4gICAgLy8gd2hlcmUgbmV4dCgpIGlzIG9ubHkgY2FsbGVkIG9uY2UgYXQgYSB0aW1lXG4gICAgdmFyIGxhc3RQcm9taXNlID0gdGhpc1trTGFzdFByb21pc2VdO1xuICAgIHZhciBwcm9taXNlO1xuICAgIGlmIChsYXN0UHJvbWlzZSkge1xuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCB0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhc3QgcGF0aCBuZWVkZWQgdG8gc3VwcG9ydCBtdWx0aXBsZSB0aGlzLnB1c2goKVxuICAgICAgLy8gd2l0aG91dCB0cmlnZ2VyaW5nIHRoZSBuZXh0KCkgcXVldWVcbiAgICAgIHZhciBkYXRhID0gdGhpc1trU3RyZWFtXS5yZWFkKCk7XG4gICAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoZGF0YSwgZmFsc2UpKTtcbiAgICAgIH1cbiAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSh0aGlzW2tIYW5kbGVQcm9taXNlXSk7XG4gICAgfVxuICAgIHRoaXNba0xhc3RQcm9taXNlXSA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn0sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFN5bWJvbC5hc3luY0l0ZXJhdG9yLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFwicmV0dXJuXCIsIGZ1bmN0aW9uIF9yZXR1cm4oKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuICAvLyBkZXN0cm95KGVyciwgY2IpIGlzIGEgcHJpdmF0ZSBBUElcbiAgLy8gd2UgY2FuIGd1YXJhbnRlZSB3ZSBoYXZlIHRoYXQgaGVyZSwgYmVjYXVzZSB3ZSBjb250cm9sIHRoZVxuICAvLyBSZWFkYWJsZSBjbGFzcyB0aGlzIGlzIGF0dGFjaGVkIHRvXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgX3RoaXMyW2tTdHJlYW1dLmRlc3Ryb3kobnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShjcmVhdGVJdGVyUmVzdWx0KHVuZGVmaW5lZCwgdHJ1ZSkpO1xuICAgIH0pO1xuICB9KTtcbn0pLCBfT2JqZWN0JHNldFByb3RvdHlwZU8pLCBBc3luY0l0ZXJhdG9yUHJvdG90eXBlKTtcbnZhciBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IgPSBmdW5jdGlvbiBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3Ioc3RyZWFtKSB7XG4gIHZhciBfT2JqZWN0JGNyZWF0ZTtcbiAgdmFyIGl0ZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JQcm90b3R5cGUsIChfT2JqZWN0JGNyZWF0ZSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRjcmVhdGUsIGtTdHJlYW0sIHtcbiAgICB2YWx1ZTogc3RyZWFtLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRjcmVhdGUsIGtMYXN0UmVzb2x2ZSwge1xuICAgIHZhbHVlOiBudWxsLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRjcmVhdGUsIGtMYXN0UmVqZWN0LCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0Vycm9yLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0VuZGVkLCB7XG4gICAgdmFsdWU6IHN0cmVhbS5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRjcmVhdGUsIGtIYW5kbGVQcm9taXNlLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGRhdGEgPSBpdGVyYXRvcltrU3RyZWFtXS5yZWFkKCk7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdChkYXRhLCBmYWxzZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZXNvbHZlXSA9IHJlc29sdmU7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVqZWN0XSA9IHJlamVjdDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pLCBfT2JqZWN0JGNyZWF0ZSkpO1xuICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgZmluaXNoZWQoc3RyZWFtLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyciAmJiBlcnIuY29kZSAhPT0gJ0VSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFJykge1xuICAgICAgdmFyIHJlamVjdCA9IGl0ZXJhdG9yW2tMYXN0UmVqZWN0XTtcbiAgICAgIC8vIHJlamVjdCBpZiB3ZSBhcmUgd2FpdGluZyBmb3IgZGF0YSBpbiB0aGUgUHJvbWlzZVxuICAgICAgLy8gcmV0dXJuZWQgYnkgbmV4dCgpIGFuZCBzdG9yZSB0aGUgZXJyb3JcbiAgICAgIGlmIChyZWplY3QgIT09IG51bGwpIHtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlamVjdF0gPSBudWxsO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIGl0ZXJhdG9yW2tFcnJvcl0gPSBlcnI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXNvbHZlID0gaXRlcmF0b3Jba0xhc3RSZXNvbHZlXTtcbiAgICBpZiAocmVzb2x2ZSAhPT0gbnVsbCkge1xuICAgICAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gICAgICBpdGVyYXRvcltrTGFzdFJlc29sdmVdID0gbnVsbDtcbiAgICAgIGl0ZXJhdG9yW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgfVxuICAgIGl0ZXJhdG9yW2tFbmRlZF0gPSB0cnVlO1xuICB9KTtcbiAgc3RyZWFtLm9uKCdyZWFkYWJsZScsIG9uUmVhZGFibGUuYmluZChudWxsLCBpdGVyYXRvcikpO1xuICByZXR1cm4gaXRlcmF0b3I7XG59O1xubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I7IiwgIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWRhYmxlLmZyb20gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnJvd3NlcicpXG59O1xuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhZGFibGU7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIEVFbGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIEVFbGlzdGVuZXJDb3VudChlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVycyh0eXBlKS5sZW5ndGg7XG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG52YXIgT3VyVWludDhBcnJheSA9ICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KS5VaW50OEFycmF5IHx8IGZ1bmN0aW9uICgpIHt9O1xuZnVuY3Rpb24gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuaykge1xuICByZXR1cm4gQnVmZmVyLmZyb20oY2h1bmspO1xufVxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgZGVidWdVdGlsID0gcmVxdWlyZSgndXRpbCcpO1xudmFyIGRlYnVnO1xuaWYgKGRlYnVnVXRpbCAmJiBkZWJ1Z1V0aWwuZGVidWdsb2cpIHtcbiAgZGVidWcgPSBkZWJ1Z1V0aWwuZGVidWdsb2coJ3N0cmVhbScpO1xufSBlbHNlIHtcbiAgZGVidWcgPSBmdW5jdGlvbiBkZWJ1ZygpIHt9O1xufVxuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXJMaXN0ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2J1ZmZlcl9saXN0Jyk7XG52YXIgZGVzdHJveUltcGwgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveScpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0YXRlJyksXG4gIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vZXJyb3JzJykuY29kZXMsXG4gIEVSUl9JTlZBTElEX0FSR19UWVBFID0gX3JlcXVpcmUkY29kZXMuRVJSX0lOVkFMSURfQVJHX1RZUEUsXG4gIEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GLFxuICBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELFxuICBFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVDtcblxuLy8gTGF6eSBsb2FkZWQgdG8gaW1wcm92ZSB0aGUgc3RhcnR1cCBwZXJmb3JtYW5jZS5cbnZhciBTdHJpbmdEZWNvZGVyO1xudmFyIGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjtcbnZhciBmcm9tO1xucmVxdWlyZSgnaW5oZXJpdHMnKShSZWFkYWJsZSwgU3RyZWFtKTtcbnZhciBlcnJvck9yRGVzdHJveSA9IGRlc3Ryb3lJbXBsLmVycm9yT3JEZXN0cm95O1xudmFyIGtQcm94eUV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcbmZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4pIHtcbiAgLy8gU2FkbHkgdGhpcyBpcyBub3QgY2FjaGVhYmxlIGFzIHNvbWUgbGlicmFyaWVzIGJ1bmRsZSB0aGVpciBvd25cbiAgLy8gZXZlbnQgZW1pdHRlciBpbXBsZW1lbnRhdGlvbiB3aXRoIHRoZW0uXG4gIGlmICh0eXBlb2YgZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHJldHVybiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lcihldmVudCwgZm4pO1xuXG4gIC8vIFRoaXMgaXMgYSBoYWNrIHRvIG1ha2Ugc3VyZSB0aGF0IG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSBhbnlcbiAgLy8gdXNlcmxhbmQgb25lcy4gIE5FVkVSIERPIFRISVMuIFRoaXMgaXMgaGVyZSBvbmx5IGJlY2F1c2UgdGhpcyBjb2RlIG5lZWRzXG4gIC8vIHRvIGNvbnRpbnVlIHRvIHdvcmsgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBOb2RlLmpzIHRoYXQgZG8gbm90IGluY2x1ZGVcbiAgLy8gdGhlIHByZXBlbmRMaXN0ZW5lcigpIG1ldGhvZC4gVGhlIGdvYWwgaXMgdG8gZXZlbnR1YWxseSByZW1vdmUgdGhpcyBoYWNrLlxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW2V2ZW50XSkgZW1pdHRlci5vbihldmVudCwgZm4pO2Vsc2UgaWYgKEFycmF5LmlzQXJyYXkoZW1pdHRlci5fZXZlbnRzW2V2ZW50XSkpIGVtaXR0ZXIuX2V2ZW50c1tldmVudF0udW5zaGlmdChmbik7ZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZlbnRdID0gW2ZuLCBlbWl0dGVyLl9ldmVudHNbZXZlbnRdXTtcbn1cbmZ1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtLCBpc0R1cGxleCkge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbS5cbiAgLy8gVGhlc2Ugb3B0aW9ucyBjYW4gYmUgcHJvdmlkZWQgc2VwYXJhdGVseSBhcyByZWFkYWJsZVhYWCBhbmQgd3JpdGFibGVYWFguXG4gIGlmICh0eXBlb2YgaXNEdXBsZXggIT09ICdib29sZWFuJykgaXNEdXBsZXggPSBzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXg7XG5cbiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnLiBVc2VkIHRvIG1ha2UgcmVhZChuKSBpZ25vcmUgbiBhbmQgdG9cbiAgLy8gbWFrZSBhbGwgdGhlIGJ1ZmZlciBtZXJnaW5nIGFuZCBsZW5ndGggY2hlY2tzIGdvIGF3YXlcbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG4gIGlmIChpc0R1cGxleCkgdGhpcy5vYmplY3RNb2RlID0gdGhpcy5vYmplY3RNb2RlIHx8ICEhb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGU7XG5cbiAgLy8gdGhlIHBvaW50IGF0IHdoaWNoIGl0IHN0b3BzIGNhbGxpbmcgX3JlYWQoKSB0byBmaWxsIHRoZSBidWZmZXJcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyBcImRvbid0IGNhbGwgX3JlYWQgcHJlZW1wdGl2ZWx5IGV2ZXJcIlxuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBnZXRIaWdoV2F0ZXJNYXJrKHRoaXMsIG9wdGlvbnMsICdyZWFkYWJsZUhpZ2hXYXRlck1hcmsnLCBpc0R1cGxleCk7XG5cbiAgLy8gQSBsaW5rZWQgbGlzdCBpcyB1c2VkIHRvIHN0b3JlIGRhdGEgY2h1bmtzIGluc3RlYWQgb2YgYW4gYXJyYXkgYmVjYXVzZSB0aGVcbiAgLy8gbGlua2VkIGxpc3QgY2FuIHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZSBiZWdpbm5pbmcgZmFzdGVyIHRoYW5cbiAgLy8gYXJyYXkuc2hpZnQoKVxuICB0aGlzLmJ1ZmZlciA9IG5ldyBCdWZmZXJMaXN0KCk7XG4gIHRoaXMubGVuZ3RoID0gMDtcbiAgdGhpcy5waXBlcyA9IG51bGw7XG4gIHRoaXMucGlwZXNDb3VudCA9IDA7XG4gIHRoaXMuZmxvd2luZyA9IG51bGw7XG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgdGhpcy5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIHRoaXMucmVhZGluZyA9IGZhbHNlO1xuXG4gIC8vIGEgZmxhZyB0byBiZSBhYmxlIHRvIHRlbGwgaWYgdGhlIGV2ZW50ICdyZWFkYWJsZScvJ2RhdGEnIGlzIGVtaXR0ZWRcbiAgLy8gaW1tZWRpYXRlbHksIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2VcbiAgLy8gYW55IGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsIFwibGF0ZXJcIiBzaG91bGQgZ2VuZXJhbGx5IGFsc29cbiAgLy8gbm90IGhhcHBlbiBiZWZvcmUgdGhlIGZpcnN0IHJlYWQgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyB3aGVuZXZlciB3ZSByZXR1cm4gbnVsbCwgdGhlbiB3ZSBzZXQgYSBmbGFnIHRvIHNheVxuICAvLyB0aGF0IHdlJ3JlIGF3YWl0aW5nIGEgJ3JlYWRhYmxlJyBldmVudCBlbWlzc2lvbi5cbiAgdGhpcy5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5yZWFkYWJsZUxpc3RlbmluZyA9IGZhbHNlO1xuICB0aGlzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICB0aGlzLnBhdXNlZCA9IHRydWU7XG5cbiAgLy8gU2hvdWxkIGNsb3NlIGJlIGVtaXR0ZWQgb24gZGVzdHJveS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgdGhpcy5lbWl0Q2xvc2UgPSBvcHRpb25zLmVtaXRDbG9zZSAhPT0gZmFsc2U7XG5cbiAgLy8gU2hvdWxkIC5kZXN0cm95KCkgYmUgY2FsbGVkIGFmdGVyICdlbmQnIChhbmQgcG90ZW50aWFsbHkgJ2ZpbmlzaCcpXG4gIHRoaXMuYXV0b0Rlc3Ryb3kgPSAhIW9wdGlvbnMuYXV0b0Rlc3Ryb3k7XG5cbiAgLy8gaGFzIGl0IGJlZW4gZGVzdHJveWVkXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZ1xuICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7XG5cbiAgLy8gdGhlIG51bWJlciBvZiB3cml0ZXJzIHRoYXQgYXJlIGF3YWl0aW5nIGEgZHJhaW4gZXZlbnQgaW4gLnBpcGUoKXNcbiAgdGhpcy5hd2FpdERyYWluID0gMDtcblxuICAvLyBpZiB0cnVlLCBhIG1heWJlUmVhZE1vcmUgaGFzIGJlZW4gc2NoZWR1bGVkXG4gIHRoaXMucmVhZGluZ01vcmUgPSBmYWxzZTtcbiAgdGhpcy5kZWNvZGVyID0gbnVsbDtcbiAgdGhpcy5lbmNvZGluZyA9IG51bGw7XG4gIGlmIChvcHRpb25zLmVuY29kaW5nKSB7XG4gICAgaWYgKCFTdHJpbmdEZWNvZGVyKSBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXIvJykuU3RyaW5nRGVjb2RlcjtcbiAgICB0aGlzLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihvcHRpb25zLmVuY29kaW5nKTtcbiAgICB0aGlzLmVuY29kaW5nID0gb3B0aW9ucy5lbmNvZGluZztcbiAgfVxufVxuZnVuY3Rpb24gUmVhZGFibGUob3B0aW9ucykge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVhZGFibGUpKSByZXR1cm4gbmV3IFJlYWRhYmxlKG9wdGlvbnMpO1xuXG4gIC8vIENoZWNraW5nIGZvciBhIFN0cmVhbS5EdXBsZXggaW5zdGFuY2UgaXMgZmFzdGVyIGhlcmUgaW5zdGVhZCBvZiBpbnNpZGVcbiAgLy8gdGhlIFJlYWRhYmxlU3RhdGUgY29uc3RydWN0b3IsIGF0IGxlYXN0IHdpdGggVjggNi41XG4gIHZhciBpc0R1cGxleCA9IHRoaXMgaW5zdGFuY2VvZiBEdXBsZXg7XG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUgPSBuZXcgUmVhZGFibGVTdGF0ZShvcHRpb25zLCB0aGlzLCBpc0R1cGxleCk7XG5cbiAgLy8gbGVnYWN5XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWFkID09PSAnZnVuY3Rpb24nKSB0aGlzLl9yZWFkID0gb3B0aW9ucy5yZWFkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICB9XG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblJlYWRhYmxlLnByb3RvdHlwZS5kZXN0cm95ID0gZGVzdHJveUltcGwuZGVzdHJveTtcblJlYWRhYmxlLnByb3RvdHlwZS5fdW5kZXN0cm95ID0gZGVzdHJveUltcGwudW5kZXN0cm95O1xuUmVhZGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07XG5cbi8vIE1hbnVhbGx5IHNob3ZlIHNvbWV0aGluZyBpbnRvIHRoZSByZWFkKCkgYnVmZmVyLlxuLy8gVGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGhpZ2hXYXRlck1hcmsgaGFzIG5vdCBiZWVuIGhpdCB5ZXQsXG4vLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkXG4vLyB3cml0ZSgpIHNvbWUgbW9yZS5cblJlYWRhYmxlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgc2tpcENodW5rQ2hlY2s7XG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuY29kaW5nIHx8IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcbiAgICAgIGlmIChlbmNvZGluZyAhPT0gc3RhdGUuZW5jb2RpbmcpIHtcbiAgICAgICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgICBlbmNvZGluZyA9ICcnO1xuICAgICAgfVxuICAgICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBza2lwQ2h1bmtDaGVjayA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIGVuY29kaW5nLCBmYWxzZSwgc2tpcENodW5rQ2hlY2spO1xufTtcblxuLy8gVW5zaGlmdCBzaG91bGQgKmFsd2F5cyogYmUgc29tZXRoaW5nIGRpcmVjdGx5IG91dCBvZiByZWFkKClcblJlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHJldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsIGNodW5rLCBudWxsLCB0cnVlLCBmYWxzZSk7XG59O1xuZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sIGNodW5rLCBlbmNvZGluZywgYWRkVG9Gcm9udCwgc2tpcENodW5rQ2hlY2spIHtcbiAgZGVidWcoJ3JlYWRhYmxlQWRkQ2h1bmsnLCBjaHVuayk7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgaWYgKGNodW5rID09PSBudWxsKSB7XG4gICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGVyO1xuICAgIGlmICghc2tpcENodW5rQ2hlY2spIGVyID0gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuayk7XG4gICAgaWYgKGVyKSB7XG4gICAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsgJiYgY2h1bmsubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgIXN0YXRlLm9iamVjdE1vZGUgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGNodW5rKSAhPT0gQnVmZmVyLnByb3RvdHlwZSkge1xuICAgICAgICBjaHVuayA9IF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFRvRnJvbnQpIHtcbiAgICAgICAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgbmV3IEVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQoKSk7ZWxzZSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZGVkKSB7XG4gICAgICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgbmV3IEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YoKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmRlc3Ryb3llZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFlbmNvZGluZykge1xuICAgICAgICAgIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG4gICAgICAgICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsubGVuZ3RoICE9PSAwKSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO2Vsc2UgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghYWRkVG9Gcm9udCkge1xuICAgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgICAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBXZSBjYW4gcHVzaCBtb3JlIGRhdGEgaWYgd2UgYXJlIGJlbG93IHRoZSBoaWdoV2F0ZXJNYXJrLlxuICAvLyBBbHNvLCBpZiB3ZSBoYXZlIG5vIGRhdGEgeWV0LCB3ZSBjYW4gc3RhbmQgc29tZSBtb3JlIGJ5dGVzLlxuICAvLyBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLCBzdWNoIGFzIHRoZSByZXBsLlxuICByZXR1cm4gIXN0YXRlLmVuZGVkICYmIChzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgYWRkVG9Gcm9udCkge1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuICAgIGlmIChzdGF0ZS5uZWVkUmVhZGFibGUpIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xuICB9XG4gIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5mdW5jdGlvbiBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKSB7XG4gIHZhciBlcjtcbiAgaWYgKCFfaXNVaW50OEFycmF5KGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgnY2h1bmsnLCBbJ3N0cmluZycsICdCdWZmZXInLCAnVWludDhBcnJheSddLCBjaHVuayk7XG4gIH1cbiAgcmV0dXJuIGVyO1xufVxuUmVhZGFibGUucHJvdG90eXBlLmlzUGF1c2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID09PSBmYWxzZTtcbn07XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykge1xuICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICB2YXIgZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKGVuYyk7XG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2RlciA9IGRlY29kZXI7XG4gIC8vIElmIHNldEVuY29kaW5nKG51bGwpLCBkZWNvZGVyLmVuY29kaW5nIGVxdWFscyB1dGY4XG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2RpbmcgPSB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIuZW5jb2Rpbmc7XG5cbiAgLy8gSXRlcmF0ZSBvdmVyIGN1cnJlbnQgYnVmZmVyIHRvIGNvbnZlcnQgYWxyZWFkeSBzdG9yZWQgQnVmZmVyczpcbiAgdmFyIHAgPSB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5oZWFkO1xuICB2YXIgY29udGVudCA9ICcnO1xuICB3aGlsZSAocCAhPT0gbnVsbCkge1xuICAgIGNvbnRlbnQgKz0gZGVjb2Rlci53cml0ZShwLmRhdGEpO1xuICAgIHAgPSBwLm5leHQ7XG4gIH1cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIuY2xlYXIoKTtcbiAgaWYgKGNvbnRlbnQgIT09ICcnKSB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5wdXNoKGNvbnRlbnQpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aCA9IGNvbnRlbnQubGVuZ3RoO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIERvbid0IHJhaXNlIHRoZSBod20gPiAxR0JcbnZhciBNQVhfSFdNID0gMHg0MDAwMDAwMDtcbmZ1bmN0aW9uIGNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pIHtcbiAgaWYgKG4gPj0gTUFYX0hXTSkge1xuICAgIC8vIFRPRE8ocm9uYWcpOiBUaHJvdyBFUlJfVkFMVUVfT1VUX09GX1JBTkdFLlxuICAgIG4gPSBNQVhfSFdNO1xuICB9IGVsc2Uge1xuICAgIC8vIEdldCB0aGUgbmV4dCBoaWdoZXN0IHBvd2VyIG9mIDIgdG8gcHJldmVudCBpbmNyZWFzaW5nIGh3bSBleGNlc3NpdmVseSBpblxuICAgIC8vIHRpbnkgYW1vdW50c1xuICAgIG4tLTtcbiAgICBuIHw9IG4gPj4+IDE7XG4gICAgbiB8PSBuID4+PiAyO1xuICAgIG4gfD0gbiA+Pj4gNDtcbiAgICBuIHw9IG4gPj4+IDg7XG4gICAgbiB8PSBuID4+PiAxNjtcbiAgICBuKys7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSkge1xuICBpZiAobiA8PSAwIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgcmV0dXJuIDA7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXR1cm4gMTtcbiAgaWYgKG4gIT09IG4pIHtcbiAgICAvLyBPbmx5IGZsb3cgb25lIGJ1ZmZlciBhdCBhIHRpbWVcbiAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGgpIHJldHVybiBzdGF0ZS5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDtlbHNlIHJldHVybiBzdGF0ZS5sZW5ndGg7XG4gIH1cbiAgLy8gSWYgd2UncmUgYXNraW5nIGZvciBtb3JlIHRoYW4gdGhlIGN1cnJlbnQgaHdtLCB0aGVuIHJhaXNlIHRoZSBod20uXG4gIGlmIChuID4gc3RhdGUuaGlnaFdhdGVyTWFyaykgc3RhdGUuaGlnaFdhdGVyTWFyayA9IGNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pO1xuICBpZiAobiA8PSBzdGF0ZS5sZW5ndGgpIHJldHVybiBuO1xuICAvLyBEb24ndCBoYXZlIGVub3VnaFxuICBpZiAoIXN0YXRlLmVuZGVkKSB7XG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gc3RhdGUubGVuZ3RoO1xufVxuXG4vLyB5b3UgY2FuIG92ZXJyaWRlIGVpdGhlciB0aGlzIG1ldGhvZCwgb3IgdGhlIGFzeW5jIF9yZWFkKG4pIGJlbG93LlxuUmVhZGFibGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobikge1xuICBkZWJ1ZygncmVhZCcsIG4pO1xuICBuID0gcGFyc2VJbnQobiwgMTApO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgbk9yaWcgPSBuO1xuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG5cbiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKChzdGF0ZS5oaWdoV2F0ZXJNYXJrICE9PSAwID8gc3RhdGUubGVuZ3RoID49IHN0YXRlLmhpZ2hXYXRlck1hcmsgOiBzdGF0ZS5sZW5ndGggPiAwKSB8fCBzdGF0ZS5lbmRlZCkpIHtcbiAgICBkZWJ1ZygncmVhZDogZW1pdFJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5lbmRlZCk7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7ZWxzZSBlbWl0UmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbiA9IGhvd011Y2hUb1JlYWQobiwgc3RhdGUpO1xuXG4gIC8vIGlmIHdlJ3ZlIGVuZGVkLCBhbmQgd2UncmUgbm93IGNsZWFyLCB0aGVuIGZpbmlzaCBpdCB1cC5cbiAgaWYgKG4gPT09IDAgJiYgc3RhdGUuZW5kZWQpIHtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSBlbmRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIEFsbCB0aGUgYWN0dWFsIGNodW5rIGdlbmVyYXRpb24gbG9naWMgbmVlZHMgdG8gYmVcbiAgLy8gKmJlbG93KiB0aGUgY2FsbCB0byBfcmVhZC4gIFRoZSByZWFzb24gaXMgdGhhdCBpbiBjZXJ0YWluXG4gIC8vIHN5bnRoZXRpYyBzdHJlYW0gY2FzZXMsIHN1Y2ggYXMgcGFzc3Rocm91Z2ggc3RyZWFtcywgX3JlYWRcbiAgLy8gbWF5IGJlIGEgY29tcGxldGVseSBzeW5jaHJvbm91cyBvcGVyYXRpb24gd2hpY2ggbWF5IGNoYW5nZVxuICAvLyB0aGUgc3RhdGUgb2YgdGhlIHJlYWQgYnVmZmVyLCBwcm92aWRpbmcgZW5vdWdoIGRhdGEgd2hlblxuICAvLyBiZWZvcmUgdGhlcmUgd2FzICpub3QqIGVub3VnaC5cbiAgLy9cbiAgLy8gU28sIHRoZSBzdGVwcyBhcmU6XG4gIC8vIDEuIEZpZ3VyZSBvdXQgd2hhdCB0aGUgc3RhdGUgb2YgdGhpbmdzIHdpbGwgYmUgYWZ0ZXIgd2UgZG9cbiAgLy8gYSByZWFkIGZyb20gdGhlIGJ1ZmZlci5cbiAgLy9cbiAgLy8gMi4gSWYgdGhhdCByZXN1bHRpbmcgc3RhdGUgd2lsbCB0cmlnZ2VyIGEgX3JlYWQsIHRoZW4gY2FsbCBfcmVhZC5cbiAgLy8gTm90ZSB0aGF0IHRoaXMgbWF5IGJlIGFzeW5jaHJvbm91cywgb3Igc3luY2hyb25vdXMuICBZZXMsIGl0IGlzXG4gIC8vIGRlZXBseSB1Z2x5IHRvIHdyaXRlIEFQSXMgdGhpcyB3YXksIGJ1dCB0aGF0IHN0aWxsIGRvZXNuJ3QgbWVhblxuICAvLyB0aGF0IHRoZSBSZWFkYWJsZSBjbGFzcyBzaG91bGQgYmVoYXZlIGltcHJvcGVybHksIGFzIHN0cmVhbXMgYXJlXG4gIC8vIGRlc2lnbmVkIHRvIGJlIHN5bmMvYXN5bmMgYWdub3N0aWMuXG4gIC8vIFRha2Ugbm90ZSBpZiB0aGUgX3JlYWQgY2FsbCBpcyBzeW5jIG9yIGFzeW5jIChpZSwgaWYgdGhlIHJlYWQgY2FsbFxuICAvLyBoYXMgcmV0dXJuZWQgeWV0KSwgc28gdGhhdCB3ZSBrbm93IHdoZXRoZXIgb3Igbm90IGl0J3Mgc2FmZSB0byBlbWl0XG4gIC8vICdyZWFkYWJsZScgZXRjLlxuICAvL1xuICAvLyAzLiBBY3R1YWxseSBwdWxsIHRoZSByZXF1ZXN0ZWQgY2h1bmtzIG91dCBvZiB0aGUgYnVmZmVyIGFuZCByZXR1cm4uXG5cbiAgLy8gaWYgd2UgbmVlZCBhIHJlYWRhYmxlIGV2ZW50LCB0aGVuIHdlIG5lZWQgdG8gZG8gc29tZSByZWFkaW5nLlxuICB2YXIgZG9SZWFkID0gc3RhdGUubmVlZFJlYWRhYmxlO1xuICBkZWJ1ZygnbmVlZCByZWFkYWJsZScsIGRvUmVhZCk7XG5cbiAgLy8gaWYgd2UgY3VycmVudGx5IGhhdmUgbGVzcyB0aGFuIHRoZSBoaWdoV2F0ZXJNYXJrLCB0aGVuIGFsc28gcmVhZCBzb21lXG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgfHwgc3RhdGUubGVuZ3RoIC0gbiA8IHN0YXRlLmhpZ2hXYXRlck1hcmspIHtcbiAgICBkb1JlYWQgPSB0cnVlO1xuICAgIGRlYnVnKCdsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFyaycsIGRvUmVhZCk7XG4gIH1cblxuICAvLyBob3dldmVyLCBpZiB3ZSd2ZSBlbmRlZCwgdGhlbiB0aGVyZSdzIG5vIHBvaW50LCBhbmQgaWYgd2UncmUgYWxyZWFkeVxuICAvLyByZWFkaW5nLCB0aGVuIGl0J3MgdW5uZWNlc3NhcnkuXG4gIGlmIChzdGF0ZS5lbmRlZCB8fCBzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZG9SZWFkID0gZmFsc2U7XG4gICAgZGVidWcoJ3JlYWRpbmcgb3IgZW5kZWQnLCBkb1JlYWQpO1xuICB9IGVsc2UgaWYgKGRvUmVhZCkge1xuICAgIGRlYnVnKCdkbyByZWFkJyk7XG4gICAgc3RhdGUucmVhZGluZyA9IHRydWU7XG4gICAgc3RhdGUuc3luYyA9IHRydWU7XG4gICAgLy8gaWYgdGhlIGxlbmd0aCBpcyBjdXJyZW50bHkgemVybywgdGhlbiB3ZSAqbmVlZCogYSByZWFkYWJsZSBldmVudC5cbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIC8vIGNhbGwgaW50ZXJuYWwgcmVhZCBtZXRob2RcbiAgICB0aGlzLl9yZWFkKHN0YXRlLmhpZ2hXYXRlck1hcmspO1xuICAgIHN0YXRlLnN5bmMgPSBmYWxzZTtcbiAgICAvLyBJZiBfcmVhZCBwdXNoZWQgZGF0YSBzeW5jaHJvbm91c2x5LCB0aGVuIGByZWFkaW5nYCB3aWxsIGJlIGZhbHNlLFxuICAgIC8vIGFuZCB3ZSBuZWVkIHRvIHJlLWV2YWx1YXRlIGhvdyBtdWNoIGRhdGEgd2UgY2FuIHJldHVybiB0byB0aGUgdXNlci5cbiAgICBpZiAoIXN0YXRlLnJlYWRpbmcpIG4gPSBob3dNdWNoVG9SZWFkKG5PcmlnLCBzdGF0ZSk7XG4gIH1cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsO1xuICBpZiAocmV0ID09PSBudWxsKSB7XG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gc3RhdGUubGVuZ3RoIDw9IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gICAgbiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUubGVuZ3RoIC09IG47XG4gICAgc3RhdGUuYXdhaXREcmFpbiA9IDA7XG4gIH1cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cbiAgaWYgKHJldCAhPT0gbnVsbCkgdGhpcy5lbWl0KCdkYXRhJywgcmV0KTtcbiAgcmV0dXJuIHJldDtcbn07XG5mdW5jdGlvbiBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpIHtcbiAgZGVidWcoJ29uRW9mQ2h1bmsnKTtcbiAgaWYgKHN0YXRlLmVuZGVkKSByZXR1cm47XG4gIGlmIChzdGF0ZS5kZWNvZGVyKSB7XG4gICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgaWYgKHN0YXRlLnN5bmMpIHtcbiAgICAvLyBpZiB3ZSBhcmUgc3luYywgd2FpdCB1bnRpbCBuZXh0IHRpY2sgdG8gZW1pdCB0aGUgZGF0YS5cbiAgICAvLyBPdGhlcndpc2Ugd2UgcmlzayBlbWl0dGluZyBkYXRhIGluIHRoZSBmbG93KClcbiAgICAvLyB0aGUgcmVhZGFibGUgY29kZSB0cmlnZ2VycyBkdXJpbmcgYSByZWFkKCkgY2FsbFxuICAgIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xuICB9IGVsc2Uge1xuICAgIC8vIGVtaXQgJ3JlYWRhYmxlJyBub3cgdG8gbWFrZSBzdXJlIGl0IGdldHMgcGlja2VkIHVwLlxuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgZW1pdFJlYWRhYmxlXyhzdHJlYW0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBEb24ndCBlbWl0IHJlYWRhYmxlIHJpZ2h0IGF3YXkgaW4gc3luYyBtb2RlLCBiZWNhdXNlIHRoaXMgY2FuIHRyaWdnZXJcbi8vIGFub3RoZXIgcmVhZCgpIGNhbGwgPT4gc3RhY2sgb3ZlcmZsb3cuICBUaGlzIHdheSwgaXQgbWlnaHQgdHJpZ2dlclxuLy8gYSBuZXh0VGljayByZWN1cnNpb24gd2FybmluZywgYnV0IHRoYXQncyBub3Qgc28gYmFkLlxuZnVuY3Rpb24gZW1pdFJlYWRhYmxlKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5uZWVkUmVhZGFibGUsIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSk7XG4gIHN0YXRlLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICBpZiAoIXN0YXRlLmVtaXR0ZWRSZWFkYWJsZSkge1xuICAgIGRlYnVnKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5mbG93aW5nKTtcbiAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFJlYWRhYmxlXyhzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZW1pdFJlYWRhYmxlXycsIHN0YXRlLmRlc3Ryb3llZCwgc3RhdGUubGVuZ3RoLCBzdGF0ZS5lbmRlZCk7XG4gIGlmICghc3RhdGUuZGVzdHJveWVkICYmIChzdGF0ZS5sZW5ndGggfHwgc3RhdGUuZW5kZWQpKSB7XG4gICAgc3RyZWFtLmVtaXQoJ3JlYWRhYmxlJyk7XG4gICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gIH1cblxuICAvLyBUaGUgc3RyZWFtIG5lZWRzIGFub3RoZXIgcmVhZGFibGUgZXZlbnQgaWZcbiAgLy8gMS4gSXQgaXMgbm90IGZsb3dpbmcsIGFzIHRoZSBmbG93IG1lY2hhbmlzbSB3aWxsIHRha2VcbiAgLy8gICAgY2FyZSBvZiBpdC5cbiAgLy8gMi4gSXQgaXMgbm90IGVuZGVkLlxuICAvLyAzLiBJdCBpcyBiZWxvdyB0aGUgaGlnaFdhdGVyTWFyaywgc28gd2UgY2FuIHNjaGVkdWxlXG4gIC8vICAgIGFub3RoZXIgcmVhZGFibGUgbGF0ZXIuXG4gIHN0YXRlLm5lZWRSZWFkYWJsZSA9ICFzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5lbmRlZCAmJiBzdGF0ZS5sZW5ndGggPD0gc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgZmxvdyhzdHJlYW0pO1xufVxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2sobWF5YmVSZWFkTW9yZV8sIHN0cmVhbSwgc3RhdGUpO1xuICB9XG59XG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIC8vIEF0dGVtcHQgdG8gcmVhZCBtb3JlIGRhdGEgaWYgd2Ugc2hvdWxkLlxuICAvL1xuICAvLyBUaGUgY29uZGl0aW9ucyBmb3IgcmVhZGluZyBtb3JlIGRhdGEgYXJlIChvbmUgb2YpOlxuICAvLyAtIE5vdCBlbm91Z2ggZGF0YSBidWZmZXJlZCAoc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykuIFRoZSBsb29wXG4gIC8vICAgaXMgcmVzcG9uc2libGUgZm9yIGZpbGxpbmcgdGhlIGJ1ZmZlciB3aXRoIGVub3VnaCBkYXRhIGlmIHN1Y2ggZGF0YVxuICAvLyAgIGlzIGF2YWlsYWJsZS4gSWYgaGlnaFdhdGVyTWFyayBpcyAwIGFuZCB3ZSBhcmUgbm90IGluIHRoZSBmbG93aW5nIG1vZGVcbiAgLy8gICB3ZSBzaG91bGQgX25vdF8gYXR0ZW1wdCB0byBidWZmZXIgYW55IGV4dHJhIGRhdGEuIFdlJ2xsIGdldCBtb3JlIGRhdGFcbiAgLy8gICB3aGVuIHRoZSBzdHJlYW0gY29uc3VtZXIgY2FsbHMgcmVhZCgpIGluc3RlYWQuXG4gIC8vIC0gTm8gZGF0YSBpbiB0aGUgYnVmZmVyLCBhbmQgdGhlIHN0cmVhbSBpcyBpbiBmbG93aW5nIG1vZGUuIEluIHRoaXMgbW9kZVxuICAvLyAgIHRoZSBsb29wIGJlbG93IGlzIHJlc3BvbnNpYmxlIGZvciBlbnN1cmluZyByZWFkKCkgaXMgY2FsbGVkLiBGYWlsaW5nIHRvXG4gIC8vICAgY2FsbCByZWFkIGhlcmUgd291bGQgYWJvcnQgdGhlIGZsb3cgYW5kIHRoZXJlJ3Mgbm8gb3RoZXIgbWVjaGFuaXNtIGZvclxuICAvLyAgIGNvbnRpbnVpbmcgdGhlIGZsb3cgaWYgdGhlIHN0cmVhbSBjb25zdW1lciBoYXMganVzdCBzdWJzY3JpYmVkIHRvIHRoZVxuICAvLyAgICdkYXRhJyBldmVudC5cbiAgLy9cbiAgLy8gSW4gYWRkaXRpb24gdG8gdGhlIGFib3ZlIGNvbmRpdGlvbnMgdG8ga2VlcCByZWFkaW5nIGRhdGEsIHRoZSBmb2xsb3dpbmdcbiAgLy8gY29uZGl0aW9ucyBwcmV2ZW50IHRoZSBkYXRhIGZyb20gYmVpbmcgcmVhZDpcbiAgLy8gLSBUaGUgc3RyZWFtIGhhcyBlbmRlZCAoc3RhdGUuZW5kZWQpLlxuICAvLyAtIFRoZXJlIGlzIGFscmVhZHkgYSBwZW5kaW5nICdyZWFkJyBvcGVyYXRpb24gKHN0YXRlLnJlYWRpbmcpLiBUaGlzIGlzIGFcbiAgLy8gICBjYXNlIHdoZXJlIHRoZSB0aGUgc3RyZWFtIGhhcyBjYWxsZWQgdGhlIGltcGxlbWVudGF0aW9uIGRlZmluZWQgX3JlYWQoKVxuICAvLyAgIG1ldGhvZCwgYnV0IHRoZXkgYXJlIHByb2Nlc3NpbmcgdGhlIGNhbGwgYXN5bmNocm9ub3VzbHkgYW5kIGhhdmUgX25vdF9cbiAgLy8gICBjYWxsZWQgcHVzaCgpIHdpdGggbmV3IGRhdGEuIEluIHRoaXMgY2FzZSB3ZSBza2lwIHBlcmZvcm1pbmcgbW9yZVxuICAvLyAgIHJlYWQoKXMuIFRoZSBleGVjdXRpb24gZW5kcyBpbiB0aGlzIG1ldGhvZCBhZ2FpbiBhZnRlciB0aGUgX3JlYWQoKSBlbmRzXG4gIC8vICAgdXAgY2FsbGluZyBwdXNoKCkgd2l0aCBtb3JlIGRhdGEuXG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDApKSB7XG4gICAgdmFyIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgICBkZWJ1ZygnbWF5YmVSZWFkTW9yZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICBpZiAobGVuID09PSBzdGF0ZS5sZW5ndGgpXG4gICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBkYXRhLCBzdG9wIHNwaW5uaW5nLlxuICAgICAgYnJlYWs7XG4gIH1cbiAgc3RhdGUucmVhZGluZ01vcmUgPSBmYWxzZTtcbn1cblxuLy8gYWJzdHJhY3QgbWV0aG9kLiAgdG8gYmUgb3ZlcnJpZGRlbiBpbiBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gY2FsbCBjYihlciwgZGF0YSkgd2hlcmUgZGF0YSBpcyA8PSBuIGluIGxlbmd0aC5cbi8vIGZvciB2aXJ0dWFsIChub24tc3RyaW5nLCBub24tYnVmZmVyKSBzdHJlYW1zLCBcImxlbmd0aFwiIGlzIHNvbWV3aGF0XG4vLyBhcmJpdHJhcnksIGFuZCBwZXJoYXBzIG5vdCB2ZXJ5IG1lYW5pbmdmdWwuXG5SZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICBlcnJvck9yRGVzdHJveSh0aGlzLCBuZXcgRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQoJ19yZWFkKCknKSk7XG59O1xuUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoZGVzdCwgcGlwZU9wdHMpIHtcbiAgdmFyIHNyYyA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIHN0YXRlLnBpcGVzID0gW3N0YXRlLnBpcGVzLCBkZXN0XTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuICB2YXIgZG9FbmQgPSAoIXBpcGVPcHRzIHx8IHBpcGVPcHRzLmVuZCAhPT0gZmFsc2UpICYmIGRlc3QgIT09IHByb2Nlc3Muc3Rkb3V0ICYmIGRlc3QgIT09IHByb2Nlc3Muc3RkZXJyO1xuICB2YXIgZW5kRm4gPSBkb0VuZCA/IG9uZW5kIDogdW5waXBlO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgcHJvY2Vzcy5uZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuICBkZXN0Lm9uKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gIGZ1bmN0aW9uIG9udW5waXBlKHJlYWRhYmxlLCB1bnBpcGVJbmZvKSB7XG4gICAgZGVidWcoJ29udW5waXBlJyk7XG4gICAgaWYgKHJlYWRhYmxlID09PSBzcmMpIHtcbiAgICAgIGlmICh1bnBpcGVJbmZvICYmIHVucGlwZUluZm8uaGFzVW5waXBlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdW5waXBlSW5mby5oYXNVbnBpcGVkID0gdHJ1ZTtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9XG5cbiAgLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlclxuICAvLyBvbiB0aGUgc291cmNlLiAgVGhpcyB3b3VsZCBiZSBtb3JlIGVsZWdhbnQgd2l0aCBhIC5vbmNlKClcbiAgLy8gaGFuZGxlciBpbiBmbG93KCksIGJ1dCBhZGRpbmcgYW5kIHJlbW92aW5nIHJlcGVhdGVkbHkgaXNcbiAgLy8gdG9vIHNsb3cuXG4gIHZhciBvbmRyYWluID0gcGlwZU9uRHJhaW4oc3JjKTtcbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcbiAgdmFyIGNsZWFuZWRVcCA9IGZhbHNlO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIGRlYnVnKCdjbGVhbnVwJyk7XG4gICAgLy8gY2xlYW51cCBldmVudCBoYW5kbGVycyBvbmNlIHRoZSBwaXBlIGlzIGJyb2tlblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2RyYWluJywgb25kcmFpbik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCB1bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG4gICAgY2xlYW5lZFVwID0gdHJ1ZTtcblxuICAgIC8vIGlmIHRoZSByZWFkZXIgaXMgd2FpdGluZyBmb3IgYSBkcmFpbiBldmVudCBmcm9tIHRoaXNcbiAgICAvLyBzcGVjaWZpYyB3cml0ZXIsIHRoZW4gaXQgd291bGQgY2F1c2UgaXQgdG8gbmV2ZXIgc3RhcnRcbiAgICAvLyBmbG93aW5nIGFnYWluLlxuICAgIC8vIFNvLCBpZiB0aGlzIGlzIGF3YWl0aW5nIGEgZHJhaW4sIHRoZW4gd2UganVzdCBjYWxsIGl0IG5vdy5cbiAgICAvLyBJZiB3ZSBkb24ndCBrbm93LCB0aGVuIGFzc3VtZSB0aGF0IHdlIGFyZSB3YWl0aW5nIGZvciBvbmUuXG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4gJiYgKCFkZXN0Ll93cml0YWJsZVN0YXRlIHx8IGRlc3QuX3dyaXRhYmxlU3RhdGUubmVlZERyYWluKSkgb25kcmFpbigpO1xuICB9XG4gIHNyYy5vbignZGF0YScsIG9uZGF0YSk7XG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGRlYnVnKCdvbmRhdGEnKTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgZGVidWcoJ2Rlc3Qud3JpdGUnLCByZXQpO1xuICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciB1bnBpcGVkIGR1cmluZyBgZGVzdC53cml0ZSgpYCwgaXQgaXMgcG9zc2libGVcbiAgICAgIC8vIHRvIGdldCBzdHVjayBpbiBhIHBlcm1hbmVudGx5IHBhdXNlZCBzdGF0ZSBpZiB0aGF0IHdyaXRlXG4gICAgICAvLyBhbHNvIHJldHVybmVkIGZhbHNlLlxuICAgICAgLy8gPT4gQ2hlY2sgd2hldGhlciBgZGVzdGAgaXMgc3RpbGwgYSBwaXBpbmcgZGVzdGluYXRpb24uXG4gICAgICBpZiAoKHN0YXRlLnBpcGVzQ291bnQgPT09IDEgJiYgc3RhdGUucGlwZXMgPT09IGRlc3QgfHwgc3RhdGUucGlwZXNDb3VudCA+IDEgJiYgaW5kZXhPZihzdGF0ZS5waXBlcywgZGVzdCkgIT09IC0xKSAmJiAhY2xlYW5lZFVwKSB7XG4gICAgICAgIGRlYnVnKCdmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2UnLCBzdGF0ZS5hd2FpdERyYWluKTtcbiAgICAgICAgc3RhdGUuYXdhaXREcmFpbisrO1xuICAgICAgfVxuICAgICAgc3JjLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIGRlc3QgaGFzIGFuIGVycm9yLCB0aGVuIHN0b3AgcGlwaW5nIGludG8gaXQuXG4gIC8vIGhvd2V2ZXIsIGRvbid0IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvciBmb3IgdGhpcy5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGRlYnVnKCdvbmVycm9yJywgZXIpO1xuICAgIHVucGlwZSgpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgaWYgKEVFbGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZXJyb3JPckRlc3Ryb3koZGVzdCwgZXIpO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSB1c2VybGFuZCBvbmVzLlxuICBwcmVwZW5kTGlzdGVuZXIoZGVzdCwgJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgdW5waXBlKCk7XG4gIH1cbiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpO1xuICBmdW5jdGlvbiB1bnBpcGUoKSB7XG4gICAgZGVidWcoJ3VucGlwZScpO1xuICAgIHNyYy51bnBpcGUoZGVzdCk7XG4gIH1cblxuICAvLyB0ZWxsIHRoZSBkZXN0IHRoYXQgaXQncyBiZWluZyBwaXBlZCB0b1xuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpO1xuXG4gIC8vIHN0YXJ0IHRoZSBmbG93IGlmIGl0IGhhc24ndCBiZWVuIHN0YXJ0ZWQgYWxyZWFkeS5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG4gIHJldHVybiBkZXN0O1xufTtcbmZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykge1xuICByZXR1cm4gZnVuY3Rpb24gcGlwZU9uRHJhaW5GdW5jdGlvblJlc3VsdCgpIHtcbiAgICB2YXIgc3RhdGUgPSBzcmMuX3JlYWRhYmxlU3RhdGU7XG4gICAgZGVidWcoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBFRWxpc3RlbmVyQ291bnQoc3JjLCAnZGF0YScpKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5SZWFkYWJsZS5wcm90b3R5cGUudW5waXBlID0gZnVuY3Rpb24gKGRlc3QpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHVucGlwZUluZm8gPSB7XG4gICAgaGFzVW5waXBlZDogZmFsc2VcbiAgfTtcblxuICAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuXG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAwKSByZXR1cm4gdGhpcztcblxuICAvLyBqdXN0IG9uZSBkZXN0aW5hdGlvbi4gIG1vc3QgY29tbW9uIGNhc2UuXG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSB7XG4gICAgLy8gcGFzc2VkIGluIG9uZSwgYnV0IGl0J3Mgbm90IHRoZSByaWdodCBvbmUuXG4gICAgaWYgKGRlc3QgJiYgZGVzdCAhPT0gc3RhdGUucGlwZXMpIHJldHVybiB0aGlzO1xuICAgIGlmICghZGVzdCkgZGVzdCA9IHN0YXRlLnBpcGVzO1xuXG4gICAgLy8gZ290IGEgbWF0Y2guXG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICBpZiAoZGVzdCkgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHNsb3cgY2FzZS4gbXVsdGlwbGUgcGlwZSBkZXN0aW5hdGlvbnMuXG5cbiAgaWYgKCFkZXN0KSB7XG4gICAgLy8gcmVtb3ZlIGFsbC5cbiAgICB2YXIgZGVzdHMgPSBzdGF0ZS5waXBlcztcbiAgICB2YXIgbGVuID0gc3RhdGUucGlwZXNDb3VudDtcbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIGRlc3RzW2ldLmVtaXQoJ3VucGlwZScsIHRoaXMsIHtcbiAgICAgIGhhc1VucGlwZWQ6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLlxuICB2YXIgaW5kZXggPSBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KTtcbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIHRoaXM7XG4gIHN0YXRlLnBpcGVzLnNwbGljZShpbmRleCwgMSk7XG4gIHN0YXRlLnBpcGVzQ291bnQgLT0gMTtcbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHN0YXRlLnBpcGVzID0gc3RhdGUucGlwZXNbMF07XG4gIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcywgdW5waXBlSW5mbyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvclxuLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmdcblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoZXYgPT09ICdkYXRhJykge1xuICAgIC8vIHVwZGF0ZSByZWFkYWJsZUxpc3RlbmluZyBzbyB0aGF0IHJlc3VtZSgpIG1heSBiZSBhIG5vLW9wXG4gICAgLy8gYSBmZXcgbGluZXMgZG93bi4gVGhpcyBpcyBuZWVkZWQgdG8gc3VwcG9ydCBvbmNlKCdyZWFkYWJsZScpLlxuICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gdGhpcy5saXN0ZW5lckNvdW50KCdyZWFkYWJsZScpID4gMDtcblxuICAgIC8vIFRyeSBzdGFydCBmbG93aW5nIG9uIG5leHQgdGljayBpZiBzdHJlYW0gaXNuJ3QgZXhwbGljaXRseSBwYXVzZWRcbiAgICBpZiAoc3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nKSB7XG4gICAgICBzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZyA9IHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgICAgIGRlYnVnKCdvbiByZWFkYWJsZScsIHN0YXRlLmxlbmd0aCwgc3RhdGUucmVhZGluZyk7XG4gICAgICBpZiAoc3RhdGUubGVuZ3RoKSB7XG4gICAgICAgIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhuUmVhZGluZ05leHRUaWNrLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5SZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBSZWFkYWJsZS5wcm90b3R5cGUub247XG5SZWFkYWJsZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXYsIGZuKSB7XG4gIHZhciByZXMgPSBTdHJlYW0ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcywgZXYsIGZuKTtcbiAgaWYgKGV2ID09PSAncmVhZGFibGUnKSB7XG4gICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBpcyBzb21lb25lIHN0aWxsIGxpc3RlbmluZyB0b1xuICAgIC8vIHJlYWRhYmxlIGFuZCByZXNldCB0aGUgc3RhdGUuIEhvd2V2ZXIgdGhpcyBuZWVkcyB0byBoYXBwZW5cbiAgICAvLyBhZnRlciByZWFkYWJsZSBoYXMgYmVlbiBlbWl0dGVkIGJ1dCBiZWZvcmUgSS9PIChuZXh0VGljaykgdG9cbiAgICAvLyBzdXBwb3J0IG9uY2UoJ3JlYWRhYmxlJywgZm4pIGN5Y2xlcy4gVGhpcyBtZWFucyB0aGF0IGNhbGxpbmdcbiAgICAvLyByZXN1bWUgd2l0aGluIHRoZSBzYW1lIHRpY2sgd2lsbCBoYXZlIG5vXG4gICAgLy8gZWZmZWN0LlxuICAgIHByb2Nlc3MubmV4dFRpY2sodXBkYXRlUmVhZGFibGVMaXN0ZW5pbmcsIHRoaXMpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuUmVhZGFibGUucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgaWYgKGV2ID09PSAncmVhZGFibGUnIHx8IGV2ID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGlzIHNvbWVvbmUgc3RpbGwgbGlzdGVuaW5nIHRvXG4gICAgLy8gcmVhZGFibGUgYW5kIHJlc2V0IHRoZSBzdGF0ZS4gSG93ZXZlciB0aGlzIG5lZWRzIHRvIGhhcHBlblxuICAgIC8vIGFmdGVyIHJlYWRhYmxlIGhhcyBiZWVuIGVtaXR0ZWQgYnV0IGJlZm9yZSBJL08gKG5leHRUaWNrKSB0b1xuICAgIC8vIHN1cHBvcnQgb25jZSgncmVhZGFibGUnLCBmbikgY3ljbGVzLiBUaGlzIG1lYW5zIHRoYXQgY2FsbGluZ1xuICAgIC8vIHJlc3VtZSB3aXRoaW4gdGhlIHNhbWUgdGljayB3aWxsIGhhdmUgbm9cbiAgICAvLyBlZmZlY3QuXG4gICAgcHJvY2Vzcy5uZXh0VGljayh1cGRhdGVSZWFkYWJsZUxpc3RlbmluZywgdGhpcyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5mdW5jdGlvbiB1cGRhdGVSZWFkYWJsZUxpc3RlbmluZyhzZWxmKSB7XG4gIHZhciBzdGF0ZSA9IHNlbGYuX3JlYWRhYmxlU3RhdGU7XG4gIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc2VsZi5saXN0ZW5lckNvdW50KCdyZWFkYWJsZScpID4gMDtcbiAgaWYgKHN0YXRlLnJlc3VtZVNjaGVkdWxlZCAmJiAhc3RhdGUucGF1c2VkKSB7XG4gICAgLy8gZmxvd2luZyBuZWVkcyB0byBiZSBzZXQgdG8gdHJ1ZSBub3csIG90aGVyd2lzZVxuICAgIC8vIHRoZSB1cGNvbWluZyByZXN1bWUgd2lsbCBub3QgZmxvdy5cbiAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcblxuICAgIC8vIGNydWRlIHdheSB0byBjaGVjayBpZiB3ZSBzaG91bGQgcmVzdW1lXG4gIH0gZWxzZSBpZiAoc2VsZi5saXN0ZW5lckNvdW50KCdkYXRhJykgPiAwKSB7XG4gICAgc2VsZi5yZXN1bWUoKTtcbiAgfVxufVxuZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7XG4gIGRlYnVnKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTtcbiAgc2VsZi5yZWFkKDApO1xufVxuXG4vLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJXG4vLyBJZiB0aGUgdXNlciB1c2VzIHRoZW0sIHRoZW4gc3dpdGNoIGludG8gb2xkIG1vZGUuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncmVzdW1lJyk7XG4gICAgLy8gd2UgZmxvdyBvbmx5IGlmIHRoZXJlIGlzIG5vIG9uZSBsaXN0ZW5pbmdcbiAgICAvLyBmb3IgcmVhZGFibGUsIGJ1dCB3ZSBzdGlsbCBoYXZlIHRvIGNhbGxcbiAgICAvLyByZXN1bWUoKVxuICAgIHN0YXRlLmZsb3dpbmcgPSAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmc7XG4gICAgcmVzdW1lKHRoaXMsIHN0YXRlKTtcbiAgfVxuICBzdGF0ZS5wYXVzZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHtcbiAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2socmVzdW1lXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc3VtZV8oc3RyZWFtLCBzdGF0ZSkge1xuICBkZWJ1ZygncmVzdW1lJywgc3RhdGUucmVhZGluZyk7XG4gIGlmICghc3RhdGUucmVhZGluZykge1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICB9XG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdHJlYW0uZW1pdCgncmVzdW1lJyk7XG4gIGZsb3coc3RyZWFtKTtcbiAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLnJlYWRpbmcpIHN0cmVhbS5yZWFkKDApO1xufVxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5wYXVzZWQgPSB0cnVlO1xuICByZXR1cm4gdGhpcztcbn07XG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpO1xufVxuXG4vLyB3cmFwIGFuIG9sZC1zdHlsZSBzdHJlYW0gYXMgdGhlIGFzeW5jIGRhdGEgc291cmNlLlxuLy8gVGhpcyBpcyAqbm90KiBwYXJ0IG9mIHRoZSByZWFkYWJsZSBzdHJlYW0gaW50ZXJmYWNlLlxuLy8gSXQgaXMgYW4gdWdseSB1bmZvcnR1bmF0ZSBtZXNzIG9mIGhpc3RvcnkuXG5SZWFkYWJsZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHBhdXNlZCA9IGZhbHNlO1xuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBlbmQnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBfdGhpcy5wdXNoKGNodW5rKTtcbiAgICB9XG4gICAgX3RoaXMucHVzaChudWxsKTtcbiAgfSk7XG4gIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykge1xuICAgIGRlYnVnKCd3cmFwcGVkIGRhdGEnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtcblxuICAgIC8vIGRvbid0IHNraXAgb3ZlciBmYWxzeSB2YWx1ZXMgaW4gb2JqZWN0TW9kZVxuICAgIGlmIChzdGF0ZS5vYmplY3RNb2RlICYmIChjaHVuayA9PT0gbnVsbCB8fCBjaHVuayA9PT0gdW5kZWZpbmVkKSkgcmV0dXJuO2Vsc2UgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmICghY2h1bmsgfHwgIWNodW5rLmxlbmd0aCkpIHJldHVybjtcbiAgICB2YXIgcmV0ID0gX3RoaXMucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24gbWV0aG9kV3JhcChtZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG1ldGhvZFdyYXBSZXR1cm5GdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc3RyZWFtW21ldGhvZF0uYXBwbHkoc3RyZWFtLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfShpKTtcbiAgICB9XG4gIH1cblxuICAvLyBwcm94eSBjZXJ0YWluIGltcG9ydGFudCBldmVudHMuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwga1Byb3h5RXZlbnRzLmxlbmd0aDsgbisrKSB7XG4gICAgc3RyZWFtLm9uKGtQcm94eUV2ZW50c1tuXSwgdGhpcy5lbWl0LmJpbmQodGhpcywga1Byb3h5RXZlbnRzW25dKSk7XG4gIH1cblxuICAvLyB3aGVuIHdlIHRyeSB0byBjb25zdW1lIHNvbWUgbW9yZSBieXRlcywgc2ltcGx5IHVucGF1c2UgdGhlXG4gIC8vIHVuZGVybHlpbmcgc3RyZWFtLlxuICB0aGlzLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBfcmVhZCcsIG4pO1xuICAgIGlmIChwYXVzZWQpIHtcbiAgICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgICAgc3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVhZGFibGUucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9hc3luY19pdGVyYXRvcicpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yKHRoaXMpO1xuICB9O1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAncmVhZGFibGVCdWZmZXInLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlICYmIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdyZWFkYWJsZUZsb3dpbmcnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHN0YXRlKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9IHN0YXRlO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlTGVuZ3RoJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg7XG4gIH1cbn0pO1xuXG4vLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBmcm9tTGlzdChuLCBzdGF0ZSkge1xuICAvLyBub3RoaW5nIGJ1ZmZlcmVkXG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICB2YXIgcmV0O1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0ID0gc3RhdGUuYnVmZmVyLnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBzdGF0ZS5sZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGxpc3RcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgcmV0ID0gc3RhdGUuYnVmZmVyLmpvaW4oJycpO2Vsc2UgaWYgKHN0YXRlLmJ1ZmZlci5sZW5ndGggPT09IDEpIHJldCA9IHN0YXRlLmJ1ZmZlci5maXJzdCgpO2Vsc2UgcmV0ID0gc3RhdGUuYnVmZmVyLmNvbmNhdChzdGF0ZS5sZW5ndGgpO1xuICAgIHN0YXRlLmJ1ZmZlci5jbGVhcigpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlYWQgcGFydCBvZiBsaXN0XG4gICAgcmV0ID0gc3RhdGUuYnVmZmVyLmNvbnN1bWUobiwgc3RhdGUuZGVjb2Rlcik7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIGVuZFJlYWRhYmxlKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdlbmRSZWFkYWJsZScsIHN0YXRlLmVuZEVtaXR0ZWQpO1xuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhlbmRSZWFkYWJsZU5ULCBzdGF0ZSwgc3RyZWFtKTtcbiAgfVxufVxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIGRlYnVnKCdlbmRSZWFkYWJsZU5UJywgc3RhdGUuZW5kRW1pdHRlZCwgc3RhdGUubGVuZ3RoKTtcblxuICAvLyBDaGVjayB0aGF0IHdlIGRpZG4ndCBnZXQgb25lIGxhc3QgdW5zaGlmdC5cbiAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIHN0YXRlLmVuZEVtaXR0ZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5yZWFkYWJsZSA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdlbmQnKTtcbiAgICBpZiAoc3RhdGUuYXV0b0Rlc3Ryb3kpIHtcbiAgICAgIC8vIEluIGNhc2Ugb2YgZHVwbGV4IHN0cmVhbXMgd2UgbmVlZCBhIHdheSB0byBkZXRlY3RcbiAgICAgIC8vIGlmIHRoZSB3cml0YWJsZSBzaWRlIGlzIHJlYWR5IGZvciBhdXRvRGVzdHJveSBhcyB3ZWxsXG4gICAgICB2YXIgd1N0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICAgICAgaWYgKCF3U3RhdGUgfHwgd1N0YXRlLmF1dG9EZXN0cm95ICYmIHdTdGF0ZS5maW5pc2hlZCkge1xuICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVhZGFibGUuZnJvbSA9IGZ1bmN0aW9uIChpdGVyYWJsZSwgb3B0cykge1xuICAgIGlmIChmcm9tID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGZyb20gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvZnJvbScpO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbShSZWFkYWJsZSwgaXRlcmFibGUsIG9wdHMpO1xuICB9O1xufVxuZnVuY3Rpb24gaW5kZXhPZih4cywgeCkge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh4c1tpXSA9PT0geCkgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufSIsICIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSBkdXBsZXggc3RyZWFtIGlzIGp1c3QgYSBzdHJlYW0gdGhhdCBpcyBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZS5cbi8vIFNpbmNlIEpTIGRvZXNuJ3QgaGF2ZSBtdWx0aXBsZSBwcm90b3R5cGFsIGluaGVyaXRhbmNlLCB0aGlzIGNsYXNzXG4vLyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSBSZWFkYWJsZSwgYW5kIHRoZW4gcGFyYXNpdGljYWxseSBmcm9tXG4vLyBXcml0YWJsZS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICByZXR1cm4ga2V5cztcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxubW9kdWxlLmV4cG9ydHMgPSBEdXBsZXg7XG52YXIgUmVhZGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fcmVhZGFibGUnKTtcbnZhciBXcml0YWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV93cml0YWJsZScpO1xucmVxdWlyZSgnaW5oZXJpdHMnKShEdXBsZXgsIFJlYWRhYmxlKTtcbntcbiAgLy8gQWxsb3cgdGhlIGtleXMgYXJyYXkgdG8gYmUgR0MnZWQuXG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO1xuICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICB2YXIgbWV0aG9kID0ga2V5c1t2XTtcbiAgICBpZiAoIUR1cGxleC5wcm90b3R5cGVbbWV0aG9kXSkgRHVwbGV4LnByb3RvdHlwZVttZXRob2RdID0gV3JpdGFibGUucHJvdG90eXBlW21ldGhvZF07XG4gIH1cbn1cbmZ1bmN0aW9uIER1cGxleChvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEdXBsZXgpKSByZXR1cm4gbmV3IER1cGxleChvcHRpb25zKTtcbiAgUmVhZGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgV3JpdGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgdGhpcy5hbGxvd0hhbGZPcGVuID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpIHRoaXMucmVhZGFibGUgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy5hbGxvd0hhbGZPcGVuID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5hbGxvd0hhbGZPcGVuID0gZmFsc2U7XG4gICAgICB0aGlzLm9uY2UoJ2VuZCcsIG9uZW5kKTtcbiAgICB9XG4gIH1cbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnd3JpdGFibGVIaWdoV2F0ZXJNYXJrJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnd3JpdGFibGVCdWZmZXInLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyKCk7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KER1cGxleC5wcm90b3R5cGUsICd3cml0YWJsZUxlbmd0aCcsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RoO1xuICB9XG59KTtcblxuLy8gdGhlIG5vLWhhbGYtb3BlbiBlbmZvcmNlclxuZnVuY3Rpb24gb25lbmQoKSB7XG4gIC8vIElmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLCB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuO1xuXG4gIC8vIG5vIG1vcmUgZGF0YSBjYW4gYmUgd3JpdHRlbi5cbiAgLy8gQnV0IGFsbG93IG1vcmUgd3JpdGVzIHRvIGhhcHBlbiBpbiB0aGlzIHRpY2suXG4gIHByb2Nlc3MubmV4dFRpY2sob25FbmROVCwgdGhpcyk7XG59XG5mdW5jdGlvbiBvbkVuZE5UKHNlbGYpIHtcbiAgc2VsZi5lbmQoKTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhlIHVzZXIgaXMgZXhwbGljaXRseVxuICAgIC8vIG1hbmFnaW5nIGRlc3Ryb3llZFxuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBBIGJpdCBzaW1wbGVyIHRoYW4gcmVhZGFibGUgc3RyZWFtcy5cbi8vIEltcGxlbWVudCBhbiBhc3luYyAuX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpLCBhbmQgaXQnbGwgaGFuZGxlIGFsbFxuLy8gdGhlIGRyYWluIGV2ZW50IGVtaXNzaW9uIGFuZCBidWZmZXJpbmcuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBXcml0YWJsZTtcblxuLyogPHJlcGxhY2VtZW50PiAqL1xuZnVuY3Rpb24gV3JpdGVSZXEoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB0aGlzLmNodW5rID0gY2h1bms7XG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgdGhpcy5jYWxsYmFjayA9IGNiO1xuICB0aGlzLm5leHQgPSBudWxsO1xufVxuXG4vLyBJdCBzZWVtcyBhIGxpbmtlZCBsaXN0IGJ1dCBpdCBpcyBub3Rcbi8vIHRoZXJlIHdpbGwgYmUgb25seSAyIG9mIHRoZXNlIGZvciBlYWNoIHN0cmVhbVxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLm5leHQgPSBudWxsO1xuICB0aGlzLmVudHJ5ID0gbnVsbDtcbiAgdGhpcy5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgb25Db3JrZWRGaW5pc2goX3RoaXMsIHN0YXRlKTtcbiAgfTtcbn1cbi8qIDwvcmVwbGFjZW1lbnQ+ICovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbldyaXRhYmxlLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGludGVybmFsVXRpbCA9IHtcbiAgZGVwcmVjYXRlOiByZXF1aXJlKCd1dGlsLWRlcHJlY2F0ZScpXG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG52YXIgT3VyVWludDhBcnJheSA9ICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KS5VaW50OEFycmF5IHx8IGZ1bmN0aW9uICgpIHt9O1xuZnVuY3Rpb24gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuaykge1xuICByZXR1cm4gQnVmZmVyLmZyb20oY2h1bmspO1xufVxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG52YXIgZGVzdHJveUltcGwgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveScpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0YXRlJyksXG4gIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vZXJyb3JzJykuY29kZXMsXG4gIEVSUl9JTlZBTElEX0FSR19UWVBFID0gX3JlcXVpcmUkY29kZXMuRVJSX0lOVkFMSURfQVJHX1RZUEUsXG4gIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gIEVSUl9NVUxUSVBMRV9DQUxMQkFDSyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxcbiAgRVJSX1NUUkVBTV9DQU5OT1RfUElQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUsXG4gIEVSUl9TVFJFQU1fREVTVFJPWUVEID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9ERVNUUk9ZRUQsXG4gIEVSUl9TVFJFQU1fTlVMTF9WQUxVRVMgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX05VTExfVkFMVUVTLFxuICBFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5ELFxuICBFUlJfVU5LTk9XTl9FTkNPRElORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9VTktOT1dOX0VOQ09ESU5HO1xudmFyIGVycm9yT3JEZXN0cm95ID0gZGVzdHJveUltcGwuZXJyb3JPckRlc3Ryb3k7XG5yZXF1aXJlKCdpbmhlcml0cycpKFdyaXRhYmxlLCBTdHJlYW0pO1xuZnVuY3Rpb24gbm9wKCkge31cbmZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtLCBpc0R1cGxleCkge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbSxcbiAgLy8gZS5nLiBvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZSB2cy4gb3B0aW9ucy53cml0YWJsZU9iamVjdE1vZGUsIGV0Yy5cbiAgaWYgKHR5cGVvZiBpc0R1cGxleCAhPT0gJ2Jvb2xlYW4nKSBpc0R1cGxleCA9IHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcbiAgaWYgKGlzRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLndyaXRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZ2V0SGlnaFdhdGVyTWFyayh0aGlzLCBvcHRpb25zLCAnd3JpdGFibGVIaWdoV2F0ZXJNYXJrJywgaXNEdXBsZXgpO1xuXG4gIC8vIGlmIF9maW5hbCBoYXMgYmVlbiBjYWxsZWRcbiAgdGhpcy5maW5hbENhbGxlZCA9IGZhbHNlO1xuXG4gIC8vIGRyYWluIGV2ZW50IGZsYWcuXG4gIHRoaXMubmVlZERyYWluID0gZmFsc2U7XG4gIC8vIGF0IHRoZSBzdGFydCBvZiBjYWxsaW5nIGVuZCgpXG4gIHRoaXMuZW5kaW5nID0gZmFsc2U7XG4gIC8vIHdoZW4gZW5kKCkgaGFzIGJlZW4gY2FsbGVkLCBhbmQgcmV0dXJuZWRcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcbiAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIGhhcyBpdCBiZWVuIGRlc3Ryb3llZFxuICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuXG4gIC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cbiAgdmFyIG5vRGVjb2RlID0gb3B0aW9ucy5kZWNvZGVTdHJpbmdzID09PSBmYWxzZTtcbiAgdGhpcy5kZWNvZGVTdHJpbmdzID0gIW5vRGVjb2RlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG4gIHRoaXMubGVuZ3RoID0gMDtcblxuICAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuICB0aGlzLndyaXRpbmcgPSBmYWxzZTtcblxuICAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG4gIHRoaXMuY29ya2VkID0gMDtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuICB0aGlzLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG4gIHRoaXMub253cml0ZSA9IGZ1bmN0aW9uIChlcikge1xuICAgIG9ud3JpdGUoc3RyZWFtLCBlcik7XG4gIH07XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQgdGhlIHVzZXIgc3VwcGxpZXMgdG8gd3JpdGUoY2h1bmssZW5jb2RpbmcsY2IpXG4gIHRoaXMud3JpdGVjYiA9IG51bGw7XG5cbiAgLy8gdGhlIGFtb3VudCB0aGF0IGlzIGJlaW5nIHdyaXR0ZW4gd2hlbiBfd3JpdGUgaXMgY2FsbGVkLlxuICB0aGlzLndyaXRlbGVuID0gMDtcbiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuXG4gIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzXG4gIC8vIHRoaXMgbXVzdCBiZSAwIGJlZm9yZSAnZmluaXNoJyBjYW4gYmUgZW1pdHRlZFxuICB0aGlzLnBlbmRpbmdjYiA9IDA7XG5cbiAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNic1xuICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtc1xuICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW5cbiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcblxuICAvLyBTaG91bGQgY2xvc2UgYmUgZW1pdHRlZCBvbiBkZXN0cm95LiBEZWZhdWx0cyB0byB0cnVlLlxuICB0aGlzLmVtaXRDbG9zZSA9IG9wdGlvbnMuZW1pdENsb3NlICE9PSBmYWxzZTtcblxuICAvLyBTaG91bGQgLmRlc3Ryb3koKSBiZSBjYWxsZWQgYWZ0ZXIgJ2ZpbmlzaCcgKGFuZCBwb3RlbnRpYWxseSAnZW5kJylcbiAgdGhpcy5hdXRvRGVzdHJveSA9ICEhb3B0aW9ucy5hdXRvRGVzdHJveTtcblxuICAvLyBjb3VudCBidWZmZXJlZCByZXF1ZXN0c1xuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzXG4gIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d29cbiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTtcbn1cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuICB3aGlsZSAoY3VycmVudCkge1xuICAgIG91dC5wdXNoKGN1cnJlbnQpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgICAgIGdldDogaW50ZXJuYWxVdGlsLmRlcHJlY2F0ZShmdW5jdGlvbiB3cml0YWJsZVN0YXRlQnVmZmVyR2V0dGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTtcblxuLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG52YXIgcmVhbEhhc0luc3RhbmNlO1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUob2JqZWN0KSB7XG4gICAgICBpZiAocmVhbEhhc0luc3RhbmNlLmNhbGwodGhpcywgb2JqZWN0KSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcyAhPT0gV3JpdGFibGUpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gcmVhbEhhc0luc3RhbmNlKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuZnVuY3Rpb24gV3JpdGFibGUob3B0aW9ucykge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIC8vIFdyaXRhYmxlIGN0b3IgaXMgYXBwbGllZCB0byBEdXBsZXhlcywgdG9vLlxuICAvLyBgcmVhbEhhc0luc3RhbmNlYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB1c2luZyBwbGFpbiBgaW5zdGFuY2VvZmBcbiAgLy8gd291bGQgcmV0dXJuIGZhbHNlLCBhcyBubyBgX3dyaXRhYmxlU3RhdGVgIHByb3BlcnR5IGlzIGF0dGFjaGVkLlxuXG4gIC8vIFRyeWluZyB0byB1c2UgdGhlIGN1c3RvbSBgaW5zdGFuY2VvZmAgZm9yIFdyaXRhYmxlIGhlcmUgd2lsbCBhbHNvIGJyZWFrIHRoZVxuICAvLyBOb2RlLmpzIExhenlUcmFuc2Zvcm0gaW1wbGVtZW50YXRpb24sIHdoaWNoIGhhcyBhIG5vbi10cml2aWFsIGdldHRlciBmb3JcbiAgLy8gYF93cml0YWJsZVN0YXRlYCB0aGF0IHdvdWxkIGxlYWQgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxuXG4gIC8vIENoZWNraW5nIGZvciBhIFN0cmVhbS5EdXBsZXggaW5zdGFuY2UgaXMgZmFzdGVyIGhlcmUgaW5zdGVhZCBvZiBpbnNpZGVcbiAgLy8gdGhlIFdyaXRhYmxlU3RhdGUgY29uc3RydWN0b3IsIGF0IGxlYXN0IHdpdGggVjggNi41XG4gIHZhciBpc0R1cGxleCA9IHRoaXMgaW5zdGFuY2VvZiBEdXBsZXg7XG4gIGlmICghaXNEdXBsZXggJiYgIXJlYWxIYXNJbnN0YW5jZS5jYWxsKFdyaXRhYmxlLCB0aGlzKSkgcmV0dXJuIG5ldyBXcml0YWJsZShvcHRpb25zKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZSA9IG5ldyBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMsIGlzRHVwbGV4KTtcblxuICAvLyBsZWdhY3kuXG4gIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maW5hbCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmluYWwgPSBvcHRpb25zLmZpbmFsO1xuICB9XG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG4vLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgZXJyb3JPckRlc3Ryb3kodGhpcywgbmV3IEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUoKSk7XG59O1xuZnVuY3Rpb24gd3JpdGVBZnRlckVuZChzdHJlYW0sIGNiKSB7XG4gIHZhciBlciA9IG5ldyBFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCgpO1xuICAvLyBUT0RPOiBkZWZlciBlcnJvciBldmVudHMgY29uc2lzdGVudGx5IGV2ZXJ5d2hlcmUsIG5vdCBqdXN0IHRoZSBjYlxuICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgcHJvY2Vzcy5uZXh0VGljayhjYiwgZXIpO1xufVxuXG4vLyBDaGVja3MgdGhhdCBhIHVzZXItc3VwcGxpZWQgY2h1bmsgaXMgdmFsaWQsIGVzcGVjaWFsbHkgZm9yIHRoZSBwYXJ0aWN1bGFyXG4vLyBtb2RlIHRoZSBzdHJlYW0gaXMgaW4uIEN1cnJlbnRseSB0aGlzIG1lYW5zIHRoYXQgYG51bGxgIGlzIG5ldmVyIGFjY2VwdGVkXG4vLyBhbmQgdW5kZWZpbmVkL25vbi1zdHJpbmcgdmFsdWVzIGFyZSBvbmx5IGFsbG93ZWQgaW4gb2JqZWN0IG1vZGUuXG5mdW5jdGlvbiB2YWxpZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBjYikge1xuICB2YXIgZXI7XG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIGVyID0gbmV3IEVSUl9TVFJFQU1fTlVMTF9WQUxVRVMoKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ2NodW5rJywgWydzdHJpbmcnLCAnQnVmZmVyJ10sIGNodW5rKTtcbiAgfVxuICBpZiAoZXIpIHtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuV3JpdGFibGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHJldCA9IGZhbHNlO1xuICB2YXIgaXNCdWYgPSAhc3RhdGUub2JqZWN0TW9kZSAmJiBfaXNVaW50OEFycmF5KGNodW5rKTtcbiAgaWYgKGlzQnVmICYmICFCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSB7XG4gICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgfVxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cbiAgaWYgKGlzQnVmKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wO1xuICBpZiAoc3RhdGUuZW5kaW5nKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmIChpc0J1ZiB8fCB2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgaXNCdWYsIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkKys7XG59O1xuV3JpdGFibGUucHJvdG90eXBlLnVuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZC0tO1xuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykge1xuICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IEVSUl9VTktOT1dOX0VOQ09ESU5HKGVuY29kaW5nKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZztcbiAgcmV0dXJuIHRoaXM7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlQnVmZmVyJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpO1xuICB9XG59KTtcbmZ1bmN0aW9uIGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpIHtcbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cbiAgcmV0dXJuIGNodW5rO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGlmIHdlJ3JlIGFscmVhZHkgd3JpdGluZyBzb21ldGhpbmcsIHRoZW4ganVzdCBwdXQgdGhpc1xuLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGVcbi8vIElmIHdlIHJldHVybiBmYWxzZSwgdGhlbiB3ZSBuZWVkIGEgZHJhaW4gZXZlbnQsIHNvIHNldCB0aGF0IGZsYWcuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcbiAgICBpZiAoY2h1bmsgIT09IG5ld0NodW5rKSB7XG4gICAgICBpc0J1ZiA9IHRydWU7XG4gICAgICBlbmNvZGluZyA9ICdidWZmZXInO1xuICAgICAgY2h1bmsgPSBuZXdDaHVuaztcbiAgICB9XG4gIH1cbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICBzdGF0ZS5sZW5ndGggKz0gbGVuO1xuICB2YXIgcmV0ID0gc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgLy8gd2UgbXVzdCBlbnN1cmUgdGhhdCBwcmV2aW91cyBuZWVkRHJhaW4gd2lsbCBub3QgYmUgcmVzZXQgdG8gZmFsc2UuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuICBpZiAoc3RhdGUud3JpdGluZyB8fCBzdGF0ZS5jb3JrZWQpIHtcbiAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IHtcbiAgICAgIGNodW5rOiBjaHVuayxcbiAgICAgIGVuY29kaW5nOiBlbmNvZGluZyxcbiAgICAgIGlzQnVmOiBpc0J1ZixcbiAgICAgIGNhbGxiYWNrOiBjYixcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgd3JpdGV2LCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgc3RhdGUud3JpdGVsZW4gPSBsZW47XG4gIHN0YXRlLndyaXRlY2IgPSBjYjtcbiAgc3RhdGUud3JpdGluZyA9IHRydWU7XG4gIHN0YXRlLnN5bmMgPSB0cnVlO1xuICBpZiAoc3RhdGUuZGVzdHJveWVkKSBzdGF0ZS5vbndyaXRlKG5ldyBFUlJfU1RSRUFNX0RFU1RST1lFRCgnd3JpdGUnKSk7ZWxzZSBpZiAod3JpdGV2KSBzdHJlYW0uX3dyaXRldihjaHVuaywgc3RhdGUub253cml0ZSk7ZWxzZSBzdHJlYW0uX3dyaXRlKGNodW5rLCBlbmNvZGluZywgc3RhdGUub253cml0ZSk7XG4gIHN0YXRlLnN5bmMgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG4gIGlmIChzeW5jKSB7XG4gICAgLy8gZGVmZXIgdGhlIGNhbGxiYWNrIGlmIHdlIGFyZSBiZWluZyBjYWxsZWQgc3luY2hyb25vdXNseVxuICAgIC8vIHRvIGF2b2lkIHBpbGluZyB1cCB0aGluZ3Mgb24gdGhlIHN0YWNrXG4gICAgcHJvY2Vzcy5uZXh0VGljayhjYiwgZXIpO1xuICAgIC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBhbmQgaXQgd2lsbCBhbHdheXMgaGFwcGVuXG4gICAgLy8gYWZ0ZXIgZXJyb3JcbiAgICBwcm9jZXNzLm5leHRUaWNrKGZpbmlzaE1heWJlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB0aGUgY2FsbGVyIGV4cGVjdCB0aGlzIHRvIGhhcHBlbiBiZWZvcmUgaWZcbiAgICAvLyBpdCBpcyBhc3luY1xuICAgIGNiKGVyKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYnV0IGZpbmlzaCBtdXN0XG4gICAgLy8gYWx3YXlzIGZvbGxvdyBlcnJvclxuICAgIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICB9XG59XG5mdW5jdGlvbiBvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpIHtcbiAgc3RhdGUud3JpdGluZyA9IGZhbHNlO1xuICBzdGF0ZS53cml0ZWNiID0gbnVsbDtcbiAgc3RhdGUubGVuZ3RoIC09IHN0YXRlLndyaXRlbGVuO1xuICBzdGF0ZS53cml0ZWxlbiA9IDA7XG59XG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFUlJfTVVMVElQTEVfQ0FMTEJBQ0soKTtcbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpIHx8IHN0cmVhbS5kZXN0cm95ZWQ7XG4gICAgaWYgKCFmaW5pc2hlZCAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkge1xuICAgICAgY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChzeW5jKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGFmdGVyV3JpdGUsIHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufVxuXG4vLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cbmZ1bmN0aW9uIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUubmVlZERyYWluKSB7XG4gICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2RyYWluJyk7XG4gIH1cbn1cblxuLy8gaWYgdGhlcmUncyBzb21ldGhpbmcgaW4gdGhlIGJ1ZmZlciB3YWl0aW5nLCB0aGVuIHByb2Nlc3MgaXRcbmZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IHRydWU7XG4gIHZhciBlbnRyeSA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgaWYgKHN0cmVhbS5fd3JpdGV2ICYmIGVudHJ5ICYmIGVudHJ5Lm5leHQpIHtcbiAgICAvLyBGYXN0IGNhc2UsIHdyaXRlIGV2ZXJ5dGhpbmcgdXNpbmcgX3dyaXRldigpXG4gICAgdmFyIGwgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudDtcbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5KGwpO1xuICAgIHZhciBob2xkZXIgPSBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU7XG4gICAgaG9sZGVyLmVudHJ5ID0gZW50cnk7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB2YXIgYWxsQnVmZmVycyA9IHRydWU7XG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBidWZmZXJbY291bnRdID0gZW50cnk7XG4gICAgICBpZiAoIWVudHJ5LmlzQnVmKSBhbGxCdWZmZXJzID0gZmFsc2U7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cbiAgICBidWZmZXIuYWxsQnVmZmVycyA9IGFsbEJ1ZmZlcnM7XG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpO1xuXG4gICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWVcbiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGVcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBpZiAoaG9sZGVyLm5leHQpIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0O1xuICAgICAgaG9sZGVyLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQtLTtcbiAgICAgIC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG4gICAgICBpZiAoc3RhdGUud3JpdGluZykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudHJ5ID09PSBudWxsKSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgfVxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG5ldyBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCgnX3dyaXRlKCknKSk7XG59O1xuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZXYgPSBudWxsO1xuV3JpdGFibGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGNodW5rO1xuICAgIGNodW5rID0gbnVsbDtcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cbiAgaWYgKGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQpIHRoaXMud3JpdGUoY2h1bmssIGVuY29kaW5nKTtcblxuICAvLyAuZW5kKCkgZnVsbHkgdW5jb3Jrc1xuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkID0gMTtcbiAgICB0aGlzLnVuY29yaygpO1xuICB9XG5cbiAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLlxuICBpZiAoIXN0YXRlLmVuZGluZykgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlTGVuZ3RoJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5sZW5ndGg7XG4gIH1cbn0pO1xuZnVuY3Rpb24gbmVlZEZpbmlzaChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuZW5kaW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPT09IG51bGwgJiYgIXN0YXRlLmZpbmlzaGVkICYmICFzdGF0ZS53cml0aW5nO1xufVxuZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RyZWFtLl9maW5hbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiLS07XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBlcnIpO1xuICAgIH1cbiAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ3ByZWZpbmlzaCcpO1xuICAgIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucHJlZmluaXNoZWQgJiYgIXN0YXRlLmZpbmFsQ2FsbGVkKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJlYW0uX2ZpbmFsID09PSAnZnVuY3Rpb24nICYmICFzdGF0ZS5kZXN0cm95ZWQpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsRmluYWwsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBuZWVkID0gbmVlZEZpbmlzaChzdGF0ZSk7XG4gIGlmIChuZWVkKSB7XG4gICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpO1xuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcbiAgICAgIGlmIChzdGF0ZS5hdXRvRGVzdHJveSkge1xuICAgICAgICAvLyBJbiBjYXNlIG9mIGR1cGxleCBzdHJlYW1zIHdlIG5lZWQgYSB3YXkgdG8gZGV0ZWN0XG4gICAgICAgIC8vIGlmIHRoZSByZWFkYWJsZSBzaWRlIGlzIHJlYWR5IGZvciBhdXRvRGVzdHJveSBhcyB3ZWxsXG4gICAgICAgIHZhciByU3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgIGlmICghclN0YXRlIHx8IHJTdGF0ZS5hdXRvRGVzdHJveSAmJiByU3RhdGUuZW5kRW1pdHRlZCkge1xuICAgICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5lZWQ7XG59XG5mdW5jdGlvbiBlbmRXcml0YWJsZShzdHJlYW0sIHN0YXRlLCBjYikge1xuICBzdGF0ZS5lbmRpbmcgPSB0cnVlO1xuICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgaWYgKGNiKSB7XG4gICAgaWYgKHN0YXRlLmZpbmlzaGVkKSBwcm9jZXNzLm5leHRUaWNrKGNiKTtlbHNlIHN0cmVhbS5vbmNlKCdmaW5pc2gnLCBjYik7XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9uQ29ya2VkRmluaXNoKGNvcmtSZXEsIHN0YXRlLCBlcnIpIHtcbiAgdmFyIGVudHJ5ID0gY29ya1JlcS5lbnRyeTtcbiAgY29ya1JlcS5lbnRyeSA9IG51bGw7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgIHN0YXRlLnBlbmRpbmdjYi0tO1xuICAgIGNiKGVycik7XG4gICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICB9XG5cbiAgLy8gcmV1c2UgdGhlIGZyZWUgY29ya1JlcS5cbiAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcbldyaXRhYmxlLnByb3RvdHlwZS5kZXN0cm95ID0gZGVzdHJveUltcGwuZGVzdHJveTtcbldyaXRhYmxlLnByb3RvdHlwZS5fdW5kZXN0cm95ID0gZGVzdHJveUltcGwudW5kZXN0cm95O1xuV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07IiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyksXG4gICAgTEVWRUwgPSBfcmVxdWlyZS5MRVZFTDtcblxudmFyIFRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJy4vJyk7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBMZWdhY3lUcmFuc3BvcnRTdHJlYW0uIFRoaXMgaXMgYW4gaW50ZXJuYWxcbiAqIHdyYXBwZXIgYHdpbnN0b24gPj0gM2AgdXNlcyB0byB3cmFwIG9sZGVyIHRyYW5zcG9ydHMgaW1wbGVtZW50aW5nXG4gKiBsb2cobGV2ZWwsIG1lc3NhZ2UsIG1ldGEpLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGlzIFRyYW5zcG9ydFN0cmVhbSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7VHJhbnNwb3R9IG9wdGlvbnMudHJhbnNwb3J0IC0gd2luc3RvbkAyIG9yIG9sZGVyIFRyYW5zcG9ydCB0byB3cmFwLlxuICovXG5cbnZhciBMZWdhY3lUcmFuc3BvcnRTdHJlYW0gPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIExlZ2FjeVRyYW5zcG9ydFN0cmVhbSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gIFRyYW5zcG9ydFN0cmVhbS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICBpZiAoIW9wdGlvbnMudHJhbnNwb3J0IHx8IHR5cGVvZiBvcHRpb25zLnRyYW5zcG9ydC5sb2cgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHJhbnNwb3J0LCBtdXN0IGJlIGFuIG9iamVjdCB3aXRoIGEgbG9nIG1ldGhvZC4nKTtcbiAgfVxuXG4gIHRoaXMudHJhbnNwb3J0ID0gb3B0aW9ucy50cmFuc3BvcnQ7XG4gIHRoaXMubGV2ZWwgPSB0aGlzLmxldmVsIHx8IG9wdGlvbnMudHJhbnNwb3J0LmxldmVsO1xuICB0aGlzLmhhbmRsZUV4Y2VwdGlvbnMgPSB0aGlzLmhhbmRsZUV4Y2VwdGlvbnMgfHwgb3B0aW9ucy50cmFuc3BvcnQuaGFuZGxlRXhjZXB0aW9ucztcblxuICAvLyBEaXNwbGF5IG91ciBkZXByZWNhdGlvbiBub3RpY2UuXG4gIHRoaXMuX2RlcHJlY2F0ZWQoKTtcblxuICAvLyBQcm9wZXJseSBidWJibGUgdXAgZXJyb3JzIGZyb20gdGhlIHRyYW5zcG9ydCB0byB0aGVcbiAgLy8gTGVnYWN5VHJhbnNwb3J0U3RyZWFtIGluc3RhbmNlLCBidXQgb25seSBvbmNlIG5vIG1hdHRlciBob3cgbWFueSB0aW1lc1xuICAvLyB0aGlzIHRyYW5zcG9ydCBpcyBzaGFyZWQuXG4gIGZ1bmN0aW9uIHRyYW5zcG9ydEVycm9yKGVycikge1xuICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIsIHRoaXMudHJhbnNwb3J0KTtcbiAgfVxuXG4gIGlmICghdGhpcy50cmFuc3BvcnQuX193aW5zdG9uRXJyb3IpIHtcbiAgICB0aGlzLnRyYW5zcG9ydC5fX3dpbnN0b25FcnJvciA9IHRyYW5zcG9ydEVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy50cmFuc3BvcnQub24oJ2Vycm9yJywgdGhpcy50cmFuc3BvcnQuX193aW5zdG9uRXJyb3IpO1xuICB9XG59O1xuXG4vKlxuICogSW5oZXJpdCBmcm9tIFRyYW5zcG9ydFN0cmVhbSB1c2luZyBOb2RlLmpzIGJ1aWx0LWluc1xuICovXG51dGlsLmluaGVyaXRzKExlZ2FjeVRyYW5zcG9ydFN0cmVhbSwgVHJhbnNwb3J0U3RyZWFtKTtcblxuLyoqXG4gKiBXcml0ZXMgdGhlIGluZm8gb2JqZWN0IHRvIG91ciB0cmFuc3BvcnQgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge21peGVkfSBpbmZvIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICogQHBhcmFtIHttaXhlZH0gZW5jIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQHByaXZhdGVcbiAqL1xuTGVnYWN5VHJhbnNwb3J0U3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUoaW5mbywgZW5jLCBjYWxsYmFjaykge1xuICBpZiAodGhpcy5zaWxlbnQgfHwgaW5mby5leGNlcHRpb24gPT09IHRydWUgJiYgIXRoaXMuaGFuZGxlRXhjZXB0aW9ucykge1xuICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgfVxuXG4gIC8vIFJlbWFyazogVGhpcyBoYXMgdG8gYmUgaGFuZGxlZCBpbiB0aGUgYmFzZSB0cmFuc3BvcnQgbm93IGJlY2F1c2Ugd2VcbiAgLy8gY2Fubm90IGNvbmRpdGlvbmFsbHkgd3JpdGUgdG8gb3VyIHBpcGUgdGFyZ2V0cyBhcyBzdHJlYW0uXG4gIGlmICghdGhpcy5sZXZlbCB8fCB0aGlzLmxldmVsc1t0aGlzLmxldmVsXSA+PSB0aGlzLmxldmVsc1tpbmZvW0xFVkVMXV0pIHtcbiAgICB0aGlzLnRyYW5zcG9ydC5sb2coaW5mb1tMRVZFTF0sIGluZm8ubWVzc2FnZSwgaW5mbywgdGhpcy5fbm9wKTtcbiAgfVxuXG4gIGNhbGxiYWNrKG51bGwpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgdGhlIGJhdGNoIG9mIGluZm8gb2JqZWN0cyAoaS5lLiBcIm9iamVjdCBjaHVua3NcIikgdG8gb3VyIHRyYW5zcG9ydFxuICogaW5zdGFuY2UgYWZ0ZXIgcGVyZm9ybWluZyBhbnkgbmVjZXNzYXJ5IGZpbHRlcmluZy5cbiAqIEBwYXJhbSB7bWl4ZWR9IGNodW5rcyAtIFRPRE86IGFkZCBwYXJhbXMgZGVzY3JpcHRpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRPRE86IGFkZCBwYXJhbXMgZGVzY3JpcHRpb24uXG4gKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybnMgZGVzY3JpcHRpb24uXG4gKiBAcHJpdmF0ZVxuICovXG5MZWdhY3lUcmFuc3BvcnRTdHJlYW0ucHJvdG90eXBlLl93cml0ZXYgPSBmdW5jdGlvbiBfd3JpdGV2KGNodW5rcywgY2FsbGJhY2spIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcy5fYWNjZXB0KGNodW5rc1tpXSkpIHtcbiAgICAgIHRoaXMudHJhbnNwb3J0LmxvZyhjaHVua3NbaV0uY2h1bmtbTEVWRUxdLCBjaHVua3NbaV0uY2h1bmsubWVzc2FnZSwgY2h1bmtzW2ldLmNodW5rLCB0aGlzLl9ub3ApO1xuICAgICAgY2h1bmtzW2ldLmNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xufTtcblxuLyoqXG4gKiBEaXNwbGF5cyBhIGRlcHJlY2F0aW9uIG5vdGljZS4gRGVmaW5lZCBhcyBhIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZVxuICogb3ZlcnJpZGVuIGluIHRlc3RzLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuTGVnYWN5VHJhbnNwb3J0U3RyZWFtLnByb3RvdHlwZS5fZGVwcmVjYXRlZCA9IGZ1bmN0aW9uIF9kZXByZWNhdGVkKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLmVycm9yKFt0aGlzLnRyYW5zcG9ydC5uYW1lICsgJyBpcyBhIGxlZ2FjeSB3aW5zdG9uIHRyYW5zcG9ydC4gQ29uc2lkZXIgdXBncmFkaW5nOiAnLCAnLSBVcGdyYWRlIGRvY3M6IGh0dHBzOi8vZ2l0aHViLmNvbS93aW5zdG9uanMvd2luc3Rvbi9ibG9iL21hc3Rlci9VUEdSQURFLTMuMC5tZCddLmpvaW4oJ1xcbicpKTtcbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgZXJyb3IgaGFuZGxpbmcgc3RhdGUgb24gdGhlIGxlZ2FjeSB0cmFuc3BvcnQgYXNzb2NpYXRlZFxuICogd2l0aCB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuTGVnYWN5VHJhbnNwb3J0U3RyZWFtLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKCkge1xuICBpZiAodGhpcy50cmFuc3BvcnQuY2xvc2UpIHtcbiAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICB9XG5cbiAgaWYgKHRoaXMudHJhbnNwb3J0Ll9fd2luc3RvbkVycm9yKSB7XG4gICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgdGhpcy50cmFuc3BvcnQuX193aW5zdG9uRXJyb3IpO1xuICAgIHRoaXMudHJhbnNwb3J0Ll9fd2luc3RvbkVycm9yID0gbnVsbDtcbiAgfVxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbnZhciBXcml0YWJsZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICAgIExFVkVMID0gX3JlcXVpcmUuTEVWRUw7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBUcmFuc3BvcnRTdHJlYW0uIFRoaXMgaXMgdGhlIGJhc2UgcHJvdG90eXBlXG4gKiB0aGF0IGFsbCBgd2luc3RvbiA+PSAzYCB0cmFuc3BvcnRzIHNob3VsZCBpbmhlcml0IGZyb20uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoaXMgVHJhbnNwb3J0U3RyZWFtIGluc3RhbmNlXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5sZXZlbCAtIEhpZ2hlc3QgbGV2ZWwgYWNjb3JkaW5nIHRvIFJGQzU0MjQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuaGFuZGxlRXhjZXB0aW9ucyAtIElmIHRydWUsIGluZm8gd2l0aFxuICogeyBleGNlcHRpb246IHRydWUgfSB3aWxsIGJlIHdyaXR0ZW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmxvZyAtIEN1c3RvbSBsb2cgZnVuY3Rpb24gZm9yIHNpbXBsZSBUcmFuc3BvcnRcbiAqIGNyZWF0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmNsb3NlIC0gQ2FsbGVkIG9uIFwidW5waXBlXCIgZnJvbSBwYXJlbnQuXG4gKi9cblxuXG52YXIgVHJhbnNwb3J0U3RyZWFtID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBUcmFuc3BvcnRTdHJlYW0oKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gIFdyaXRhYmxlLmNhbGwodGhpcywgeyBvYmplY3RNb2RlOiB0cnVlLCBoaWdoV2F0ZXJNYXJrOiBvcHRpb25zLmhpZ2hXYXRlck1hcmsgfSk7XG5cbiAgdGhpcy5mb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcbiAgdGhpcy5sZXZlbCA9IG9wdGlvbnMubGV2ZWw7XG4gIHRoaXMuaGFuZGxlRXhjZXB0aW9ucyA9IG9wdGlvbnMuaGFuZGxlRXhjZXB0aW9ucztcbiAgdGhpcy5oYW5kbGVSZWplY3Rpb25zID0gb3B0aW9ucy5oYW5kbGVSZWplY3Rpb25zO1xuICB0aGlzLnNpbGVudCA9IG9wdGlvbnMuc2lsZW50O1xuXG4gIGlmIChvcHRpb25zLmxvZykgdGhpcy5sb2cgPSBvcHRpb25zLmxvZztcbiAgaWYgKG9wdGlvbnMubG9ndikgdGhpcy5sb2d2ID0gb3B0aW9ucy5sb2d2O1xuICBpZiAob3B0aW9ucy5jbG9zZSkgdGhpcy5jbG9zZSA9IG9wdGlvbnMuY2xvc2U7XG5cbiAgLy8gR2V0IHRoZSBsZXZlbHMgZnJvbSB0aGUgc291cmNlIHdlIGFyZSBwaXBlZCBmcm9tLlxuICB0aGlzLm9uY2UoJ3BpcGUnLCBmdW5jdGlvbiAobG9nZ2VyKSB7XG4gICAgLy8gUmVtYXJrIChpbmRleHplcm8pOiB0aGlzIGJvb2trZWVwaW5nIGNhbiBvbmx5IHN1cHBvcnQgbXVsdGlwbGVcbiAgICAvLyBMb2dnZXIgcGFyZW50cyB3aXRoIHRoZSBzYW1lIGBsZXZlbHNgLiBUaGlzIGNvbWVzIGludG8gcGxheSBpblxuICAgIC8vIHRoZSBgd2luc3Rvbi5Db250YWluZXJgIGNvZGUgaW4gd2hpY2ggYGNvbnRhaW5lci5hZGRgIHRha2VzXG4gICAgLy8gYSBmdWxseSByZWFsaXplZCBzZXQgb2Ygb3B0aW9ucyB3aXRoIHByZS1jb25zdHJ1Y3RlZCBUcmFuc3BvcnRTdHJlYW1zLlxuICAgIF90aGlzLmxldmVscyA9IGxvZ2dlci5sZXZlbHM7XG4gICAgX3RoaXMucGFyZW50ID0gbG9nZ2VyO1xuICB9KTtcblxuICAvLyBJZiBhbmQvb3Igd2hlbiB0aGUgdHJhbnNwb3J0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIGluc3RhbmNlXG4gIHRoaXMub25jZSgndW5waXBlJywgZnVuY3Rpb24gKHNyYykge1xuICAgIC8vIFJlbWFyayAoaW5kZXh6ZXJvKTogdGhpcyBib29ra2VlcGluZyBjYW4gb25seSBzdXBwb3J0IG11bHRpcGxlXG4gICAgLy8gTG9nZ2VyIHBhcmVudHMgd2l0aCB0aGUgc2FtZSBgbGV2ZWxzYC4gVGhpcyBjb21lcyBpbnRvIHBsYXkgaW5cbiAgICAvLyB0aGUgYHdpbnN0b24uQ29udGFpbmVyYCBjb2RlIGluIHdoaWNoIGBjb250YWluZXIuYWRkYCB0YWtlc1xuICAgIC8vIGEgZnVsbHkgcmVhbGl6ZWQgc2V0IG9mIG9wdGlvbnMgd2l0aCBwcmUtY29uc3RydWN0ZWQgVHJhbnNwb3J0U3RyZWFtcy5cbiAgICBpZiAoc3JjID09PSBfdGhpcy5wYXJlbnQpIHtcbiAgICAgIF90aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICBpZiAoX3RoaXMuY2xvc2UpIHtcbiAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuLypcbiAqIEluaGVyaXQgZnJvbSBXcml0ZWFibGUgdXNpbmcgTm9kZS5qcyBidWlsdC1pbnNcbiAqL1xudXRpbC5pbmhlcml0cyhUcmFuc3BvcnRTdHJlYW0sIFdyaXRhYmxlKTtcblxuLyoqXG4gKiBXcml0ZXMgdGhlIGluZm8gb2JqZWN0IHRvIG91ciB0cmFuc3BvcnQgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge21peGVkfSBpbmZvIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICogQHBhcmFtIHttaXhlZH0gZW5jIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQHByaXZhdGVcbiAqL1xuVHJhbnNwb3J0U3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUoaW5mbywgZW5jLCBjYWxsYmFjaykge1xuICBpZiAodGhpcy5zaWxlbnQgfHwgaW5mby5leGNlcHRpb24gPT09IHRydWUgJiYgIXRoaXMuaGFuZGxlRXhjZXB0aW9ucykge1xuICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgfVxuXG4gIC8vIFJlbWFyazogVGhpcyBoYXMgdG8gYmUgaGFuZGxlZCBpbiB0aGUgYmFzZSB0cmFuc3BvcnQgbm93IGJlY2F1c2Ugd2VcbiAgLy8gY2Fubm90IGNvbmRpdGlvbmFsbHkgd3JpdGUgdG8gb3VyIHBpcGUgdGFyZ2V0cyBhcyBzdHJlYW0uIFdlIGFsd2F5c1xuICAvLyBwcmVmZXIgYW55IGV4cGxpY2l0IGxldmVsIHNldCBvbiB0aGUgVHJhbnNwb3J0IGl0c2VsZiBmYWxsaW5nIGJhY2sgdG9cbiAgLy8gYW55IGxldmVsIHNldCBvbiB0aGUgcGFyZW50LlxuICB2YXIgbGV2ZWwgPSB0aGlzLmxldmVsIHx8IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmxldmVsO1xuXG4gIGlmICghbGV2ZWwgfHwgdGhpcy5sZXZlbHNbbGV2ZWxdID49IHRoaXMubGV2ZWxzW2luZm9bTEVWRUxdXSkge1xuICAgIGlmIChpbmZvICYmICF0aGlzLmZvcm1hdCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nKGluZm8sIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICB2YXIgZXJyU3RhdGUgPSB2b2lkIDA7XG4gICAgdmFyIHRyYW5zZm9ybWVkID0gdm9pZCAwO1xuXG4gICAgLy8gV2UgdHJhcChhbmQgcmUtdGhyb3cpIGFueSBlcnJvcnMgZ2VuZXJhdGVkIGJ5IHRoZSB1c2VyLXByb3ZpZGVkIGZvcm1hdCwgYnV0IGFsc29cbiAgICAvLyBndWFyYW50ZWUgdGhhdCB0aGUgc3RyZWFtcyBjYWxsYmFjayBpcyBpbnZva2VkIHNvIHRoYXQgd2UgY2FuIGNvbnRpbnVlIGZsb3dpbmcuXG4gICAgdHJ5IHtcbiAgICAgIHRyYW5zZm9ybWVkID0gdGhpcy5mb3JtYXQudHJhbnNmb3JtKE9iamVjdC5hc3NpZ24oe30sIGluZm8pLCB0aGlzLmZvcm1hdC5vcHRpb25zKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVyclN0YXRlID0gZXJyO1xuICAgIH1cblxuICAgIGlmIChlcnJTdGF0ZSB8fCAhdHJhbnNmb3JtZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYWxsYmFjay1yZXR1cm5cbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICBpZiAoZXJyU3RhdGUpIHRocm93IGVyclN0YXRlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmxvZyh0cmFuc2Zvcm1lZCwgY2FsbGJhY2spO1xuICB9XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUuc3luYyA9IGZhbHNlO1xuICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyB0aGUgYmF0Y2ggb2YgaW5mbyBvYmplY3RzIChpLmUuIFwib2JqZWN0IGNodW5rc1wiKSB0byBvdXIgdHJhbnNwb3J0XG4gKiBpbnN0YW5jZSBhZnRlciBwZXJmb3JtaW5nIGFueSBuZWNlc3NhcnkgZmlsdGVyaW5nLlxuICogQHBhcmFtIHttaXhlZH0gY2h1bmtzIC0gVE9ETzogYWRkIHBhcmFtcyBkZXNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVE9ETzogYWRkIHBhcmFtcyBkZXNjcmlwdGlvbi5cbiAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJucyBkZXNjcmlwdGlvbi5cbiAqIEBwcml2YXRlXG4gKi9cblRyYW5zcG9ydFN0cmVhbS5wcm90b3R5cGUuX3dyaXRldiA9IGZ1bmN0aW9uIF93cml0ZXYoY2h1bmtzLCBjYWxsYmFjaykge1xuICBpZiAodGhpcy5sb2d2KSB7XG4gICAgdmFyIGluZm9zID0gY2h1bmtzLmZpbHRlcih0aGlzLl9hY2NlcHQsIHRoaXMpO1xuICAgIGlmICghaW5mb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgfVxuXG4gICAgLy8gUmVtYXJrIChpbmRleHplcm8pOiBmcm9tIGEgcGVyZm9ybWFuY2UgcGVyc3BlY3RpdmUgaWYgVHJhbnNwb3J0XG4gICAgLy8gaW1wbGVtZW50ZXJzIGRvIGNob29zZSB0byBpbXBsZW1lbnQgbG9ndiBzaG91bGQgd2UgbWFrZSBpdCB0aGVpclxuICAgIC8vIHJlc3BvbnNpYmlsaXR5IHRvIGludm9rZSB0aGVpciBmb3JtYXQ/XG4gICAgcmV0dXJuIHRoaXMubG9ndihpbmZvcywgY2FsbGJhY2spO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXRoaXMuX2FjY2VwdChjaHVua3NbaV0pKSBjb250aW51ZTtcblxuICAgIGlmIChjaHVua3NbaV0uY2h1bmsgJiYgIXRoaXMuZm9ybWF0KSB7XG4gICAgICB0aGlzLmxvZyhjaHVua3NbaV0uY2h1bmssIGNodW5rc1tpXS5jYWxsYmFjayk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIgZXJyU3RhdGUgPSB2b2lkIDA7XG4gICAgdmFyIHRyYW5zZm9ybWVkID0gdm9pZCAwO1xuXG4gICAgLy8gV2UgdHJhcChhbmQgcmUtdGhyb3cpIGFueSBlcnJvcnMgZ2VuZXJhdGVkIGJ5IHRoZSB1c2VyLXByb3ZpZGVkIGZvcm1hdCwgYnV0IGFsc29cbiAgICAvLyBndWFyYW50ZWUgdGhhdCB0aGUgc3RyZWFtcyBjYWxsYmFjayBpcyBpbnZva2VkIHNvIHRoYXQgd2UgY2FuIGNvbnRpbnVlIGZsb3dpbmcuXG4gICAgdHJ5IHtcbiAgICAgIHRyYW5zZm9ybWVkID0gdGhpcy5mb3JtYXQudHJhbnNmb3JtKE9iamVjdC5hc3NpZ24oe30sIGNodW5rc1tpXS5jaHVuayksIHRoaXMuZm9ybWF0Lm9wdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyU3RhdGUgPSBlcnI7XG4gICAgfVxuXG4gICAgaWYgKGVyclN0YXRlIHx8ICF0cmFuc2Zvcm1lZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgY2h1bmtzW2ldLmNhbGxiYWNrKCk7XG4gICAgICBpZiAoZXJyU3RhdGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgdGhyb3cgZXJyU3RhdGU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nKHRyYW5zZm9ybWVkLCBjaHVua3NbaV0uY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjYWxsYmFjayhudWxsKTtcbn07XG5cbi8qKlxuICogUHJlZGljYXRlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjZmllZCBgaW5mb2Agb24gdGhlXG4gKiBXcml0ZVJlcSwgYHdyaXRlYCwgc2hvdWxkIGJlIHBhc3NlZCBkb3duIGludG8gdGhlIGRlcml2ZWRcbiAqIFRyYW5zcG9ydFN0cmVhbSdzIEkvTyB2aWEgYC5sb2coaW5mbywgY2FsbGJhY2spYC5cbiAqIEBwYXJhbSB7V3JpdGVSZXF9IHdyaXRlIC0gd2luc3RvbkAzIE5vZGUuanMgV3JpdGVSZXEgZm9yIHRoZSBgaW5mb2Agb2JqZWN0XG4gKiByZXByZXNlbnRpbmcgdGhlIGxvZyBtZXNzYWdlLlxuICogQHJldHVybnMge0Jvb2xlYW59IC0gVmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgYHdyaXRlYCBzaG91bGQgYmUgYWNjZXB0ZWQgJlxuICogbG9nZ2VkLlxuICovXG5UcmFuc3BvcnRTdHJlYW0ucHJvdG90eXBlLl9hY2NlcHQgPSBmdW5jdGlvbiBfYWNjZXB0KHdyaXRlKSB7XG4gIHZhciBpbmZvID0gd3JpdGUuY2h1bms7XG4gIGlmICh0aGlzLnNpbGVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFdlIGFsd2F5cyBwcmVmZXIgYW55IGV4cGxpY2l0IGxldmVsIHNldCBvbiB0aGUgVHJhbnNwb3J0IGl0c2VsZlxuICAvLyBmYWxsaW5nIGJhY2sgdG8gYW55IGxldmVsIHNldCBvbiB0aGUgcGFyZW50LlxuICB2YXIgbGV2ZWwgPSB0aGlzLmxldmVsIHx8IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmxldmVsO1xuXG4gIC8vIEltbWVkaWF0ZWx5IGNoZWNrIHRoZSBhdmVyYWdlIGNhc2U6IGxvZyBsZXZlbCBmaWx0ZXJpbmcuXG4gIGlmIChpbmZvLmV4Y2VwdGlvbiA9PT0gdHJ1ZSB8fCAhbGV2ZWwgfHwgdGhpcy5sZXZlbHNbbGV2ZWxdID49IHRoaXMubGV2ZWxzW2luZm9bTEVWRUxdXSkge1xuICAgIC8vIEVuc3VyZSB0aGUgaW5mbyBvYmplY3QgaXMgdmFsaWQgYmFzZWQgb24gYHsgZXhjZXB0aW9uIH1gOlxuICAgIC8vIDEuIHsgaGFuZGxlRXhjZXB0aW9uczogdHJ1ZSB9OiBhbGwgYGluZm9gIG9iamVjdHMgYXJlIHZhbGlkXG4gICAgLy8gMi4geyBleGNlcHRpb246IGZhbHNlIH06IGFjY2VwdGVkIGJ5IGFsbCB0cmFuc3BvcnRzLlxuICAgIGlmICh0aGlzLmhhbmRsZUV4Y2VwdGlvbnMgfHwgaW5mby5leGNlcHRpb24gIT09IHRydWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogX25vcCBpcyBzaG9ydCBmb3IgXCJObyBvcGVyYXRpb25cIlxuICogQHJldHVybnMge0Jvb2xlYW59IEludGVudGlvbmFsbHkgZmFsc2UuXG4gKi9cblRyYW5zcG9ydFN0cmVhbS5wcm90b3R5cGUuX25vcCA9IGZ1bmN0aW9uIF9ub3AoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZmluZWRcbiAgcmV0dXJuIHZvaWQgdW5kZWZpbmVkO1xufTtcblxuLy8gRXhwb3NlIGxlZ2FjeSBzdHJlYW1cbm1vZHVsZS5leHBvcnRzLkxlZ2FjeVRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJy4vbGVnYWN5Jyk7IiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbi8qXG4gKiBjb25zb2xlLmpzOiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gdGhlIGNvbnNvbGUuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxudmFyIG9zID0gcmVxdWlyZSgnb3MnKTtcbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyksXG4gIExFVkVMID0gX3JlcXVpcmUuTEVWRUwsXG4gIE1FU1NBR0UgPSBfcmVxdWlyZS5NRVNTQUdFO1xudmFyIFRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJ3dpbnN0b24tdHJhbnNwb3J0Jyk7XG5cbi8qKlxuICogVHJhbnNwb3J0IGZvciBvdXRwdXR0aW5nIHRvIHRoZSBjb25zb2xlLlxuICogQHR5cGUge0NvbnNvbGV9XG4gKiBAZXh0ZW5kcyB7VHJhbnNwb3J0U3RyZWFtfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1RyYW5zcG9ydFN0cmVhbSkge1xuICBfaW5oZXJpdHMoQ29uc29sZSwgX1RyYW5zcG9ydFN0cmVhbSk7XG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ29uc29sZSk7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIENvbnNvbGUgdHJhbnNwb3J0IG9iamVjdCByZXNwb25zaWJsZSBmb3JcbiAgICogcGVyc2lzdGluZyBsb2cgbWVzc2FnZXMgYW5kIG1ldGFkYXRhIHRvIGEgdGVybWluYWwgb3IgVFRZLlxuICAgKiBAcGFyYW0geyFPYmplY3R9IFtvcHRpb25zPXt9XSAtIE9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAqL1xuICBmdW5jdGlvbiBDb25zb2xlKCkge1xuICAgIHZhciBfdGhpcztcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnNvbGUpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBFeHBvc2UgdGhlIG5hbWUgb2YgdGhpcyBUcmFuc3BvcnQgb24gdGhlIHByb3RvdHlwZVxuICAgIF90aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgJ2NvbnNvbGUnO1xuICAgIF90aGlzLnN0ZGVyckxldmVscyA9IF90aGlzLl9zdHJpbmdBcnJheVRvU2V0KG9wdGlvbnMuc3RkZXJyTGV2ZWxzKTtcbiAgICBfdGhpcy5jb25zb2xlV2FybkxldmVscyA9IF90aGlzLl9zdHJpbmdBcnJheVRvU2V0KG9wdGlvbnMuY29uc29sZVdhcm5MZXZlbHMpO1xuICAgIF90aGlzLmVvbCA9IHR5cGVvZiBvcHRpb25zLmVvbCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmVvbCA6IG9zLkVPTDtcbiAgICBfdGhpcy5zZXRNYXhMaXN0ZW5lcnMoMzApO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3JlIGxvZ2dpbmcgbWV0aG9kIGV4cG9zZWQgdG8gV2luc3Rvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKENvbnNvbGUsIFt7XG4gICAga2V5OiBcImxvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2coaW5mbywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgc2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5lbWl0KCdsb2dnZWQnLCBpbmZvKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW1hcms6IHdoYXQgaWYgdGhlcmUgaXMgbm8gcmF3Li4uP1xuICAgICAgaWYgKHRoaXMuc3RkZXJyTGV2ZWxzW2luZm9bTEVWRUxdXSkge1xuICAgICAgICBpZiAoY29uc29sZS5fc3RkZXJyKSB7XG4gICAgICAgICAgLy8gTm9kZS5qcyBtYXBzIGBwcm9jZXNzLnN0ZGVycmAgdG8gYGNvbnNvbGUuX3N0ZGVycmAuXG4gICAgICAgICAgY29uc29sZS5fc3RkZXJyLndyaXRlKFwiXCIuY29uY2F0KGluZm9bTUVTU0FHRV0pLmNvbmNhdCh0aGlzLmVvbCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IgYWRkcyBhIG5ld2xpbmVcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGluZm9bTUVTU0FHRV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FsbGJhY2stcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29uc29sZVdhcm5MZXZlbHNbaW5mb1tMRVZFTF1dKSB7XG4gICAgICAgIGlmIChjb25zb2xlLl9zdGRlcnIpIHtcbiAgICAgICAgICAvLyBOb2RlLmpzIG1hcHMgYHByb2Nlc3Muc3RkZXJyYCB0byBgY29uc29sZS5fc3RkZXJyYC5cbiAgICAgICAgICAvLyBpbiBOb2RlLmpzIGNvbnNvbGUud2FybiBpcyBhbiBhbGlhcyBmb3IgY29uc29sZS5lcnJvclxuICAgICAgICAgIGNvbnNvbGUuX3N0ZGVyci53cml0ZShcIlwiLmNvbmNhdChpbmZvW01FU1NBR0VdKS5jb25jYXQodGhpcy5lb2wpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb25zb2xlLndhcm4gYWRkcyBhIG5ld2xpbmVcbiAgICAgICAgICBjb25zb2xlLndhcm4oaW5mb1tNRVNTQUdFXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYWxsYmFjay1yZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjb25zb2xlLl9zdGRvdXQpIHtcbiAgICAgICAgLy8gTm9kZS5qcyBtYXBzIGBwcm9jZXNzLnN0ZG91dGAgdG8gYGNvbnNvbGUuX3N0ZG91dGAuXG4gICAgICAgIGNvbnNvbGUuX3N0ZG91dC53cml0ZShcIlwiLmNvbmNhdChpbmZvW01FU1NBR0VdKS5jb25jYXQodGhpcy5lb2wpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nIGFkZHMgYSBuZXdsaW5lLlxuICAgICAgICBjb25zb2xlLmxvZyhpbmZvW01FU1NBR0VdKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBTZXQtbGlrZSBvYmplY3Qgd2l0aCBzdHJBcnJheSdzIGVsZW1lbnRzIGFzIGtleXMgKGVhY2ggd2l0aCB0aGVcbiAgICAgKiB2YWx1ZSB0cnVlKS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzdHJBcnJheSAtIEFycmF5IG9mIFNldC1lbGVtZW50cyBhcyBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gW2Vyck1zZ10gLSBDdXN0b20gZXJyb3IgbWVzc2FnZSB0aHJvd24gb24gaW52YWxpZCBpbnB1dC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJfc3RyaW5nQXJyYXlUb1NldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RyaW5nQXJyYXlUb1NldChzdHJBcnJheSwgZXJyTXNnKSB7XG4gICAgICBpZiAoIXN0ckFycmF5KSByZXR1cm4ge307XG4gICAgICBlcnJNc2cgPSBlcnJNc2cgfHwgJ0Nhbm5vdCBtYWtlIHNldCBmcm9tIHR5cGUgb3RoZXIgdGhhbiBBcnJheSBvZiBzdHJpbmcgZWxlbWVudHMnO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0ckFycmF5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJBcnJheS5yZWR1Y2UoZnVuY3Rpb24gKHNldCwgZWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRbZWxdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgIH0sIHt9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENvbnNvbGU7XG59KFRyYW5zcG9ydFN0cmVhbSk7IiwgIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNBcnJheUxpa2U7XG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB2YWx1ZS5sZW5ndGggPj0gMCAmJiB2YWx1ZS5sZW5ndGggJSAxID09PSAwO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncyAvKiwgY2FsbGJhY2sqLykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhcmdzLCBjYWxsYmFjayk7XG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZmFsbGJhY2sgPSBmYWxsYmFjaztcbmV4cG9ydHMud3JhcCA9IHdyYXA7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuXG52YXIgaGFzUXVldWVNaWNyb3Rhc2sgPSBleHBvcnRzLmhhc1F1ZXVlTWljcm90YXNrID0gdHlwZW9mIHF1ZXVlTWljcm90YXNrID09PSAnZnVuY3Rpb24nICYmIHF1ZXVlTWljcm90YXNrO1xudmFyIGhhc1NldEltbWVkaWF0ZSA9IGV4cG9ydHMuaGFzU2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzZXRJbW1lZGlhdGU7XG52YXIgaGFzTmV4dFRpY2sgPSBleHBvcnRzLmhhc05leHRUaWNrID0gdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLm5leHRUaWNrID09PSAnZnVuY3Rpb24nO1xuXG5mdW5jdGlvbiBmYWxsYmFjayhmbikge1xuICAgIHNldFRpbWVvdXQoZm4sIDApO1xufVxuXG5mdW5jdGlvbiB3cmFwKGRlZmVyKSB7XG4gICAgcmV0dXJuIChmbiwgLi4uYXJncykgPT4gZGVmZXIoKCkgPT4gZm4oLi4uYXJncykpO1xufVxuXG52YXIgX2RlZmVyO1xuXG5pZiAoaGFzUXVldWVNaWNyb3Rhc2spIHtcbiAgICBfZGVmZXIgPSBxdWV1ZU1pY3JvdGFzaztcbn0gZWxzZSBpZiAoaGFzU2V0SW1tZWRpYXRlKSB7XG4gICAgX2RlZmVyID0gc2V0SW1tZWRpYXRlO1xufSBlbHNlIGlmIChoYXNOZXh0VGljaykge1xuICAgIF9kZWZlciA9IHByb2Nlc3MubmV4dFRpY2s7XG59IGVsc2Uge1xuICAgIF9kZWZlciA9IGZhbGxiYWNrO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB3cmFwKF9kZWZlcik7IiwgIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gYXN5bmNpZnk7XG5cbnZhciBfaW5pdGlhbFBhcmFtcyA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvaW5pdGlhbFBhcmFtcy5qcycpO1xuXG52YXIgX2luaXRpYWxQYXJhbXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdGlhbFBhcmFtcyk7XG5cbnZhciBfc2V0SW1tZWRpYXRlID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zZXRJbW1lZGlhdGUuanMnKTtcblxudmFyIF9zZXRJbW1lZGlhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0SW1tZWRpYXRlKTtcblxudmFyIF93cmFwQXN5bmMgPSByZXF1aXJlKCcuL2ludGVybmFsL3dyYXBBc3luYy5qcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFRha2UgYSBzeW5jIGZ1bmN0aW9uIGFuZCBtYWtlIGl0IGFzeW5jLCBwYXNzaW5nIGl0cyByZXR1cm4gdmFsdWUgdG8gYVxuICogY2FsbGJhY2suIFRoaXMgaXMgdXNlZnVsIGZvciBwbHVnZ2luZyBzeW5jIGZ1bmN0aW9ucyBpbnRvIGEgd2F0ZXJmYWxsLFxuICogc2VyaWVzLCBvciBvdGhlciBhc3luYyBmdW5jdGlvbnMuIEFueSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBnZW5lcmF0ZWRcbiAqIGZ1bmN0aW9uIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIChleGNlcHQgZm9yIHRoZSBmaW5hbFxuICogY2FsbGJhY2sgYXJndW1lbnQpLiBFcnJvcnMgdGhyb3duIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqXG4gKiBJZiB0aGUgZnVuY3Rpb24gcGFzc2VkIHRvIGBhc3luY2lmeWAgcmV0dXJucyBhIFByb21pc2UsIHRoYXQgcHJvbWlzZXMnc1xuICogcmVzb2x2ZWQvcmVqZWN0ZWQgc3RhdGUgd2lsbCBiZSB1c2VkIHRvIGNhbGwgdGhlIGNhbGxiYWNrLCByYXRoZXIgdGhhbiBzaW1wbHlcbiAqIHRoZSBzeW5jaHJvbm91cyByZXR1cm4gdmFsdWUuXG4gKlxuICogVGhpcyBhbHNvIG1lYW5zIHlvdSBjYW4gYXN5bmNpZnkgRVMyMDE3IGBhc3luY2AgZnVuY3Rpb25zLlxuICpcbiAqIEBuYW1lIGFzeW5jaWZ5XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgbW9kdWxlOlV0aWxzXG4gKiBAbWV0aG9kXG4gKiBAYWxpYXMgd3JhcFN5bmNcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gVGhlIHN5bmNocm9ub3VzIGZ1bmN0aW9uLCBvciBQcm9taXNlLXJldHVybmluZ1xuICogZnVuY3Rpb24gdG8gY29udmVydCB0byBhbiB7QGxpbmsgQXN5bmNGdW5jdGlvbn0uXG4gKiBAcmV0dXJucyB7QXN5bmNGdW5jdGlvbn0gQW4gYXN5bmNocm9ub3VzIHdyYXBwZXIgb2YgdGhlIGBmdW5jYC4gVG8gYmVcbiAqIGludm9rZWQgd2l0aCBgKGFyZ3MuLi4sIGNhbGxiYWNrKWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIHBhc3NpbmcgYSByZWd1bGFyIHN5bmNocm9ub3VzIGZ1bmN0aW9uXG4gKiBhc3luYy53YXRlcmZhbGwoW1xuICogICAgIGFzeW5jLmFwcGx5KGZzLnJlYWRGaWxlLCBmaWxlbmFtZSwgXCJ1dGY4XCIpLFxuICogICAgIGFzeW5jLmFzeW5jaWZ5KEpTT04ucGFyc2UpLFxuICogICAgIGZ1bmN0aW9uIChkYXRhLCBuZXh0KSB7XG4gKiAgICAgICAgIC8vIGRhdGEgaXMgdGhlIHJlc3VsdCBvZiBwYXJzaW5nIHRoZSB0ZXh0LlxuICogICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYSBwYXJzaW5nIGVycm9yLCBpdCB3b3VsZCBoYXZlIGJlZW4gY2F1Z2h0LlxuICogICAgIH1cbiAqIF0sIGNhbGxiYWNrKTtcbiAqXG4gKiAvLyBwYXNzaW5nIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvbWlzZVxuICogYXN5bmMud2F0ZXJmYWxsKFtcbiAqICAgICBhc3luYy5hcHBseShmcy5yZWFkRmlsZSwgZmlsZW5hbWUsIFwidXRmOFwiKSxcbiAqICAgICBhc3luYy5hc3luY2lmeShmdW5jdGlvbiAoY29udGVudHMpIHtcbiAqICAgICAgICAgcmV0dXJuIGRiLm1vZGVsLmNyZWF0ZShjb250ZW50cyk7XG4gKiAgICAgfSksXG4gKiAgICAgZnVuY3Rpb24gKG1vZGVsLCBuZXh0KSB7XG4gKiAgICAgICAgIC8vIGBtb2RlbGAgaXMgdGhlIGluc3RhbnRpYXRlZCBtb2RlbCBvYmplY3QuXG4gKiAgICAgICAgIC8vIElmIHRoZXJlIHdhcyBhbiBlcnJvciwgdGhpcyBmdW5jdGlvbiB3b3VsZCBiZSBza2lwcGVkLlxuICogICAgIH1cbiAqIF0sIGNhbGxiYWNrKTtcbiAqXG4gKiAvLyBlczIwMTcgZXhhbXBsZSwgdGhvdWdoIGBhc3luY2lmeWAgaXMgbm90IG5lZWRlZCBpZiB5b3VyIEpTIGVudmlyb25tZW50XG4gKiAvLyBzdXBwb3J0cyBhc3luYyBmdW5jdGlvbnMgb3V0IG9mIHRoZSBib3hcbiAqIHZhciBxID0gYXN5bmMucXVldWUoYXN5bmMuYXN5bmNpZnkoYXN5bmMgZnVuY3Rpb24oZmlsZSkge1xuICogICAgIHZhciBpbnRlcm1lZGlhdGVTdGVwID0gYXdhaXQgcHJvY2Vzc0ZpbGUoZmlsZSk7XG4gKiAgICAgcmV0dXJuIGF3YWl0IHNvbWVQcm9taXNlKGludGVybWVkaWF0ZVN0ZXApXG4gKiB9KSk7XG4gKlxuICogcS5wdXNoKGZpbGVzKTtcbiAqL1xuZnVuY3Rpb24gYXN5bmNpZnkoZnVuYykge1xuICAgIGlmICgoMCwgX3dyYXBBc3luYy5pc0FzeW5jKShmdW5jKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MgLyosIGNhbGxiYWNrKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVByb21pc2UocHJvbWlzZSwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiAoMCwgX2luaXRpYWxQYXJhbXMyLmRlZmF1bHQpKGZ1bmN0aW9uIChhcmdzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHJlc3VsdCBpcyBQcm9taXNlIG9iamVjdFxuICAgICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVByb21pc2UocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb21pc2UocHJvbWlzZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgaW52b2tlQ2FsbGJhY2soY2FsbGJhY2ssIG51bGwsIHZhbHVlKTtcbiAgICB9LCBlcnIgPT4ge1xuICAgICAgICBpbnZva2VDYWxsYmFjayhjYWxsYmFjaywgZXJyICYmIChlcnIgaW5zdGFuY2VvZiBFcnJvciB8fCBlcnIubWVzc2FnZSkgPyBlcnIgOiBuZXcgRXJyb3IoZXJyKSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKGNhbGxiYWNrLCBlcnJvciwgdmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAoMCwgX3NldEltbWVkaWF0ZTIuZGVmYXVsdCkoZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9LCBlcnIpO1xuICAgIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaXNBc3luY0l0ZXJhYmxlID0gZXhwb3J0cy5pc0FzeW5jR2VuZXJhdG9yID0gZXhwb3J0cy5pc0FzeW5jID0gdW5kZWZpbmVkO1xuXG52YXIgX2FzeW5jaWZ5ID0gcmVxdWlyZSgnLi4vYXN5bmNpZnkuanMnKTtcblxudmFyIF9hc3luY2lmeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3luY2lmeSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzQXN5bmMoZm4pIHtcbiAgICByZXR1cm4gZm5bU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0FzeW5jRnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc0FzeW5jR2VuZXJhdG9yKGZuKSB7XG4gICAgcmV0dXJuIGZuW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdBc3luY0dlbmVyYXRvcic7XG59XG5cbmZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIHdyYXBBc3luYyhhc3luY0ZuKSB7XG4gICAgaWYgKHR5cGVvZiBhc3luY0ZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkIGEgZnVuY3Rpb24nKTtcbiAgICByZXR1cm4gaXNBc3luYyhhc3luY0ZuKSA/ICgwLCBfYXN5bmNpZnkyLmRlZmF1bHQpKGFzeW5jRm4pIDogYXN5bmNGbjtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gd3JhcEFzeW5jO1xuZXhwb3J0cy5pc0FzeW5jID0gaXNBc3luYztcbmV4cG9ydHMuaXNBc3luY0dlbmVyYXRvciA9IGlzQXN5bmNHZW5lcmF0b3I7XG5leHBvcnRzLmlzQXN5bmNJdGVyYWJsZSA9IGlzQXN5bmNJdGVyYWJsZTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBhd2FpdGlmeTtcbi8vIGNvbmRpdGlvbmFsbHkgcHJvbWlzaWZ5IGEgZnVuY3Rpb24uXG4vLyBvbmx5IHJldHVybiBhIHByb21pc2UgaWYgYSBjYWxsYmFjayBpcyBvbWl0dGVkXG5mdW5jdGlvbiBhd2FpdGlmeShhc3luY0ZuLCBhcml0eSkge1xuICAgIGlmICghYXJpdHkpIGFyaXR5ID0gYXN5bmNGbi5sZW5ndGg7XG4gICAgaWYgKCFhcml0eSkgdGhyb3cgbmV3IEVycm9yKCdhcml0eSBpcyB1bmRlZmluZWQnKTtcbiAgICBmdW5jdGlvbiBhd2FpdGFibGUoLi4uYXJncykge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbYXJpdHkgLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jRm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgYXJnc1thcml0eSAtIDFdID0gKGVyciwgLi4uY2JBcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY2JBcmdzLmxlbmd0aCA+IDEgPyBjYkFyZ3MgOiBjYkFyZ3NbMF0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFzeW5jRm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdGFibGU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlLmpzJyk7XG5cbnZhciBfaXNBcnJheUxpa2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNBcnJheUxpa2UpO1xuXG52YXIgX3dyYXBBc3luYyA9IHJlcXVpcmUoJy4vd3JhcEFzeW5jLmpzJyk7XG5cbnZhciBfd3JhcEFzeW5jMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBBc3luYyk7XG5cbnZhciBfYXdhaXRpZnkgPSByZXF1aXJlKCcuL2F3YWl0aWZ5LmpzJyk7XG5cbnZhciBfYXdhaXRpZnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXdhaXRpZnkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX2F3YWl0aWZ5Mi5kZWZhdWx0KSgoZWFjaGZuLCB0YXNrcywgY2FsbGJhY2spID0+IHtcbiAgICB2YXIgcmVzdWx0cyA9ICgwLCBfaXNBcnJheUxpa2UyLmRlZmF1bHQpKHRhc2tzKSA/IFtdIDoge307XG5cbiAgICBlYWNoZm4odGFza3MsICh0YXNrLCBrZXksIHRhc2tDYikgPT4ge1xuICAgICAgICAoMCwgX3dyYXBBc3luYzIuZGVmYXVsdCkodGFzaykoKGVyciwgLi4ucmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICBbcmVzdWx0XSA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdHNba2V5XSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHRhc2tDYihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LCBlcnIgPT4gY2FsbGJhY2soZXJyLCByZXN1bHRzKSk7XG59LCAzKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gb25jZTtcbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICBmdW5jdGlvbiB3cmFwcGVyKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIHZhciBjYWxsRm4gPSBmbjtcbiAgICAgICAgZm4gPSBudWxsO1xuICAgICAgICBjYWxsRm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24od3JhcHBlciwgZm4pO1xuICAgIHJldHVybiB3cmFwcGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb2xsKSB7XG4gICAgcmV0dXJuIGNvbGxbU3ltYm9sLml0ZXJhdG9yXSAmJiBjb2xsW1N5bWJvbC5pdGVyYXRvcl0oKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUl0ZXJhdG9yO1xuXG52YXIgX2lzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZS5qcycpO1xuXG52YXIgX2lzQXJyYXlMaWtlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQXJyYXlMaWtlKTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoJy4vZ2V0SXRlcmF0b3IuanMnKTtcblxudmFyIF9nZXRJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZUFycmF5SXRlcmF0b3IoY29sbCkge1xuICAgIHZhciBpID0gLTE7XG4gICAgdmFyIGxlbiA9IGNvbGwubGVuZ3RoO1xuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICByZXR1cm4gKytpIDwgbGVuID8geyB2YWx1ZTogY29sbFtpXSwga2V5OiBpIH0gOiBudWxsO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVTMjAxNUl0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgdmFyIGkgPSAtMTtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChpdGVtLmRvbmUpIHJldHVybiBudWxsO1xuICAgICAgICBpKys7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiBpdGVtLnZhbHVlLCBrZXk6IGkgfTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVPYmplY3RJdGVyYXRvcihvYmopIHtcbiAgICB2YXIgb2tleXMgPSBvYmogPyBPYmplY3Qua2V5cyhvYmopIDogW107XG4gICAgdmFyIGkgPSAtMTtcbiAgICB2YXIgbGVuID0gb2tleXMubGVuZ3RoO1xuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICB2YXIga2V5ID0gb2tleXNbKytpXTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGkgPCBsZW4gPyB7IHZhbHVlOiBvYmpba2V5XSwga2V5IH0gOiBudWxsO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yKGNvbGwpIHtcbiAgICBpZiAoKDAsIF9pc0FycmF5TGlrZTIuZGVmYXVsdCkoY29sbCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFycmF5SXRlcmF0b3IoY29sbCk7XG4gICAgfVxuXG4gICAgdmFyIGl0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjIuZGVmYXVsdCkoY29sbCk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yID8gY3JlYXRlRVMyMDE1SXRlcmF0b3IoaXRlcmF0b3IpIDogY3JlYXRlT2JqZWN0SXRlcmF0b3IoY29sbCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9ubHlPbmNlO1xuZnVuY3Rpb24gb25seU9uY2UoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuXCIpO1xuICAgICAgICB2YXIgY2FsbEZuID0gZm47XG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbi8vIEEgdGVtcG9yYXJ5IHZhbHVlIHVzZWQgdG8gaWRlbnRpZnkgaWYgdGhlIGxvb3Agc2hvdWxkIGJlIGJyb2tlbi5cbi8vIFNlZSAjMTA2NCwgIzEyOTNcbmNvbnN0IGJyZWFrTG9vcCA9IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gYnJlYWtMb29wO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwgIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gYXN5bmNFYWNoT2ZMaW1pdDtcblxudmFyIF9icmVha0xvb3AgPSByZXF1aXJlKCcuL2JyZWFrTG9vcC5qcycpO1xuXG52YXIgX2JyZWFrTG9vcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9icmVha0xvb3ApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBmb3IgYXN5bmMgZ2VuZXJhdG9yc1xuZnVuY3Rpb24gYXN5bmNFYWNoT2ZMaW1pdChnZW5lcmF0b3IsIGxpbWl0LCBpdGVyYXRlZSwgY2FsbGJhY2spIHtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgIGxldCBjYW5jZWxlZCA9IGZhbHNlO1xuICAgIGxldCBhd2FpdGluZyA9IGZhbHNlO1xuICAgIGxldCBydW5uaW5nID0gMDtcbiAgICBsZXQgaWR4ID0gMDtcblxuICAgIGZ1bmN0aW9uIHJlcGxlbmlzaCgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygncmVwbGVuaXNoJylcbiAgICAgICAgaWYgKHJ1bm5pbmcgPj0gbGltaXQgfHwgYXdhaXRpbmcgfHwgZG9uZSkgcmV0dXJuO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdyZXBsZW5pc2ggYXdhaXRpbmcnKVxuICAgICAgICBhd2FpdGluZyA9IHRydWU7XG4gICAgICAgIGdlbmVyYXRvci5uZXh0KCkudGhlbigoeyB2YWx1ZSwgZG9uZTogaXRlckRvbmUgfSkgPT4ge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZ290IHZhbHVlJywgdmFsdWUpXG4gICAgICAgICAgICBpZiAoY2FuY2VsZWQgfHwgZG9uZSkgcmV0dXJuO1xuICAgICAgICAgICAgYXdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpdGVyRG9uZSkge1xuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChydW5uaW5nIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZG9uZSBuZXh0Q2InKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVubmluZysrO1xuICAgICAgICAgICAgaXRlcmF0ZWUodmFsdWUsIGlkeCwgaXRlcmF0ZWVDYWxsYmFjayk7XG4gICAgICAgICAgICBpZHgrKztcbiAgICAgICAgICAgIHJlcGxlbmlzaCgpO1xuICAgICAgICB9KS5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWVDYWxsYmFjayhlcnIsIHJlc3VsdCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdpdGVyYXRlZUNhbGxiYWNrJylcbiAgICAgICAgcnVubmluZyAtPSAxO1xuICAgICAgICBpZiAoY2FuY2VsZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGhhbmRsZUVycm9yKGVycik7XG5cbiAgICAgICAgaWYgKGVyciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgY2FuY2VsZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gX2JyZWFrTG9vcDIuZGVmYXVsdCB8fCBkb25lICYmIHJ1bm5pbmcgPD0gMCkge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdkb25lIGl0ZXJDYicpXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGVuaXNoKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyKSB7XG4gICAgICAgIGlmIChjYW5jZWxlZCkgcmV0dXJuO1xuICAgICAgICBhd2FpdGluZyA9IGZhbHNlO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9XG5cbiAgICByZXBsZW5pc2goKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vbmNlID0gcmVxdWlyZSgnLi9vbmNlLmpzJyk7XG5cbnZhciBfb25jZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vbmNlKTtcblxudmFyIF9pdGVyYXRvciA9IHJlcXVpcmUoJy4vaXRlcmF0b3IuanMnKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfb25seU9uY2UgPSByZXF1aXJlKCcuL29ubHlPbmNlLmpzJyk7XG5cbnZhciBfb25seU9uY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb25seU9uY2UpO1xuXG52YXIgX3dyYXBBc3luYyA9IHJlcXVpcmUoJy4vd3JhcEFzeW5jLmpzJyk7XG5cbnZhciBfYXN5bmNFYWNoT2ZMaW1pdCA9IHJlcXVpcmUoJy4vYXN5bmNFYWNoT2ZMaW1pdC5qcycpO1xuXG52YXIgX2FzeW5jRWFjaE9mTGltaXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXN5bmNFYWNoT2ZMaW1pdCk7XG5cbnZhciBfYnJlYWtMb29wID0gcmVxdWlyZSgnLi9icmVha0xvb3AuanMnKTtcblxudmFyIF9icmVha0xvb3AyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnJlYWtMb29wKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gbGltaXQgPT4ge1xuICAgIHJldHVybiAob2JqLCBpdGVyYXRlZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgY2FsbGJhY2sgPSAoMCwgX29uY2UyLmRlZmF1bHQpKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGxpbWl0IDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdjb25jdXJyZW5jeSBsaW1pdCBjYW5ub3QgYmUgbGVzcyB0aGFuIDEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9iaikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoMCwgX3dyYXBBc3luYy5pc0FzeW5jR2VuZXJhdG9yKShvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIF9hc3luY0VhY2hPZkxpbWl0Mi5kZWZhdWx0KShvYmosIGxpbWl0LCBpdGVyYXRlZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoMCwgX3dyYXBBc3luYy5pc0FzeW5jSXRlcmFibGUpKG9iaikpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgX2FzeW5jRWFjaE9mTGltaXQyLmRlZmF1bHQpKG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSwgbGltaXQsIGl0ZXJhdGVlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5leHRFbGVtID0gKDAsIF9pdGVyYXRvcjIuZGVmYXVsdCkob2JqKTtcbiAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBydW5uaW5nID0gMDtcbiAgICAgICAgdmFyIGxvb3BpbmcgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBpdGVyYXRlZUNhbGxiYWNrKGVyciwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChjYW5jZWxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcnVubmluZyAtPSAxO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVyciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYW5jZWxlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBfYnJlYWtMb29wMi5kZWZhdWx0IHx8IGRvbmUgJiYgcnVubmluZyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghbG9vcGluZykge1xuICAgICAgICAgICAgICAgIHJlcGxlbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGVuaXNoKCkge1xuICAgICAgICAgICAgbG9vcGluZyA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmICFkb25lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW0gPSBuZXh0RWxlbSgpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJ1bm5pbmcgKz0gMTtcbiAgICAgICAgICAgICAgICBpdGVyYXRlZShlbGVtLnZhbHVlLCBlbGVtLmtleSwgKDAsIF9vbmx5T25jZTIuZGVmYXVsdCkoaXRlcmF0ZWVDYWxsYmFjaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9vcGluZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVwbGVuaXNoKCk7XG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9lYWNoT2ZMaW1pdDIgPSByZXF1aXJlKCcuL2ludGVybmFsL2VhY2hPZkxpbWl0LmpzJyk7XG5cbnZhciBfZWFjaE9mTGltaXQzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFjaE9mTGltaXQyKTtcblxudmFyIF93cmFwQXN5bmMgPSByZXF1aXJlKCcuL2ludGVybmFsL3dyYXBBc3luYy5qcycpO1xuXG52YXIgX3dyYXBBc3luYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwQXN5bmMpO1xuXG52YXIgX2F3YWl0aWZ5ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9hd2FpdGlmeS5qcycpO1xuXG52YXIgX2F3YWl0aWZ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F3YWl0aWZ5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGUgc2FtZSBhcyBbYGVhY2hPZmBde0BsaW5rIG1vZHVsZTpDb2xsZWN0aW9ucy5lYWNoT2Z9IGJ1dCBydW5zIGEgbWF4aW11bSBvZiBgbGltaXRgIGFzeW5jIG9wZXJhdGlvbnMgYXQgYVxuICogdGltZS5cbiAqXG4gKiBAbmFtZSBlYWNoT2ZMaW1pdFxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIG1vZHVsZTpDb2xsZWN0aW9uc1xuICogQG1ldGhvZFxuICogQHNlZSBbYXN5bmMuZWFjaE9mXXtAbGluayBtb2R1bGU6Q29sbGVjdGlvbnMuZWFjaE9mfVxuICogQGFsaWFzIGZvckVhY2hPZkxpbWl0XG4gKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheXxJdGVyYWJsZXxBc3luY0l0ZXJhYmxlfE9iamVjdH0gY29sbCAtIEEgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXN5bmMgb3BlcmF0aW9ucyBhdCBhIHRpbWUuXG4gKiBAcGFyYW0ge0FzeW5jRnVuY3Rpb259IGl0ZXJhdGVlIC0gQW4gYXN5bmMgZnVuY3Rpb24gdG8gYXBwbHkgdG8gZWFjaFxuICogaXRlbSBpbiBgY29sbGAuIFRoZSBga2V5YCBpcyB0aGUgaXRlbSdzIGtleSwgb3IgaW5kZXggaW4gdGhlIGNhc2Ugb2YgYW5cbiAqIGFycmF5LlxuICogSW52b2tlZCB3aXRoIChpdGVtLCBrZXksIGNhbGxiYWNrKS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gLSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCB3aGVuIGFsbFxuICogYGl0ZXJhdGVlYCBmdW5jdGlvbnMgaGF2ZSBmaW5pc2hlZCwgb3IgYW4gZXJyb3Igb2NjdXJzLiBJbnZva2VkIHdpdGggKGVycikuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gYSBwcm9taXNlLCBpZiBhIGNhbGxiYWNrIGlzIG9taXR0ZWRcbiAqL1xuZnVuY3Rpb24gZWFjaE9mTGltaXQoY29sbCwgbGltaXQsIGl0ZXJhdGVlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiAoMCwgX2VhY2hPZkxpbWl0My5kZWZhdWx0KShsaW1pdCkoY29sbCwgKDAsIF93cmFwQXN5bmMyLmRlZmF1bHQpKGl0ZXJhdGVlKSwgY2FsbGJhY2spO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX2F3YWl0aWZ5Mi5kZWZhdWx0KShlYWNoT2ZMaW1pdCwgNCk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZWFjaE9mTGltaXQgPSByZXF1aXJlKCcuL2VhY2hPZkxpbWl0LmpzJyk7XG5cbnZhciBfZWFjaE9mTGltaXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFjaE9mTGltaXQpO1xuXG52YXIgX2F3YWl0aWZ5ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9hd2FpdGlmeS5qcycpO1xuXG52YXIgX2F3YWl0aWZ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F3YWl0aWZ5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGUgc2FtZSBhcyBbYGVhY2hPZmBde0BsaW5rIG1vZHVsZTpDb2xsZWN0aW9ucy5lYWNoT2Z9IGJ1dCBydW5zIG9ubHkgYSBzaW5nbGUgYXN5bmMgb3BlcmF0aW9uIGF0IGEgdGltZS5cbiAqXG4gKiBAbmFtZSBlYWNoT2ZTZXJpZXNcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBtb2R1bGU6Q29sbGVjdGlvbnNcbiAqIEBtZXRob2RcbiAqIEBzZWUgW2FzeW5jLmVhY2hPZl17QGxpbmsgbW9kdWxlOkNvbGxlY3Rpb25zLmVhY2hPZn1cbiAqIEBhbGlhcyBmb3JFYWNoT2ZTZXJpZXNcbiAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0FycmF5fEl0ZXJhYmxlfEFzeW5jSXRlcmFibGV8T2JqZWN0fSBjb2xsIC0gQSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7QXN5bmNGdW5jdGlvbn0gaXRlcmF0ZWUgLSBBbiBhc3luYyBmdW5jdGlvbiB0byBhcHBseSB0byBlYWNoIGl0ZW0gaW5cbiAqIGBjb2xsYC5cbiAqIEludm9rZWQgd2l0aCAoaXRlbSwga2V5LCBjYWxsYmFjaykuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIC0gQSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiBhbGwgYGl0ZXJhdGVlYFxuICogZnVuY3Rpb25zIGhhdmUgZmluaXNoZWQsIG9yIGFuIGVycm9yIG9jY3Vycy4gSW52b2tlZCB3aXRoIChlcnIpLlxuICogQHJldHVybnMge1Byb21pc2V9IGEgcHJvbWlzZSwgaWYgYSBjYWxsYmFjayBpcyBvbWl0dGVkXG4gKi9cbmZ1bmN0aW9uIGVhY2hPZlNlcmllcyhjb2xsLCBpdGVyYXRlZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gKDAsIF9lYWNoT2ZMaW1pdDIuZGVmYXVsdCkoY29sbCwgMSwgaXRlcmF0ZWUsIGNhbGxiYWNrKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfYXdhaXRpZnkyLmRlZmF1bHQpKGVhY2hPZlNlcmllcywgMyk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzZXJpZXM7XG5cbnZhciBfcGFyYWxsZWwyID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9wYXJhbGxlbC5qcycpO1xuXG52YXIgX3BhcmFsbGVsMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcmFsbGVsMik7XG5cbnZhciBfZWFjaE9mU2VyaWVzID0gcmVxdWlyZSgnLi9lYWNoT2ZTZXJpZXMuanMnKTtcblxudmFyIF9lYWNoT2ZTZXJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFjaE9mU2VyaWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBSdW4gdGhlIGZ1bmN0aW9ucyBpbiB0aGUgYHRhc2tzYCBjb2xsZWN0aW9uIGluIHNlcmllcywgZWFjaCBvbmUgcnVubmluZyBvbmNlXG4gKiB0aGUgcHJldmlvdXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZC4gSWYgYW55IGZ1bmN0aW9ucyBpbiB0aGUgc2VyaWVzIHBhc3MgYW5cbiAqIGVycm9yIHRvIGl0cyBjYWxsYmFjaywgbm8gbW9yZSBmdW5jdGlvbnMgYXJlIHJ1biwgYW5kIGBjYWxsYmFja2AgaXNcbiAqIGltbWVkaWF0ZWx5IGNhbGxlZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgZXJyb3IuIE90aGVyd2lzZSwgYGNhbGxiYWNrYFxuICogcmVjZWl2ZXMgYW4gYXJyYXkgb2YgcmVzdWx0cyB3aGVuIGB0YXNrc2AgaGF2ZSBjb21wbGV0ZWQuXG4gKlxuICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byB1c2UgYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXkuIEVhY2ggcHJvcGVydHkgd2lsbFxuICogYmUgcnVuIGFzIGEgZnVuY3Rpb24sIGFuZCB0aGUgcmVzdWx0cyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZmluYWwgYGNhbGxiYWNrYFxuICogYXMgYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXkuIFRoaXMgY2FuIGJlIGEgbW9yZSByZWFkYWJsZSB3YXkgb2YgaGFuZGxpbmdcbiAqICByZXN1bHRzIGZyb20ge0BsaW5rIGFzeW5jLnNlcmllc30uXG4gKlxuICogKipOb3RlKiogdGhhdCB3aGlsZSBtYW55IGltcGxlbWVudGF0aW9ucyBwcmVzZXJ2ZSB0aGUgb3JkZXIgb2Ygb2JqZWN0XG4gKiBwcm9wZXJ0aWVzLCB0aGUgW0VDTUFTY3JpcHQgTGFuZ3VhZ2UgU3BlY2lmaWNhdGlvbl0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTguNilcbiAqIGV4cGxpY2l0bHkgc3RhdGVzIHRoYXRcbiAqXG4gKiA+IFRoZSBtZWNoYW5pY3MgYW5kIG9yZGVyIG9mIGVudW1lcmF0aW5nIHRoZSBwcm9wZXJ0aWVzIGlzIG5vdCBzcGVjaWZpZWQuXG4gKlxuICogU28gaWYgeW91IHJlbHkgb24gdGhlIG9yZGVyIGluIHdoaWNoIHlvdXIgc2VyaWVzIG9mIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQsXG4gKiBhbmQgd2FudCB0aGlzIHRvIHdvcmsgb24gYWxsIHBsYXRmb3JtcywgY29uc2lkZXIgdXNpbmcgYW4gYXJyYXkuXG4gKlxuICogQG5hbWUgc2VyaWVzXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgbW9kdWxlOkNvbnRyb2xGbG93XG4gKiBAbWV0aG9kXG4gKiBAY2F0ZWdvcnkgQ29udHJvbCBGbG93XG4gKiBAcGFyYW0ge0FycmF5fEl0ZXJhYmxlfEFzeW5jSXRlcmFibGV8T2JqZWN0fSB0YXNrcyAtIEEgY29sbGVjdGlvbiBjb250YWluaW5nXG4gKiBbYXN5bmMgZnVuY3Rpb25zXXtAbGluayBBc3luY0Z1bmN0aW9ufSB0byBydW4gaW4gc2VyaWVzLlxuICogRWFjaCBmdW5jdGlvbiBjYW4gY29tcGxldGUgd2l0aCBhbnkgbnVtYmVyIG9mIG9wdGlvbmFsIGByZXN1bHRgIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gLSBBbiBvcHRpb25hbCBjYWxsYmFjayB0byBydW4gb25jZSBhbGwgdGhlXG4gKiBmdW5jdGlvbnMgaGF2ZSBjb21wbGV0ZWQuIFRoaXMgZnVuY3Rpb24gZ2V0cyBhIHJlc3VsdHMgYXJyYXkgKG9yIG9iamVjdClcbiAqIGNvbnRhaW5pbmcgYWxsIHRoZSByZXN1bHQgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgYHRhc2tgIGNhbGxiYWNrcy4gSW52b2tlZFxuICogd2l0aCAoZXJyLCByZXN1bHQpLlxuICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlLCBpZiBubyBjYWxsYmFjayBpcyBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKlxuICogLy9Vc2luZyBDYWxsYmFja3NcbiAqIGFzeW5jLnNlcmllcyhbXG4gKiAgICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAqICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIC8vIGRvIHNvbWUgYXN5bmMgdGFza1xuICogICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgJ29uZScpO1xuICogICAgICAgICB9LCAyMDApO1xuICogICAgIH0sXG4gKiAgICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAqICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIC8vIHRoZW4gZG8gYW5vdGhlciBhc3luYyB0YXNrXG4gKiAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAndHdvJyk7XG4gKiAgICAgICAgIH0sIDEwMCk7XG4gKiAgICAgfVxuICogXSwgZnVuY3Rpb24oZXJyLCByZXN1bHRzKSB7XG4gKiAgICAgY29uc29sZS5sb2cocmVzdWx0cyk7XG4gKiAgICAgLy8gcmVzdWx0cyBpcyBlcXVhbCB0byBbJ29uZScsJ3R3byddXG4gKiB9KTtcbiAqXG4gKiAvLyBhbiBleGFtcGxlIHVzaW5nIG9iamVjdHMgaW5zdGVhZCBvZiBhcnJheXNcbiAqIGFzeW5jLnNlcmllcyh7XG4gKiAgICAgb25lOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICogICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgLy8gZG8gc29tZSBhc3luYyB0YXNrXG4gKiAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAxKTtcbiAqICAgICAgICAgfSwgMjAwKTtcbiAqICAgICB9LFxuICogICAgIHR3bzogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAqICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIC8vIHRoZW4gZG8gYW5vdGhlciBhc3luYyB0YXNrXG4gKiAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAyKTtcbiAqICAgICAgICAgfSwgMTAwKTtcbiAqICAgICB9XG4gKiB9LCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHtcbiAqICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAqICAgICAvLyByZXN1bHRzIGlzIGVxdWFsIHRvOiB7IG9uZTogMSwgdHdvOiAyIH1cbiAqIH0pO1xuICpcbiAqIC8vVXNpbmcgUHJvbWlzZXNcbiAqIGFzeW5jLnNlcmllcyhbXG4gKiAgICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAqICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsICdvbmUnKTtcbiAqICAgICAgICAgfSwgMjAwKTtcbiAqICAgICB9LFxuICogICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gKiAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAndHdvJyk7XG4gKiAgICAgICAgIH0sIDEwMCk7XG4gKiAgICAgfVxuICogXSkudGhlbihyZXN1bHRzID0+IHtcbiAqICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAqICAgICAvLyByZXN1bHRzIGlzIGVxdWFsIHRvIFsnb25lJywndHdvJ11cbiAqIH0pLmNhdGNoKGVyciA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coZXJyKTtcbiAqIH0pO1xuICpcbiAqIC8vIGFuIGV4YW1wbGUgdXNpbmcgYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXlcbiAqIGFzeW5jLnNlcmllcyh7XG4gKiAgICAgb25lOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICogICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgLy8gZG8gc29tZSBhc3luYyB0YXNrXG4gKiAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAxKTtcbiAqICAgICAgICAgfSwgMjAwKTtcbiAqICAgICB9LFxuICogICAgIHR3bzogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAqICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIC8vIHRoZW4gZG8gYW5vdGhlciBhc3luYyB0YXNrXG4gKiAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAyKTtcbiAqICAgICAgICAgfSwgMTAwKTtcbiAqICAgICB9XG4gKiB9KS50aGVuKHJlc3VsdHMgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICogICAgIC8vIHJlc3VsdHMgaXMgZXF1YWwgdG86IHsgb25lOiAxLCB0d286IDIgfVxuICogfSkuY2F0Y2goZXJyID0+IHtcbiAqICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICogfSk7XG4gKlxuICogLy9Vc2luZyBhc3luYy9hd2FpdFxuICogYXN5bmMgKCkgPT4ge1xuICogICAgIHRyeSB7XG4gKiAgICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgYXN5bmMuc2VyaWVzKFtcbiAqICAgICAgICAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gKiAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgICAgICAgICAgLy8gZG8gc29tZSBhc3luYyB0YXNrXG4gKiAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsICdvbmUnKTtcbiAqICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICogICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gKiAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiBkbyBhbm90aGVyIGFzeW5jIHRhc2tcbiAqICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgJ3R3bycpO1xuICogICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gKiAgICAgICAgICAgICB9XG4gKiAgICAgICAgIF0pO1xuICogICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAqICAgICAgICAgLy8gcmVzdWx0cyBpcyBlcXVhbCB0byBbJ29uZScsJ3R3byddXG4gKiAgICAgfVxuICogICAgIGNhdGNoIChlcnIpIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAqICAgICB9XG4gKiB9XG4gKlxuICogLy8gYW4gZXhhbXBsZSB1c2luZyBhbiBvYmplY3QgaW5zdGVhZCBvZiBhbiBhcnJheVxuICogYXN5bmMgKCkgPT4ge1xuICogICAgIHRyeSB7XG4gKiAgICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgYXN5bmMucGFyYWxsZWwoe1xuICogICAgICAgICAgICAgb25lOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICogICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAgICAgICAgIC8vIGRvIHNvbWUgYXN5bmMgdGFza1xuICogICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAxKTtcbiAqICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICogICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgdHdvOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICogICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gZG8gYW5vdGhlciBhc3luYyB0YXNrXG4gKiAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIDIpO1xuICogICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gKiAgICAgICAgICAgIH1cbiAqICAgICAgICAgfSk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICogICAgICAgICAvLyByZXN1bHRzIGlzIGVxdWFsIHRvOiB7IG9uZTogMSwgdHdvOiAyIH1cbiAqICAgICB9XG4gKiAgICAgY2F0Y2ggKGVycikge1xuICogICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICogICAgIH1cbiAqIH1cbiAqXG4gKi9cbmZ1bmN0aW9uIHNlcmllcyh0YXNrcywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gKDAsIF9wYXJhbGxlbDMuZGVmYXVsdCkoX2VhY2hPZlNlcmllczIuZGVmYXVsdCwgdGFza3MsIGNhbGxiYWNrKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkb1xuLy8gc29tZXRoaW5nIHdpdGggdGhlIGRhdGEuICBTb21ldGltZXMgaXQncyBjYWxsZWQgYSBcImZpbHRlclwiLFxuLy8gYnV0IHRoYXQncyBub3QgYSBncmVhdCBuYW1lIGZvciBpdCwgc2luY2UgdGhhdCBpbXBsaWVzIGEgdGhpbmcgd2hlcmVcbi8vIHNvbWUgYml0cyBwYXNzIHRocm91Z2gsIGFuZCBvdGhlcnMgYXJlIHNpbXBseSBpZ25vcmVkLiAgKFRoYXQgd291bGRcbi8vIGJlIGEgdmFsaWQgZXhhbXBsZSBvZiBhIHRyYW5zZm9ybSwgb2YgY291cnNlLilcbi8vXG4vLyBXaGlsZSB0aGUgb3V0cHV0IGlzIGNhdXNhbGx5IHJlbGF0ZWQgdG8gdGhlIGlucHV0LCBpdCdzIG5vdCBhXG4vLyBuZWNlc3NhcmlseSBzeW1tZXRyaWMgb3Igc3luY2hyb25vdXMgdHJhbnNmb3JtYXRpb24uICBGb3IgZXhhbXBsZSxcbi8vIGEgemxpYiBzdHJlYW0gbWlnaHQgdGFrZSBtdWx0aXBsZSBwbGFpbi10ZXh0IHdyaXRlcygpLCBhbmQgdGhlblxuLy8gZW1pdCBhIHNpbmdsZSBjb21wcmVzc2VkIGNodW5rIHNvbWUgdGltZSBpbiB0aGUgZnV0dXJlLlxuLy9cbi8vIEhlcmUncyBob3cgdGhpcyB3b3Jrczpcbi8vXG4vLyBUaGUgVHJhbnNmb3JtIHN0cmVhbSBoYXMgYWxsIHRoZSBhc3BlY3RzIG9mIHRoZSByZWFkYWJsZSBhbmQgd3JpdGFibGVcbi8vIHN0cmVhbSBjbGFzc2VzLiAgV2hlbiB5b3Ugd3JpdGUoY2h1bmspLCB0aGF0IGNhbGxzIF93cml0ZShjaHVuayxjYilcbi8vIGludGVybmFsbHksIGFuZCByZXR1cm5zIGZhbHNlIGlmIHRoZXJlJ3MgYSBsb3Qgb2YgcGVuZGluZyB3cml0ZXNcbi8vIGJ1ZmZlcmVkIHVwLiAgV2hlbiB5b3UgY2FsbCByZWFkKCksIHRoYXQgY2FsbHMgX3JlYWQobikgdW50aWxcbi8vIHRoZXJlJ3MgZW5vdWdoIHBlbmRpbmcgcmVhZGFibGUgZGF0YSBidWZmZXJlZCB1cC5cbi8vXG4vLyBJbiBhIHRyYW5zZm9ybSBzdHJlYW0sIHRoZSB3cml0dGVuIGRhdGEgaXMgcGxhY2VkIGluIGEgYnVmZmVyLiAgV2hlblxuLy8gX3JlYWQobikgaXMgY2FsbGVkLCBpdCB0cmFuc2Zvcm1zIHRoZSBxdWV1ZWQgdXAgZGF0YSwgY2FsbGluZyB0aGVcbi8vIGJ1ZmZlcmVkIF93cml0ZSBjYidzIGFzIGl0IGNvbnN1bWVzIGNodW5rcy4gIElmIGNvbnN1bWluZyBhIHNpbmdsZVxuLy8gd3JpdHRlbiBjaHVuayB3b3VsZCByZXN1bHQgaW4gbXVsdGlwbGUgb3V0cHV0IGNodW5rcywgdGhlbiB0aGUgZmlyc3Rcbi8vIG91dHB1dHRlZCBiaXQgY2FsbHMgdGhlIHJlYWRjYiwgYW5kIHN1YnNlcXVlbnQgY2h1bmtzIGp1c3QgZ28gaW50b1xuLy8gdGhlIHJlYWQgYnVmZmVyLCBhbmQgd2lsbCBjYXVzZSBpdCB0byBlbWl0ICdyZWFkYWJsZScgaWYgbmVjZXNzYXJ5LlxuLy9cbi8vIFRoaXMgd2F5LCBiYWNrLXByZXNzdXJlIGlzIGFjdHVhbGx5IGRldGVybWluZWQgYnkgdGhlIHJlYWRpbmcgc2lkZSxcbi8vIHNpbmNlIF9yZWFkIGhhcyB0byBiZSBjYWxsZWQgdG8gc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBjaHVuay4gIEhvd2V2ZXIsXG4vLyBhIHBhdGhvbG9naWNhbCBpbmZsYXRlIHR5cGUgb2YgdHJhbnNmb3JtIGNhbiBjYXVzZSBleGNlc3NpdmUgYnVmZmVyaW5nXG4vLyBoZXJlLiAgRm9yIGV4YW1wbGUsIGltYWdpbmUgYSBzdHJlYW0gd2hlcmUgZXZlcnkgYnl0ZSBvZiBpbnB1dCBpc1xuLy8gaW50ZXJwcmV0ZWQgYXMgYW4gaW50ZWdlciBmcm9tIDAtMjU1LCBhbmQgdGhlbiByZXN1bHRzIGluIHRoYXQgbWFueVxuLy8gYnl0ZXMgb2Ygb3V0cHV0LiAgV3JpdGluZyB0aGUgNCBieXRlcyB7ZmYsZmYsZmYsZmZ9IHdvdWxkIHJlc3VsdCBpblxuLy8gMWtiIG9mIGRhdGEgYmVpbmcgb3V0cHV0LiAgSW4gdGhpcyBjYXNlLCB5b3UgY291bGQgd3JpdGUgYSB2ZXJ5IHNtYWxsXG4vLyBhbW91bnQgb2YgaW5wdXQsIGFuZCBlbmQgdXAgd2l0aCBhIHZlcnkgbGFyZ2UgYW1vdW50IG9mIG91dHB1dC4gIEluXG4vLyBzdWNoIGEgcGF0aG9sb2dpY2FsIGluZmxhdGluZyBtZWNoYW5pc20sIHRoZXJlJ2QgYmUgbm8gd2F5IHRvIHRlbGxcbi8vIHRoZSBzeXN0ZW0gdG8gc3RvcCBkb2luZyB0aGUgdHJhbnNmb3JtLiAgQSBzaW5nbGUgNE1CIHdyaXRlIGNvdWxkXG4vLyBjYXVzZSB0aGUgc3lzdGVtIHRvIHJ1biBvdXQgb2YgbWVtb3J5LlxuLy9cbi8vIEhvd2V2ZXIsIGV2ZW4gaW4gc3VjaCBhIHBhdGhvbG9naWNhbCBjYXNlLCBvbmx5IGEgc2luZ2xlIHdyaXR0ZW4gY2h1bmtcbi8vIHdvdWxkIGJlIGNvbnN1bWVkLCBhbmQgdGhlbiB0aGUgcmVzdCB3b3VsZCB3YWl0ICh1bi10cmFuc2Zvcm1lZCkgdW50aWxcbi8vIHRoZSByZXN1bHRzIG9mIHRoZSBwcmV2aW91cyB0cmFuc2Zvcm1lZCBjaHVuayB3ZXJlIGNvbnN1bWVkLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNmb3JtO1xudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vZXJyb3JzJykuY29kZXMsXG4gIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gIEVSUl9NVUxUSVBMRV9DQUxMQkFDSyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxcbiAgRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9UUkFOU0ZPUk1fQUxSRUFEWV9UUkFOU0ZPUk1JTkcsXG4gIEVSUl9UUkFOU0ZPUk1fV0lUSF9MRU5HVEhfMCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9UUkFOU0ZPUk1fV0lUSF9MRU5HVEhfMDtcbnZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5yZXF1aXJlKCdpbmhlcml0cycpKFRyYW5zZm9ybSwgRHVwbGV4KTtcbmZ1bmN0aW9uIGFmdGVyVHJhbnNmb3JtKGVyLCBkYXRhKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy50cmFuc2Zvcm1pbmcgPSBmYWxzZTtcbiAgdmFyIGNiID0gdHMud3JpdGVjYjtcbiAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRVJSX01VTFRJUExFX0NBTExCQUNLKCkpO1xuICB9XG4gIHRzLndyaXRlY2h1bmsgPSBudWxsO1xuICB0cy53cml0ZWNiID0gbnVsbDtcbiAgaWYgKGRhdGEgIT0gbnVsbClcbiAgICAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICB0aGlzLnB1c2goZGF0YSk7XG4gIGNiKGVyKTtcbiAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgcnMucmVhZGluZyA9IGZhbHNlO1xuICBpZiAocnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHtcbiAgICB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspO1xuICB9XG59XG5mdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSkgcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7XG4gIER1cGxleC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IHtcbiAgICBhZnRlclRyYW5zZm9ybTogYWZ0ZXJUcmFuc2Zvcm0uYmluZCh0aGlzKSxcbiAgICBuZWVkVHJhbnNmb3JtOiBmYWxzZSxcbiAgICB0cmFuc2Zvcm1pbmc6IGZhbHNlLFxuICAgIHdyaXRlY2I6IG51bGwsXG4gICAgd3JpdGVjaHVuazogbnVsbCxcbiAgICB3cml0ZWVuY29kaW5nOiBudWxsXG4gIH07XG5cbiAgLy8gc3RhcnQgb3V0IGFza2luZyBmb3IgYSByZWFkYWJsZSBldmVudCBvbmNlIGRhdGEgaXMgdHJhbnNmb3JtZWQuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcblxuICAvLyB3ZSBoYXZlIGltcGxlbWVudGVkIHRoZSBfcmVhZCBtZXRob2QsIGFuZCBkb25lIHRoZSBvdGhlciB0aGluZ3NcbiAgLy8gdGhhdCBSZWFkYWJsZSB3YW50cyBiZWZvcmUgdGhlIGZpcnN0IF9yZWFkIGNhbGwsIHNvIHVuc2V0IHRoZVxuICAvLyBzeW5jIGd1YXJkIGZsYWcuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYyA9IGZhbHNlO1xuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mbHVzaCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmx1c2ggPSBvcHRpb25zLmZsdXNoO1xuICB9XG5cbiAgLy8gV2hlbiB0aGUgd3JpdGFibGUgc2lkZSBmaW5pc2hlcywgdGhlbiBmbHVzaCBvdXQgYW55dGhpbmcgcmVtYWluaW5nLlxuICB0aGlzLm9uKCdwcmVmaW5pc2gnLCBwcmVmaW5pc2gpO1xufVxuZnVuY3Rpb24gcHJlZmluaXNoKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nICYmICF0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCkge1xuICAgIHRoaXMuX2ZsdXNoKGZ1bmN0aW9uIChlciwgZGF0YSkge1xuICAgICAgZG9uZShfdGhpcywgZXIsIGRhdGEpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGRvbmUodGhpcywgbnVsbCwgbnVsbCk7XG4gIH1cbn1cblRyYW5zZm9ybS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybSA9IGZhbHNlO1xuICByZXR1cm4gRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nKTtcbn07XG5cbi8vIFRoaXMgaXMgdGhlIHBhcnQgd2hlcmUgeW91IGRvIHN0dWZmIVxuLy8gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpbiBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gJ2NodW5rJyBpcyBhbiBpbnB1dCBjaHVuay5cbi8vXG4vLyBDYWxsIGBwdXNoKG5ld0NodW5rKWAgdG8gcGFzcyBhbG9uZyB0cmFuc2Zvcm1lZCBvdXRwdXRcbi8vIHRvIHRoZSByZWFkYWJsZSBzaWRlLiAgWW91IG1heSBjYWxsICdwdXNoJyB6ZXJvIG9yIG1vcmUgdGltZXMuXG4vL1xuLy8gQ2FsbCBgY2IoZXJyKWAgd2hlbiB5b3UgYXJlIGRvbmUgd2l0aCB0aGlzIGNodW5rLiAgSWYgeW91IHBhc3Ncbi8vIGFuIGVycm9yLCB0aGVuIHRoYXQnbGwgcHV0IHRoZSBodXJ0IG9uIHRoZSB3aG9sZSBvcGVyYXRpb24uICBJZiB5b3Vcbi8vIG5ldmVyIGNhbGwgY2IoKSwgdGhlbiB5b3UnbGwgbmV2ZXIgZ2V0IGFub3RoZXIgY2h1bmsuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihuZXcgRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQoJ190cmFuc2Zvcm0oKScpKTtcbn07XG5UcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy53cml0ZWNiID0gY2I7XG4gIHRzLndyaXRlY2h1bmsgPSBjaHVuaztcbiAgdHMud3JpdGVlbmNvZGluZyA9IGVuY29kaW5nO1xuICBpZiAoIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgaWYgKHRzLm5lZWRUcmFuc2Zvcm0gfHwgcnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn07XG5cbi8vIERvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIGFyZ3MgYXJlIGhlcmUuXG4vLyBfdHJhbnNmb3JtIGRvZXMgYWxsIHRoZSB3b3JrLlxuLy8gVGhhdCB3ZSBnb3QgaGVyZSBtZWFucyB0aGF0IHRoZSByZWFkYWJsZSBzaWRlIHdhbnRzIG1vcmUgZGF0YS5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgaWYgKHRzLndyaXRlY2h1bmsgIT09IG51bGwgJiYgIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7XG4gICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluXG4gICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuXG4gICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7XG4gIH1cbn07XG5UcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveS5jYWxsKHRoaXMsIGVyciwgZnVuY3Rpb24gKGVycjIpIHtcbiAgICBjYihlcnIyKTtcbiAgfSk7XG59O1xuZnVuY3Rpb24gZG9uZShzdHJlYW0sIGVyLCBkYXRhKSB7XG4gIGlmIChlcikgcmV0dXJuIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgaWYgKGRhdGEgIT0gbnVsbClcbiAgICAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICBzdHJlYW0ucHVzaChkYXRhKTtcblxuICAvLyBUT0RPKEJyaWRnZUFSKTogV3JpdGUgYSB0ZXN0IGZvciB0aGVzZSB0d28gZXJyb3IgY2FzZXNcbiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFuc1xuICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWRcbiAgaWYgKHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpIHRocm93IG5ldyBFUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzAoKTtcbiAgaWYgKHN0cmVhbS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKSB0aHJvdyBuZXcgRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORygpO1xuICByZXR1cm4gc3RyZWFtLnB1c2gobnVsbCk7XG59IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBhIHBhc3N0aHJvdWdoIHN0cmVhbS5cbi8vIGJhc2ljYWxseSBqdXN0IHRoZSBtb3N0IG1pbmltYWwgc29ydCBvZiBUcmFuc2Zvcm0gc3RyZWFtLlxuLy8gRXZlcnkgd3JpdHRlbiBjaHVuayBnZXRzIG91dHB1dCBhcy1pcy5cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhc3NUaHJvdWdoO1xudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vX3N0cmVhbV90cmFuc2Zvcm0nKTtcbnJlcXVpcmUoJ2luaGVyaXRzJykoUGFzc1Rocm91Z2gsIFRyYW5zZm9ybSk7XG5mdW5jdGlvbiBQYXNzVGhyb3VnaChvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaCkpIHJldHVybiBuZXcgUGFzc1Rocm91Z2gob3B0aW9ucyk7XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihudWxsLCBjaHVuayk7XG59OyIsICIvLyBQb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWFmaW50b3NoL3B1bXAgd2l0aFxuLy8gcGVybWlzc2lvbiBmcm9tIHRoZSBhdXRob3IsIE1hdGhpYXMgQnV1cyAoQG1hZmludG9zaCkuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVvcztcbmZ1bmN0aW9uIG9uY2UoY2FsbGJhY2spIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGNhbGxiYWNrLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cbnZhciBfcmVxdWlyZSRjb2RlcyA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLFxuICBFUlJfTUlTU0lOR19BUkdTID0gX3JlcXVpcmUkY29kZXMuRVJSX01JU1NJTkdfQVJHUyxcbiAgRVJSX1NUUkVBTV9ERVNUUk9ZRUQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX0RFU1RST1lFRDtcbmZ1bmN0aW9uIG5vb3AoZXJyKSB7XG4gIC8vIFJldGhyb3cgdGhlIGVycm9yIGlmIGl0IGV4aXN0cyB0byBhdm9pZCBzd2FsbG93aW5nIGl0XG4gIGlmIChlcnIpIHRocm93IGVycjtcbn1cbmZ1bmN0aW9uIGlzUmVxdWVzdChzdHJlYW0pIHtcbiAgcmV0dXJuIHN0cmVhbS5zZXRIZWFkZXIgJiYgdHlwZW9mIHN0cmVhbS5hYm9ydCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGRlc3Ryb3llcihzdHJlYW0sIHJlYWRpbmcsIHdyaXRpbmcsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrID0gb25jZShjYWxsYmFjayk7XG4gIHZhciBjbG9zZWQgPSBmYWxzZTtcbiAgc3RyZWFtLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjbG9zZWQgPSB0cnVlO1xuICB9KTtcbiAgaWYgKGVvcyA9PT0gdW5kZWZpbmVkKSBlb3MgPSByZXF1aXJlKCcuL2VuZC1vZi1zdHJlYW0nKTtcbiAgZW9zKHN0cmVhbSwge1xuICAgIHJlYWRhYmxlOiByZWFkaW5nLFxuICAgIHdyaXRhYmxlOiB3cml0aW5nXG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICBjbG9zZWQgPSB0cnVlO1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xuICB2YXIgZGVzdHJveWVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGNsb3NlZCkgcmV0dXJuO1xuICAgIGlmIChkZXN0cm95ZWQpIHJldHVybjtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgLy8gcmVxdWVzdC5kZXN0cm95IGp1c3QgZG8gLmVuZCAtIC5hYm9ydCBpcyB3aGF0IHdlIHdhbnRcbiAgICBpZiAoaXNSZXF1ZXN0KHN0cmVhbSkpIHJldHVybiBzdHJlYW0uYWJvcnQoKTtcbiAgICBpZiAodHlwZW9mIHN0cmVhbS5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gc3RyZWFtLmRlc3Ryb3koKTtcbiAgICBjYWxsYmFjayhlcnIgfHwgbmV3IEVSUl9TVFJFQU1fREVTVFJPWUVEKCdwaXBlJykpO1xuICB9O1xufVxuZnVuY3Rpb24gY2FsbChmbikge1xuICBmbigpO1xufVxuZnVuY3Rpb24gcGlwZShmcm9tLCB0bykge1xuICByZXR1cm4gZnJvbS5waXBlKHRvKTtcbn1cbmZ1bmN0aW9uIHBvcENhbGxiYWNrKHN0cmVhbXMpIHtcbiAgaWYgKCFzdHJlYW1zLmxlbmd0aCkgcmV0dXJuIG5vb3A7XG4gIGlmICh0eXBlb2Ygc3RyZWFtc1tzdHJlYW1zLmxlbmd0aCAtIDFdICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gbm9vcDtcbiAgcmV0dXJuIHN0cmVhbXMucG9wKCk7XG59XG5mdW5jdGlvbiBwaXBlbGluZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHN0cmVhbXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc3RyZWFtc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuICB2YXIgY2FsbGJhY2sgPSBwb3BDYWxsYmFjayhzdHJlYW1zKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3RyZWFtc1swXSkpIHN0cmVhbXMgPSBzdHJlYW1zWzBdO1xuICBpZiAoc3RyZWFtcy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ3N0cmVhbXMnKTtcbiAgfVxuICB2YXIgZXJyb3I7XG4gIHZhciBkZXN0cm95cyA9IHN0cmVhbXMubWFwKGZ1bmN0aW9uIChzdHJlYW0sIGkpIHtcbiAgICB2YXIgcmVhZGluZyA9IGkgPCBzdHJlYW1zLmxlbmd0aCAtIDE7XG4gICAgdmFyIHdyaXRpbmcgPSBpID4gMDtcbiAgICByZXR1cm4gZGVzdHJveWVyKHN0cmVhbSwgcmVhZGluZywgd3JpdGluZywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gICAgICBpZiAoZXJyKSBkZXN0cm95cy5mb3JFYWNoKGNhbGwpO1xuICAgICAgaWYgKHJlYWRpbmcpIHJldHVybjtcbiAgICAgIGRlc3Ryb3lzLmZvckVhY2goY2FsbCk7XG4gICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gc3RyZWFtcy5yZWR1Y2UocGlwZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHBpcGVsaW5lOyIsICJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzJyk7XG5leHBvcnRzLlN0cmVhbSA9IGV4cG9ydHM7XG5leHBvcnRzLlJlYWRhYmxlID0gZXhwb3J0cztcbmV4cG9ydHMuV3JpdGFibGUgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzJyk7XG5leHBvcnRzLkR1cGxleCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fZHVwbGV4LmpzJyk7XG5leHBvcnRzLlRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzJyk7XG5leHBvcnRzLlBhc3NUaHJvdWdoID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcycpO1xuZXhwb3J0cy5maW5pc2hlZCA9IHJlcXVpcmUoJy4vbGliL2ludGVybmFsL3N0cmVhbXMvZW5kLW9mLXN0cmVhbS5qcycpO1xuZXhwb3J0cy5waXBlbGluZSA9IHJlcXVpcmUoJy4vbGliL2ludGVybmFsL3N0cmVhbXMvcGlwZWxpbmUuanMnKTtcbiIsICIvKipcbiAqIENvbnRhaW5zIGFsbCBjb25maWd1cmVkIGFkYXB0ZXJzIGZvciB0aGUgZ2l2ZW4gZW52aXJvbm1lbnQuXG4gKlxuICogQHR5cGUge0FycmF5fVxuICogQHB1YmxpY1xuICovXG52YXIgYWRhcHRlcnMgPSBbXTtcblxuLyoqXG4gKiBDb250YWlucyBhbGwgbW9kaWZpZXIgZnVuY3Rpb25zLlxuICpcbiAqIEB0eXBzIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xudmFyIG1vZGlmaWVycyA9IFtdO1xuXG4vKipcbiAqIE91ciBkZWZhdWx0IGxvZ2dlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbnZhciBsb2dnZXIgPSBmdW5jdGlvbiBkZXZudWxsKCkge307XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBuZXcgYWRhcHRlciB0aGF0IHdpbGwgdXNlZCB0byBmaW5kIGVudmlyb25tZW50cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZGFwdGVyIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHJldHVybiB0aGUgcG9zc2libGUgZW52LlxuICogQHJldHVybnMge0Jvb2xlYW59IEluZGljYXRpb24gb2YgYSBzdWNjZXNzZnVsIGFkZC5cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gdXNlKGFkYXB0ZXIpIHtcbiAgaWYgKH5hZGFwdGVycy5pbmRleE9mKGFkYXB0ZXIpKSByZXR1cm4gZmFsc2U7XG5cbiAgYWRhcHRlcnMucHVzaChhZGFwdGVyKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQXNzaWduIGEgbmV3IGxvZyBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9tIFRoZSBsb2cgbWV0aG9kLlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBzZXQoY3VzdG9tKSB7XG4gIGxvZ2dlciA9IGN1c3RvbTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgbmFtZXNwYWNlIGlzIGFsbG93ZWQgYnkgYW55IG9mIG91ciBhZGFwdGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2UgdGhhdCBuZWVkcyB0byBiZSBlbmFibGVkXG4gKiBAcmV0dXJucyB7Qm9vbGVhbnxQcm9taXNlfSBJbmRpY2F0aW9uIGlmIHRoZSBuYW1lc3BhY2UgaXMgZW5hYmxlZCBieSBvdXIgYWRhcHRlcnMuXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZXNwYWNlKSB7XG4gIHZhciBhc3luYyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYWRhcHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYWRhcHRlcnNbaV0uYXN5bmMpIHtcbiAgICAgIGFzeW5jLnB1c2goYWRhcHRlcnNbaV0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGFkYXB0ZXJzW2ldKG5hbWVzcGFjZSkpIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKCFhc3luYy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAvL1xuICAvLyBOb3cgdGhhdCB3ZSBrbm93IHRoYXQgd2UgQXN5bmMgZnVuY3Rpb25zLCB3ZSBrbm93IHdlIHJ1biBpbiBhbiBFUzZcbiAgLy8gZW52aXJvbm1lbnQgYW5kIGNhbiB1c2UgYWxsIHRoZSBBUEkncyB0aGF0IHRoZXkgb2ZmZXIsIGluIHRoaXMgY2FzZVxuICAvLyB3ZSB3YW50IHRvIHJldHVybiBhIFByb21pc2Ugc28gdGhhdCB3ZSBjYW4gYGF3YWl0YCBpbiBSZWFjdC1OYXRpdmVcbiAgLy8gZm9yIGFuIGFzeW5jIGFkYXB0ZXIuXG4gIC8vXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBwaW5reShyZXNvbHZlKSB7XG4gICAgUHJvbWlzZS5hbGwoXG4gICAgICBhc3luYy5tYXAoZnVuY3Rpb24gcHJlYmluZChmbikge1xuICAgICAgICByZXR1cm4gZm4obmFtZXNwYWNlKTtcbiAgICAgIH0pXG4gICAgKS50aGVuKGZ1bmN0aW9uIHJlc29sdmVkKHZhbHVlcykge1xuICAgICAgcmVzb2x2ZSh2YWx1ZXMuc29tZShCb29sZWFuKSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBtZXNzYWdlIG1vZGlmaWVyIHRvIHRoZSBkZWJ1Z2dlci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBNb2RpZmljYXRpb24gZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSW5kaWNhdGlvbiBvZiBhIHN1Y2Nlc3NmdWwgYWRkLlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBtb2RpZnkoZm4pIHtcbiAgaWYgKH5tb2RpZmllcnMuaW5kZXhPZihmbikpIHJldHVybiBmYWxzZTtcblxuICBtb2RpZmllcnMucHVzaChmbik7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFdyaXRlIGRhdGEgdG8gdGhlIHN1cHBsaWVkIGxvZ2dlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbWV0YSBNZXRhIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsb2cuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIEFyZ3VtZW50cyBmb3IgY29uc29sZS5sb2cuXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHdyaXRlKCkge1xuICBsb2dnZXIuYXBwbHkobG9nZ2VyLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFByb2Nlc3MgdGhlIG1lc3NhZ2Ugd2l0aCB0aGUgbW9kaWZpZXJzLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gYmUgdHJhbnNmb3JtZWQgYnkgbW9kaWZlcnMuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUcmFuc2Zvcm1lZCBtZXNzYWdlLlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBwcm9jZXNzKG1lc3NhZ2UpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2RpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICBtZXNzYWdlID0gbW9kaWZpZXJzW2ldLmFwcGx5KG1vZGlmaWVyc1tpXSwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBtZXNzYWdlO1xufVxuXG4vKipcbiAqIEludHJvZHVjZSBvcHRpb25zIHRvIHRoZSBsb2dnZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQ2FsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFByb3BlcnRpZXMgdG8gaW50cm9kdWNlIG9uIGZuLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBUaGUgcGFzc2VkIGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGludHJvZHVjZShmbiwgb3B0aW9ucykge1xuICB2YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucykge1xuICAgIGlmIChoYXMuY2FsbChvcHRpb25zLCBrZXkpKSB7XG4gICAgICBmbltrZXldID0gb3B0aW9uc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBOb3BlLCB3ZSdyZSBub3QgYWxsb3dlZCB0byB3cml0ZSBtZXNzYWdlcy5cbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gZmFsc2VcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gbm9wZShvcHRpb25zKSB7XG4gIG9wdGlvbnMuZW5hYmxlZCA9IGZhbHNlO1xuICBvcHRpb25zLm1vZGlmeSA9IG1vZGlmeTtcbiAgb3B0aW9ucy5zZXQgPSBzZXQ7XG4gIG9wdGlvbnMudXNlID0gdXNlO1xuXG4gIHJldHVybiBpbnRyb2R1Y2UoZnVuY3Rpb24gZGlhZ25vcGVzKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogWWVwLCB3ZSdyZSBhbGxvd2VkIHRvIHdyaXRlIGRlYnVnIG1lc3NhZ2VzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIGZvciB0aGUgcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVGhlIGZ1bmN0aW9uIHRoYXQgZG9lcyB0aGUgbG9nZ2luZy5cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24geWVwKG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIHRoZSBhY3R1YWwgZGVidWcgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBpbmRpY2F0aW9uIHRoYXQgd2UncmUgbG9nZ2luZy5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZnVuY3Rpb24gZGlhZ25vc3RpY3MoKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgd3JpdGUuY2FsbCh3cml0ZSwgb3B0aW9ucywgcHJvY2VzcyhhcmdzLCBvcHRpb25zKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBvcHRpb25zLmVuYWJsZWQgPSB0cnVlO1xuICBvcHRpb25zLm1vZGlmeSA9IG1vZGlmeTtcbiAgb3B0aW9ucy5zZXQgPSBzZXQ7XG4gIG9wdGlvbnMudXNlID0gdXNlO1xuXG4gIHJldHVybiBpbnRyb2R1Y2UoZGlhZ25vc3RpY3MsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFNpbXBsZSBoZWxwZXIgZnVuY3Rpb24gdG8gaW50cm9kdWNlIHZhcmlvdXMgb2YgaGVscGVyIG1ldGhvZHMgdG8gb3VyIGdpdmVuXG4gKiBkaWFnbm9zdGljcyBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaWFnbm9zdGljcyBUaGUgZGlhZ25vc3RpY3MgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IGRpYWdub3N0aWNzXG4gKiBAcHVibGljXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKGRpYWdub3N0aWNzKSB7XG4gIGRpYWdub3N0aWNzLmludHJvZHVjZSA9IGludHJvZHVjZTtcbiAgZGlhZ25vc3RpY3MuZW5hYmxlZCA9IGVuYWJsZWQ7XG4gIGRpYWdub3N0aWNzLnByb2Nlc3MgPSBwcm9jZXNzO1xuICBkaWFnbm9zdGljcy5tb2RpZnkgPSBtb2RpZnk7XG4gIGRpYWdub3N0aWNzLndyaXRlID0gd3JpdGU7XG4gIGRpYWdub3N0aWNzLm5vcGUgPSBub3BlO1xuICBkaWFnbm9zdGljcy55ZXAgPSB5ZXA7XG4gIGRpYWdub3N0aWNzLnNldCA9IHNldDtcbiAgZGlhZ25vc3RpY3MudXNlID0gdXNlO1xuXG4gIHJldHVybiBkaWFnbm9zdGljcztcbn1cbiIsICIndXNlIHN0cmljdCdcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdFwiYWxpY2VibHVlXCI6IFsyNDAsIDI0OCwgMjU1XSxcclxuXHRcImFudGlxdWV3aGl0ZVwiOiBbMjUwLCAyMzUsIDIxNV0sXHJcblx0XCJhcXVhXCI6IFswLCAyNTUsIDI1NV0sXHJcblx0XCJhcXVhbWFyaW5lXCI6IFsxMjcsIDI1NSwgMjEyXSxcclxuXHRcImF6dXJlXCI6IFsyNDAsIDI1NSwgMjU1XSxcclxuXHRcImJlaWdlXCI6IFsyNDUsIDI0NSwgMjIwXSxcclxuXHRcImJpc3F1ZVwiOiBbMjU1LCAyMjgsIDE5Nl0sXHJcblx0XCJibGFja1wiOiBbMCwgMCwgMF0sXHJcblx0XCJibGFuY2hlZGFsbW9uZFwiOiBbMjU1LCAyMzUsIDIwNV0sXHJcblx0XCJibHVlXCI6IFswLCAwLCAyNTVdLFxyXG5cdFwiYmx1ZXZpb2xldFwiOiBbMTM4LCA0MywgMjI2XSxcclxuXHRcImJyb3duXCI6IFsxNjUsIDQyLCA0Ml0sXHJcblx0XCJidXJseXdvb2RcIjogWzIyMiwgMTg0LCAxMzVdLFxyXG5cdFwiY2FkZXRibHVlXCI6IFs5NSwgMTU4LCAxNjBdLFxyXG5cdFwiY2hhcnRyZXVzZVwiOiBbMTI3LCAyNTUsIDBdLFxyXG5cdFwiY2hvY29sYXRlXCI6IFsyMTAsIDEwNSwgMzBdLFxyXG5cdFwiY29yYWxcIjogWzI1NSwgMTI3LCA4MF0sXHJcblx0XCJjb3JuZmxvd2VyYmx1ZVwiOiBbMTAwLCAxNDksIDIzN10sXHJcblx0XCJjb3Juc2lsa1wiOiBbMjU1LCAyNDgsIDIyMF0sXHJcblx0XCJjcmltc29uXCI6IFsyMjAsIDIwLCA2MF0sXHJcblx0XCJjeWFuXCI6IFswLCAyNTUsIDI1NV0sXHJcblx0XCJkYXJrYmx1ZVwiOiBbMCwgMCwgMTM5XSxcclxuXHRcImRhcmtjeWFuXCI6IFswLCAxMzksIDEzOV0sXHJcblx0XCJkYXJrZ29sZGVucm9kXCI6IFsxODQsIDEzNCwgMTFdLFxyXG5cdFwiZGFya2dyYXlcIjogWzE2OSwgMTY5LCAxNjldLFxyXG5cdFwiZGFya2dyZWVuXCI6IFswLCAxMDAsIDBdLFxyXG5cdFwiZGFya2dyZXlcIjogWzE2OSwgMTY5LCAxNjldLFxyXG5cdFwiZGFya2toYWtpXCI6IFsxODksIDE4MywgMTA3XSxcclxuXHRcImRhcmttYWdlbnRhXCI6IFsxMzksIDAsIDEzOV0sXHJcblx0XCJkYXJrb2xpdmVncmVlblwiOiBbODUsIDEwNywgNDddLFxyXG5cdFwiZGFya29yYW5nZVwiOiBbMjU1LCAxNDAsIDBdLFxyXG5cdFwiZGFya29yY2hpZFwiOiBbMTUzLCA1MCwgMjA0XSxcclxuXHRcImRhcmtyZWRcIjogWzEzOSwgMCwgMF0sXHJcblx0XCJkYXJrc2FsbW9uXCI6IFsyMzMsIDE1MCwgMTIyXSxcclxuXHRcImRhcmtzZWFncmVlblwiOiBbMTQzLCAxODgsIDE0M10sXHJcblx0XCJkYXJrc2xhdGVibHVlXCI6IFs3MiwgNjEsIDEzOV0sXHJcblx0XCJkYXJrc2xhdGVncmF5XCI6IFs0NywgNzksIDc5XSxcclxuXHRcImRhcmtzbGF0ZWdyZXlcIjogWzQ3LCA3OSwgNzldLFxyXG5cdFwiZGFya3R1cnF1b2lzZVwiOiBbMCwgMjA2LCAyMDldLFxyXG5cdFwiZGFya3Zpb2xldFwiOiBbMTQ4LCAwLCAyMTFdLFxyXG5cdFwiZGVlcHBpbmtcIjogWzI1NSwgMjAsIDE0N10sXHJcblx0XCJkZWVwc2t5Ymx1ZVwiOiBbMCwgMTkxLCAyNTVdLFxyXG5cdFwiZGltZ3JheVwiOiBbMTA1LCAxMDUsIDEwNV0sXHJcblx0XCJkaW1ncmV5XCI6IFsxMDUsIDEwNSwgMTA1XSxcclxuXHRcImRvZGdlcmJsdWVcIjogWzMwLCAxNDQsIDI1NV0sXHJcblx0XCJmaXJlYnJpY2tcIjogWzE3OCwgMzQsIDM0XSxcclxuXHRcImZsb3JhbHdoaXRlXCI6IFsyNTUsIDI1MCwgMjQwXSxcclxuXHRcImZvcmVzdGdyZWVuXCI6IFszNCwgMTM5LCAzNF0sXHJcblx0XCJmdWNoc2lhXCI6IFsyNTUsIDAsIDI1NV0sXHJcblx0XCJnYWluc2Jvcm9cIjogWzIyMCwgMjIwLCAyMjBdLFxyXG5cdFwiZ2hvc3R3aGl0ZVwiOiBbMjQ4LCAyNDgsIDI1NV0sXHJcblx0XCJnb2xkXCI6IFsyNTUsIDIxNSwgMF0sXHJcblx0XCJnb2xkZW5yb2RcIjogWzIxOCwgMTY1LCAzMl0sXHJcblx0XCJncmF5XCI6IFsxMjgsIDEyOCwgMTI4XSxcclxuXHRcImdyZWVuXCI6IFswLCAxMjgsIDBdLFxyXG5cdFwiZ3JlZW55ZWxsb3dcIjogWzE3MywgMjU1LCA0N10sXHJcblx0XCJncmV5XCI6IFsxMjgsIDEyOCwgMTI4XSxcclxuXHRcImhvbmV5ZGV3XCI6IFsyNDAsIDI1NSwgMjQwXSxcclxuXHRcImhvdHBpbmtcIjogWzI1NSwgMTA1LCAxODBdLFxyXG5cdFwiaW5kaWFucmVkXCI6IFsyMDUsIDkyLCA5Ml0sXHJcblx0XCJpbmRpZ29cIjogWzc1LCAwLCAxMzBdLFxyXG5cdFwiaXZvcnlcIjogWzI1NSwgMjU1LCAyNDBdLFxyXG5cdFwia2hha2lcIjogWzI0MCwgMjMwLCAxNDBdLFxyXG5cdFwibGF2ZW5kZXJcIjogWzIzMCwgMjMwLCAyNTBdLFxyXG5cdFwibGF2ZW5kZXJibHVzaFwiOiBbMjU1LCAyNDAsIDI0NV0sXHJcblx0XCJsYXduZ3JlZW5cIjogWzEyNCwgMjUyLCAwXSxcclxuXHRcImxlbW9uY2hpZmZvblwiOiBbMjU1LCAyNTAsIDIwNV0sXHJcblx0XCJsaWdodGJsdWVcIjogWzE3MywgMjE2LCAyMzBdLFxyXG5cdFwibGlnaHRjb3JhbFwiOiBbMjQwLCAxMjgsIDEyOF0sXHJcblx0XCJsaWdodGN5YW5cIjogWzIyNCwgMjU1LCAyNTVdLFxyXG5cdFwibGlnaHRnb2xkZW5yb2R5ZWxsb3dcIjogWzI1MCwgMjUwLCAyMTBdLFxyXG5cdFwibGlnaHRncmF5XCI6IFsyMTEsIDIxMSwgMjExXSxcclxuXHRcImxpZ2h0Z3JlZW5cIjogWzE0NCwgMjM4LCAxNDRdLFxyXG5cdFwibGlnaHRncmV5XCI6IFsyMTEsIDIxMSwgMjExXSxcclxuXHRcImxpZ2h0cGlua1wiOiBbMjU1LCAxODIsIDE5M10sXHJcblx0XCJsaWdodHNhbG1vblwiOiBbMjU1LCAxNjAsIDEyMl0sXHJcblx0XCJsaWdodHNlYWdyZWVuXCI6IFszMiwgMTc4LCAxNzBdLFxyXG5cdFwibGlnaHRza3libHVlXCI6IFsxMzUsIDIwNiwgMjUwXSxcclxuXHRcImxpZ2h0c2xhdGVncmF5XCI6IFsxMTksIDEzNiwgMTUzXSxcclxuXHRcImxpZ2h0c2xhdGVncmV5XCI6IFsxMTksIDEzNiwgMTUzXSxcclxuXHRcImxpZ2h0c3RlZWxibHVlXCI6IFsxNzYsIDE5NiwgMjIyXSxcclxuXHRcImxpZ2h0eWVsbG93XCI6IFsyNTUsIDI1NSwgMjI0XSxcclxuXHRcImxpbWVcIjogWzAsIDI1NSwgMF0sXHJcblx0XCJsaW1lZ3JlZW5cIjogWzUwLCAyMDUsIDUwXSxcclxuXHRcImxpbmVuXCI6IFsyNTAsIDI0MCwgMjMwXSxcclxuXHRcIm1hZ2VudGFcIjogWzI1NSwgMCwgMjU1XSxcclxuXHRcIm1hcm9vblwiOiBbMTI4LCAwLCAwXSxcclxuXHRcIm1lZGl1bWFxdWFtYXJpbmVcIjogWzEwMiwgMjA1LCAxNzBdLFxyXG5cdFwibWVkaXVtYmx1ZVwiOiBbMCwgMCwgMjA1XSxcclxuXHRcIm1lZGl1bW9yY2hpZFwiOiBbMTg2LCA4NSwgMjExXSxcclxuXHRcIm1lZGl1bXB1cnBsZVwiOiBbMTQ3LCAxMTIsIDIxOV0sXHJcblx0XCJtZWRpdW1zZWFncmVlblwiOiBbNjAsIDE3OSwgMTEzXSxcclxuXHRcIm1lZGl1bXNsYXRlYmx1ZVwiOiBbMTIzLCAxMDQsIDIzOF0sXHJcblx0XCJtZWRpdW1zcHJpbmdncmVlblwiOiBbMCwgMjUwLCAxNTRdLFxyXG5cdFwibWVkaXVtdHVycXVvaXNlXCI6IFs3MiwgMjA5LCAyMDRdLFxyXG5cdFwibWVkaXVtdmlvbGV0cmVkXCI6IFsxOTksIDIxLCAxMzNdLFxyXG5cdFwibWlkbmlnaHRibHVlXCI6IFsyNSwgMjUsIDExMl0sXHJcblx0XCJtaW50Y3JlYW1cIjogWzI0NSwgMjU1LCAyNTBdLFxyXG5cdFwibWlzdHlyb3NlXCI6IFsyNTUsIDIyOCwgMjI1XSxcclxuXHRcIm1vY2Nhc2luXCI6IFsyNTUsIDIyOCwgMTgxXSxcclxuXHRcIm5hdmFqb3doaXRlXCI6IFsyNTUsIDIyMiwgMTczXSxcclxuXHRcIm5hdnlcIjogWzAsIDAsIDEyOF0sXHJcblx0XCJvbGRsYWNlXCI6IFsyNTMsIDI0NSwgMjMwXSxcclxuXHRcIm9saXZlXCI6IFsxMjgsIDEyOCwgMF0sXHJcblx0XCJvbGl2ZWRyYWJcIjogWzEwNywgMTQyLCAzNV0sXHJcblx0XCJvcmFuZ2VcIjogWzI1NSwgMTY1LCAwXSxcclxuXHRcIm9yYW5nZXJlZFwiOiBbMjU1LCA2OSwgMF0sXHJcblx0XCJvcmNoaWRcIjogWzIxOCwgMTEyLCAyMTRdLFxyXG5cdFwicGFsZWdvbGRlbnJvZFwiOiBbMjM4LCAyMzIsIDE3MF0sXHJcblx0XCJwYWxlZ3JlZW5cIjogWzE1MiwgMjUxLCAxNTJdLFxyXG5cdFwicGFsZXR1cnF1b2lzZVwiOiBbMTc1LCAyMzgsIDIzOF0sXHJcblx0XCJwYWxldmlvbGV0cmVkXCI6IFsyMTksIDExMiwgMTQ3XSxcclxuXHRcInBhcGF5YXdoaXBcIjogWzI1NSwgMjM5LCAyMTNdLFxyXG5cdFwicGVhY2hwdWZmXCI6IFsyNTUsIDIxOCwgMTg1XSxcclxuXHRcInBlcnVcIjogWzIwNSwgMTMzLCA2M10sXHJcblx0XCJwaW5rXCI6IFsyNTUsIDE5MiwgMjAzXSxcclxuXHRcInBsdW1cIjogWzIyMSwgMTYwLCAyMjFdLFxyXG5cdFwicG93ZGVyYmx1ZVwiOiBbMTc2LCAyMjQsIDIzMF0sXHJcblx0XCJwdXJwbGVcIjogWzEyOCwgMCwgMTI4XSxcclxuXHRcInJlYmVjY2FwdXJwbGVcIjogWzEwMiwgNTEsIDE1M10sXHJcblx0XCJyZWRcIjogWzI1NSwgMCwgMF0sXHJcblx0XCJyb3N5YnJvd25cIjogWzE4OCwgMTQzLCAxNDNdLFxyXG5cdFwicm95YWxibHVlXCI6IFs2NSwgMTA1LCAyMjVdLFxyXG5cdFwic2FkZGxlYnJvd25cIjogWzEzOSwgNjksIDE5XSxcclxuXHRcInNhbG1vblwiOiBbMjUwLCAxMjgsIDExNF0sXHJcblx0XCJzYW5keWJyb3duXCI6IFsyNDQsIDE2NCwgOTZdLFxyXG5cdFwic2VhZ3JlZW5cIjogWzQ2LCAxMzksIDg3XSxcclxuXHRcInNlYXNoZWxsXCI6IFsyNTUsIDI0NSwgMjM4XSxcclxuXHRcInNpZW5uYVwiOiBbMTYwLCA4MiwgNDVdLFxyXG5cdFwic2lsdmVyXCI6IFsxOTIsIDE5MiwgMTkyXSxcclxuXHRcInNreWJsdWVcIjogWzEzNSwgMjA2LCAyMzVdLFxyXG5cdFwic2xhdGVibHVlXCI6IFsxMDYsIDkwLCAyMDVdLFxyXG5cdFwic2xhdGVncmF5XCI6IFsxMTIsIDEyOCwgMTQ0XSxcclxuXHRcInNsYXRlZ3JleVwiOiBbMTEyLCAxMjgsIDE0NF0sXHJcblx0XCJzbm93XCI6IFsyNTUsIDI1MCwgMjUwXSxcclxuXHRcInNwcmluZ2dyZWVuXCI6IFswLCAyNTUsIDEyN10sXHJcblx0XCJzdGVlbGJsdWVcIjogWzcwLCAxMzAsIDE4MF0sXHJcblx0XCJ0YW5cIjogWzIxMCwgMTgwLCAxNDBdLFxyXG5cdFwidGVhbFwiOiBbMCwgMTI4LCAxMjhdLFxyXG5cdFwidGhpc3RsZVwiOiBbMjE2LCAxOTEsIDIxNl0sXHJcblx0XCJ0b21hdG9cIjogWzI1NSwgOTksIDcxXSxcclxuXHRcInR1cnF1b2lzZVwiOiBbNjQsIDIyNCwgMjA4XSxcclxuXHRcInZpb2xldFwiOiBbMjM4LCAxMzAsIDIzOF0sXHJcblx0XCJ3aGVhdFwiOiBbMjQ1LCAyMjIsIDE3OV0sXHJcblx0XCJ3aGl0ZVwiOiBbMjU1LCAyNTUsIDI1NV0sXHJcblx0XCJ3aGl0ZXNtb2tlXCI6IFsyNDUsIDI0NSwgMjQ1XSxcclxuXHRcInllbGxvd1wiOiBbMjU1LCAyNTUsIDBdLFxyXG5cdFwieWVsbG93Z3JlZW5cIjogWzE1NCwgMjA1LCA1MF1cclxufTtcclxuIiwgIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBcnJheWlzaChvYmopIHtcblx0aWYgKCFvYmogfHwgdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gb2JqIGluc3RhbmNlb2YgQXJyYXkgfHwgQXJyYXkuaXNBcnJheShvYmopIHx8XG5cdFx0KG9iai5sZW5ndGggPj0gMCAmJiAob2JqLnNwbGljZSBpbnN0YW5jZW9mIEZ1bmN0aW9uIHx8XG5cdFx0XHQoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIChvYmoubGVuZ3RoIC0gMSkpICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnU3RyaW5nJykpKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBcnJheWlzaCA9IHJlcXVpcmUoJ2lzLWFycmF5aXNoJyk7XG5cbnZhciBjb25jYXQgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0O1xudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG52YXIgc3dpenpsZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3dpenpsZShhcmdzKSB7XG5cdHZhciByZXN1bHRzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHR2YXIgYXJnID0gYXJnc1tpXTtcblxuXHRcdGlmIChpc0FycmF5aXNoKGFyZykpIHtcblx0XHRcdC8vIGh0dHA6Ly9qc3BlcmYuY29tL2phdmFzY3JpcHQtYXJyYXktY29uY2F0LXZzLXB1c2gvOThcblx0XHRcdHJlc3VsdHMgPSBjb25jYXQuY2FsbChyZXN1bHRzLCBzbGljZS5jYWxsKGFyZykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHRzLnB1c2goYXJnKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbnN3aXp6bGUud3JhcCA9IGZ1bmN0aW9uIChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBmbihzd2l6emxlKGFyZ3VtZW50cykpO1xuXHR9O1xufTtcbiIsICIvKiBNSVQgbGljZW5zZSAqL1xudmFyIGNvbG9yTmFtZXMgPSByZXF1aXJlKCdjb2xvci1uYW1lJyk7XG52YXIgc3dpenpsZSA9IHJlcXVpcmUoJ3NpbXBsZS1zd2l6emxlJyk7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QuaGFzT3duUHJvcGVydHk7XG5cbnZhciByZXZlcnNlTmFtZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vLyBjcmVhdGUgYSBsaXN0IG9mIHJldmVyc2UgY29sb3IgbmFtZXNcbmZvciAodmFyIG5hbWUgaW4gY29sb3JOYW1lcykge1xuXHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb2xvck5hbWVzLCBuYW1lKSkge1xuXHRcdHJldmVyc2VOYW1lc1tjb2xvck5hbWVzW25hbWVdXSA9IG5hbWU7XG5cdH1cbn1cblxudmFyIGNzID0gbW9kdWxlLmV4cG9ydHMgPSB7XG5cdHRvOiB7fSxcblx0Z2V0OiB7fVxufTtcblxuY3MuZ2V0ID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHR2YXIgcHJlZml4ID0gc3RyaW5nLnN1YnN0cmluZygwLCAzKS50b0xvd2VyQ2FzZSgpO1xuXHR2YXIgdmFsO1xuXHR2YXIgbW9kZWw7XG5cdHN3aXRjaCAocHJlZml4KSB7XG5cdFx0Y2FzZSAnaHNsJzpcblx0XHRcdHZhbCA9IGNzLmdldC5oc2woc3RyaW5nKTtcblx0XHRcdG1vZGVsID0gJ2hzbCc7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdod2InOlxuXHRcdFx0dmFsID0gY3MuZ2V0Lmh3YihzdHJpbmcpO1xuXHRcdFx0bW9kZWwgPSAnaHdiJztcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR2YWwgPSBjcy5nZXQucmdiKHN0cmluZyk7XG5cdFx0XHRtb2RlbCA9ICdyZ2InO1xuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRpZiAoIXZhbCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIHttb2RlbDogbW9kZWwsIHZhbHVlOiB2YWx9O1xufTtcblxuY3MuZ2V0LnJnYiA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0aWYgKCFzdHJpbmcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHZhciBhYmJyID0gL14jKFthLWYwLTldezMsNH0pJC9pO1xuXHR2YXIgaGV4ID0gL14jKFthLWYwLTldezZ9KShbYS1mMC05XXsyfSk/JC9pO1xuXHR2YXIgcmdiYSA9IC9ecmdiYT9cXChcXHMqKFsrLV0/XFxkKykoPz1bXFxzLF0pXFxzKig/OixcXHMqKT8oWystXT9cXGQrKSg/PVtcXHMsXSlcXHMqKD86LFxccyopPyhbKy1dP1xcZCspXFxzKig/OlssfFxcL11cXHMqKFsrLV0/W1xcZFxcLl0rKSglPylcXHMqKT9cXCkkLztcblx0dmFyIHBlciA9IC9ecmdiYT9cXChcXHMqKFsrLV0/W1xcZFxcLl0rKVxcJVxccyosP1xccyooWystXT9bXFxkXFwuXSspXFwlXFxzKiw/XFxzKihbKy1dP1tcXGRcXC5dKylcXCVcXHMqKD86Wyx8XFwvXVxccyooWystXT9bXFxkXFwuXSspKCU/KVxccyopP1xcKSQvO1xuXHR2YXIga2V5d29yZCA9IC9eKFxcdyspJC87XG5cblx0dmFyIHJnYiA9IFswLCAwLCAwLCAxXTtcblx0dmFyIG1hdGNoO1xuXHR2YXIgaTtcblx0dmFyIGhleEFscGhhO1xuXG5cdGlmIChtYXRjaCA9IHN0cmluZy5tYXRjaChoZXgpKSB7XG5cdFx0aGV4QWxwaGEgPSBtYXRjaFsyXTtcblx0XHRtYXRjaCA9IG1hdGNoWzFdO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3NsaWNlLXZzLXN1YnN0ci12cy1zdWJzdHJpbmctbWV0aG9kcy1sb25nLXN0cmluZy8xOVxuXHRcdFx0dmFyIGkyID0gaSAqIDI7XG5cdFx0XHRyZ2JbaV0gPSBwYXJzZUludChtYXRjaC5zbGljZShpMiwgaTIgKyAyKSwgMTYpO1xuXHRcdH1cblxuXHRcdGlmIChoZXhBbHBoYSkge1xuXHRcdFx0cmdiWzNdID0gcGFyc2VJbnQoaGV4QWxwaGEsIDE2KSAvIDI1NTtcblx0XHR9XG5cdH0gZWxzZSBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goYWJicikpIHtcblx0XHRtYXRjaCA9IG1hdGNoWzFdO1xuXHRcdGhleEFscGhhID0gbWF0Y2hbM107XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG5cdFx0XHRyZ2JbaV0gPSBwYXJzZUludChtYXRjaFtpXSArIG1hdGNoW2ldLCAxNik7XG5cdFx0fVxuXG5cdFx0aWYgKGhleEFscGhhKSB7XG5cdFx0XHRyZ2JbM10gPSBwYXJzZUludChoZXhBbHBoYSArIGhleEFscGhhLCAxNikgLyAyNTU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKHJnYmEpKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0cmdiW2ldID0gcGFyc2VJbnQobWF0Y2hbaSArIDFdLCAwKTtcblx0XHR9XG5cblx0XHRpZiAobWF0Y2hbNF0pIHtcblx0XHRcdGlmIChtYXRjaFs1XSkge1xuXHRcdFx0XHRyZ2JbM10gPSBwYXJzZUZsb2F0KG1hdGNoWzRdKSAqIDAuMDE7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZ2JbM10gPSBwYXJzZUZsb2F0KG1hdGNoWzRdKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2gocGVyKSkge1xuXHRcdGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRcdHJnYltpXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChtYXRjaFtpICsgMV0pICogMi41NSk7XG5cdFx0fVxuXG5cdFx0aWYgKG1hdGNoWzRdKSB7XG5cdFx0XHRpZiAobWF0Y2hbNV0pIHtcblx0XHRcdFx0cmdiWzNdID0gcGFyc2VGbG9hdChtYXRjaFs0XSkgKiAwLjAxO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmdiWzNdID0gcGFyc2VGbG9hdChtYXRjaFs0XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKGtleXdvcmQpKSB7XG5cdFx0aWYgKG1hdGNoWzFdID09PSAndHJhbnNwYXJlbnQnKSB7XG5cdFx0XHRyZXR1cm4gWzAsIDAsIDAsIDBdO1xuXHRcdH1cblxuXHRcdGlmICghaGFzT3duUHJvcGVydHkuY2FsbChjb2xvck5hbWVzLCBtYXRjaFsxXSkpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHJnYiA9IGNvbG9yTmFtZXNbbWF0Y2hbMV1dO1xuXHRcdHJnYlszXSA9IDE7XG5cblx0XHRyZXR1cm4gcmdiO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Zm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdHJnYltpXSA9IGNsYW1wKHJnYltpXSwgMCwgMjU1KTtcblx0fVxuXHRyZ2JbM10gPSBjbGFtcChyZ2JbM10sIDAsIDEpO1xuXG5cdHJldHVybiByZ2I7XG59O1xuXG5jcy5nZXQuaHNsID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHRpZiAoIXN0cmluZykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0dmFyIGhzbCA9IC9eaHNsYT9cXChcXHMqKFsrLV0/KD86XFxkezAsM31cXC4pP1xcZCspKD86ZGVnKT9cXHMqLD9cXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqLD9cXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqKD86Wyx8XFwvXVxccyooWystXT8oPz1cXC5cXGR8XFxkKSg/OjB8WzEtOV1cXGQqKT8oPzpcXC5cXGQqKT8oPzpbZUVdWystXT9cXGQrKT8pXFxzKik/XFwpJC87XG5cdHZhciBtYXRjaCA9IHN0cmluZy5tYXRjaChoc2wpO1xuXG5cdGlmIChtYXRjaCkge1xuXHRcdHZhciBhbHBoYSA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pO1xuXHRcdHZhciBoID0gKChwYXJzZUZsb2F0KG1hdGNoWzFdKSAlIDM2MCkgKyAzNjApICUgMzYwO1xuXHRcdHZhciBzID0gY2xhbXAocGFyc2VGbG9hdChtYXRjaFsyXSksIDAsIDEwMCk7XG5cdFx0dmFyIGwgPSBjbGFtcChwYXJzZUZsb2F0KG1hdGNoWzNdKSwgMCwgMTAwKTtcblx0XHR2YXIgYSA9IGNsYW1wKGlzTmFOKGFscGhhKSA/IDEgOiBhbHBoYSwgMCwgMSk7XG5cblx0XHRyZXR1cm4gW2gsIHMsIGwsIGFdO1xuXHR9XG5cblx0cmV0dXJuIG51bGw7XG59O1xuXG5jcy5nZXQuaHdiID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHRpZiAoIXN0cmluZykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0dmFyIGh3YiA9IC9eaHdiXFwoXFxzKihbKy1dP1xcZHswLDN9KD86XFwuXFxkKyk/KSg/OmRlZyk/XFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyooPzosXFxzKihbKy1dPyg/PVxcLlxcZHxcXGQpKD86MHxbMS05XVxcZCopPyg/OlxcLlxcZCopPyg/OltlRV1bKy1dP1xcZCspPylcXHMqKT9cXCkkLztcblx0dmFyIG1hdGNoID0gc3RyaW5nLm1hdGNoKGh3Yik7XG5cblx0aWYgKG1hdGNoKSB7XG5cdFx0dmFyIGFscGhhID0gcGFyc2VGbG9hdChtYXRjaFs0XSk7XG5cdFx0dmFyIGggPSAoKHBhcnNlRmxvYXQobWF0Y2hbMV0pICUgMzYwKSArIDM2MCkgJSAzNjA7XG5cdFx0dmFyIHcgPSBjbGFtcChwYXJzZUZsb2F0KG1hdGNoWzJdKSwgMCwgMTAwKTtcblx0XHR2YXIgYiA9IGNsYW1wKHBhcnNlRmxvYXQobWF0Y2hbM10pLCAwLCAxMDApO1xuXHRcdHZhciBhID0gY2xhbXAoaXNOYU4oYWxwaGEpID8gMSA6IGFscGhhLCAwLCAxKTtcblx0XHRyZXR1cm4gW2gsIHcsIGIsIGFdO1xuXHR9XG5cblx0cmV0dXJuIG51bGw7XG59O1xuXG5jcy50by5oZXggPSBmdW5jdGlvbiAoKSB7XG5cdHZhciByZ2JhID0gc3dpenpsZShhcmd1bWVudHMpO1xuXG5cdHJldHVybiAoXG5cdFx0JyMnICtcblx0XHRoZXhEb3VibGUocmdiYVswXSkgK1xuXHRcdGhleERvdWJsZShyZ2JhWzFdKSArXG5cdFx0aGV4RG91YmxlKHJnYmFbMl0pICtcblx0XHQocmdiYVszXSA8IDFcblx0XHRcdD8gKGhleERvdWJsZShNYXRoLnJvdW5kKHJnYmFbM10gKiAyNTUpKSlcblx0XHRcdDogJycpXG5cdCk7XG59O1xuXG5jcy50by5yZ2IgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciByZ2JhID0gc3dpenpsZShhcmd1bWVudHMpO1xuXG5cdHJldHVybiByZ2JhLmxlbmd0aCA8IDQgfHwgcmdiYVszXSA9PT0gMVxuXHRcdD8gJ3JnYignICsgTWF0aC5yb3VuZChyZ2JhWzBdKSArICcsICcgKyBNYXRoLnJvdW5kKHJnYmFbMV0pICsgJywgJyArIE1hdGgucm91bmQocmdiYVsyXSkgKyAnKSdcblx0XHQ6ICdyZ2JhKCcgKyBNYXRoLnJvdW5kKHJnYmFbMF0pICsgJywgJyArIE1hdGgucm91bmQocmdiYVsxXSkgKyAnLCAnICsgTWF0aC5yb3VuZChyZ2JhWzJdKSArICcsICcgKyByZ2JhWzNdICsgJyknO1xufTtcblxuY3MudG8ucmdiLnBlcmNlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciByZ2JhID0gc3dpenpsZShhcmd1bWVudHMpO1xuXG5cdHZhciByID0gTWF0aC5yb3VuZChyZ2JhWzBdIC8gMjU1ICogMTAwKTtcblx0dmFyIGcgPSBNYXRoLnJvdW5kKHJnYmFbMV0gLyAyNTUgKiAxMDApO1xuXHR2YXIgYiA9IE1hdGgucm91bmQocmdiYVsyXSAvIDI1NSAqIDEwMCk7XG5cblx0cmV0dXJuIHJnYmEubGVuZ3RoIDwgNCB8fCByZ2JhWzNdID09PSAxXG5cdFx0PyAncmdiKCcgKyByICsgJyUsICcgKyBnICsgJyUsICcgKyBiICsgJyUpJ1xuXHRcdDogJ3JnYmEoJyArIHIgKyAnJSwgJyArIGcgKyAnJSwgJyArIGIgKyAnJSwgJyArIHJnYmFbM10gKyAnKSc7XG59O1xuXG5jcy50by5oc2wgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBoc2xhID0gc3dpenpsZShhcmd1bWVudHMpO1xuXHRyZXR1cm4gaHNsYS5sZW5ndGggPCA0IHx8IGhzbGFbM10gPT09IDFcblx0XHQ/ICdoc2woJyArIGhzbGFbMF0gKyAnLCAnICsgaHNsYVsxXSArICclLCAnICsgaHNsYVsyXSArICclKSdcblx0XHQ6ICdoc2xhKCcgKyBoc2xhWzBdICsgJywgJyArIGhzbGFbMV0gKyAnJSwgJyArIGhzbGFbMl0gKyAnJSwgJyArIGhzbGFbM10gKyAnKSc7XG59O1xuXG4vLyBod2IgaXMgYSBiaXQgZGlmZmVyZW50IHRoYW4gcmdiKGEpICYgaHNsKGEpIHNpbmNlIHRoZXJlIGlzIG5vIGFscGhhIHNwZWNpZmljIHN5bnRheFxuLy8gKGh3YiBoYXZlIGFscGhhIG9wdGlvbmFsICYgMSBpcyBkZWZhdWx0IHZhbHVlKVxuY3MudG8uaHdiID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgaHdiYSA9IHN3aXp6bGUoYXJndW1lbnRzKTtcblxuXHR2YXIgYSA9ICcnO1xuXHRpZiAoaHdiYS5sZW5ndGggPj0gNCAmJiBod2JhWzNdICE9PSAxKSB7XG5cdFx0YSA9ICcsICcgKyBod2JhWzNdO1xuXHR9XG5cblx0cmV0dXJuICdod2IoJyArIGh3YmFbMF0gKyAnLCAnICsgaHdiYVsxXSArICclLCAnICsgaHdiYVsyXSArICclJyArIGEgKyAnKSc7XG59O1xuXG5jcy50by5rZXl3b3JkID0gZnVuY3Rpb24gKHJnYikge1xuXHRyZXR1cm4gcmV2ZXJzZU5hbWVzW3JnYi5zbGljZSgwLCAzKV07XG59O1xuXG4vLyBoZWxwZXJzXG5mdW5jdGlvbiBjbGFtcChudW0sIG1pbiwgbWF4KSB7XG5cdHJldHVybiBNYXRoLm1pbihNYXRoLm1heChtaW4sIG51bSksIG1heCk7XG59XG5cbmZ1bmN0aW9uIGhleERvdWJsZShudW0pIHtcblx0dmFyIHN0ciA9IE1hdGgucm91bmQobnVtKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblx0cmV0dXJuIChzdHIubGVuZ3RoIDwgMikgPyAnMCcgKyBzdHIgOiBzdHI7XG59XG4iLCAiJ3VzZSBzdHJpY3QnXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRcImFsaWNlYmx1ZVwiOiBbMjQwLCAyNDgsIDI1NV0sXHJcblx0XCJhbnRpcXVld2hpdGVcIjogWzI1MCwgMjM1LCAyMTVdLFxyXG5cdFwiYXF1YVwiOiBbMCwgMjU1LCAyNTVdLFxyXG5cdFwiYXF1YW1hcmluZVwiOiBbMTI3LCAyNTUsIDIxMl0sXHJcblx0XCJhenVyZVwiOiBbMjQwLCAyNTUsIDI1NV0sXHJcblx0XCJiZWlnZVwiOiBbMjQ1LCAyNDUsIDIyMF0sXHJcblx0XCJiaXNxdWVcIjogWzI1NSwgMjI4LCAxOTZdLFxyXG5cdFwiYmxhY2tcIjogWzAsIDAsIDBdLFxyXG5cdFwiYmxhbmNoZWRhbG1vbmRcIjogWzI1NSwgMjM1LCAyMDVdLFxyXG5cdFwiYmx1ZVwiOiBbMCwgMCwgMjU1XSxcclxuXHRcImJsdWV2aW9sZXRcIjogWzEzOCwgNDMsIDIyNl0sXHJcblx0XCJicm93blwiOiBbMTY1LCA0MiwgNDJdLFxyXG5cdFwiYnVybHl3b29kXCI6IFsyMjIsIDE4NCwgMTM1XSxcclxuXHRcImNhZGV0Ymx1ZVwiOiBbOTUsIDE1OCwgMTYwXSxcclxuXHRcImNoYXJ0cmV1c2VcIjogWzEyNywgMjU1LCAwXSxcclxuXHRcImNob2NvbGF0ZVwiOiBbMjEwLCAxMDUsIDMwXSxcclxuXHRcImNvcmFsXCI6IFsyNTUsIDEyNywgODBdLFxyXG5cdFwiY29ybmZsb3dlcmJsdWVcIjogWzEwMCwgMTQ5LCAyMzddLFxyXG5cdFwiY29ybnNpbGtcIjogWzI1NSwgMjQ4LCAyMjBdLFxyXG5cdFwiY3JpbXNvblwiOiBbMjIwLCAyMCwgNjBdLFxyXG5cdFwiY3lhblwiOiBbMCwgMjU1LCAyNTVdLFxyXG5cdFwiZGFya2JsdWVcIjogWzAsIDAsIDEzOV0sXHJcblx0XCJkYXJrY3lhblwiOiBbMCwgMTM5LCAxMzldLFxyXG5cdFwiZGFya2dvbGRlbnJvZFwiOiBbMTg0LCAxMzQsIDExXSxcclxuXHRcImRhcmtncmF5XCI6IFsxNjksIDE2OSwgMTY5XSxcclxuXHRcImRhcmtncmVlblwiOiBbMCwgMTAwLCAwXSxcclxuXHRcImRhcmtncmV5XCI6IFsxNjksIDE2OSwgMTY5XSxcclxuXHRcImRhcmtraGFraVwiOiBbMTg5LCAxODMsIDEwN10sXHJcblx0XCJkYXJrbWFnZW50YVwiOiBbMTM5LCAwLCAxMzldLFxyXG5cdFwiZGFya29saXZlZ3JlZW5cIjogWzg1LCAxMDcsIDQ3XSxcclxuXHRcImRhcmtvcmFuZ2VcIjogWzI1NSwgMTQwLCAwXSxcclxuXHRcImRhcmtvcmNoaWRcIjogWzE1MywgNTAsIDIwNF0sXHJcblx0XCJkYXJrcmVkXCI6IFsxMzksIDAsIDBdLFxyXG5cdFwiZGFya3NhbG1vblwiOiBbMjMzLCAxNTAsIDEyMl0sXHJcblx0XCJkYXJrc2VhZ3JlZW5cIjogWzE0MywgMTg4LCAxNDNdLFxyXG5cdFwiZGFya3NsYXRlYmx1ZVwiOiBbNzIsIDYxLCAxMzldLFxyXG5cdFwiZGFya3NsYXRlZ3JheVwiOiBbNDcsIDc5LCA3OV0sXHJcblx0XCJkYXJrc2xhdGVncmV5XCI6IFs0NywgNzksIDc5XSxcclxuXHRcImRhcmt0dXJxdW9pc2VcIjogWzAsIDIwNiwgMjA5XSxcclxuXHRcImRhcmt2aW9sZXRcIjogWzE0OCwgMCwgMjExXSxcclxuXHRcImRlZXBwaW5rXCI6IFsyNTUsIDIwLCAxNDddLFxyXG5cdFwiZGVlcHNreWJsdWVcIjogWzAsIDE5MSwgMjU1XSxcclxuXHRcImRpbWdyYXlcIjogWzEwNSwgMTA1LCAxMDVdLFxyXG5cdFwiZGltZ3JleVwiOiBbMTA1LCAxMDUsIDEwNV0sXHJcblx0XCJkb2RnZXJibHVlXCI6IFszMCwgMTQ0LCAyNTVdLFxyXG5cdFwiZmlyZWJyaWNrXCI6IFsxNzgsIDM0LCAzNF0sXHJcblx0XCJmbG9yYWx3aGl0ZVwiOiBbMjU1LCAyNTAsIDI0MF0sXHJcblx0XCJmb3Jlc3RncmVlblwiOiBbMzQsIDEzOSwgMzRdLFxyXG5cdFwiZnVjaHNpYVwiOiBbMjU1LCAwLCAyNTVdLFxyXG5cdFwiZ2FpbnNib3JvXCI6IFsyMjAsIDIyMCwgMjIwXSxcclxuXHRcImdob3N0d2hpdGVcIjogWzI0OCwgMjQ4LCAyNTVdLFxyXG5cdFwiZ29sZFwiOiBbMjU1LCAyMTUsIDBdLFxyXG5cdFwiZ29sZGVucm9kXCI6IFsyMTgsIDE2NSwgMzJdLFxyXG5cdFwiZ3JheVwiOiBbMTI4LCAxMjgsIDEyOF0sXHJcblx0XCJncmVlblwiOiBbMCwgMTI4LCAwXSxcclxuXHRcImdyZWVueWVsbG93XCI6IFsxNzMsIDI1NSwgNDddLFxyXG5cdFwiZ3JleVwiOiBbMTI4LCAxMjgsIDEyOF0sXHJcblx0XCJob25leWRld1wiOiBbMjQwLCAyNTUsIDI0MF0sXHJcblx0XCJob3RwaW5rXCI6IFsyNTUsIDEwNSwgMTgwXSxcclxuXHRcImluZGlhbnJlZFwiOiBbMjA1LCA5MiwgOTJdLFxyXG5cdFwiaW5kaWdvXCI6IFs3NSwgMCwgMTMwXSxcclxuXHRcIml2b3J5XCI6IFsyNTUsIDI1NSwgMjQwXSxcclxuXHRcImtoYWtpXCI6IFsyNDAsIDIzMCwgMTQwXSxcclxuXHRcImxhdmVuZGVyXCI6IFsyMzAsIDIzMCwgMjUwXSxcclxuXHRcImxhdmVuZGVyYmx1c2hcIjogWzI1NSwgMjQwLCAyNDVdLFxyXG5cdFwibGF3bmdyZWVuXCI6IFsxMjQsIDI1MiwgMF0sXHJcblx0XCJsZW1vbmNoaWZmb25cIjogWzI1NSwgMjUwLCAyMDVdLFxyXG5cdFwibGlnaHRibHVlXCI6IFsxNzMsIDIxNiwgMjMwXSxcclxuXHRcImxpZ2h0Y29yYWxcIjogWzI0MCwgMTI4LCAxMjhdLFxyXG5cdFwibGlnaHRjeWFuXCI6IFsyMjQsIDI1NSwgMjU1XSxcclxuXHRcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsIDI1MCwgMjEwXSxcclxuXHRcImxpZ2h0Z3JheVwiOiBbMjExLCAyMTEsIDIxMV0sXHJcblx0XCJsaWdodGdyZWVuXCI6IFsxNDQsIDIzOCwgMTQ0XSxcclxuXHRcImxpZ2h0Z3JleVwiOiBbMjExLCAyMTEsIDIxMV0sXHJcblx0XCJsaWdodHBpbmtcIjogWzI1NSwgMTgyLCAxOTNdLFxyXG5cdFwibGlnaHRzYWxtb25cIjogWzI1NSwgMTYwLCAxMjJdLFxyXG5cdFwibGlnaHRzZWFncmVlblwiOiBbMzIsIDE3OCwgMTcwXSxcclxuXHRcImxpZ2h0c2t5Ymx1ZVwiOiBbMTM1LCAyMDYsIDI1MF0sXHJcblx0XCJsaWdodHNsYXRlZ3JheVwiOiBbMTE5LCAxMzYsIDE1M10sXHJcblx0XCJsaWdodHNsYXRlZ3JleVwiOiBbMTE5LCAxMzYsIDE1M10sXHJcblx0XCJsaWdodHN0ZWVsYmx1ZVwiOiBbMTc2LCAxOTYsIDIyMl0sXHJcblx0XCJsaWdodHllbGxvd1wiOiBbMjU1LCAyNTUsIDIyNF0sXHJcblx0XCJsaW1lXCI6IFswLCAyNTUsIDBdLFxyXG5cdFwibGltZWdyZWVuXCI6IFs1MCwgMjA1LCA1MF0sXHJcblx0XCJsaW5lblwiOiBbMjUwLCAyNDAsIDIzMF0sXHJcblx0XCJtYWdlbnRhXCI6IFsyNTUsIDAsIDI1NV0sXHJcblx0XCJtYXJvb25cIjogWzEyOCwgMCwgMF0sXHJcblx0XCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsIDIwNSwgMTcwXSxcclxuXHRcIm1lZGl1bWJsdWVcIjogWzAsIDAsIDIwNV0sXHJcblx0XCJtZWRpdW1vcmNoaWRcIjogWzE4NiwgODUsIDIxMV0sXHJcblx0XCJtZWRpdW1wdXJwbGVcIjogWzE0NywgMTEyLCAyMTldLFxyXG5cdFwibWVkaXVtc2VhZ3JlZW5cIjogWzYwLCAxNzksIDExM10sXHJcblx0XCJtZWRpdW1zbGF0ZWJsdWVcIjogWzEyMywgMTA0LCAyMzhdLFxyXG5cdFwibWVkaXVtc3ByaW5nZ3JlZW5cIjogWzAsIDI1MCwgMTU0XSxcclxuXHRcIm1lZGl1bXR1cnF1b2lzZVwiOiBbNzIsIDIwOSwgMjA0XSxcclxuXHRcIm1lZGl1bXZpb2xldHJlZFwiOiBbMTk5LCAyMSwgMTMzXSxcclxuXHRcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsIDI1LCAxMTJdLFxyXG5cdFwibWludGNyZWFtXCI6IFsyNDUsIDI1NSwgMjUwXSxcclxuXHRcIm1pc3R5cm9zZVwiOiBbMjU1LCAyMjgsIDIyNV0sXHJcblx0XCJtb2NjYXNpblwiOiBbMjU1LCAyMjgsIDE4MV0sXHJcblx0XCJuYXZham93aGl0ZVwiOiBbMjU1LCAyMjIsIDE3M10sXHJcblx0XCJuYXZ5XCI6IFswLCAwLCAxMjhdLFxyXG5cdFwib2xkbGFjZVwiOiBbMjUzLCAyNDUsIDIzMF0sXHJcblx0XCJvbGl2ZVwiOiBbMTI4LCAxMjgsIDBdLFxyXG5cdFwib2xpdmVkcmFiXCI6IFsxMDcsIDE0MiwgMzVdLFxyXG5cdFwib3JhbmdlXCI6IFsyNTUsIDE2NSwgMF0sXHJcblx0XCJvcmFuZ2VyZWRcIjogWzI1NSwgNjksIDBdLFxyXG5cdFwib3JjaGlkXCI6IFsyMTgsIDExMiwgMjE0XSxcclxuXHRcInBhbGVnb2xkZW5yb2RcIjogWzIzOCwgMjMyLCAxNzBdLFxyXG5cdFwicGFsZWdyZWVuXCI6IFsxNTIsIDI1MSwgMTUyXSxcclxuXHRcInBhbGV0dXJxdW9pc2VcIjogWzE3NSwgMjM4LCAyMzhdLFxyXG5cdFwicGFsZXZpb2xldHJlZFwiOiBbMjE5LCAxMTIsIDE0N10sXHJcblx0XCJwYXBheWF3aGlwXCI6IFsyNTUsIDIzOSwgMjEzXSxcclxuXHRcInBlYWNocHVmZlwiOiBbMjU1LCAyMTgsIDE4NV0sXHJcblx0XCJwZXJ1XCI6IFsyMDUsIDEzMywgNjNdLFxyXG5cdFwicGlua1wiOiBbMjU1LCAxOTIsIDIwM10sXHJcblx0XCJwbHVtXCI6IFsyMjEsIDE2MCwgMjIxXSxcclxuXHRcInBvd2RlcmJsdWVcIjogWzE3NiwgMjI0LCAyMzBdLFxyXG5cdFwicHVycGxlXCI6IFsxMjgsIDAsIDEyOF0sXHJcblx0XCJyZWJlY2NhcHVycGxlXCI6IFsxMDIsIDUxLCAxNTNdLFxyXG5cdFwicmVkXCI6IFsyNTUsIDAsIDBdLFxyXG5cdFwicm9zeWJyb3duXCI6IFsxODgsIDE0MywgMTQzXSxcclxuXHRcInJveWFsYmx1ZVwiOiBbNjUsIDEwNSwgMjI1XSxcclxuXHRcInNhZGRsZWJyb3duXCI6IFsxMzksIDY5LCAxOV0sXHJcblx0XCJzYWxtb25cIjogWzI1MCwgMTI4LCAxMTRdLFxyXG5cdFwic2FuZHlicm93blwiOiBbMjQ0LCAxNjQsIDk2XSxcclxuXHRcInNlYWdyZWVuXCI6IFs0NiwgMTM5LCA4N10sXHJcblx0XCJzZWFzaGVsbFwiOiBbMjU1LCAyNDUsIDIzOF0sXHJcblx0XCJzaWVubmFcIjogWzE2MCwgODIsIDQ1XSxcclxuXHRcInNpbHZlclwiOiBbMTkyLCAxOTIsIDE5Ml0sXHJcblx0XCJza3libHVlXCI6IFsxMzUsIDIwNiwgMjM1XSxcclxuXHRcInNsYXRlYmx1ZVwiOiBbMTA2LCA5MCwgMjA1XSxcclxuXHRcInNsYXRlZ3JheVwiOiBbMTEyLCAxMjgsIDE0NF0sXHJcblx0XCJzbGF0ZWdyZXlcIjogWzExMiwgMTI4LCAxNDRdLFxyXG5cdFwic25vd1wiOiBbMjU1LCAyNTAsIDI1MF0sXHJcblx0XCJzcHJpbmdncmVlblwiOiBbMCwgMjU1LCAxMjddLFxyXG5cdFwic3RlZWxibHVlXCI6IFs3MCwgMTMwLCAxODBdLFxyXG5cdFwidGFuXCI6IFsyMTAsIDE4MCwgMTQwXSxcclxuXHRcInRlYWxcIjogWzAsIDEyOCwgMTI4XSxcclxuXHRcInRoaXN0bGVcIjogWzIxNiwgMTkxLCAyMTZdLFxyXG5cdFwidG9tYXRvXCI6IFsyNTUsIDk5LCA3MV0sXHJcblx0XCJ0dXJxdW9pc2VcIjogWzY0LCAyMjQsIDIwOF0sXHJcblx0XCJ2aW9sZXRcIjogWzIzOCwgMTMwLCAyMzhdLFxyXG5cdFwid2hlYXRcIjogWzI0NSwgMjIyLCAxNzldLFxyXG5cdFwid2hpdGVcIjogWzI1NSwgMjU1LCAyNTVdLFxyXG5cdFwid2hpdGVzbW9rZVwiOiBbMjQ1LCAyNDUsIDI0NV0sXHJcblx0XCJ5ZWxsb3dcIjogWzI1NSwgMjU1LCAwXSxcclxuXHRcInllbGxvd2dyZWVuXCI6IFsxNTQsIDIwNSwgNTBdXHJcbn07XHJcbiIsICIvKiBNSVQgbGljZW5zZSAqL1xudmFyIGNzc0tleXdvcmRzID0gcmVxdWlyZSgnY29sb3ItbmFtZScpO1xuXG4vLyBOT1RFOiBjb252ZXJzaW9ucyBzaG91bGQgb25seSByZXR1cm4gcHJpbWl0aXZlIHZhbHVlcyAoaS5lLiBhcnJheXMsIG9yXG4vLyAgICAgICB2YWx1ZXMgdGhhdCBnaXZlIGNvcnJlY3QgYHR5cGVvZmAgcmVzdWx0cykuXG4vLyAgICAgICBkbyBub3QgdXNlIGJveCB2YWx1ZXMgdHlwZXMgKGkuZS4gTnVtYmVyKCksIFN0cmluZygpLCBldGMuKVxuXG52YXIgcmV2ZXJzZUtleXdvcmRzID0ge307XG5mb3IgKHZhciBrZXkgaW4gY3NzS2V5d29yZHMpIHtcblx0aWYgKGNzc0tleXdvcmRzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRyZXZlcnNlS2V5d29yZHNbY3NzS2V5d29yZHNba2V5XV0gPSBrZXk7XG5cdH1cbn1cblxudmFyIGNvbnZlcnQgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblx0cmdiOiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ3JnYid9LFxuXHRoc2w6IHtjaGFubmVsczogMywgbGFiZWxzOiAnaHNsJ30sXG5cdGhzdjoge2NoYW5uZWxzOiAzLCBsYWJlbHM6ICdoc3YnfSxcblx0aHdiOiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ2h3Yid9LFxuXHRjbXlrOiB7Y2hhbm5lbHM6IDQsIGxhYmVsczogJ2NteWsnfSxcblx0eHl6OiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ3h5eid9LFxuXHRsYWI6IHtjaGFubmVsczogMywgbGFiZWxzOiAnbGFiJ30sXG5cdGxjaDoge2NoYW5uZWxzOiAzLCBsYWJlbHM6ICdsY2gnfSxcblx0aGV4OiB7Y2hhbm5lbHM6IDEsIGxhYmVsczogWydoZXgnXX0sXG5cdGtleXdvcmQ6IHtjaGFubmVsczogMSwgbGFiZWxzOiBbJ2tleXdvcmQnXX0sXG5cdGFuc2kxNjoge2NoYW5uZWxzOiAxLCBsYWJlbHM6IFsnYW5zaTE2J119LFxuXHRhbnNpMjU2OiB7Y2hhbm5lbHM6IDEsIGxhYmVsczogWydhbnNpMjU2J119LFxuXHRoY2c6IHtjaGFubmVsczogMywgbGFiZWxzOiBbJ2gnLCAnYycsICdnJ119LFxuXHRhcHBsZToge2NoYW5uZWxzOiAzLCBsYWJlbHM6IFsncjE2JywgJ2cxNicsICdiMTYnXX0sXG5cdGdyYXk6IHtjaGFubmVsczogMSwgbGFiZWxzOiBbJ2dyYXknXX1cbn07XG5cbi8vIGhpZGUgLmNoYW5uZWxzIGFuZCAubGFiZWxzIHByb3BlcnRpZXNcbmZvciAodmFyIG1vZGVsIGluIGNvbnZlcnQpIHtcblx0aWYgKGNvbnZlcnQuaGFzT3duUHJvcGVydHkobW9kZWwpKSB7XG5cdFx0aWYgKCEoJ2NoYW5uZWxzJyBpbiBjb252ZXJ0W21vZGVsXSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjaGFubmVscyBwcm9wZXJ0eTogJyArIG1vZGVsKTtcblx0XHR9XG5cblx0XHRpZiAoISgnbGFiZWxzJyBpbiBjb252ZXJ0W21vZGVsXSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjaGFubmVsIGxhYmVscyBwcm9wZXJ0eTogJyArIG1vZGVsKTtcblx0XHR9XG5cblx0XHRpZiAoY29udmVydFttb2RlbF0ubGFiZWxzLmxlbmd0aCAhPT0gY29udmVydFttb2RlbF0uY2hhbm5lbHMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignY2hhbm5lbCBhbmQgbGFiZWwgY291bnRzIG1pc21hdGNoOiAnICsgbW9kZWwpO1xuXHRcdH1cblxuXHRcdHZhciBjaGFubmVscyA9IGNvbnZlcnRbbW9kZWxdLmNoYW5uZWxzO1xuXHRcdHZhciBsYWJlbHMgPSBjb252ZXJ0W21vZGVsXS5sYWJlbHM7XG5cdFx0ZGVsZXRlIGNvbnZlcnRbbW9kZWxdLmNoYW5uZWxzO1xuXHRcdGRlbGV0ZSBjb252ZXJ0W21vZGVsXS5sYWJlbHM7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnZlcnRbbW9kZWxdLCAnY2hhbm5lbHMnLCB7dmFsdWU6IGNoYW5uZWxzfSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnZlcnRbbW9kZWxdLCAnbGFiZWxzJywge3ZhbHVlOiBsYWJlbHN9KTtcblx0fVxufVxuXG5jb252ZXJ0LnJnYi5oc2wgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHZhciByID0gcmdiWzBdIC8gMjU1O1xuXHR2YXIgZyA9IHJnYlsxXSAvIDI1NTtcblx0dmFyIGIgPSByZ2JbMl0gLyAyNTU7XG5cdHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcblx0dmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXHR2YXIgZGVsdGEgPSBtYXggLSBtaW47XG5cdHZhciBoO1xuXHR2YXIgcztcblx0dmFyIGw7XG5cblx0aWYgKG1heCA9PT0gbWluKSB7XG5cdFx0aCA9IDA7XG5cdH0gZWxzZSBpZiAociA9PT0gbWF4KSB7XG5cdFx0aCA9IChnIC0gYikgLyBkZWx0YTtcblx0fSBlbHNlIGlmIChnID09PSBtYXgpIHtcblx0XHRoID0gMiArIChiIC0gcikgLyBkZWx0YTtcblx0fSBlbHNlIGlmIChiID09PSBtYXgpIHtcblx0XHRoID0gNCArIChyIC0gZykgLyBkZWx0YTtcblx0fVxuXG5cdGggPSBNYXRoLm1pbihoICogNjAsIDM2MCk7XG5cblx0aWYgKGggPCAwKSB7XG5cdFx0aCArPSAzNjA7XG5cdH1cblxuXHRsID0gKG1pbiArIG1heCkgLyAyO1xuXG5cdGlmIChtYXggPT09IG1pbikge1xuXHRcdHMgPSAwO1xuXHR9IGVsc2UgaWYgKGwgPD0gMC41KSB7XG5cdFx0cyA9IGRlbHRhIC8gKG1heCArIG1pbik7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IGRlbHRhIC8gKDIgLSBtYXggLSBtaW4pO1xuXHR9XG5cblx0cmV0dXJuIFtoLCBzICogMTAwLCBsICogMTAwXTtcbn07XG5cbmNvbnZlcnQucmdiLmhzdiA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0dmFyIHJkaWY7XG5cdHZhciBnZGlmO1xuXHR2YXIgYmRpZjtcblx0dmFyIGg7XG5cdHZhciBzO1xuXG5cdHZhciByID0gcmdiWzBdIC8gMjU1O1xuXHR2YXIgZyA9IHJnYlsxXSAvIDI1NTtcblx0dmFyIGIgPSByZ2JbMl0gLyAyNTU7XG5cdHZhciB2ID0gTWF0aC5tYXgociwgZywgYik7XG5cdHZhciBkaWZmID0gdiAtIE1hdGgubWluKHIsIGcsIGIpO1xuXHR2YXIgZGlmZmMgPSBmdW5jdGlvbiAoYykge1xuXHRcdHJldHVybiAodiAtIGMpIC8gNiAvIGRpZmYgKyAxIC8gMjtcblx0fTtcblxuXHRpZiAoZGlmZiA9PT0gMCkge1xuXHRcdGggPSBzID0gMDtcblx0fSBlbHNlIHtcblx0XHRzID0gZGlmZiAvIHY7XG5cdFx0cmRpZiA9IGRpZmZjKHIpO1xuXHRcdGdkaWYgPSBkaWZmYyhnKTtcblx0XHRiZGlmID0gZGlmZmMoYik7XG5cblx0XHRpZiAociA9PT0gdikge1xuXHRcdFx0aCA9IGJkaWYgLSBnZGlmO1xuXHRcdH0gZWxzZSBpZiAoZyA9PT0gdikge1xuXHRcdFx0aCA9ICgxIC8gMykgKyByZGlmIC0gYmRpZjtcblx0XHR9IGVsc2UgaWYgKGIgPT09IHYpIHtcblx0XHRcdGggPSAoMiAvIDMpICsgZ2RpZiAtIHJkaWY7XG5cdFx0fVxuXHRcdGlmIChoIDwgMCkge1xuXHRcdFx0aCArPSAxO1xuXHRcdH0gZWxzZSBpZiAoaCA+IDEpIHtcblx0XHRcdGggLT0gMTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gW1xuXHRcdGggKiAzNjAsXG5cdFx0cyAqIDEwMCxcblx0XHR2ICogMTAwXG5cdF07XG59O1xuXG5jb252ZXJ0LnJnYi5od2IgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHZhciByID0gcmdiWzBdO1xuXHR2YXIgZyA9IHJnYlsxXTtcblx0dmFyIGIgPSByZ2JbMl07XG5cdHZhciBoID0gY29udmVydC5yZ2IuaHNsKHJnYilbMF07XG5cdHZhciB3ID0gMSAvIDI1NSAqIE1hdGgubWluKHIsIE1hdGgubWluKGcsIGIpKTtcblxuXHRiID0gMSAtIDEgLyAyNTUgKiBNYXRoLm1heChyLCBNYXRoLm1heChnLCBiKSk7XG5cblx0cmV0dXJuIFtoLCB3ICogMTAwLCBiICogMTAwXTtcbn07XG5cbmNvbnZlcnQucmdiLmNteWsgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHZhciByID0gcmdiWzBdIC8gMjU1O1xuXHR2YXIgZyA9IHJnYlsxXSAvIDI1NTtcblx0dmFyIGIgPSByZ2JbMl0gLyAyNTU7XG5cdHZhciBjO1xuXHR2YXIgbTtcblx0dmFyIHk7XG5cdHZhciBrO1xuXG5cdGsgPSBNYXRoLm1pbigxIC0gciwgMSAtIGcsIDEgLSBiKTtcblx0YyA9ICgxIC0gciAtIGspIC8gKDEgLSBrKSB8fCAwO1xuXHRtID0gKDEgLSBnIC0gaykgLyAoMSAtIGspIHx8IDA7XG5cdHkgPSAoMSAtIGIgLSBrKSAvICgxIC0gaykgfHwgMDtcblxuXHRyZXR1cm4gW2MgKiAxMDAsIG0gKiAxMDAsIHkgKiAxMDAsIGsgKiAxMDBdO1xufTtcblxuLyoqXG4gKiBTZWUgaHR0cHM6Ly9lbi5tLndpa2lwZWRpYS5vcmcvd2lraS9FdWNsaWRlYW5fZGlzdGFuY2UjU3F1YXJlZF9FdWNsaWRlYW5fZGlzdGFuY2VcbiAqICovXG5mdW5jdGlvbiBjb21wYXJhdGl2ZURpc3RhbmNlKHgsIHkpIHtcblx0cmV0dXJuIChcblx0XHRNYXRoLnBvdyh4WzBdIC0geVswXSwgMikgK1xuXHRcdE1hdGgucG93KHhbMV0gLSB5WzFdLCAyKSArXG5cdFx0TWF0aC5wb3coeFsyXSAtIHlbMl0sIDIpXG5cdCk7XG59XG5cbmNvbnZlcnQucmdiLmtleXdvcmQgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHZhciByZXZlcnNlZCA9IHJldmVyc2VLZXl3b3Jkc1tyZ2JdO1xuXHRpZiAocmV2ZXJzZWQpIHtcblx0XHRyZXR1cm4gcmV2ZXJzZWQ7XG5cdH1cblxuXHR2YXIgY3VycmVudENsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuXHR2YXIgY3VycmVudENsb3Nlc3RLZXl3b3JkO1xuXG5cdGZvciAodmFyIGtleXdvcmQgaW4gY3NzS2V5d29yZHMpIHtcblx0XHRpZiAoY3NzS2V5d29yZHMuaGFzT3duUHJvcGVydHkoa2V5d29yZCkpIHtcblx0XHRcdHZhciB2YWx1ZSA9IGNzc0tleXdvcmRzW2tleXdvcmRdO1xuXG5cdFx0XHQvLyBDb21wdXRlIGNvbXBhcmF0aXZlIGRpc3RhbmNlXG5cdFx0XHR2YXIgZGlzdGFuY2UgPSBjb21wYXJhdGl2ZURpc3RhbmNlKHJnYiwgdmFsdWUpO1xuXG5cdFx0XHQvLyBDaGVjayBpZiBpdHMgbGVzcywgaWYgc28gc2V0IGFzIGNsb3Nlc3Rcblx0XHRcdGlmIChkaXN0YW5jZSA8IGN1cnJlbnRDbG9zZXN0RGlzdGFuY2UpIHtcblx0XHRcdFx0Y3VycmVudENsb3Nlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xuXHRcdFx0XHRjdXJyZW50Q2xvc2VzdEtleXdvcmQgPSBrZXl3b3JkO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjdXJyZW50Q2xvc2VzdEtleXdvcmQ7XG59O1xuXG5jb252ZXJ0LmtleXdvcmQucmdiID0gZnVuY3Rpb24gKGtleXdvcmQpIHtcblx0cmV0dXJuIGNzc0tleXdvcmRzW2tleXdvcmRdO1xufTtcblxuY29udmVydC5yZ2IueHl6ID0gZnVuY3Rpb24gKHJnYikge1xuXHR2YXIgciA9IHJnYlswXSAvIDI1NTtcblx0dmFyIGcgPSByZ2JbMV0gLyAyNTU7XG5cdHZhciBiID0gcmdiWzJdIC8gMjU1O1xuXG5cdC8vIGFzc3VtZSBzUkdCXG5cdHIgPSByID4gMC4wNDA0NSA/IE1hdGgucG93KCgociArIDAuMDU1KSAvIDEuMDU1KSwgMi40KSA6IChyIC8gMTIuOTIpO1xuXHRnID0gZyA+IDAuMDQwNDUgPyBNYXRoLnBvdygoKGcgKyAwLjA1NSkgLyAxLjA1NSksIDIuNCkgOiAoZyAvIDEyLjkyKTtcblx0YiA9IGIgPiAwLjA0MDQ1ID8gTWF0aC5wb3coKChiICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpIDogKGIgLyAxMi45Mik7XG5cblx0dmFyIHggPSAociAqIDAuNDEyNCkgKyAoZyAqIDAuMzU3NikgKyAoYiAqIDAuMTgwNSk7XG5cdHZhciB5ID0gKHIgKiAwLjIxMjYpICsgKGcgKiAwLjcxNTIpICsgKGIgKiAwLjA3MjIpO1xuXHR2YXIgeiA9IChyICogMC4wMTkzKSArIChnICogMC4xMTkyKSArIChiICogMC45NTA1KTtcblxuXHRyZXR1cm4gW3ggKiAxMDAsIHkgKiAxMDAsIHogKiAxMDBdO1xufTtcblxuY29udmVydC5yZ2IubGFiID0gZnVuY3Rpb24gKHJnYikge1xuXHR2YXIgeHl6ID0gY29udmVydC5yZ2IueHl6KHJnYik7XG5cdHZhciB4ID0geHl6WzBdO1xuXHR2YXIgeSA9IHh5elsxXTtcblx0dmFyIHogPSB4eXpbMl07XG5cdHZhciBsO1xuXHR2YXIgYTtcblx0dmFyIGI7XG5cblx0eCAvPSA5NS4wNDc7XG5cdHkgLz0gMTAwO1xuXHR6IC89IDEwOC44ODM7XG5cblx0eCA9IHggPiAwLjAwODg1NiA/IE1hdGgucG93KHgsIDEgLyAzKSA6ICg3Ljc4NyAqIHgpICsgKDE2IC8gMTE2KTtcblx0eSA9IHkgPiAwLjAwODg1NiA/IE1hdGgucG93KHksIDEgLyAzKSA6ICg3Ljc4NyAqIHkpICsgKDE2IC8gMTE2KTtcblx0eiA9IHogPiAwLjAwODg1NiA/IE1hdGgucG93KHosIDEgLyAzKSA6ICg3Ljc4NyAqIHopICsgKDE2IC8gMTE2KTtcblxuXHRsID0gKDExNiAqIHkpIC0gMTY7XG5cdGEgPSA1MDAgKiAoeCAtIHkpO1xuXHRiID0gMjAwICogKHkgLSB6KTtcblxuXHRyZXR1cm4gW2wsIGEsIGJdO1xufTtcblxuY29udmVydC5oc2wucmdiID0gZnVuY3Rpb24gKGhzbCkge1xuXHR2YXIgaCA9IGhzbFswXSAvIDM2MDtcblx0dmFyIHMgPSBoc2xbMV0gLyAxMDA7XG5cdHZhciBsID0gaHNsWzJdIC8gMTAwO1xuXHR2YXIgdDE7XG5cdHZhciB0Mjtcblx0dmFyIHQzO1xuXHR2YXIgcmdiO1xuXHR2YXIgdmFsO1xuXG5cdGlmIChzID09PSAwKSB7XG5cdFx0dmFsID0gbCAqIDI1NTtcblx0XHRyZXR1cm4gW3ZhbCwgdmFsLCB2YWxdO1xuXHR9XG5cblx0aWYgKGwgPCAwLjUpIHtcblx0XHR0MiA9IGwgKiAoMSArIHMpO1xuXHR9IGVsc2Uge1xuXHRcdHQyID0gbCArIHMgLSBsICogcztcblx0fVxuXG5cdHQxID0gMiAqIGwgLSB0MjtcblxuXHRyZ2IgPSBbMCwgMCwgMF07XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XG5cdFx0dDMgPSBoICsgMSAvIDMgKiAtKGkgLSAxKTtcblx0XHRpZiAodDMgPCAwKSB7XG5cdFx0XHR0MysrO1xuXHRcdH1cblx0XHRpZiAodDMgPiAxKSB7XG5cdFx0XHR0My0tO1xuXHRcdH1cblxuXHRcdGlmICg2ICogdDMgPCAxKSB7XG5cdFx0XHR2YWwgPSB0MSArICh0MiAtIHQxKSAqIDYgKiB0Mztcblx0XHR9IGVsc2UgaWYgKDIgKiB0MyA8IDEpIHtcblx0XHRcdHZhbCA9IHQyO1xuXHRcdH0gZWxzZSBpZiAoMyAqIHQzIDwgMikge1xuXHRcdFx0dmFsID0gdDEgKyAodDIgLSB0MSkgKiAoMiAvIDMgLSB0MykgKiA2O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YWwgPSB0MTtcblx0XHR9XG5cblx0XHRyZ2JbaV0gPSB2YWwgKiAyNTU7XG5cdH1cblxuXHRyZXR1cm4gcmdiO1xufTtcblxuY29udmVydC5oc2wuaHN2ID0gZnVuY3Rpb24gKGhzbCkge1xuXHR2YXIgaCA9IGhzbFswXTtcblx0dmFyIHMgPSBoc2xbMV0gLyAxMDA7XG5cdHZhciBsID0gaHNsWzJdIC8gMTAwO1xuXHR2YXIgc21pbiA9IHM7XG5cdHZhciBsbWluID0gTWF0aC5tYXgobCwgMC4wMSk7XG5cdHZhciBzdjtcblx0dmFyIHY7XG5cblx0bCAqPSAyO1xuXHRzICo9IChsIDw9IDEpID8gbCA6IDIgLSBsO1xuXHRzbWluICo9IGxtaW4gPD0gMSA/IGxtaW4gOiAyIC0gbG1pbjtcblx0diA9IChsICsgcykgLyAyO1xuXHRzdiA9IGwgPT09IDAgPyAoMiAqIHNtaW4pIC8gKGxtaW4gKyBzbWluKSA6ICgyICogcykgLyAobCArIHMpO1xuXG5cdHJldHVybiBbaCwgc3YgKiAxMDAsIHYgKiAxMDBdO1xufTtcblxuY29udmVydC5oc3YucmdiID0gZnVuY3Rpb24gKGhzdikge1xuXHR2YXIgaCA9IGhzdlswXSAvIDYwO1xuXHR2YXIgcyA9IGhzdlsxXSAvIDEwMDtcblx0dmFyIHYgPSBoc3ZbMl0gLyAxMDA7XG5cdHZhciBoaSA9IE1hdGguZmxvb3IoaCkgJSA2O1xuXG5cdHZhciBmID0gaCAtIE1hdGguZmxvb3IoaCk7XG5cdHZhciBwID0gMjU1ICogdiAqICgxIC0gcyk7XG5cdHZhciBxID0gMjU1ICogdiAqICgxIC0gKHMgKiBmKSk7XG5cdHZhciB0ID0gMjU1ICogdiAqICgxIC0gKHMgKiAoMSAtIGYpKSk7XG5cdHYgKj0gMjU1O1xuXG5cdHN3aXRjaCAoaGkpIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRyZXR1cm4gW3YsIHQsIHBdO1xuXHRcdGNhc2UgMTpcblx0XHRcdHJldHVybiBbcSwgdiwgcF07XG5cdFx0Y2FzZSAyOlxuXHRcdFx0cmV0dXJuIFtwLCB2LCB0XTtcblx0XHRjYXNlIDM6XG5cdFx0XHRyZXR1cm4gW3AsIHEsIHZdO1xuXHRcdGNhc2UgNDpcblx0XHRcdHJldHVybiBbdCwgcCwgdl07XG5cdFx0Y2FzZSA1OlxuXHRcdFx0cmV0dXJuIFt2LCBwLCBxXTtcblx0fVxufTtcblxuY29udmVydC5oc3YuaHNsID0gZnVuY3Rpb24gKGhzdikge1xuXHR2YXIgaCA9IGhzdlswXTtcblx0dmFyIHMgPSBoc3ZbMV0gLyAxMDA7XG5cdHZhciB2ID0gaHN2WzJdIC8gMTAwO1xuXHR2YXIgdm1pbiA9IE1hdGgubWF4KHYsIDAuMDEpO1xuXHR2YXIgbG1pbjtcblx0dmFyIHNsO1xuXHR2YXIgbDtcblxuXHRsID0gKDIgLSBzKSAqIHY7XG5cdGxtaW4gPSAoMiAtIHMpICogdm1pbjtcblx0c2wgPSBzICogdm1pbjtcblx0c2wgLz0gKGxtaW4gPD0gMSkgPyBsbWluIDogMiAtIGxtaW47XG5cdHNsID0gc2wgfHwgMDtcblx0bCAvPSAyO1xuXG5cdHJldHVybiBbaCwgc2wgKiAxMDAsIGwgKiAxMDBdO1xufTtcblxuLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLWNvbG9yLyNod2ItdG8tcmdiXG5jb252ZXJ0Lmh3Yi5yZ2IgPSBmdW5jdGlvbiAoaHdiKSB7XG5cdHZhciBoID0gaHdiWzBdIC8gMzYwO1xuXHR2YXIgd2ggPSBod2JbMV0gLyAxMDA7XG5cdHZhciBibCA9IGh3YlsyXSAvIDEwMDtcblx0dmFyIHJhdGlvID0gd2ggKyBibDtcblx0dmFyIGk7XG5cdHZhciB2O1xuXHR2YXIgZjtcblx0dmFyIG47XG5cblx0Ly8gd2ggKyBibCBjYW50IGJlID4gMVxuXHRpZiAocmF0aW8gPiAxKSB7XG5cdFx0d2ggLz0gcmF0aW87XG5cdFx0YmwgLz0gcmF0aW87XG5cdH1cblxuXHRpID0gTWF0aC5mbG9vcig2ICogaCk7XG5cdHYgPSAxIC0gYmw7XG5cdGYgPSA2ICogaCAtIGk7XG5cblx0aWYgKChpICYgMHgwMSkgIT09IDApIHtcblx0XHRmID0gMSAtIGY7XG5cdH1cblxuXHRuID0gd2ggKyBmICogKHYgLSB3aCk7IC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG5cblx0dmFyIHI7XG5cdHZhciBnO1xuXHR2YXIgYjtcblx0c3dpdGNoIChpKSB7XG5cdFx0ZGVmYXVsdDpcblx0XHRjYXNlIDY6XG5cdFx0Y2FzZSAwOiByID0gdjsgZyA9IG47IGIgPSB3aDsgYnJlYWs7XG5cdFx0Y2FzZSAxOiByID0gbjsgZyA9IHY7IGIgPSB3aDsgYnJlYWs7XG5cdFx0Y2FzZSAyOiByID0gd2g7IGcgPSB2OyBiID0gbjsgYnJlYWs7XG5cdFx0Y2FzZSAzOiByID0gd2g7IGcgPSBuOyBiID0gdjsgYnJlYWs7XG5cdFx0Y2FzZSA0OiByID0gbjsgZyA9IHdoOyBiID0gdjsgYnJlYWs7XG5cdFx0Y2FzZSA1OiByID0gdjsgZyA9IHdoOyBiID0gbjsgYnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gW3IgKiAyNTUsIGcgKiAyNTUsIGIgKiAyNTVdO1xufTtcblxuY29udmVydC5jbXlrLnJnYiA9IGZ1bmN0aW9uIChjbXlrKSB7XG5cdHZhciBjID0gY215a1swXSAvIDEwMDtcblx0dmFyIG0gPSBjbXlrWzFdIC8gMTAwO1xuXHR2YXIgeSA9IGNteWtbMl0gLyAxMDA7XG5cdHZhciBrID0gY215a1szXSAvIDEwMDtcblx0dmFyIHI7XG5cdHZhciBnO1xuXHR2YXIgYjtcblxuXHRyID0gMSAtIE1hdGgubWluKDEsIGMgKiAoMSAtIGspICsgayk7XG5cdGcgPSAxIC0gTWF0aC5taW4oMSwgbSAqICgxIC0gaykgKyBrKTtcblx0YiA9IDEgLSBNYXRoLm1pbigxLCB5ICogKDEgLSBrKSArIGspO1xuXG5cdHJldHVybiBbciAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NV07XG59O1xuXG5jb252ZXJ0Lnh5ei5yZ2IgPSBmdW5jdGlvbiAoeHl6KSB7XG5cdHZhciB4ID0geHl6WzBdIC8gMTAwO1xuXHR2YXIgeSA9IHh5elsxXSAvIDEwMDtcblx0dmFyIHogPSB4eXpbMl0gLyAxMDA7XG5cdHZhciByO1xuXHR2YXIgZztcblx0dmFyIGI7XG5cblx0ciA9ICh4ICogMy4yNDA2KSArICh5ICogLTEuNTM3MikgKyAoeiAqIC0wLjQ5ODYpO1xuXHRnID0gKHggKiAtMC45Njg5KSArICh5ICogMS44NzU4KSArICh6ICogMC4wNDE1KTtcblx0YiA9ICh4ICogMC4wNTU3KSArICh5ICogLTAuMjA0MCkgKyAoeiAqIDEuMDU3MCk7XG5cblx0Ly8gYXNzdW1lIHNSR0Jcblx0ciA9IHIgPiAwLjAwMzEzMDhcblx0XHQ/ICgoMS4wNTUgKiBNYXRoLnBvdyhyLCAxLjAgLyAyLjQpKSAtIDAuMDU1KVxuXHRcdDogciAqIDEyLjkyO1xuXG5cdGcgPSBnID4gMC4wMDMxMzA4XG5cdFx0PyAoKDEuMDU1ICogTWF0aC5wb3coZywgMS4wIC8gMi40KSkgLSAwLjA1NSlcblx0XHQ6IGcgKiAxMi45MjtcblxuXHRiID0gYiA+IDAuMDAzMTMwOFxuXHRcdD8gKCgxLjA1NSAqIE1hdGgucG93KGIsIDEuMCAvIDIuNCkpIC0gMC4wNTUpXG5cdFx0OiBiICogMTIuOTI7XG5cblx0ciA9IE1hdGgubWluKE1hdGgubWF4KDAsIHIpLCAxKTtcblx0ZyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGcpLCAxKTtcblx0YiA9IE1hdGgubWluKE1hdGgubWF4KDAsIGIpLCAxKTtcblxuXHRyZXR1cm4gW3IgKiAyNTUsIGcgKiAyNTUsIGIgKiAyNTVdO1xufTtcblxuY29udmVydC54eXoubGFiID0gZnVuY3Rpb24gKHh5eikge1xuXHR2YXIgeCA9IHh5elswXTtcblx0dmFyIHkgPSB4eXpbMV07XG5cdHZhciB6ID0geHl6WzJdO1xuXHR2YXIgbDtcblx0dmFyIGE7XG5cdHZhciBiO1xuXG5cdHggLz0gOTUuMDQ3O1xuXHR5IC89IDEwMDtcblx0eiAvPSAxMDguODgzO1xuXG5cdHggPSB4ID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh4LCAxIC8gMykgOiAoNy43ODcgKiB4KSArICgxNiAvIDExNik7XG5cdHkgPSB5ID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh5LCAxIC8gMykgOiAoNy43ODcgKiB5KSArICgxNiAvIDExNik7XG5cdHogPSB6ID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh6LCAxIC8gMykgOiAoNy43ODcgKiB6KSArICgxNiAvIDExNik7XG5cblx0bCA9ICgxMTYgKiB5KSAtIDE2O1xuXHRhID0gNTAwICogKHggLSB5KTtcblx0YiA9IDIwMCAqICh5IC0geik7XG5cblx0cmV0dXJuIFtsLCBhLCBiXTtcbn07XG5cbmNvbnZlcnQubGFiLnh5eiA9IGZ1bmN0aW9uIChsYWIpIHtcblx0dmFyIGwgPSBsYWJbMF07XG5cdHZhciBhID0gbGFiWzFdO1xuXHR2YXIgYiA9IGxhYlsyXTtcblx0dmFyIHg7XG5cdHZhciB5O1xuXHR2YXIgejtcblxuXHR5ID0gKGwgKyAxNikgLyAxMTY7XG5cdHggPSBhIC8gNTAwICsgeTtcblx0eiA9IHkgLSBiIC8gMjAwO1xuXG5cdHZhciB5MiA9IE1hdGgucG93KHksIDMpO1xuXHR2YXIgeDIgPSBNYXRoLnBvdyh4LCAzKTtcblx0dmFyIHoyID0gTWF0aC5wb3coeiwgMyk7XG5cdHkgPSB5MiA+IDAuMDA4ODU2ID8geTIgOiAoeSAtIDE2IC8gMTE2KSAvIDcuNzg3O1xuXHR4ID0geDIgPiAwLjAwODg1NiA/IHgyIDogKHggLSAxNiAvIDExNikgLyA3Ljc4Nztcblx0eiA9IHoyID4gMC4wMDg4NTYgPyB6MiA6ICh6IC0gMTYgLyAxMTYpIC8gNy43ODc7XG5cblx0eCAqPSA5NS4wNDc7XG5cdHkgKj0gMTAwO1xuXHR6ICo9IDEwOC44ODM7XG5cblx0cmV0dXJuIFt4LCB5LCB6XTtcbn07XG5cbmNvbnZlcnQubGFiLmxjaCA9IGZ1bmN0aW9uIChsYWIpIHtcblx0dmFyIGwgPSBsYWJbMF07XG5cdHZhciBhID0gbGFiWzFdO1xuXHR2YXIgYiA9IGxhYlsyXTtcblx0dmFyIGhyO1xuXHR2YXIgaDtcblx0dmFyIGM7XG5cblx0aHIgPSBNYXRoLmF0YW4yKGIsIGEpO1xuXHRoID0gaHIgKiAzNjAgLyAyIC8gTWF0aC5QSTtcblxuXHRpZiAoaCA8IDApIHtcblx0XHRoICs9IDM2MDtcblx0fVxuXG5cdGMgPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG5cblx0cmV0dXJuIFtsLCBjLCBoXTtcbn07XG5cbmNvbnZlcnQubGNoLmxhYiA9IGZ1bmN0aW9uIChsY2gpIHtcblx0dmFyIGwgPSBsY2hbMF07XG5cdHZhciBjID0gbGNoWzFdO1xuXHR2YXIgaCA9IGxjaFsyXTtcblx0dmFyIGE7XG5cdHZhciBiO1xuXHR2YXIgaHI7XG5cblx0aHIgPSBoIC8gMzYwICogMiAqIE1hdGguUEk7XG5cdGEgPSBjICogTWF0aC5jb3MoaHIpO1xuXHRiID0gYyAqIE1hdGguc2luKGhyKTtcblxuXHRyZXR1cm4gW2wsIGEsIGJdO1xufTtcblxuY29udmVydC5yZ2IuYW5zaTE2ID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0dmFyIHIgPSBhcmdzWzBdO1xuXHR2YXIgZyA9IGFyZ3NbMV07XG5cdHZhciBiID0gYXJnc1syXTtcblx0dmFyIHZhbHVlID0gMSBpbiBhcmd1bWVudHMgPyBhcmd1bWVudHNbMV0gOiBjb252ZXJ0LnJnYi5oc3YoYXJncylbMl07IC8vIGhzdiAtPiBhbnNpMTYgb3B0aW1pemF0aW9uXG5cblx0dmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlIC8gNTApO1xuXG5cdGlmICh2YWx1ZSA9PT0gMCkge1xuXHRcdHJldHVybiAzMDtcblx0fVxuXG5cdHZhciBhbnNpID0gMzBcblx0XHQrICgoTWF0aC5yb3VuZChiIC8gMjU1KSA8PCAyKVxuXHRcdHwgKE1hdGgucm91bmQoZyAvIDI1NSkgPDwgMSlcblx0XHR8IE1hdGgucm91bmQociAvIDI1NSkpO1xuXG5cdGlmICh2YWx1ZSA9PT0gMikge1xuXHRcdGFuc2kgKz0gNjA7XG5cdH1cblxuXHRyZXR1cm4gYW5zaTtcbn07XG5cbmNvbnZlcnQuaHN2LmFuc2kxNiA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdC8vIG9wdGltaXphdGlvbiBoZXJlOyB3ZSBhbHJlYWR5IGtub3cgdGhlIHZhbHVlIGFuZCBkb24ndCBuZWVkIHRvIGdldFxuXHQvLyBpdCBjb252ZXJ0ZWQgZm9yIHVzLlxuXHRyZXR1cm4gY29udmVydC5yZ2IuYW5zaTE2KGNvbnZlcnQuaHN2LnJnYihhcmdzKSwgYXJnc1syXSk7XG59O1xuXG5jb252ZXJ0LnJnYi5hbnNpMjU2ID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0dmFyIHIgPSBhcmdzWzBdO1xuXHR2YXIgZyA9IGFyZ3NbMV07XG5cdHZhciBiID0gYXJnc1syXTtcblxuXHQvLyB3ZSB1c2UgdGhlIGV4dGVuZGVkIGdyZXlzY2FsZSBwYWxldHRlIGhlcmUsIHdpdGggdGhlIGV4Y2VwdGlvbiBvZlxuXHQvLyBibGFjayBhbmQgd2hpdGUuIG5vcm1hbCBwYWxldHRlIG9ubHkgaGFzIDQgZ3JleXNjYWxlIHNoYWRlcy5cblx0aWYgKHIgPT09IGcgJiYgZyA9PT0gYikge1xuXHRcdGlmIChyIDwgOCkge1xuXHRcdFx0cmV0dXJuIDE2O1xuXHRcdH1cblxuXHRcdGlmIChyID4gMjQ4KSB7XG5cdFx0XHRyZXR1cm4gMjMxO1xuXHRcdH1cblxuXHRcdHJldHVybiBNYXRoLnJvdW5kKCgociAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjtcblx0fVxuXG5cdHZhciBhbnNpID0gMTZcblx0XHQrICgzNiAqIE1hdGgucm91bmQociAvIDI1NSAqIDUpKVxuXHRcdCsgKDYgKiBNYXRoLnJvdW5kKGcgLyAyNTUgKiA1KSlcblx0XHQrIE1hdGgucm91bmQoYiAvIDI1NSAqIDUpO1xuXG5cdHJldHVybiBhbnNpO1xufTtcblxuY29udmVydC5hbnNpMTYucmdiID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0dmFyIGNvbG9yID0gYXJncyAlIDEwO1xuXG5cdC8vIGhhbmRsZSBncmV5c2NhbGVcblx0aWYgKGNvbG9yID09PSAwIHx8IGNvbG9yID09PSA3KSB7XG5cdFx0aWYgKGFyZ3MgPiA1MCkge1xuXHRcdFx0Y29sb3IgKz0gMy41O1xuXHRcdH1cblxuXHRcdGNvbG9yID0gY29sb3IgLyAxMC41ICogMjU1O1xuXG5cdFx0cmV0dXJuIFtjb2xvciwgY29sb3IsIGNvbG9yXTtcblx0fVxuXG5cdHZhciBtdWx0ID0gKH5+KGFyZ3MgPiA1MCkgKyAxKSAqIDAuNTtcblx0dmFyIHIgPSAoKGNvbG9yICYgMSkgKiBtdWx0KSAqIDI1NTtcblx0dmFyIGcgPSAoKChjb2xvciA+PiAxKSAmIDEpICogbXVsdCkgKiAyNTU7XG5cdHZhciBiID0gKCgoY29sb3IgPj4gMikgJiAxKSAqIG11bHQpICogMjU1O1xuXG5cdHJldHVybiBbciwgZywgYl07XG59O1xuXG5jb252ZXJ0LmFuc2kyNTYucmdiID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0Ly8gaGFuZGxlIGdyZXlzY2FsZVxuXHRpZiAoYXJncyA+PSAyMzIpIHtcblx0XHR2YXIgYyA9IChhcmdzIC0gMjMyKSAqIDEwICsgODtcblx0XHRyZXR1cm4gW2MsIGMsIGNdO1xuXHR9XG5cblx0YXJncyAtPSAxNjtcblxuXHR2YXIgcmVtO1xuXHR2YXIgciA9IE1hdGguZmxvb3IoYXJncyAvIDM2KSAvIDUgKiAyNTU7XG5cdHZhciBnID0gTWF0aC5mbG9vcigocmVtID0gYXJncyAlIDM2KSAvIDYpIC8gNSAqIDI1NTtcblx0dmFyIGIgPSAocmVtICUgNikgLyA1ICogMjU1O1xuXG5cdHJldHVybiBbciwgZywgYl07XG59O1xuXG5jb252ZXJ0LnJnYi5oZXggPSBmdW5jdGlvbiAoYXJncykge1xuXHR2YXIgaW50ZWdlciA9ICgoTWF0aC5yb3VuZChhcmdzWzBdKSAmIDB4RkYpIDw8IDE2KVxuXHRcdCsgKChNYXRoLnJvdW5kKGFyZ3NbMV0pICYgMHhGRikgPDwgOClcblx0XHQrIChNYXRoLnJvdW5kKGFyZ3NbMl0pICYgMHhGRik7XG5cblx0dmFyIHN0cmluZyA9IGludGVnZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdHJldHVybiAnMDAwMDAwJy5zdWJzdHJpbmcoc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG59O1xuXG5jb252ZXJ0LmhleC5yZ2IgPSBmdW5jdGlvbiAoYXJncykge1xuXHR2YXIgbWF0Y2ggPSBhcmdzLnRvU3RyaW5nKDE2KS5tYXRjaCgvW2EtZjAtOV17Nn18W2EtZjAtOV17M30vaSk7XG5cdGlmICghbWF0Y2gpIHtcblx0XHRyZXR1cm4gWzAsIDAsIDBdO1xuXHR9XG5cblx0dmFyIGNvbG9yU3RyaW5nID0gbWF0Y2hbMF07XG5cblx0aWYgKG1hdGNoWzBdLmxlbmd0aCA9PT0gMykge1xuXHRcdGNvbG9yU3RyaW5nID0gY29sb3JTdHJpbmcuc3BsaXQoJycpLm1hcChmdW5jdGlvbiAoY2hhcikge1xuXHRcdFx0cmV0dXJuIGNoYXIgKyBjaGFyO1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0dmFyIGludGVnZXIgPSBwYXJzZUludChjb2xvclN0cmluZywgMTYpO1xuXHR2YXIgciA9IChpbnRlZ2VyID4+IDE2KSAmIDB4RkY7XG5cdHZhciBnID0gKGludGVnZXIgPj4gOCkgJiAweEZGO1xuXHR2YXIgYiA9IGludGVnZXIgJiAweEZGO1xuXG5cdHJldHVybiBbciwgZywgYl07XG59O1xuXG5jb252ZXJ0LnJnYi5oY2cgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHZhciByID0gcmdiWzBdIC8gMjU1O1xuXHR2YXIgZyA9IHJnYlsxXSAvIDI1NTtcblx0dmFyIGIgPSByZ2JbMl0gLyAyNTU7XG5cdHZhciBtYXggPSBNYXRoLm1heChNYXRoLm1heChyLCBnKSwgYik7XG5cdHZhciBtaW4gPSBNYXRoLm1pbihNYXRoLm1pbihyLCBnKSwgYik7XG5cdHZhciBjaHJvbWEgPSAobWF4IC0gbWluKTtcblx0dmFyIGdyYXlzY2FsZTtcblx0dmFyIGh1ZTtcblxuXHRpZiAoY2hyb21hIDwgMSkge1xuXHRcdGdyYXlzY2FsZSA9IG1pbiAvICgxIC0gY2hyb21hKTtcblx0fSBlbHNlIHtcblx0XHRncmF5c2NhbGUgPSAwO1xuXHR9XG5cblx0aWYgKGNocm9tYSA8PSAwKSB7XG5cdFx0aHVlID0gMDtcblx0fSBlbHNlXG5cdGlmIChtYXggPT09IHIpIHtcblx0XHRodWUgPSAoKGcgLSBiKSAvIGNocm9tYSkgJSA2O1xuXHR9IGVsc2Vcblx0aWYgKG1heCA9PT0gZykge1xuXHRcdGh1ZSA9IDIgKyAoYiAtIHIpIC8gY2hyb21hO1xuXHR9IGVsc2Uge1xuXHRcdGh1ZSA9IDQgKyAociAtIGcpIC8gY2hyb21hICsgNDtcblx0fVxuXG5cdGh1ZSAvPSA2O1xuXHRodWUgJT0gMTtcblxuXHRyZXR1cm4gW2h1ZSAqIDM2MCwgY2hyb21hICogMTAwLCBncmF5c2NhbGUgKiAxMDBdO1xufTtcblxuY29udmVydC5oc2wuaGNnID0gZnVuY3Rpb24gKGhzbCkge1xuXHR2YXIgcyA9IGhzbFsxXSAvIDEwMDtcblx0dmFyIGwgPSBoc2xbMl0gLyAxMDA7XG5cdHZhciBjID0gMTtcblx0dmFyIGYgPSAwO1xuXG5cdGlmIChsIDwgMC41KSB7XG5cdFx0YyA9IDIuMCAqIHMgKiBsO1xuXHR9IGVsc2Uge1xuXHRcdGMgPSAyLjAgKiBzICogKDEuMCAtIGwpO1xuXHR9XG5cblx0aWYgKGMgPCAxLjApIHtcblx0XHRmID0gKGwgLSAwLjUgKiBjKSAvICgxLjAgLSBjKTtcblx0fVxuXG5cdHJldHVybiBbaHNsWzBdLCBjICogMTAwLCBmICogMTAwXTtcbn07XG5cbmNvbnZlcnQuaHN2LmhjZyA9IGZ1bmN0aW9uIChoc3YpIHtcblx0dmFyIHMgPSBoc3ZbMV0gLyAxMDA7XG5cdHZhciB2ID0gaHN2WzJdIC8gMTAwO1xuXG5cdHZhciBjID0gcyAqIHY7XG5cdHZhciBmID0gMDtcblxuXHRpZiAoYyA8IDEuMCkge1xuXHRcdGYgPSAodiAtIGMpIC8gKDEgLSBjKTtcblx0fVxuXG5cdHJldHVybiBbaHN2WzBdLCBjICogMTAwLCBmICogMTAwXTtcbn07XG5cbmNvbnZlcnQuaGNnLnJnYiA9IGZ1bmN0aW9uIChoY2cpIHtcblx0dmFyIGggPSBoY2dbMF0gLyAzNjA7XG5cdHZhciBjID0gaGNnWzFdIC8gMTAwO1xuXHR2YXIgZyA9IGhjZ1syXSAvIDEwMDtcblxuXHRpZiAoYyA9PT0gMC4wKSB7XG5cdFx0cmV0dXJuIFtnICogMjU1LCBnICogMjU1LCBnICogMjU1XTtcblx0fVxuXG5cdHZhciBwdXJlID0gWzAsIDAsIDBdO1xuXHR2YXIgaGkgPSAoaCAlIDEpICogNjtcblx0dmFyIHYgPSBoaSAlIDE7XG5cdHZhciB3ID0gMSAtIHY7XG5cdHZhciBtZyA9IDA7XG5cblx0c3dpdGNoIChNYXRoLmZsb29yKGhpKSkge1xuXHRcdGNhc2UgMDpcblx0XHRcdHB1cmVbMF0gPSAxOyBwdXJlWzFdID0gdjsgcHVyZVsyXSA9IDA7IGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdHB1cmVbMF0gPSB3OyBwdXJlWzFdID0gMTsgcHVyZVsyXSA9IDA7IGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdHB1cmVbMF0gPSAwOyBwdXJlWzFdID0gMTsgcHVyZVsyXSA9IHY7IGJyZWFrO1xuXHRcdGNhc2UgMzpcblx0XHRcdHB1cmVbMF0gPSAwOyBwdXJlWzFdID0gdzsgcHVyZVsyXSA9IDE7IGJyZWFrO1xuXHRcdGNhc2UgNDpcblx0XHRcdHB1cmVbMF0gPSB2OyBwdXJlWzFdID0gMDsgcHVyZVsyXSA9IDE7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRwdXJlWzBdID0gMTsgcHVyZVsxXSA9IDA7IHB1cmVbMl0gPSB3O1xuXHR9XG5cblx0bWcgPSAoMS4wIC0gYykgKiBnO1xuXG5cdHJldHVybiBbXG5cdFx0KGMgKiBwdXJlWzBdICsgbWcpICogMjU1LFxuXHRcdChjICogcHVyZVsxXSArIG1nKSAqIDI1NSxcblx0XHQoYyAqIHB1cmVbMl0gKyBtZykgKiAyNTVcblx0XTtcbn07XG5cbmNvbnZlcnQuaGNnLmhzdiA9IGZ1bmN0aW9uIChoY2cpIHtcblx0dmFyIGMgPSBoY2dbMV0gLyAxMDA7XG5cdHZhciBnID0gaGNnWzJdIC8gMTAwO1xuXG5cdHZhciB2ID0gYyArIGcgKiAoMS4wIC0gYyk7XG5cdHZhciBmID0gMDtcblxuXHRpZiAodiA+IDAuMCkge1xuXHRcdGYgPSBjIC8gdjtcblx0fVxuXG5cdHJldHVybiBbaGNnWzBdLCBmICogMTAwLCB2ICogMTAwXTtcbn07XG5cbmNvbnZlcnQuaGNnLmhzbCA9IGZ1bmN0aW9uIChoY2cpIHtcblx0dmFyIGMgPSBoY2dbMV0gLyAxMDA7XG5cdHZhciBnID0gaGNnWzJdIC8gMTAwO1xuXG5cdHZhciBsID0gZyAqICgxLjAgLSBjKSArIDAuNSAqIGM7XG5cdHZhciBzID0gMDtcblxuXHRpZiAobCA+IDAuMCAmJiBsIDwgMC41KSB7XG5cdFx0cyA9IGMgLyAoMiAqIGwpO1xuXHR9IGVsc2Vcblx0aWYgKGwgPj0gMC41ICYmIGwgPCAxLjApIHtcblx0XHRzID0gYyAvICgyICogKDEgLSBsKSk7XG5cdH1cblxuXHRyZXR1cm4gW2hjZ1swXSwgcyAqIDEwMCwgbCAqIDEwMF07XG59O1xuXG5jb252ZXJ0LmhjZy5od2IgPSBmdW5jdGlvbiAoaGNnKSB7XG5cdHZhciBjID0gaGNnWzFdIC8gMTAwO1xuXHR2YXIgZyA9IGhjZ1syXSAvIDEwMDtcblx0dmFyIHYgPSBjICsgZyAqICgxLjAgLSBjKTtcblx0cmV0dXJuIFtoY2dbMF0sICh2IC0gYykgKiAxMDAsICgxIC0gdikgKiAxMDBdO1xufTtcblxuY29udmVydC5od2IuaGNnID0gZnVuY3Rpb24gKGh3Yikge1xuXHR2YXIgdyA9IGh3YlsxXSAvIDEwMDtcblx0dmFyIGIgPSBod2JbMl0gLyAxMDA7XG5cdHZhciB2ID0gMSAtIGI7XG5cdHZhciBjID0gdiAtIHc7XG5cdHZhciBnID0gMDtcblxuXHRpZiAoYyA8IDEpIHtcblx0XHRnID0gKHYgLSBjKSAvICgxIC0gYyk7XG5cdH1cblxuXHRyZXR1cm4gW2h3YlswXSwgYyAqIDEwMCwgZyAqIDEwMF07XG59O1xuXG5jb252ZXJ0LmFwcGxlLnJnYiA9IGZ1bmN0aW9uIChhcHBsZSkge1xuXHRyZXR1cm4gWyhhcHBsZVswXSAvIDY1NTM1KSAqIDI1NSwgKGFwcGxlWzFdIC8gNjU1MzUpICogMjU1LCAoYXBwbGVbMl0gLyA2NTUzNSkgKiAyNTVdO1xufTtcblxuY29udmVydC5yZ2IuYXBwbGUgPSBmdW5jdGlvbiAocmdiKSB7XG5cdHJldHVybiBbKHJnYlswXSAvIDI1NSkgKiA2NTUzNSwgKHJnYlsxXSAvIDI1NSkgKiA2NTUzNSwgKHJnYlsyXSAvIDI1NSkgKiA2NTUzNV07XG59O1xuXG5jb252ZXJ0LmdyYXkucmdiID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0cmV0dXJuIFthcmdzWzBdIC8gMTAwICogMjU1LCBhcmdzWzBdIC8gMTAwICogMjU1LCBhcmdzWzBdIC8gMTAwICogMjU1XTtcbn07XG5cbmNvbnZlcnQuZ3JheS5oc2wgPSBjb252ZXJ0LmdyYXkuaHN2ID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0cmV0dXJuIFswLCAwLCBhcmdzWzBdXTtcbn07XG5cbmNvbnZlcnQuZ3JheS5od2IgPSBmdW5jdGlvbiAoZ3JheSkge1xuXHRyZXR1cm4gWzAsIDEwMCwgZ3JheVswXV07XG59O1xuXG5jb252ZXJ0LmdyYXkuY215ayA9IGZ1bmN0aW9uIChncmF5KSB7XG5cdHJldHVybiBbMCwgMCwgMCwgZ3JheVswXV07XG59O1xuXG5jb252ZXJ0LmdyYXkubGFiID0gZnVuY3Rpb24gKGdyYXkpIHtcblx0cmV0dXJuIFtncmF5WzBdLCAwLCAwXTtcbn07XG5cbmNvbnZlcnQuZ3JheS5oZXggPSBmdW5jdGlvbiAoZ3JheSkge1xuXHR2YXIgdmFsID0gTWF0aC5yb3VuZChncmF5WzBdIC8gMTAwICogMjU1KSAmIDB4RkY7XG5cdHZhciBpbnRlZ2VyID0gKHZhbCA8PCAxNikgKyAodmFsIDw8IDgpICsgdmFsO1xuXG5cdHZhciBzdHJpbmcgPSBpbnRlZ2VyLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHRyZXR1cm4gJzAwMDAwMCcuc3Vic3RyaW5nKHN0cmluZy5sZW5ndGgpICsgc3RyaW5nO1xufTtcblxuY29udmVydC5yZ2IuZ3JheSA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0dmFyIHZhbCA9IChyZ2JbMF0gKyByZ2JbMV0gKyByZ2JbMl0pIC8gMztcblx0cmV0dXJuIFt2YWwgLyAyNTUgKiAxMDBdO1xufTtcbiIsICJ2YXIgY29udmVyc2lvbnMgPSByZXF1aXJlKCcuL2NvbnZlcnNpb25zJyk7XG5cbi8qXG5cdHRoaXMgZnVuY3Rpb24gcm91dGVzIGEgbW9kZWwgdG8gYWxsIG90aGVyIG1vZGVscy5cblxuXHRhbGwgZnVuY3Rpb25zIHRoYXQgYXJlIHJvdXRlZCBoYXZlIGEgcHJvcGVydHkgYC5jb252ZXJzaW9uYCBhdHRhY2hlZFxuXHR0byB0aGUgcmV0dXJuZWQgc3ludGhldGljIGZ1bmN0aW9uLiBUaGlzIHByb3BlcnR5IGlzIGFuIGFycmF5XG5cdG9mIHN0cmluZ3MsIGVhY2ggd2l0aCB0aGUgc3RlcHMgaW4gYmV0d2VlbiB0aGUgJ2Zyb20nIGFuZCAndG8nXG5cdGNvbG9yIG1vZGVscyAoaW5jbHVzaXZlKS5cblxuXHRjb252ZXJzaW9ucyB0aGF0IGFyZSBub3QgcG9zc2libGUgc2ltcGx5IGFyZSBub3QgaW5jbHVkZWQuXG4qL1xuXG5mdW5jdGlvbiBidWlsZEdyYXBoKCkge1xuXHR2YXIgZ3JhcGggPSB7fTtcblx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL29iamVjdC1rZXlzLXZzLWZvci1pbi13aXRoLWNsb3N1cmUvM1xuXHR2YXIgbW9kZWxzID0gT2JqZWN0LmtleXMoY29udmVyc2lvbnMpO1xuXG5cdGZvciAodmFyIGxlbiA9IG1vZGVscy5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRncmFwaFttb2RlbHNbaV1dID0ge1xuXHRcdFx0Ly8gaHR0cDovL2pzcGVyZi5jb20vMS12cy1pbmZpbml0eVxuXHRcdFx0Ly8gbWljcm8tb3B0LCBidXQgdGhpcyBpcyBzaW1wbGUuXG5cdFx0XHRkaXN0YW5jZTogLTEsXG5cdFx0XHRwYXJlbnQ6IG51bGxcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIGdyYXBoO1xufVxuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CcmVhZHRoLWZpcnN0X3NlYXJjaFxuZnVuY3Rpb24gZGVyaXZlQkZTKGZyb21Nb2RlbCkge1xuXHR2YXIgZ3JhcGggPSBidWlsZEdyYXBoKCk7XG5cdHZhciBxdWV1ZSA9IFtmcm9tTW9kZWxdOyAvLyB1bnNoaWZ0IC0+IHF1ZXVlIC0+IHBvcFxuXG5cdGdyYXBoW2Zyb21Nb2RlbF0uZGlzdGFuY2UgPSAwO1xuXG5cdHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcblx0XHR2YXIgY3VycmVudCA9IHF1ZXVlLnBvcCgpO1xuXHRcdHZhciBhZGphY2VudHMgPSBPYmplY3Qua2V5cyhjb252ZXJzaW9uc1tjdXJyZW50XSk7XG5cblx0XHRmb3IgKHZhciBsZW4gPSBhZGphY2VudHMubGVuZ3RoLCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR2YXIgYWRqYWNlbnQgPSBhZGphY2VudHNbaV07XG5cdFx0XHR2YXIgbm9kZSA9IGdyYXBoW2FkamFjZW50XTtcblxuXHRcdFx0aWYgKG5vZGUuZGlzdGFuY2UgPT09IC0xKSB7XG5cdFx0XHRcdG5vZGUuZGlzdGFuY2UgPSBncmFwaFtjdXJyZW50XS5kaXN0YW5jZSArIDE7XG5cdFx0XHRcdG5vZGUucGFyZW50ID0gY3VycmVudDtcblx0XHRcdFx0cXVldWUudW5zaGlmdChhZGphY2VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGdyYXBoO1xufVxuXG5mdW5jdGlvbiBsaW5rKGZyb20sIHRvKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuXHRcdHJldHVybiB0byhmcm9tKGFyZ3MpKTtcblx0fTtcbn1cblxuZnVuY3Rpb24gd3JhcENvbnZlcnNpb24odG9Nb2RlbCwgZ3JhcGgpIHtcblx0dmFyIHBhdGggPSBbZ3JhcGhbdG9Nb2RlbF0ucGFyZW50LCB0b01vZGVsXTtcblx0dmFyIGZuID0gY29udmVyc2lvbnNbZ3JhcGhbdG9Nb2RlbF0ucGFyZW50XVt0b01vZGVsXTtcblxuXHR2YXIgY3VyID0gZ3JhcGhbdG9Nb2RlbF0ucGFyZW50O1xuXHR3aGlsZSAoZ3JhcGhbY3VyXS5wYXJlbnQpIHtcblx0XHRwYXRoLnVuc2hpZnQoZ3JhcGhbY3VyXS5wYXJlbnQpO1xuXHRcdGZuID0gbGluayhjb252ZXJzaW9uc1tncmFwaFtjdXJdLnBhcmVudF1bY3VyXSwgZm4pO1xuXHRcdGN1ciA9IGdyYXBoW2N1cl0ucGFyZW50O1xuXHR9XG5cblx0Zm4uY29udmVyc2lvbiA9IHBhdGg7XG5cdHJldHVybiBmbjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZnJvbU1vZGVsKSB7XG5cdHZhciBncmFwaCA9IGRlcml2ZUJGUyhmcm9tTW9kZWwpO1xuXHR2YXIgY29udmVyc2lvbiA9IHt9O1xuXG5cdHZhciBtb2RlbHMgPSBPYmplY3Qua2V5cyhncmFwaCk7XG5cdGZvciAodmFyIGxlbiA9IG1vZGVscy5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHR2YXIgdG9Nb2RlbCA9IG1vZGVsc1tpXTtcblx0XHR2YXIgbm9kZSA9IGdyYXBoW3RvTW9kZWxdO1xuXG5cdFx0aWYgKG5vZGUucGFyZW50ID09PSBudWxsKSB7XG5cdFx0XHQvLyBubyBwb3NzaWJsZSBjb252ZXJzaW9uLCBvciB0aGlzIG5vZGUgaXMgdGhlIHNvdXJjZSBtb2RlbC5cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnZlcnNpb25bdG9Nb2RlbF0gPSB3cmFwQ29udmVyc2lvbih0b01vZGVsLCBncmFwaCk7XG5cdH1cblxuXHRyZXR1cm4gY29udmVyc2lvbjtcbn07XG5cbiIsICJ2YXIgY29udmVyc2lvbnMgPSByZXF1aXJlKCcuL2NvbnZlcnNpb25zJyk7XG52YXIgcm91dGUgPSByZXF1aXJlKCcuL3JvdXRlJyk7XG5cbnZhciBjb252ZXJ0ID0ge307XG5cbnZhciBtb2RlbHMgPSBPYmplY3Qua2V5cyhjb252ZXJzaW9ucyk7XG5cbmZ1bmN0aW9uIHdyYXBSYXcoZm4pIHtcblx0dmFyIHdyYXBwZWRGbiA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0aWYgKGFyZ3MgPT09IHVuZGVmaW5lZCB8fCBhcmdzID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gYXJncztcblx0XHR9XG5cblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmbihhcmdzKTtcblx0fTtcblxuXHQvLyBwcmVzZXJ2ZSAuY29udmVyc2lvbiBwcm9wZXJ0eSBpZiB0aGVyZSBpcyBvbmVcblx0aWYgKCdjb252ZXJzaW9uJyBpbiBmbikge1xuXHRcdHdyYXBwZWRGbi5jb252ZXJzaW9uID0gZm4uY29udmVyc2lvbjtcblx0fVxuXG5cdHJldHVybiB3cmFwcGVkRm47XG59XG5cbmZ1bmN0aW9uIHdyYXBSb3VuZGVkKGZuKSB7XG5cdHZhciB3cmFwcGVkRm4gPSBmdW5jdGlvbiAoYXJncykge1xuXHRcdGlmIChhcmdzID09PSB1bmRlZmluZWQgfHwgYXJncyA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGFyZ3M7XG5cdFx0fVxuXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0XHR9XG5cblx0XHR2YXIgcmVzdWx0ID0gZm4oYXJncyk7XG5cblx0XHQvLyB3ZSdyZSBhc3N1bWluZyB0aGUgcmVzdWx0IGlzIGFuIGFycmF5IGhlcmUuXG5cdFx0Ly8gc2VlIG5vdGljZSBpbiBjb252ZXJzaW9ucy5qczsgZG9uJ3QgdXNlIGJveCB0eXBlc1xuXHRcdC8vIGluIGNvbnZlcnNpb24gZnVuY3Rpb25zLlxuXHRcdGlmICh0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yICh2YXIgbGVuID0gcmVzdWx0Lmxlbmd0aCwgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRyZXN1bHRbaV0gPSBNYXRoLnJvdW5kKHJlc3VsdFtpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHQvLyBwcmVzZXJ2ZSAuY29udmVyc2lvbiBwcm9wZXJ0eSBpZiB0aGVyZSBpcyBvbmVcblx0aWYgKCdjb252ZXJzaW9uJyBpbiBmbikge1xuXHRcdHdyYXBwZWRGbi5jb252ZXJzaW9uID0gZm4uY29udmVyc2lvbjtcblx0fVxuXG5cdHJldHVybiB3cmFwcGVkRm47XG59XG5cbm1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uIChmcm9tTW9kZWwpIHtcblx0Y29udmVydFtmcm9tTW9kZWxdID0ge307XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnZlcnRbZnJvbU1vZGVsXSwgJ2NoYW5uZWxzJywge3ZhbHVlOiBjb252ZXJzaW9uc1tmcm9tTW9kZWxdLmNoYW5uZWxzfSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb252ZXJ0W2Zyb21Nb2RlbF0sICdsYWJlbHMnLCB7dmFsdWU6IGNvbnZlcnNpb25zW2Zyb21Nb2RlbF0ubGFiZWxzfSk7XG5cblx0dmFyIHJvdXRlcyA9IHJvdXRlKGZyb21Nb2RlbCk7XG5cdHZhciByb3V0ZU1vZGVscyA9IE9iamVjdC5rZXlzKHJvdXRlcyk7XG5cblx0cm91dGVNb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAodG9Nb2RlbCkge1xuXHRcdHZhciBmbiA9IHJvdXRlc1t0b01vZGVsXTtcblxuXHRcdGNvbnZlcnRbZnJvbU1vZGVsXVt0b01vZGVsXSA9IHdyYXBSb3VuZGVkKGZuKTtcblx0XHRjb252ZXJ0W2Zyb21Nb2RlbF1bdG9Nb2RlbF0ucmF3ID0gd3JhcFJhdyhmbik7XG5cdH0pO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVydDtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBjb2xvclN0cmluZyA9IHJlcXVpcmUoJ2NvbG9yLXN0cmluZycpO1xudmFyIGNvbnZlcnQgPSByZXF1aXJlKCdjb2xvci1jb252ZXJ0Jyk7XG5cbnZhciBfc2xpY2UgPSBbXS5zbGljZTtcblxudmFyIHNraXBwZWRNb2RlbHMgPSBbXG5cdC8vIHRvIGJlIGhvbmVzdCwgSSBkb24ndCByZWFsbHkgZmVlbCBsaWtlIGtleXdvcmQgYmVsb25ncyBpbiBjb2xvciBjb252ZXJ0LCBidXQgZWguXG5cdCdrZXl3b3JkJyxcblxuXHQvLyBncmF5IGNvbmZsaWN0cyB3aXRoIHNvbWUgbWV0aG9kIG5hbWVzLCBhbmQgaGFzIGl0cyBvd24gbWV0aG9kIGRlZmluZWQuXG5cdCdncmF5JyxcblxuXHQvLyBzaG91bGRuJ3QgcmVhbGx5IGJlIGluIGNvbG9yLWNvbnZlcnQgZWl0aGVyLi4uXG5cdCdoZXgnXG5dO1xuXG52YXIgaGFzaGVkTW9kZWxLZXlzID0ge307XG5PYmplY3Qua2V5cyhjb252ZXJ0KS5mb3JFYWNoKGZ1bmN0aW9uIChtb2RlbCkge1xuXHRoYXNoZWRNb2RlbEtleXNbX3NsaWNlLmNhbGwoY29udmVydFttb2RlbF0ubGFiZWxzKS5zb3J0KCkuam9pbignJyldID0gbW9kZWw7XG59KTtcblxudmFyIGxpbWl0ZXJzID0ge307XG5cbmZ1bmN0aW9uIENvbG9yKG9iaiwgbW9kZWwpIHtcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbG9yKSkge1xuXHRcdHJldHVybiBuZXcgQ29sb3Iob2JqLCBtb2RlbCk7XG5cdH1cblxuXHRpZiAobW9kZWwgJiYgbW9kZWwgaW4gc2tpcHBlZE1vZGVscykge1xuXHRcdG1vZGVsID0gbnVsbDtcblx0fVxuXG5cdGlmIChtb2RlbCAmJiAhKG1vZGVsIGluIGNvbnZlcnQpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG1vZGVsOiAnICsgbW9kZWwpO1xuXHR9XG5cblx0dmFyIGk7XG5cdHZhciBjaGFubmVscztcblxuXHRpZiAob2JqID09IG51bGwpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuXHRcdHRoaXMubW9kZWwgPSAncmdiJztcblx0XHR0aGlzLmNvbG9yID0gWzAsIDAsIDBdO1xuXHRcdHRoaXMudmFscGhhID0gMTtcblx0fSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBDb2xvcikge1xuXHRcdHRoaXMubW9kZWwgPSBvYmoubW9kZWw7XG5cdFx0dGhpcy5jb2xvciA9IG9iai5jb2xvci5zbGljZSgpO1xuXHRcdHRoaXMudmFscGhhID0gb2JqLnZhbHBoYTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuXHRcdHZhciByZXN1bHQgPSBjb2xvclN0cmluZy5nZXQob2JqKTtcblx0XHRpZiAocmVzdWx0ID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBjb2xvciBmcm9tIHN0cmluZzogJyArIG9iaik7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb2RlbCA9IHJlc3VsdC5tb2RlbDtcblx0XHRjaGFubmVscyA9IGNvbnZlcnRbdGhpcy5tb2RlbF0uY2hhbm5lbHM7XG5cdFx0dGhpcy5jb2xvciA9IHJlc3VsdC52YWx1ZS5zbGljZSgwLCBjaGFubmVscyk7XG5cdFx0dGhpcy52YWxwaGEgPSB0eXBlb2YgcmVzdWx0LnZhbHVlW2NoYW5uZWxzXSA9PT0gJ251bWJlcicgPyByZXN1bHQudmFsdWVbY2hhbm5lbHNdIDogMTtcblx0fSBlbHNlIGlmIChvYmoubGVuZ3RoKSB7XG5cdFx0dGhpcy5tb2RlbCA9IG1vZGVsIHx8ICdyZ2InO1xuXHRcdGNoYW5uZWxzID0gY29udmVydFt0aGlzLm1vZGVsXS5jaGFubmVscztcblx0XHR2YXIgbmV3QXJyID0gX3NsaWNlLmNhbGwob2JqLCAwLCBjaGFubmVscyk7XG5cdFx0dGhpcy5jb2xvciA9IHplcm9BcnJheShuZXdBcnIsIGNoYW5uZWxzKTtcblx0XHR0aGlzLnZhbHBoYSA9IHR5cGVvZiBvYmpbY2hhbm5lbHNdID09PSAnbnVtYmVyJyA/IG9ialtjaGFubmVsc10gOiAxO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSB7XG5cdFx0Ly8gdGhpcyBpcyBhbHdheXMgUkdCIC0gY2FuIGJlIGNvbnZlcnRlZCBsYXRlciBvbi5cblx0XHRvYmogJj0gMHhGRkZGRkY7XG5cdFx0dGhpcy5tb2RlbCA9ICdyZ2InO1xuXHRcdHRoaXMuY29sb3IgPSBbXG5cdFx0XHQob2JqID4+IDE2KSAmIDB4RkYsXG5cdFx0XHQob2JqID4+IDgpICYgMHhGRixcblx0XHRcdG9iaiAmIDB4RkZcblx0XHRdO1xuXHRcdHRoaXMudmFscGhhID0gMTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLnZhbHBoYSA9IDE7XG5cblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cdFx0aWYgKCdhbHBoYScgaW4gb2JqKSB7XG5cdFx0XHRrZXlzLnNwbGljZShrZXlzLmluZGV4T2YoJ2FscGhhJyksIDEpO1xuXHRcdFx0dGhpcy52YWxwaGEgPSB0eXBlb2Ygb2JqLmFscGhhID09PSAnbnVtYmVyJyA/IG9iai5hbHBoYSA6IDA7XG5cdFx0fVxuXG5cdFx0dmFyIGhhc2hlZEtleXMgPSBrZXlzLnNvcnQoKS5qb2luKCcnKTtcblx0XHRpZiAoIShoYXNoZWRLZXlzIGluIGhhc2hlZE1vZGVsS2V5cykpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIGNvbG9yIGZyb20gb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkob2JqKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb2RlbCA9IGhhc2hlZE1vZGVsS2V5c1toYXNoZWRLZXlzXTtcblxuXHRcdHZhciBsYWJlbHMgPSBjb252ZXJ0W3RoaXMubW9kZWxdLmxhYmVscztcblx0XHR2YXIgY29sb3IgPSBbXTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb2xvci5wdXNoKG9ialtsYWJlbHNbaV1dKTtcblx0XHR9XG5cblx0XHR0aGlzLmNvbG9yID0gemVyb0FycmF5KGNvbG9yKTtcblx0fVxuXG5cdC8vIHBlcmZvcm0gbGltaXRhdGlvbnMgKGNsYW1waW5nLCBldGMuKVxuXHRpZiAobGltaXRlcnNbdGhpcy5tb2RlbF0pIHtcblx0XHRjaGFubmVscyA9IGNvbnZlcnRbdGhpcy5tb2RlbF0uY2hhbm5lbHM7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGNoYW5uZWxzOyBpKyspIHtcblx0XHRcdHZhciBsaW1pdCA9IGxpbWl0ZXJzW3RoaXMubW9kZWxdW2ldO1xuXHRcdFx0aWYgKGxpbWl0KSB7XG5cdFx0XHRcdHRoaXMuY29sb3JbaV0gPSBsaW1pdCh0aGlzLmNvbG9yW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR0aGlzLnZhbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHRoaXMudmFscGhhKSk7XG5cblx0aWYgKE9iamVjdC5mcmVlemUpIHtcblx0XHRPYmplY3QuZnJlZXplKHRoaXMpO1xuXHR9XG59XG5cbkNvbG9yLnByb3RvdHlwZSA9IHtcblx0dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5zdHJpbmcoKTtcblx0fSxcblxuXHR0b0pTT046IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpc1t0aGlzLm1vZGVsXSgpO1xuXHR9LFxuXG5cdHN0cmluZzogZnVuY3Rpb24gKHBsYWNlcykge1xuXHRcdHZhciBzZWxmID0gdGhpcy5tb2RlbCBpbiBjb2xvclN0cmluZy50byA/IHRoaXMgOiB0aGlzLnJnYigpO1xuXHRcdHNlbGYgPSBzZWxmLnJvdW5kKHR5cGVvZiBwbGFjZXMgPT09ICdudW1iZXInID8gcGxhY2VzIDogMSk7XG5cdFx0dmFyIGFyZ3MgPSBzZWxmLnZhbHBoYSA9PT0gMSA/IHNlbGYuY29sb3IgOiBzZWxmLmNvbG9yLmNvbmNhdCh0aGlzLnZhbHBoYSk7XG5cdFx0cmV0dXJuIGNvbG9yU3RyaW5nLnRvW3NlbGYubW9kZWxdKGFyZ3MpO1xuXHR9LFxuXG5cdHBlcmNlbnRTdHJpbmc6IGZ1bmN0aW9uIChwbGFjZXMpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXMucmdiKCkucm91bmQodHlwZW9mIHBsYWNlcyA9PT0gJ251bWJlcicgPyBwbGFjZXMgOiAxKTtcblx0XHR2YXIgYXJncyA9IHNlbGYudmFscGhhID09PSAxID8gc2VsZi5jb2xvciA6IHNlbGYuY29sb3IuY29uY2F0KHRoaXMudmFscGhhKTtcblx0XHRyZXR1cm4gY29sb3JTdHJpbmcudG8ucmdiLnBlcmNlbnQoYXJncyk7XG5cdH0sXG5cblx0YXJyYXk6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy52YWxwaGEgPT09IDEgPyB0aGlzLmNvbG9yLnNsaWNlKCkgOiB0aGlzLmNvbG9yLmNvbmNhdCh0aGlzLnZhbHBoYSk7XG5cdH0sXG5cblx0b2JqZWN0OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdHZhciBjaGFubmVscyA9IGNvbnZlcnRbdGhpcy5tb2RlbF0uY2hhbm5lbHM7XG5cdFx0dmFyIGxhYmVscyA9IGNvbnZlcnRbdGhpcy5tb2RlbF0ubGFiZWxzO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjaGFubmVsczsgaSsrKSB7XG5cdFx0XHRyZXN1bHRbbGFiZWxzW2ldXSA9IHRoaXMuY29sb3JbaV07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudmFscGhhICE9PSAxKSB7XG5cdFx0XHRyZXN1bHQuYWxwaGEgPSB0aGlzLnZhbHBoYTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdHVuaXRBcnJheTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciByZ2IgPSB0aGlzLnJnYigpLmNvbG9yO1xuXHRcdHJnYlswXSAvPSAyNTU7XG5cdFx0cmdiWzFdIC89IDI1NTtcblx0XHRyZ2JbMl0gLz0gMjU1O1xuXG5cdFx0aWYgKHRoaXMudmFscGhhICE9PSAxKSB7XG5cdFx0XHRyZ2IucHVzaCh0aGlzLnZhbHBoYSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJnYjtcblx0fSxcblxuXHR1bml0T2JqZWN0OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJnYiA9IHRoaXMucmdiKCkub2JqZWN0KCk7XG5cdFx0cmdiLnIgLz0gMjU1O1xuXHRcdHJnYi5nIC89IDI1NTtcblx0XHRyZ2IuYiAvPSAyNTU7XG5cblx0XHRpZiAodGhpcy52YWxwaGEgIT09IDEpIHtcblx0XHRcdHJnYi5hbHBoYSA9IHRoaXMudmFscGhhO1xuXHRcdH1cblxuXHRcdHJldHVybiByZ2I7XG5cdH0sXG5cblx0cm91bmQ6IGZ1bmN0aW9uIChwbGFjZXMpIHtcblx0XHRwbGFjZXMgPSBNYXRoLm1heChwbGFjZXMgfHwgMCwgMCk7XG5cdFx0cmV0dXJuIG5ldyBDb2xvcih0aGlzLmNvbG9yLm1hcChyb3VuZFRvUGxhY2UocGxhY2VzKSkuY29uY2F0KHRoaXMudmFscGhhKSwgdGhpcy5tb2RlbCk7XG5cdH0sXG5cblx0YWxwaGE6IGZ1bmN0aW9uICh2YWwpIHtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIG5ldyBDb2xvcih0aGlzLmNvbG9yLmNvbmNhdChNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2YWwpKSksIHRoaXMubW9kZWwpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnZhbHBoYTtcblx0fSxcblxuXHQvLyByZ2Jcblx0cmVkOiBnZXRzZXQoJ3JnYicsIDAsIG1heGZuKDI1NSkpLFxuXHRncmVlbjogZ2V0c2V0KCdyZ2InLCAxLCBtYXhmbigyNTUpKSxcblx0Ymx1ZTogZ2V0c2V0KCdyZ2InLCAyLCBtYXhmbigyNTUpKSxcblxuXHRodWU6IGdldHNldChbJ2hzbCcsICdoc3YnLCAnaHNsJywgJ2h3YicsICdoY2cnXSwgMCwgZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gKCh2YWwgJSAzNjApICsgMzYwKSAlIDM2MDsgfSksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYnJhY2Utc3R5bGVcblxuXHRzYXR1cmF0aW9ubDogZ2V0c2V0KCdoc2wnLCAxLCBtYXhmbigxMDApKSxcblx0bGlnaHRuZXNzOiBnZXRzZXQoJ2hzbCcsIDIsIG1heGZuKDEwMCkpLFxuXG5cdHNhdHVyYXRpb252OiBnZXRzZXQoJ2hzdicsIDEsIG1heGZuKDEwMCkpLFxuXHR2YWx1ZTogZ2V0c2V0KCdoc3YnLCAyLCBtYXhmbigxMDApKSxcblxuXHRjaHJvbWE6IGdldHNldCgnaGNnJywgMSwgbWF4Zm4oMTAwKSksXG5cdGdyYXk6IGdldHNldCgnaGNnJywgMiwgbWF4Zm4oMTAwKSksXG5cblx0d2hpdGU6IGdldHNldCgnaHdiJywgMSwgbWF4Zm4oMTAwKSksXG5cdHdibGFjazogZ2V0c2V0KCdod2InLCAyLCBtYXhmbigxMDApKSxcblxuXHRjeWFuOiBnZXRzZXQoJ2NteWsnLCAwLCBtYXhmbigxMDApKSxcblx0bWFnZW50YTogZ2V0c2V0KCdjbXlrJywgMSwgbWF4Zm4oMTAwKSksXG5cdHllbGxvdzogZ2V0c2V0KCdjbXlrJywgMiwgbWF4Zm4oMTAwKSksXG5cdGJsYWNrOiBnZXRzZXQoJ2NteWsnLCAzLCBtYXhmbigxMDApKSxcblxuXHR4OiBnZXRzZXQoJ3h5eicsIDAsIG1heGZuKDEwMCkpLFxuXHR5OiBnZXRzZXQoJ3h5eicsIDEsIG1heGZuKDEwMCkpLFxuXHR6OiBnZXRzZXQoJ3h5eicsIDIsIG1heGZuKDEwMCkpLFxuXG5cdGw6IGdldHNldCgnbGFiJywgMCwgbWF4Zm4oMTAwKSksXG5cdGE6IGdldHNldCgnbGFiJywgMSksXG5cdGI6IGdldHNldCgnbGFiJywgMiksXG5cblx0a2V5d29yZDogZnVuY3Rpb24gKHZhbCkge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKHZhbCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbnZlcnRbdGhpcy5tb2RlbF0ua2V5d29yZCh0aGlzLmNvbG9yKTtcblx0fSxcblxuXHRoZXg6IGZ1bmN0aW9uICh2YWwpIHtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIG5ldyBDb2xvcih2YWwpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb2xvclN0cmluZy50by5oZXgodGhpcy5yZ2IoKS5yb3VuZCgpLmNvbG9yKTtcblx0fSxcblxuXHRyZ2JOdW1iZXI6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcmdiID0gdGhpcy5yZ2IoKS5jb2xvcjtcblx0XHRyZXR1cm4gKChyZ2JbMF0gJiAweEZGKSA8PCAxNikgfCAoKHJnYlsxXSAmIDB4RkYpIDw8IDgpIHwgKHJnYlsyXSAmIDB4RkYpO1xuXHR9LFxuXG5cdGx1bWlub3NpdHk6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAvI3JlbGF0aXZlbHVtaW5hbmNlZGVmXG5cdFx0dmFyIHJnYiA9IHRoaXMucmdiKCkuY29sb3I7XG5cblx0XHR2YXIgbHVtID0gW107XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZ2IubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBjaGFuID0gcmdiW2ldIC8gMjU1O1xuXHRcdFx0bHVtW2ldID0gKGNoYW4gPD0gMC4wMzkyOCkgPyBjaGFuIC8gMTIuOTIgOiBNYXRoLnBvdygoKGNoYW4gKyAwLjA1NSkgLyAxLjA1NSksIDIuNCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDAuMjEyNiAqIGx1bVswXSArIDAuNzE1MiAqIGx1bVsxXSArIDAuMDcyMiAqIGx1bVsyXTtcblx0fSxcblxuXHRjb250cmFzdDogZnVuY3Rpb24gKGNvbG9yMikge1xuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC8jY29udHJhc3QtcmF0aW9kZWZcblx0XHR2YXIgbHVtMSA9IHRoaXMubHVtaW5vc2l0eSgpO1xuXHRcdHZhciBsdW0yID0gY29sb3IyLmx1bWlub3NpdHkoKTtcblxuXHRcdGlmIChsdW0xID4gbHVtMikge1xuXHRcdFx0cmV0dXJuIChsdW0xICsgMC4wNSkgLyAobHVtMiArIDAuMDUpO1xuXHRcdH1cblxuXHRcdHJldHVybiAobHVtMiArIDAuMDUpIC8gKGx1bTEgKyAwLjA1KTtcblx0fSxcblxuXHRsZXZlbDogZnVuY3Rpb24gKGNvbG9yMikge1xuXHRcdHZhciBjb250cmFzdFJhdGlvID0gdGhpcy5jb250cmFzdChjb2xvcjIpO1xuXHRcdGlmIChjb250cmFzdFJhdGlvID49IDcuMSkge1xuXHRcdFx0cmV0dXJuICdBQUEnO1xuXHRcdH1cblxuXHRcdHJldHVybiAoY29udHJhc3RSYXRpbyA+PSA0LjUpID8gJ0FBJyA6ICcnO1xuXHR9LFxuXG5cdGlzRGFyazogZnVuY3Rpb24gKCkge1xuXHRcdC8vIFlJUSBlcXVhdGlvbiBmcm9tIGh0dHA6Ly8yNHdheXMub3JnLzIwMTAvY2FsY3VsYXRpbmctY29sb3ItY29udHJhc3Rcblx0XHR2YXIgcmdiID0gdGhpcy5yZ2IoKS5jb2xvcjtcblx0XHR2YXIgeWlxID0gKHJnYlswXSAqIDI5OSArIHJnYlsxXSAqIDU4NyArIHJnYlsyXSAqIDExNCkgLyAxMDAwO1xuXHRcdHJldHVybiB5aXEgPCAxMjg7XG5cdH0sXG5cblx0aXNMaWdodDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAhdGhpcy5pc0RhcmsoKTtcblx0fSxcblxuXHRuZWdhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcmdiID0gdGhpcy5yZ2IoKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0cmdiLmNvbG9yW2ldID0gMjU1IC0gcmdiLmNvbG9yW2ldO1xuXHRcdH1cblx0XHRyZXR1cm4gcmdiO1xuXHR9LFxuXG5cdGxpZ2h0ZW46IGZ1bmN0aW9uIChyYXRpbykge1xuXHRcdHZhciBoc2wgPSB0aGlzLmhzbCgpO1xuXHRcdGhzbC5jb2xvclsyXSArPSBoc2wuY29sb3JbMl0gKiByYXRpbztcblx0XHRyZXR1cm4gaHNsO1xuXHR9LFxuXG5cdGRhcmtlbjogZnVuY3Rpb24gKHJhdGlvKSB7XG5cdFx0dmFyIGhzbCA9IHRoaXMuaHNsKCk7XG5cdFx0aHNsLmNvbG9yWzJdIC09IGhzbC5jb2xvclsyXSAqIHJhdGlvO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0c2F0dXJhdGU6IGZ1bmN0aW9uIChyYXRpbykge1xuXHRcdHZhciBoc2wgPSB0aGlzLmhzbCgpO1xuXHRcdGhzbC5jb2xvclsxXSArPSBoc2wuY29sb3JbMV0gKiByYXRpbztcblx0XHRyZXR1cm4gaHNsO1xuXHR9LFxuXG5cdGRlc2F0dXJhdGU6IGZ1bmN0aW9uIChyYXRpbykge1xuXHRcdHZhciBoc2wgPSB0aGlzLmhzbCgpO1xuXHRcdGhzbC5jb2xvclsxXSAtPSBoc2wuY29sb3JbMV0gKiByYXRpbztcblx0XHRyZXR1cm4gaHNsO1xuXHR9LFxuXG5cdHdoaXRlbjogZnVuY3Rpb24gKHJhdGlvKSB7XG5cdFx0dmFyIGh3YiA9IHRoaXMuaHdiKCk7XG5cdFx0aHdiLmNvbG9yWzFdICs9IGh3Yi5jb2xvclsxXSAqIHJhdGlvO1xuXHRcdHJldHVybiBod2I7XG5cdH0sXG5cblx0YmxhY2tlbjogZnVuY3Rpb24gKHJhdGlvKSB7XG5cdFx0dmFyIGh3YiA9IHRoaXMuaHdiKCk7XG5cdFx0aHdiLmNvbG9yWzJdICs9IGh3Yi5jb2xvclsyXSAqIHJhdGlvO1xuXHRcdHJldHVybiBod2I7XG5cdH0sXG5cblx0Z3JheXNjYWxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HcmF5c2NhbGUjQ29udmVydGluZ19jb2xvcl90b19ncmF5c2NhbGVcblx0XHR2YXIgcmdiID0gdGhpcy5yZ2IoKS5jb2xvcjtcblx0XHR2YXIgdmFsID0gcmdiWzBdICogMC4zICsgcmdiWzFdICogMC41OSArIHJnYlsyXSAqIDAuMTE7XG5cdFx0cmV0dXJuIENvbG9yLnJnYih2YWwsIHZhbCwgdmFsKTtcblx0fSxcblxuXHRmYWRlOiBmdW5jdGlvbiAocmF0aW8pIHtcblx0XHRyZXR1cm4gdGhpcy5hbHBoYSh0aGlzLnZhbHBoYSAtICh0aGlzLnZhbHBoYSAqIHJhdGlvKSk7XG5cdH0sXG5cblx0b3BhcXVlcjogZnVuY3Rpb24gKHJhdGlvKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWxwaGEodGhpcy52YWxwaGEgKyAodGhpcy52YWxwaGEgKiByYXRpbykpO1xuXHR9LFxuXG5cdHJvdGF0ZTogZnVuY3Rpb24gKGRlZ3JlZXMpIHtcblx0XHR2YXIgaHNsID0gdGhpcy5oc2woKTtcblx0XHR2YXIgaHVlID0gaHNsLmNvbG9yWzBdO1xuXHRcdGh1ZSA9IChodWUgKyBkZWdyZWVzKSAlIDM2MDtcblx0XHRodWUgPSBodWUgPCAwID8gMzYwICsgaHVlIDogaHVlO1xuXHRcdGhzbC5jb2xvclswXSA9IGh1ZTtcblx0XHRyZXR1cm4gaHNsO1xuXHR9LFxuXG5cdG1peDogZnVuY3Rpb24gKG1peGluQ29sb3IsIHdlaWdodCkge1xuXHRcdC8vIHBvcnRlZCBmcm9tIHNhc3MgaW1wbGVtZW50YXRpb24gaW4gQ1xuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zYXNzL2xpYnNhc3MvYmxvYi8wZTZiNGEyODUwMDkyMzU2YWEzZWNlMDdjNmIyNDlmMDIyMWNhY2VkL2Z1bmN0aW9ucy5jcHAjTDIwOVxuXHRcdGlmICghbWl4aW5Db2xvciB8fCAhbWl4aW5Db2xvci5yZ2IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgdG8gXCJtaXhcIiB3YXMgbm90IGEgQ29sb3IgaW5zdGFuY2UsIGJ1dCByYXRoZXIgYW4gaW5zdGFuY2Ugb2YgJyArIHR5cGVvZiBtaXhpbkNvbG9yKTtcblx0XHR9XG5cdFx0dmFyIGNvbG9yMSA9IG1peGluQ29sb3IucmdiKCk7XG5cdFx0dmFyIGNvbG9yMiA9IHRoaXMucmdiKCk7XG5cdFx0dmFyIHAgPSB3ZWlnaHQgPT09IHVuZGVmaW5lZCA/IDAuNSA6IHdlaWdodDtcblxuXHRcdHZhciB3ID0gMiAqIHAgLSAxO1xuXHRcdHZhciBhID0gY29sb3IxLmFscGhhKCkgLSBjb2xvcjIuYWxwaGEoKTtcblxuXHRcdHZhciB3MSA9ICgoKHcgKiBhID09PSAtMSkgPyB3IDogKHcgKyBhKSAvICgxICsgdyAqIGEpKSArIDEpIC8gMi4wO1xuXHRcdHZhciB3MiA9IDEgLSB3MTtcblxuXHRcdHJldHVybiBDb2xvci5yZ2IoXG5cdFx0XHRcdHcxICogY29sb3IxLnJlZCgpICsgdzIgKiBjb2xvcjIucmVkKCksXG5cdFx0XHRcdHcxICogY29sb3IxLmdyZWVuKCkgKyB3MiAqIGNvbG9yMi5ncmVlbigpLFxuXHRcdFx0XHR3MSAqIGNvbG9yMS5ibHVlKCkgKyB3MiAqIGNvbG9yMi5ibHVlKCksXG5cdFx0XHRcdGNvbG9yMS5hbHBoYSgpICogcCArIGNvbG9yMi5hbHBoYSgpICogKDEgLSBwKSk7XG5cdH1cbn07XG5cbi8vIG1vZGVsIGNvbnZlcnNpb24gbWV0aG9kcyBhbmQgc3RhdGljIGNvbnN0cnVjdG9yc1xuT2JqZWN0LmtleXMoY29udmVydCkuZm9yRWFjaChmdW5jdGlvbiAobW9kZWwpIHtcblx0aWYgKHNraXBwZWRNb2RlbHMuaW5kZXhPZihtb2RlbCkgIT09IC0xKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIGNoYW5uZWxzID0gY29udmVydFttb2RlbF0uY2hhbm5lbHM7XG5cblx0Ly8gY29udmVyc2lvbiBtZXRob2RzXG5cdENvbG9yLnByb3RvdHlwZVttb2RlbF0gPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMubW9kZWwgPT09IG1vZGVsKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKHRoaXMpO1xuXHRcdH1cblxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKGFyZ3VtZW50cywgbW9kZWwpO1xuXHRcdH1cblxuXHRcdHZhciBuZXdBbHBoYSA9IHR5cGVvZiBhcmd1bWVudHNbY2hhbm5lbHNdID09PSAnbnVtYmVyJyA/IGNoYW5uZWxzIDogdGhpcy52YWxwaGE7XG5cdFx0cmV0dXJuIG5ldyBDb2xvcihhc3NlcnRBcnJheShjb252ZXJ0W3RoaXMubW9kZWxdW21vZGVsXS5yYXcodGhpcy5jb2xvcikpLmNvbmNhdChuZXdBbHBoYSksIG1vZGVsKTtcblx0fTtcblxuXHQvLyAnc3RhdGljJyBjb25zdHJ1Y3Rpb24gbWV0aG9kc1xuXHRDb2xvclttb2RlbF0gPSBmdW5jdGlvbiAoY29sb3IpIHtcblx0XHRpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuXHRcdFx0Y29sb3IgPSB6ZXJvQXJyYXkoX3NsaWNlLmNhbGwoYXJndW1lbnRzKSwgY2hhbm5lbHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IENvbG9yKGNvbG9yLCBtb2RlbCk7XG5cdH07XG59KTtcblxuZnVuY3Rpb24gcm91bmRUbyhudW0sIHBsYWNlcykge1xuXHRyZXR1cm4gTnVtYmVyKG51bS50b0ZpeGVkKHBsYWNlcykpO1xufVxuXG5mdW5jdGlvbiByb3VuZFRvUGxhY2UocGxhY2VzKSB7XG5cdHJldHVybiBmdW5jdGlvbiAobnVtKSB7XG5cdFx0cmV0dXJuIHJvdW5kVG8obnVtLCBwbGFjZXMpO1xuXHR9O1xufVxuXG5mdW5jdGlvbiBnZXRzZXQobW9kZWwsIGNoYW5uZWwsIG1vZGlmaWVyKSB7XG5cdG1vZGVsID0gQXJyYXkuaXNBcnJheShtb2RlbCkgPyBtb2RlbCA6IFttb2RlbF07XG5cblx0bW9kZWwuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuXHRcdChsaW1pdGVyc1ttXSB8fCAobGltaXRlcnNbbV0gPSBbXSkpW2NoYW5uZWxdID0gbW9kaWZpZXI7XG5cdH0pO1xuXG5cdG1vZGVsID0gbW9kZWxbMF07XG5cblx0cmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcblx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRcdGlmIChtb2RpZmllcikge1xuXHRcdFx0XHR2YWwgPSBtb2RpZmllcih2YWwpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXN1bHQgPSB0aGlzW21vZGVsXSgpO1xuXHRcdFx0cmVzdWx0LmNvbG9yW2NoYW5uZWxdID0gdmFsO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRyZXN1bHQgPSB0aGlzW21vZGVsXSgpLmNvbG9yW2NoYW5uZWxdO1xuXHRcdGlmIChtb2RpZmllcikge1xuXHRcdFx0cmVzdWx0ID0gbW9kaWZpZXIocmVzdWx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xufVxuXG5mdW5jdGlvbiBtYXhmbihtYXgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uICh2KSB7XG5cdFx0cmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKG1heCwgdikpO1xuXHR9O1xufVxuXG5mdW5jdGlvbiBhc3NlcnRBcnJheSh2YWwpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbCA6IFt2YWxdO1xufVxuXG5mdW5jdGlvbiB6ZXJvQXJyYXkoYXJyLCBsZW5ndGgpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdGlmICh0eXBlb2YgYXJyW2ldICE9PSAnbnVtYmVyJykge1xuXHRcdFx0YXJyW2ldID0gMDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqKlxuICogQ29udmVydCBzdHJpbmcgdG8gaGV4IGNvbG9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGV4dCB0byBoYXNoIGFuZCBjb252ZXJ0IHRvIGhleC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhleChzdHIpIHtcbiAgZm9yIChcbiAgICB2YXIgaSA9IDAsIGhhc2ggPSAwO1xuICAgIGkgPCBzdHIubGVuZ3RoO1xuICAgIGhhc2ggPSBzdHIuY2hhckNvZGVBdChpKyspICsgKChoYXNoIDw8IDUpIC0gaGFzaClcbiAgKTtcblxuICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKFxuICAgIE1hdGguYWJzKFxuICAgICAgKE1hdGguc2luKGhhc2gpICogMTAwMDApICUgMSAqIDE2Nzc3MjE2XG4gICAgKVxuICApLnRvU3RyaW5nKDE2KTtcblxuICByZXR1cm4gJyMnICsgQXJyYXkoNiAtIGNvbG9yLmxlbmd0aCArIDEpLmpvaW4oJzAnKSArIGNvbG9yO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBjb2xvciA9IHJlcXVpcmUoJ2NvbG9yJylcbiAgLCBoZXggPSByZXF1aXJlKCd0ZXh0LWhleCcpO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgY29sb3IgZm9yIGEgZ2l2ZW4gbmFtZS4gQnV0IGJlIHJlYXNvbmFibHkgc21hcnQgYWJvdXQgaXQgYnlcbiAqIHVuZGVyc3RhbmRpbmcgbmFtZSBzcGFjZXMgYW5kIGNvbG9yaW5nIGVhY2ggbmFtZXNwYWNlIGEgYml0IGxpZ2h0ZXIgc28gdGhleVxuICogc3RpbGwgaGF2ZSB0aGUgc2FtZSBiYXNlIGNvbG9yIGFzIHRoZSByb290LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZVxuICogQHBhcmFtIHtzdHJpbmd9IFtkZWxpbWl0ZXJdIFRoZSBkZWxpbWl0ZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGNvbG9yXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29sb3JzcGFjZShuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuICB2YXIgc3BsaXQgPSBuYW1lc3BhY2Uuc3BsaXQoZGVsaW1pdGVyIHx8ICc6Jyk7XG4gIHZhciBiYXNlID0gaGV4KHNwbGl0WzBdKTtcblxuICBpZiAoIXNwbGl0Lmxlbmd0aCkgcmV0dXJuIGJhc2U7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBzcGxpdC5sZW5ndGggLSAxOyBpIDwgbDsgaSsrKSB7XG4gICAgYmFzZSA9IGNvbG9yKGJhc2UpXG4gICAgLm1peChjb2xvcihoZXgoc3BsaXRbaSArIDFdKSkpXG4gICAgLnNhdHVyYXRlKDEpXG4gICAgLmhleCgpO1xuICB9XG5cbiAgcmV0dXJuIGJhc2U7XG59O1xuIiwgInZhciBjb2xvcnNwYWNlID0gcmVxdWlyZSgnY29sb3JzcGFjZScpO1xuXG4vKipcbiAqIFByZWZpeCB0aGUgbWVzc2FnZXMgd2l0aCBhIGNvbG9yZWQgbmFtZXNwYWNlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IG1lc3NhZ2VzIFRoZSBtZXNzYWdlcyBhcnJheSB0aGF0IGlzIGdldHRpbmcgd3JpdHRlbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgZm9yIGRpYWdub3N0aWNzLlxuICogQHJldHVybnMge0FycmF5fSBBbHRlcmVkIG1lc3NhZ2VzIGFycmF5LlxuICogQHB1YmxpY1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbG9yTmFtZXNwYWNlKGFyZ3MsIG9wdGlvbnMpIHtcbiAgdmFyIG5hbWVzcGFjZSA9IG9wdGlvbnMubmFtZXNwYWNlO1xuXG4gIGlmIChvcHRpb25zLmNvbG9ycyA9PT0gZmFsc2UpIHtcbiAgICBhcmdzWzBdID0gbmFtZXNwYWNlICsnOiAnKyBhcmdzWzBdO1xuICAgIHJldHVybiBhcmdzO1xuICB9XG5cbiAgdmFyIGNvbG9yID0gY29sb3JzcGFjZShuYW1lc3BhY2UpO1xuXG4gIC8vXG4gIC8vIFRoZSBjb25zb2xlIEFQSSBzdXBwb3J0cyBhIHNwZWNpYWwgJWMgZm9ybWF0dGVyIGluIGJyb3dzZXJzLiBUaGlzIGlzIHVzZWRcbiAgLy8gdG8gc3R5bGUgY29uc29sZSBtZXNzYWdlcyB3aXRoIGFueSBDU1Mgc3R5bGluZywgaW4gb3VyIGNhc2Ugd2Ugd2FudCB0b1xuICAvLyB1c2UgY29sb3JpemUgdGhlIG5hbWVzcGFjZSBmb3IgY2xhcml0eS4gQXMgdGhlc2UgYXJlIGZvcm1hdHRlcnMsIGFuZFxuICAvLyB3ZSBuZWVkIHRvIGluamVjdCBvdXIgQ1NTIHN0cmluZyBhcyBzZWNvbmQgbWVzc2FnZXMgYXJndW1lbnQgc28gaXRcbiAgLy8gZ2V0cyBwaWNrZWQgdXAgY29ycmVjdGx5LlxuICAvL1xuICBhcmdzWzBdID0gJyVjJysgbmFtZXNwYWNlICsnOiVjICcrIGFyZ3NbMF07XG4gIGFyZ3Muc3BsaWNlKDEsIDAsICdjb2xvcjonKyBjb2xvciwgJ2NvbG9yOmluaGVyaXQnKTtcblxuICByZXR1cm4gYXJncztcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIG5hbWVzcGFjZSBpcyBhbGxvd2VkIGJ5IHRoZSBnaXZlbiB2YXJpYWJsZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lc3BhY2UgdGhhdCBzaG91bGQgYmUgaW5jbHVkZWQuXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFyaWFibGUgVmFsdWUgdGhhdCBuZWVkcyB0byBiZSB0ZXN0ZWQuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSW5kaWNhdGlvbiBpZiBuYW1lc3BhY2UgaXMgZW5hYmxlZC5cbiAqIEBwdWJsaWNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmFibGVkKG5hbWUsIHZhcmlhYmxlKSB7XG4gIGlmICghdmFyaWFibGUpIHJldHVybiBmYWxzZTtcblxuICB2YXIgdmFyaWFibGVzID0gdmFyaWFibGUuc3BsaXQoL1tcXHMsXSsvKVxuICAgICwgaSA9IDA7XG5cbiAgZm9yICg7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXJpYWJsZSA9IHZhcmlhYmxlc1tpXS5yZXBsYWNlKCcqJywgJy4qPycpO1xuXG4gICAgaWYgKCctJyA9PT0gdmFyaWFibGUuY2hhckF0KDApKSB7XG4gICAgICBpZiAoKG5ldyBSZWdFeHAoJ14nKyB2YXJpYWJsZS5zdWJzdHIoMSkgKyckJykpLnRlc3QobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoKG5ldyBSZWdFeHAoJ14nKyB2YXJpYWJsZSArJyQnKSkudGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcbiIsICJ2YXIgZW5hYmxlZCA9IHJlcXVpcmUoJ2VuYWJsZWQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IEFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVGhlIGFkYXB0ZXIgbG9naWMuXG4gKiBAcHVibGljXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBhZGFwdGVyKG5hbWVzcGFjZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZW5hYmxlZChuYW1lc3BhY2UsIGZuKCkpO1xuICAgIH0gY2F0Y2ggKGUpIHsgLyogQW55IGZhaWx1cmUgbWVhbnMgdGhhdCB3ZSBmb3VuZCBub3RoaW5nICovIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cbiIsICJ2YXIgYWRhcHRlciA9IHJlcXVpcmUoJy4vJyk7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIHZhbHVlcyBmcm9tIHByb2Nlc3MuZW52LlxuICpcbiAqIEB0eXBlIHtGdW5jdGlvbn1cbiAqIEBwdWJsaWNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBhZGFwdGVyKGZ1bmN0aW9uIHN0b3JhZ2UoKSB7XG4gIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGlhZ25vc3RpY3MnKTtcbn0pO1xuIiwgInZhciBhZGFwdGVyID0gcmVxdWlyZSgnLi8nKTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgdmFsdWVzIGZyb20gcHJvY2Vzcy5lbnYuXG4gKlxuICogQHR5cGUge0Z1bmN0aW9ufVxuICogQHB1YmxpY1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGFkYXB0ZXIoZnVuY3Rpb24gaGFzaCgpIHtcbiAgcmV0dXJuIC8oZGVidWd8ZGlhZ25vc3RpY3MpPShbXiZdKykvaS5leGVjKHdpbmRvdy5sb2NhdGlvbi5oYXNoKVsyXTtcbn0pO1xuIiwgIi8qKlxuICogQW4gaWRpb3QgcHJvb2YgbG9nZ2VyIHRvIGJlIHVzZWQgYXMgZGVmYXVsdC4gV2UndmUgd3JhcHBlZCBpdCBpbiBhIHRyeS9jYXRjaFxuICogc3RhdGVtZW50IHRvIGVuc3VyZSB0aGUgZW52aXJvbm1lbnRzIHdpdGhvdXQgdGhlIGBjb25zb2xlYCBBUEkgZG8gbm90IGNyYXNoXG4gKiBhcyB3ZWxsIGFzIGFuIGFkZGl0aW9uYWwgZml4IGZvciBhbmNpZW50IGJyb3dzZXJzIGxpa2UgSUU4IHdoZXJlIHRoZVxuICogYGNvbnNvbGUubG9nYCBBUEkgZG9lc24ndCBoYXZlIGFuIGBhcHBseWAsIHNvIHdlIG5lZWQgdG8gdXNlIHRoZSBGdW5jdGlvbidzXG4gKiBhcHBseSBmdW5jdGlvbmFsaXR5IHRvIGFwcGx5IHRoZSBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1ldGEgT3B0aW9ucyBvZiB0aGUgbG9nZ2VyLlxuICogQHBhcmFtIHtBcnJheX0gbWVzc2FnZXMgVGhlIGFjdHVhbGwgbWVzc2FnZSB0aGF0IG5lZWRzIHRvIGJlIGxvZ2dlZC5cbiAqIEBwdWJsaWNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWV0YSwgbWVzc2FnZXMpIHtcbiAgLy9cbiAgLy8gU28geWVhLiBJRTggZG9lc24ndCBoYXZlIGFuIGFwcGx5IHNvIHdlIG5lZWQgYSB3b3JrIGFyb3VuZCB0byBwdWtlIHRoZVxuICAvLyBhcmd1bWVudHMgaW4gcGxhY2UuXG4gIC8vXG4gIHRyeSB7IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBtZXNzYWdlcyk7IH1cbiAgY2F0Y2ggKGUpIHt9XG59XG4iLCAidmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4uL2RpYWdub3N0aWNzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGRpYWdub3N0aWNzIGxvZ2dlci5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2UgaXQgc2hvdWxkIGVuYWJsZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVGhlIGxvZ2dlci5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIGRpYWdub3N0aWNzID0gY3JlYXRlKGZ1bmN0aW9uIGRldihuYW1lc3BhY2UsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICBvcHRpb25zLnByb2QgPSBmYWxzZTtcbiAgb3B0aW9ucy5kZXYgPSB0cnVlO1xuXG4gIGlmICghZGV2LmVuYWJsZWQobmFtZXNwYWNlKSAmJiAhKG9wdGlvbnMuZm9yY2UgfHwgZGV2LmZvcmNlKSkge1xuICAgIHJldHVybiBkZXYubm9wZShvcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiBkZXYueWVwKG9wdGlvbnMpO1xufSk7XG5cbi8vXG4vLyBDb25maWd1cmUgdGhlIGxvZ2dlciBmb3IgdGhlIGdpdmVuIGVudmlyb25tZW50LlxuLy9cbmRpYWdub3N0aWNzLm1vZGlmeShyZXF1aXJlKCcuLi9tb2RpZmllcnMvbmFtZXNwYWNlJykpO1xuZGlhZ25vc3RpY3MudXNlKHJlcXVpcmUoJy4uL2FkYXB0ZXJzL2xvY2Fsc3RvcmFnZScpKTtcbmRpYWdub3N0aWNzLnVzZShyZXF1aXJlKCcuLi9hZGFwdGVycy9oYXNoJykpO1xuZGlhZ25vc3RpY3Muc2V0KHJlcXVpcmUoJy4uL2xvZ2dlci9jb25zb2xlJykpO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBkaWFnbm9zdGljcyBsb2dnZXIuXG4vL1xubW9kdWxlLmV4cG9ydHMgPSBkaWFnbm9zdGljcztcbiIsICIvL1xuLy8gU2VsZWN0IHRoZSBjb3JyZWN0IGJ1aWxkIHZlcnNpb24gZGVwZW5kaW5nIG9uIHRoZSBlbnZpcm9ubWVudC5cbi8vXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RldmVsb3BtZW50LmpzJyk7XG59XG4iLCAiLyoqXG4gKiB0YWlsLWZpbGUuanM6IFRPRE86IGFkZCBmaWxlIGhlYWRlciBkZXNjcmlwdGlvbi5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKSxcbiAgU3RyaW5nRGVjb2RlciA9IF9yZXF1aXJlLlN0cmluZ0RlY29kZXI7XG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJyksXG4gIFN0cmVhbSA9IF9yZXF1aXJlMi5TdHJlYW07XG5cbi8qKlxuICogU2ltcGxlIG5vLW9wIGZ1bmN0aW9uLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8qKlxuICogVE9ETzogYWRkIGZ1bmN0aW9uIGRlc2NyaXB0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciB0YWlsLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlciAtIEl0ZXJhdG9yIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgb24gZXZlcnkgbGluZS5cbiogYHRhaWwgLWZgIGEgZmlsZS4gT3B0aW9ucyBtdXN0IGluY2x1ZGUgZmlsZS5cbiAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zLCBpdGVyKSB7XG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2MoNjQgKiAxMDI0KTtcbiAgdmFyIGRlY29kZSA9IG5ldyBTdHJpbmdEZWNvZGVyKCd1dGY4Jyk7XG4gIHZhciBzdHJlYW0gPSBuZXcgU3RyZWFtKCk7XG4gIHZhciBidWZmID0gJyc7XG4gIHZhciBwb3MgPSAwO1xuICB2YXIgcm93ID0gMDtcbiAgaWYgKG9wdGlvbnMuc3RhcnQgPT09IC0xKSB7XG4gICAgZGVsZXRlIG9wdGlvbnMuc3RhcnQ7XG4gIH1cbiAgc3RyZWFtLnJlYWRhYmxlID0gdHJ1ZTtcbiAgc3RyZWFtLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgc3RyZWFtLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICAgIHN0cmVhbS5lbWl0KCdjbG9zZScpO1xuICB9O1xuICBmcy5vcGVuKG9wdGlvbnMuZmlsZSwgJ2ErJywgJzA2NDQnLCBmdW5jdGlvbiAoZXJyLCBmZCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGlmICghaXRlcikge1xuICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlcihlcnIpO1xuICAgICAgfVxuICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgKGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgICBpZiAoc3RyZWFtLmRlc3Ryb3llZCkge1xuICAgICAgICBmcy5jbG9zZShmZCwgbm9vcCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcy5yZWFkKGZkLCBidWZmZXIsIDAsIGJ1ZmZlci5sZW5ndGgsIHBvcywgZnVuY3Rpb24gKGVycm9yLCBieXRlcykge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoIWl0ZXIpIHtcbiAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlcihlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYnl0ZXMpIHtcbiAgICAgICAgICBpZiAoYnVmZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQgPT0gbnVsbCB8fCByb3cgPiBvcHRpb25zLnN0YXJ0KSB7XG4gICAgICAgICAgICAgIGlmICghaXRlcikge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdsaW5lJywgYnVmZik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlcihudWxsLCBidWZmKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93Kys7XG4gICAgICAgICAgICBidWZmID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlYWQsIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhID0gZGVjb2RlLndyaXRlKGJ1ZmZlci5zbGljZSgwLCBieXRlcykpO1xuICAgICAgICBpZiAoIWl0ZXIpIHtcbiAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSAoYnVmZiArIGRhdGEpLnNwbGl0KC9cXG4rLyk7XG4gICAgICAgIHZhciBsID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0ID09IG51bGwgfHwgcm93ID4gb3B0aW9ucy5zdGFydCkge1xuICAgICAgICAgICAgaWYgKCFpdGVyKSB7XG4gICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdsaW5lJywgZGF0YVtpXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpdGVyKG51bGwsIGRhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByb3crKztcbiAgICAgICAgfVxuICAgICAgICBidWZmID0gZGF0YVtsXTtcbiAgICAgICAgcG9zICs9IGJ5dGVzO1xuICAgICAgICByZXR1cm4gcmVhZCgpO1xuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfSk7XG4gIGlmICghaXRlcikge1xuICAgIHJldHVybiBzdHJlYW07XG4gIH1cbiAgcmV0dXJuIHN0cmVhbS5kZXN0cm95O1xufTsiLCAiLyogZXNsaW50LWRpc2FibGUgY29tcGxleGl0eSxtYXgtc3RhdGVtZW50cyAqL1xuLyoqXG4gKiBmaWxlLmpzOiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYSBsb2NhbCBsb2cgZmlsZS5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgYXN5bmNTZXJpZXMgPSByZXF1aXJlKCdhc3luYy9zZXJpZXMnKTtcbnZhciB6bGliID0gcmVxdWlyZSgnemxpYicpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgndHJpcGxlLWJlYW0nKSxcbiAgTUVTU0FHRSA9IF9yZXF1aXJlLk1FU1NBR0U7XG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJyksXG4gIFN0cmVhbSA9IF9yZXF1aXJlMi5TdHJlYW0sXG4gIFBhc3NUaHJvdWdoID0gX3JlcXVpcmUyLlBhc3NUaHJvdWdoO1xudmFyIFRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJ3dpbnN0b24tdHJhbnNwb3J0Jyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdAZGFiaC9kaWFnbm9zdGljcycpKCd3aW5zdG9uOmZpbGUnKTtcbnZhciBvcyA9IHJlcXVpcmUoJ29zJyk7XG52YXIgdGFpbEZpbGUgPSByZXF1aXJlKCcuLi90YWlsLWZpbGUnKTtcblxuLyoqXG4gKiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYSBsb2NhbCBsb2cgZmlsZS5cbiAqIEB0eXBlIHtGaWxlfVxuICogQGV4dGVuZHMge1RyYW5zcG9ydFN0cmVhbX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9UcmFuc3BvcnRTdHJlYW0pIHtcbiAgX2luaGVyaXRzKEZpbGUsIF9UcmFuc3BvcnRTdHJlYW0pO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEZpbGUpO1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBGaWxlIHRyYW5zcG9ydCBvYmplY3QgcmVzcG9uc2libGUgZm9yXG4gICAqIHBlcnNpc3RpbmcgbG9nIG1lc3NhZ2VzIGFuZCBtZXRhZGF0YSB0byBvbmUgb3IgbW9yZSBmaWxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGlzIGluc3RhbmNlLlxuICAgKi9cbiAgZnVuY3Rpb24gRmlsZSgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWxlKTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgLy8gRXhwb3NlIHRoZSBuYW1lIG9mIHRoaXMgVHJhbnNwb3J0IG9uIHRoZSBwcm90b3R5cGUuXG4gICAgX3RoaXMubmFtZSA9IG9wdGlvbnMubmFtZSB8fCAnZmlsZSc7XG5cbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gd2hpY2ggdGhyb3dzIGFuIGBFcnJvcmAgaW4gdGhlIGV2ZW50IHRoYXQgYW55IG9mIHRoZVxuICAgIC8vIHJlc3Qgb2YgdGhlIGFyZ3VtZW50cyBpcyBwcmVzZW50IGluIGBvcHRpb25zYC5cbiAgICBmdW5jdGlvbiB0aHJvd0lmKHRhcmdldCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIGFyZ3Muc2xpY2UoMSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBpZiAob3B0aW9uc1tuYW1lXSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgXCIuY29uY2F0KG5hbWUsIFwiIGFuZCBcIikuY29uY2F0KHRhcmdldCwgXCIgdG9nZXRoZXJcIikpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCB0aGUgYmFzZSBzdHJlYW0gdGhhdCBhbHdheXMgZ2V0cyBwaXBlZCB0byB0byBoYW5kbGUgYnVmZmVyaW5nLlxuICAgIF90aGlzLl9zdHJlYW0gPSBuZXcgUGFzc1Rocm91Z2goKTtcbiAgICBfdGhpcy5fc3RyZWFtLnNldE1heExpc3RlbmVycygzMCk7XG5cbiAgICAvLyBCaW5kIHRoaXMgY29udGV4dCBmb3IgbGlzdGVuZXIgbWV0aG9kcy5cbiAgICBfdGhpcy5fb25FcnJvciA9IF90aGlzLl9vbkVycm9yLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIGlmIChvcHRpb25zLmZpbGVuYW1lIHx8IG9wdGlvbnMuZGlybmFtZSkge1xuICAgICAgdGhyb3dJZignZmlsZW5hbWUgb3IgZGlybmFtZScsICdzdHJlYW0nKTtcbiAgICAgIF90aGlzLl9iYXNlbmFtZSA9IF90aGlzLmZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZSA/IHBhdGguYmFzZW5hbWUob3B0aW9ucy5maWxlbmFtZSkgOiAnd2luc3Rvbi5sb2cnO1xuICAgICAgX3RoaXMuZGlybmFtZSA9IG9wdGlvbnMuZGlybmFtZSB8fCBwYXRoLmRpcm5hbWUob3B0aW9ucy5maWxlbmFtZSk7XG4gICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucy5vcHRpb25zIHx8IHtcbiAgICAgICAgZmxhZ3M6ICdhJ1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuc3RyZWFtKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKCdvcHRpb25zLnN0cmVhbSB3aWxsIGJlIHJlbW92ZWQgaW4gd2luc3RvbkA0LiBVc2Ugd2luc3Rvbi50cmFuc3BvcnRzLlN0cmVhbScpO1xuICAgICAgdGhyb3dJZignc3RyZWFtJywgJ2ZpbGVuYW1lJywgJ21heHNpemUnKTtcbiAgICAgIF90aGlzLl9kZXN0ID0gX3RoaXMuX3N0cmVhbS5waXBlKF90aGlzLl9zZXR1cFN0cmVhbShvcHRpb25zLnN0cmVhbSkpO1xuICAgICAgX3RoaXMuZGlybmFtZSA9IHBhdGguZGlybmFtZShfdGhpcy5fZGVzdC5wYXRoKTtcbiAgICAgIC8vIFdlIG5lZWQgdG8gbGlzdGVuIGZvciBkcmFpbiBldmVudHMgd2hlbiB3cml0ZSgpIHJldHVybnMgZmFsc2UuIFRoaXNcbiAgICAgIC8vIGNhbiBtYWtlIG5vZGUgbWFkIGF0IHRpbWVzLlxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBsb2cgdG8gZmlsZSB3aXRob3V0IGZpbGVuYW1lIG9yIHN0cmVhbS4nKTtcbiAgICB9XG4gICAgX3RoaXMubWF4c2l6ZSA9IG9wdGlvbnMubWF4c2l6ZSB8fCBudWxsO1xuICAgIF90aGlzLnJvdGF0aW9uRm9ybWF0ID0gb3B0aW9ucy5yb3RhdGlvbkZvcm1hdCB8fCBmYWxzZTtcbiAgICBfdGhpcy56aXBwZWRBcmNoaXZlID0gb3B0aW9ucy56aXBwZWRBcmNoaXZlIHx8IGZhbHNlO1xuICAgIF90aGlzLm1heEZpbGVzID0gb3B0aW9ucy5tYXhGaWxlcyB8fCBudWxsO1xuICAgIF90aGlzLmVvbCA9IHR5cGVvZiBvcHRpb25zLmVvbCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmVvbCA6IG9zLkVPTDtcbiAgICBfdGhpcy50YWlsYWJsZSA9IG9wdGlvbnMudGFpbGFibGUgfHwgZmFsc2U7XG4gICAgX3RoaXMubGF6eSA9IG9wdGlvbnMubGF6eSB8fCBmYWxzZTtcblxuICAgIC8vIEludGVybmFsIHN0YXRlIHZhcmlhYmxlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciBvZiBmaWxlcyB0aGlzIGluc3RhbmNlXG4gICAgLy8gaGFzIGNyZWF0ZWQgYW5kIHRoZSBjdXJyZW50IHNpemUgKGluIGJ5dGVzKSBvZiB0aGUgY3VycmVudCBsb2dmaWxlLlxuICAgIF90aGlzLl9zaXplID0gMDtcbiAgICBfdGhpcy5fcGVuZGluZ1NpemUgPSAwO1xuICAgIF90aGlzLl9jcmVhdGVkID0gMDtcbiAgICBfdGhpcy5fZHJhaW4gPSBmYWxzZTtcbiAgICBfdGhpcy5fb3BlbmluZyA9IGZhbHNlO1xuICAgIF90aGlzLl9lbmRpbmcgPSBmYWxzZTtcbiAgICBfdGhpcy5fZmlsZUV4aXN0ID0gZmFsc2U7XG4gICAgaWYgKF90aGlzLmRpcm5hbWUpIF90aGlzLl9jcmVhdGVMb2dEaXJJZk5vdEV4aXN0KF90aGlzLmRpcm5hbWUpO1xuICAgIGlmICghX3RoaXMubGF6eSkgX3RoaXMub3BlbigpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfY3JlYXRlQ2xhc3MoRmlsZSwgW3tcbiAgICBrZXk6IFwiZmluaXNoSWZFbmRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluaXNoSWZFbmRpbmcoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgIGlmICh0aGlzLl9lbmRpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wZW5pbmcpIHtcbiAgICAgICAgICB0aGlzLm9uY2UoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczIuX3N0cmVhbS5vbmNlKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZW1pdCgnZmluaXNoJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3N0cmVhbS5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3N0cmVhbS5vbmNlKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmVtaXQoJ2ZpbmlzaCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLl9zdHJlYW0uZW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3JlIGxvZ2dpbmcgbWV0aG9kIGV4cG9zZWQgdG8gV2luc3Rvbi4gTWV0YWRhdGEgaXMgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJsb2dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nKGluZm8pIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmdW5jdGlvbiAoKSB7fTtcbiAgICAgIC8vIFJlbWFyazogKGpjcnVnenopIFdoYXQgaXMgbmVjZXNzYXJ5IGFib3V0IHRoaXMgY2FsbGJhY2sobnVsbCwgdHJ1ZSkgbm93XG4gICAgICAvLyB3aGVuIHRoaW5raW5nIGFib3V0IDMueD8gU2hvdWxkIHNpbGVudCBiZSBoYW5kbGVkIGluIHRoZSBiYXNlXG4gICAgICAvLyBUcmFuc3BvcnRTdHJlYW0gX3dyaXRlIG1ldGhvZD9cbiAgICAgIGlmICh0aGlzLnNpbGVudCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gT3V0cHV0IHN0cmVhbSBidWZmZXIgaXMgZnVsbCBhbmQgaGFzIGFza2VkIHVzIHRvIHdhaXQgZm9yIHRoZSBkcmFpbiBldmVudFxuICAgICAgaWYgKHRoaXMuX2RyYWluKSB7XG4gICAgICAgIHRoaXMuX3N0cmVhbS5vbmNlKCdkcmFpbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczMuX2RyYWluID0gZmFsc2U7XG4gICAgICAgICAgX3RoaXMzLmxvZyhpbmZvLCBjYWxsYmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fcm90YXRlKSB7XG4gICAgICAgIHRoaXMuX3N0cmVhbS5vbmNlKCdyb3RhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLl9yb3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICBfdGhpczMubG9nKGluZm8sIGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmxhenkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9maWxlRXhpc3QpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuX29wZW5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm9uY2UoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMuX2ZpbGVFeGlzdCA9IHRydWU7XG4gICAgICAgICAgICBfdGhpczMubG9nKGluZm8sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX25lZWRzTmV3RmlsZSh0aGlzLl9wZW5kaW5nU2l6ZSkpIHtcbiAgICAgICAgICB0aGlzLl9kZXN0Lm9uY2UoJ2Nsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpczMuX29wZW5pbmcpIHtcbiAgICAgICAgICAgICAgX3RoaXMzLm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzMy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpczMubG9nKGluZm8sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdyYWIgdGhlIHJhdyBzdHJpbmcgYW5kIGFwcGVuZCB0aGUgZXhwZWN0ZWQgRU9MLlxuICAgICAgdmFyIG91dHB1dCA9IFwiXCIuY29uY2F0KGluZm9bTUVTU0FHRV0pLmNvbmNhdCh0aGlzLmVvbCk7XG4gICAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuYnl0ZUxlbmd0aChvdXRwdXQpO1xuXG4gICAgICAvLyBBZnRlciB3ZSBoYXZlIHdyaXR0ZW4gdG8gdGhlIFBhc3NUaHJvdWdoIGNoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkXG4gICAgICAvLyB0byByb3RhdGUgdG8gdGhlIG5leHQgZmlsZS5cbiAgICAgIC8vXG4gICAgICAvLyBSZW1hcms6IFRoaXMgZ2V0cyBjYWxsZWQgdG9vIGVhcmx5IGFuZCBkb2VzIG5vdCBkZXBpY3Qgd2hlbiBkYXRhXG4gICAgICAvLyBoYXMgYmVlbiBhY3R1YWxseSBmbHVzaGVkIHRvIGRpc2suXG4gICAgICBmdW5jdGlvbiBsb2dnZWQoKSB7XG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuICAgICAgICB0aGlzLl9zaXplICs9IGJ5dGVzO1xuICAgICAgICB0aGlzLl9wZW5kaW5nU2l6ZSAtPSBieXRlcztcbiAgICAgICAgZGVidWcoJ2xvZ2dlZCAlcyAlcycsIHRoaXMuX3NpemUsIG91dHB1dCk7XG4gICAgICAgIHRoaXMuZW1pdCgnbG9nZ2VkJywgaW5mbyk7XG5cbiAgICAgICAgLy8gRG8gbm90IGF0dGVtcHQgdG8gcm90YXRlIGZpbGVzIHdoaWxlIHJvdGF0aW5nXG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEbyBub3QgYXR0ZW1wdCB0byByb3RhdGUgZmlsZXMgd2hpbGUgb3BlbmluZ1xuICAgICAgICBpZiAodGhpcy5fb3BlbmluZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGVuZCB0aGUgc3RyZWFtIGFuZCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgICBpZiAoIXRoaXMuX25lZWRzTmV3RmlsZSgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhenkpIHtcbiAgICAgICAgICB0aGlzLl9lbmRTdHJlYW0oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM0LmVtaXQoJ2ZpbGVjbG9zZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbmQgdGhlIGN1cnJlbnQgc3RyZWFtLCBlbnN1cmUgaXQgZmx1c2hlcyBhbmQgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgICAgLy8gVGhpcyBjb3VsZCBwb3RlbnRpYWxseSBiZSBvcHRpbWl6ZWQgdG8gbm90IHJ1biBhIHN0YXQgY2FsbCBidXQgaXRzXG4gICAgICAgIC8vIHRoZSBzYWZlc3Qgd2F5IHNpbmNlIHdlIGFyZSBzdXBwb3J0aW5nIGBtYXhGaWxlc2AuXG4gICAgICAgIHRoaXMuX3JvdGF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2VuZFN0cmVhbShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC5fcm90YXRlRmlsZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgcGVuZGluZyBieXRlcyBiZWluZyB3cml0dGVuIHdoaWxlIGZpbGVzIGFyZSBvcGVuaW5nXG4gICAgICAvLyBpbiBvcmRlciB0byBwcm9wZXJseSByb3RhdGUgdGhlIFBhc3NUaHJvdWdoIHRoaXMuX3N0cmVhbSB3aGVuIHRoZSBmaWxlXG4gICAgICAvLyBldmVudHVhbGx5IGRvZXMgb3Blbi5cbiAgICAgIHRoaXMuX3BlbmRpbmdTaXplICs9IGJ5dGVzO1xuICAgICAgaWYgKHRoaXMuX29wZW5pbmcgJiYgIXRoaXMucm90YXRlZFdoaWxlT3BlbmluZyAmJiB0aGlzLl9uZWVkc05ld0ZpbGUodGhpcy5fc2l6ZSArIHRoaXMuX3BlbmRpbmdTaXplKSkge1xuICAgICAgICB0aGlzLnJvdGF0ZWRXaGlsZU9wZW5pbmcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHdyaXR0ZW4gPSB0aGlzLl9zdHJlYW0ud3JpdGUob3V0cHV0LCBsb2dnZWQuYmluZCh0aGlzKSk7XG4gICAgICBpZiAoIXdyaXR0ZW4pIHtcbiAgICAgICAgdGhpcy5fZHJhaW4gPSB0cnVlO1xuICAgICAgICB0aGlzLl9zdHJlYW0ub25jZSgnZHJhaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLl9kcmFpbiA9IGZhbHNlO1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYWxsYmFjay1yZXR1cm5cbiAgICAgIH1cblxuICAgICAgZGVidWcoJ3dyaXR0ZW4nLCB3cml0dGVuLCB0aGlzLl9kcmFpbik7XG4gICAgICB0aGlzLmZpbmlzaElmRW5kaW5nKCk7XG4gICAgICByZXR1cm4gd3JpdHRlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBRdWVyeSB0aGUgdHJhbnNwb3J0LiBPcHRpb25zIG9iamVjdCBpcyBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIExvZ2dseS1saWtlIHF1ZXJ5IG9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDb250aW51YXRpb24gdG8gcmVzcG9uZCB0byB3aGVuIGNvbXBsZXRlLlxuICAgICAqIFRPRE86IFJlZmFjdG9yIG1lLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHF1ZXJ5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBvcHRpb25zID0gbm9ybWFsaXplUXVlcnkob3B0aW9ucyk7XG4gICAgICB2YXIgZmlsZSA9IHBhdGguam9pbih0aGlzLmRpcm5hbWUsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgdmFyIGJ1ZmYgPSAnJztcbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICB2YXIgcm93ID0gMDtcbiAgICAgIHZhciBzdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKGZpbGUsIHtcbiAgICAgICAgZW5jb2Rpbmc6ICd1dGY4J1xuICAgICAgfSk7XG4gICAgICBzdHJlYW0ub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoc3RyZWFtLnJlYWRhYmxlKSB7XG4gICAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnIuY29kZSAhPT0gJ0VOT0VOVCcgPyBjYWxsYmFjayhlcnIpIDogY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9KTtcbiAgICAgIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGRhdGEgPSAoYnVmZiArIGRhdGEpLnNwbGl0KC9cXG4rLyk7XG4gICAgICAgIHZhciBsID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLnN0YXJ0IHx8IHJvdyA+PSBvcHRpb25zLnN0YXJ0KSB7XG4gICAgICAgICAgICBhZGQoZGF0YVtpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmYgPSBkYXRhW2xdO1xuICAgICAgfSk7XG4gICAgICBzdHJlYW0ub24oJ2Nsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoYnVmZikge1xuICAgICAgICAgIGFkZChidWZmLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5vcmRlciA9PT0gJ2Rlc2MnKSB7XG4gICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMucmV2ZXJzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfSk7XG4gICAgICBmdW5jdGlvbiBhZGQoYnVmZiwgYXR0ZW1wdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBsb2cgPSBKU09OLnBhcnNlKGJ1ZmYpO1xuICAgICAgICAgIGlmIChjaGVjayhsb2cpKSB7XG4gICAgICAgICAgICBwdXNoKGxvZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaWYgKCFhdHRlbXB0KSB7XG4gICAgICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHB1c2gobG9nKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnJvd3MgJiYgcmVzdWx0cy5sZW5ndGggPj0gb3B0aW9ucy5yb3dzICYmIG9wdGlvbnMub3JkZXIgIT09ICdkZXNjJykge1xuICAgICAgICAgIGlmIChzdHJlYW0ucmVhZGFibGUpIHtcbiAgICAgICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5maWVsZHMpIHtcbiAgICAgICAgICBsb2cgPSBvcHRpb25zLmZpZWxkcy5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGxvZ1trZXldO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMub3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+PSBvcHRpb25zLnJvd3MpIHtcbiAgICAgICAgICAgIHJlc3VsdHMuc2hpZnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0cy5wdXNoKGxvZyk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjaGVjayhsb2cpIHtcbiAgICAgICAgaWYgKCFsb2cpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90eXBlb2YobG9nKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShsb2cudGltZXN0YW1wKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZnJvbSAmJiB0aW1lIDwgb3B0aW9ucy5mcm9tIHx8IG9wdGlvbnMudW50aWwgJiYgdGltZSA+IG9wdGlvbnMudW50aWwgfHwgb3B0aW9ucy5sZXZlbCAmJiBvcHRpb25zLmxldmVsICE9PSBsb2cubGV2ZWwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBub3JtYWxpemVRdWVyeShvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8vIGxpbWl0XG4gICAgICAgIG9wdGlvbnMucm93cyA9IG9wdGlvbnMucm93cyB8fCBvcHRpb25zLmxpbWl0IHx8IDEwO1xuXG4gICAgICAgIC8vIHN0YXJ0aW5nIHJvdyBvZmZzZXRcbiAgICAgICAgb3B0aW9ucy5zdGFydCA9IG9wdGlvbnMuc3RhcnQgfHwgMDtcblxuICAgICAgICAvLyBub3dcbiAgICAgICAgb3B0aW9ucy51bnRpbCA9IG9wdGlvbnMudW50aWwgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgaWYgKF90eXBlb2Yob3B0aW9ucy51bnRpbCkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgb3B0aW9ucy51bnRpbCA9IG5ldyBEYXRlKG9wdGlvbnMudW50aWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IC0gMjRcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy5mcm9tIHx8IG9wdGlvbnMudW50aWwgLSAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgICBpZiAoX3R5cGVvZihvcHRpb25zLmZyb20pICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIG9wdGlvbnMuZnJvbSA9IG5ldyBEYXRlKG9wdGlvbnMuZnJvbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAnYXNjJyBvciAnZGVzYydcbiAgICAgICAgb3B0aW9ucy5vcmRlciA9IG9wdGlvbnMub3JkZXIgfHwgJ2Rlc2MnO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbG9nIHN0cmVhbSBmb3IgdGhpcyB0cmFuc3BvcnQuIE9wdGlvbnMgb2JqZWN0IGlzIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gU3RyZWFtIG9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge1N0cmVhbX0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgICAqIFRPRE86IFJlZmFjdG9yIG1lLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInN0cmVhbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdHJlYW0oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB2YXIgZmlsZSA9IHBhdGguam9pbih0aGlzLmRpcm5hbWUsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgdmFyIHN0cmVhbSA9IG5ldyBTdHJlYW0oKTtcbiAgICAgIHZhciB0YWlsID0ge1xuICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICBzdGFydDogb3B0aW9ucy5zdGFydFxuICAgICAgfTtcbiAgICAgIHN0cmVhbS5kZXN0cm95ID0gdGFpbEZpbGUodGFpbCwgZnVuY3Rpb24gKGVyciwgbGluZSkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGxpbmUpO1xuICAgICAgICAgIGxpbmUgPSBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgIHN0cmVhbS5lbWl0KCdsb2cnLCBsaW5lKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB0aGUgZmlsZXNpemUgb2YuXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJvcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICAgIC8vIElmIHdlIGRvIG5vdCBoYXZlIGEgZmlsZW5hbWUgdGhlbiB3ZSB3ZXJlIHBhc3NlZCBhIHN0cmVhbSBhbmRcbiAgICAgIC8vIGRvbid0IG5lZWQgdG8ga2VlcCB0cmFjayBvZiBzaXplLlxuICAgICAgaWYgKCF0aGlzLmZpbGVuYW1lKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5fb3BlbmluZykgcmV0dXJuO1xuICAgICAgdGhpcy5fb3BlbmluZyA9IHRydWU7XG5cbiAgICAgIC8vIFN0YXQgdGhlIHRhcmdldCBmaWxlIHRvIGdldCB0aGUgc2l6ZSBhbmQgY3JlYXRlIHRoZSBzdHJlYW0uXG4gICAgICB0aGlzLnN0YXQoZnVuY3Rpb24gKGVyciwgc2l6ZSkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoJ3N0YXQgZG9uZTogJXMgeyBzaXplOiAlcyB9JywgX3RoaXM1LmZpbGVuYW1lLCBzaXplKTtcbiAgICAgICAgX3RoaXM1Ll9zaXplID0gc2l6ZTtcbiAgICAgICAgX3RoaXM1Ll9kZXN0ID0gX3RoaXM1Ll9jcmVhdGVTdHJlYW0oX3RoaXM1Ll9zdHJlYW0pO1xuICAgICAgICBfdGhpczUuX29wZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgX3RoaXM1Lm9uY2UoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzNS5fc3RyZWFtLmV2ZW50TmFtZXMoKS5pbmNsdWRlcygncm90YXRlJykpIHtcbiAgICAgICAgICAgIF90aGlzNS5fc3RyZWFtLmVtaXQoJ3JvdGF0ZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczUuX3JvdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGF0IHRoZSBmaWxlIGFuZCBhc3Nlc3MgaW5mb3JtYXRpb24gaW4gb3JkZXIgdG8gY3JlYXRlIHRoZSBwcm9wZXIgc3RyZWFtLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic3RhdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGF0KGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl9nZXRGaWxlKCk7XG4gICAgICB2YXIgZnVsbHBhdGggPSBwYXRoLmpvaW4odGhpcy5kaXJuYW1lLCB0YXJnZXQpO1xuICAgICAgZnMuc3RhdChmdWxscGF0aCwgZnVuY3Rpb24gKGVyciwgc3RhdCkge1xuICAgICAgICBpZiAoZXJyICYmIGVyci5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgICAgIGRlYnVnKCdFTk9FTlRcdTAwQTBvaycsIGZ1bGxwYXRoKTtcbiAgICAgICAgICAvLyBVcGRhdGUgaW50ZXJuYWxseSB0cmFja2VkIGZpbGVuYW1lIHdpdGggdGhlIG5ldyB0YXJnZXQgbmFtZS5cbiAgICAgICAgICBfdGhpczYuZmlsZW5hbWUgPSB0YXJnZXQ7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBkZWJ1ZyhcImVyciBcIi5jb25jYXQoZXJyLmNvZGUsIFwiIFwiKS5jb25jYXQoZnVsbHBhdGgpKTtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0YXQgfHwgX3RoaXM2Ll9uZWVkc05ld0ZpbGUoc3RhdC5zaXplKSkge1xuICAgICAgICAgIC8vIElmIGBzdGF0cy5zaXplYCBpcyBncmVhdGVyIHRoYW4gdGhlIGBtYXhzaXplYCBmb3IgdGhpc1xuICAgICAgICAgIC8vIGluc3RhbmNlIHRoZW4gdHJ5IGFnYWluLlxuICAgICAgICAgIHJldHVybiBfdGhpczYuX2luY0ZpbGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5zdGF0KGNhbGxiYWNrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9uY2Ugd2UgaGF2ZSBmaWd1cmVkIG91dCB3aGF0IHRoZSBmaWxlbmFtZSBpcywgc2V0IGl0XG4gICAgICAgIC8vIGFuZCByZXR1cm4gdGhlIHNpemUuXG4gICAgICAgIF90aGlzNi5maWxlbmFtZSA9IHRhcmdldDtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgc3RhdC5zaXplKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgc3RyZWFtIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoY2IpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuICAgICAgaWYgKCF0aGlzLl9zdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RyZWFtLmVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgIGNiKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FsbGJhY2stcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczcuZW1pdCgnZmx1c2gnKTtcbiAgICAgICAgX3RoaXM3LmVtaXQoJ2Nsb3NlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogYWRkIG1ldGhvZCBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9uZWVkc05ld0ZpbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX25lZWRzTmV3RmlsZShzaXplKSB7XG4gICAgICBzaXplID0gc2l6ZSB8fCB0aGlzLl9zaXplO1xuICAgICAgcmV0dXJuIHRoaXMubWF4c2l6ZSAmJiBzaXplID49IHRoaXMubWF4c2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBhZGQgbWV0aG9kIGRlc2NyaXB0aW9uLlxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGVyciAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9vbkVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkVycm9yKGVycikge1xuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogYWRkIG1ldGhvZCBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmVhbX0gc3RyZWFtIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9zZXR1cFN0cmVhbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBTdHJlYW0oc3RyZWFtKSB7XG4gICAgICBzdHJlYW0ub24oJ2Vycm9yJywgdGhpcy5fb25FcnJvcik7XG4gICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRPRE86IGFkZCBtZXRob2QgZGVzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIHtTdHJlYW19IHN0cmVhbSAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJfY2xlYW51cFN0cmVhbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2xlYW51cFN0cmVhbShzdHJlYW0pIHtcbiAgICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yKTtcbiAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRPRE86IGFkZCBtZXRob2QgZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX3JvdGF0ZUZpbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JvdGF0ZUZpbGUoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcbiAgICAgIHRoaXMuX2luY0ZpbGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXM4Lm9wZW4oKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVucGlwZSBmcm9tIHRoZSBzdHJlYW0gdGhhdCBoYXMgYmVlbiBtYXJrZWQgYXMgZnVsbCBhbmQgZW5kIGl0IHNvIGl0XG4gICAgICogZmx1c2hlcyB0byBkaXNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmb3Igd2hlbiB0aGUgY3VycmVudCBmaWxlIGhhcyBjbG9zZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJfZW5kU3RyZWFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbmRTdHJlYW0oKSB7XG4gICAgICB2YXIgX3RoaXM5ID0gdGhpcztcbiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZnVuY3Rpb24gKCkge307XG4gICAgICBpZiAodGhpcy5fZGVzdCkge1xuICAgICAgICB0aGlzLl9zdHJlYW0udW5waXBlKHRoaXMuX2Rlc3QpO1xuICAgICAgICB0aGlzLl9kZXN0LmVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM5Ll9jbGVhbnVwU3RyZWFtKF90aGlzOS5fZGVzdCk7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFdyaXRhYmxlU3RyZWFtIGZvciB0aGUgYWN0aXZlIGZpbGUgb24gdGhpcyBpbnN0YW5jZS4gSWYgd2VcbiAgICAgKiBzaG91bGQgZ3ppcCB0aGUgZmlsZSB0aGVuIGEgemxpYiBzdHJlYW0gaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWRhYmxlU3RyZWFtfSBzb3VyY2UgXHUyMDEzUGFzc1Rocm91Z2ggdG8gcGlwZSB0byB0aGUgZmlsZSB3aGVuIG9wZW4uXG4gICAgICogQHJldHVybnMge1dyaXRhYmxlU3RyZWFtfSBTdHJlYW0gdGhhdCB3cml0ZXMgdG8gZGlzayBmb3IgdGhlIGFjdGl2ZSBmaWxlLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9jcmVhdGVTdHJlYW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZVN0cmVhbShzb3VyY2UpIHtcbiAgICAgIHZhciBfdGhpczEwID0gdGhpcztcbiAgICAgIHZhciBmdWxscGF0aCA9IHBhdGguam9pbih0aGlzLmRpcm5hbWUsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgZGVidWcoJ2NyZWF0ZSBzdHJlYW0gc3RhcnQnLCBmdWxscGF0aCwgdGhpcy5vcHRpb25zKTtcbiAgICAgIHZhciBkZXN0ID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZnVsbHBhdGgsIHRoaXMub3B0aW9ucylcbiAgICAgIC8vIFRPRE86IFdoYXQgc2hvdWxkIHdlIGRvIHdpdGggZXJyb3JzIGhlcmU/XG4gICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gZGVidWcoZXJyKTtcbiAgICAgIH0pLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRlYnVnKCdjbG9zZScsIGRlc3QucGF0aCwgZGVzdC5ieXRlc1dyaXR0ZW4pO1xuICAgICAgfSkub24oJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlYnVnKCdmaWxlIG9wZW4gb2snLCBmdWxscGF0aCk7XG4gICAgICAgIF90aGlzMTAuZW1pdCgnb3BlbicsIGZ1bGxwYXRoKTtcbiAgICAgICAgc291cmNlLnBpcGUoZGVzdCk7XG5cbiAgICAgICAgLy8gSWYgcm90YXRpb24gb2NjdXJlZCBkdXJpbmcgdGhlIG9wZW4gb3BlcmF0aW9uIHRoZW4gd2UgaW1tZWRpYXRlbHlcbiAgICAgICAgLy8gc3RhcnQgd3JpdGluZyB0byBhIG5ldyBQYXNzVGhyb3VnaCwgYmVnaW4gb3BlbmluZyB0aGUgbmV4dCBmaWxlXG4gICAgICAgIC8vIGFuZCBjbGVhbnVwIHRoZSBwcmV2aW91cyBzb3VyY2UgYW5kIGRlc3Qgb25jZSB0aGUgc291cmNlIGhhcyBkcmFpbmVkLlxuICAgICAgICBpZiAoX3RoaXMxMC5yb3RhdGVkV2hpbGVPcGVuaW5nKSB7XG4gICAgICAgICAgX3RoaXMxMC5fc3RyZWFtID0gbmV3IFBhc3NUaHJvdWdoKCk7XG4gICAgICAgICAgX3RoaXMxMC5fc3RyZWFtLnNldE1heExpc3RlbmVycygzMCk7XG4gICAgICAgICAgX3RoaXMxMC5fcm90YXRlRmlsZSgpO1xuICAgICAgICAgIF90aGlzMTAucm90YXRlZFdoaWxlT3BlbmluZyA9IGZhbHNlO1xuICAgICAgICAgIF90aGlzMTAuX2NsZWFudXBTdHJlYW0oZGVzdCk7XG4gICAgICAgICAgc291cmNlLmVuZCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRlYnVnKCdjcmVhdGUgc3RyZWFtIG9rJywgZnVsbHBhdGgpO1xuICAgICAgaWYgKHRoaXMuemlwcGVkQXJjaGl2ZSkge1xuICAgICAgICB2YXIgZ3ppcCA9IHpsaWIuY3JlYXRlR3ppcCgpO1xuICAgICAgICBnemlwLnBpcGUoZGVzdCk7XG4gICAgICAgIHJldHVybiBnemlwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogYWRkIG1ldGhvZCBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9pbmNGaWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pbmNGaWxlKGNhbGxiYWNrKSB7XG4gICAgICBkZWJ1ZygnX2luY0ZpbGUnLCB0aGlzLmZpbGVuYW1lKTtcbiAgICAgIHZhciBleHQgPSBwYXRoLmV4dG5hbWUodGhpcy5fYmFzZW5hbWUpO1xuICAgICAgdmFyIGJhc2VuYW1lID0gcGF0aC5iYXNlbmFtZSh0aGlzLl9iYXNlbmFtZSwgZXh0KTtcbiAgICAgIGlmICghdGhpcy50YWlsYWJsZSkge1xuICAgICAgICB0aGlzLl9jcmVhdGVkICs9IDE7XG4gICAgICAgIHRoaXMuX2NoZWNrTWF4RmlsZXNJbmNyZW1lbnRpbmcoZXh0LCBiYXNlbmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY2hlY2tNYXhGaWxlc1RhaWxhYmxlKGV4dCwgYmFzZW5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IGZpbGVuYW1lIHRvIHVzZSBmb3IgdGhpcyBpbnN0YW5jZSBpbiB0aGUgY2FzZSB0aGF0IGxvZ1xuICAgICAqIGZpbGVzaXplcyBhcmUgYmVpbmcgY2FwcGVkLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9nZXRGaWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRGaWxlKCkge1xuICAgICAgdmFyIGV4dCA9IHBhdGguZXh0bmFtZSh0aGlzLl9iYXNlbmFtZSk7XG4gICAgICB2YXIgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKHRoaXMuX2Jhc2VuYW1lLCBleHQpO1xuICAgICAgdmFyIGlzUm90YXRpb24gPSB0aGlzLnJvdGF0aW9uRm9ybWF0ID8gdGhpcy5yb3RhdGlvbkZvcm1hdCgpIDogdGhpcy5fY3JlYXRlZDtcblxuICAgICAgLy8gQ2F2ZWF0IGVtcHRvciAoaW5kZXh6ZXJvKTogcm90YXRpb25Gb3JtYXQoKSB3YXMgYnJva2VuIGJ5IGRlc2lnbiBXaGVuXG4gICAgICAvLyBjb21iaW5lZCB3aXRoIG1heCBmaWxlcyBiZWNhdXNlIHRoZSBzZXQgb2YgZmlsZXMgdG8gdW5saW5rIGlzIG5ldmVyXG4gICAgICAvLyBzdG9yZWQuXG4gICAgICB2YXIgdGFyZ2V0ID0gIXRoaXMudGFpbGFibGUgJiYgdGhpcy5fY3JlYXRlZCA/IFwiXCIuY29uY2F0KGJhc2VuYW1lKS5jb25jYXQoaXNSb3RhdGlvbikuY29uY2F0KGV4dCkgOiBcIlwiLmNvbmNhdChiYXNlbmFtZSkuY29uY2F0KGV4dCk7XG4gICAgICByZXR1cm4gdGhpcy56aXBwZWRBcmNoaXZlICYmICF0aGlzLnRhaWxhYmxlID8gXCJcIi5jb25jYXQodGFyZ2V0LCBcIi5nelwiKSA6IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgdGhlIG51bWJlciBvZiBmaWxlcyBjcmVhdGVkIG9yIGNoZWNrZWQgYnkgdGhpcyBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge21peGVkfSBleHQgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIHttaXhlZH0gYmFzZW5hbWUgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIHttaXhlZH0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9jaGVja01heEZpbGVzSW5jcmVtZW50aW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jaGVja01heEZpbGVzSW5jcmVtZW50aW5nKGV4dCwgYmFzZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAvLyBDaGVjayBmb3IgbWF4RmlsZXMgb3B0aW9uIGFuZCBkZWxldGUgZmlsZS5cbiAgICAgIGlmICghdGhpcy5tYXhGaWxlcyB8fCB0aGlzLl9jcmVhdGVkIDwgdGhpcy5tYXhGaWxlcykge1xuICAgICAgICByZXR1cm4gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRlc3QgPSB0aGlzLl9jcmVhdGVkIC0gdGhpcy5tYXhGaWxlcztcbiAgICAgIHZhciBpc09sZGVzdCA9IG9sZGVzdCAhPT0gMCA/IG9sZGVzdCA6ICcnO1xuICAgICAgdmFyIGlzWmlwcGVkID0gdGhpcy56aXBwZWRBcmNoaXZlID8gJy5neicgOiAnJztcbiAgICAgIHZhciBmaWxlUGF0aCA9IFwiXCIuY29uY2F0KGJhc2VuYW1lKS5jb25jYXQoaXNPbGRlc3QpLmNvbmNhdChleHQpLmNvbmNhdChpc1ppcHBlZCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gcGF0aC5qb2luKHRoaXMuZGlybmFtZSwgZmlsZVBhdGgpO1xuICAgICAgZnMudW5saW5rKHRhcmdldCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJvbGwgZmlsZXMgZm9yd2FyZCBiYXNlZCBvbiBpbnRlZ2VyLCB1cCB0byBtYXhGaWxlcy4gZS5nLiBpZiBiYXNlIGlmXG4gICAgICogZmlsZS5sb2cgYW5kIGl0IGJlY29tZXMgb3ZlcnNpemVkLCByb2xsIHRvIGZpbGUxLmxvZywgYW5kIGFsbG93IGZpbGUubG9nXG4gICAgICogdG8gYmUgcmUtdXNlZC4gSWYgZmlsZSBpcyBvdmVyc2l6ZWQgYWdhaW4sIHJvbGwgZmlsZTEubG9nIHRvIGZpbGUyLmxvZyxcbiAgICAgKiByb2xsIGZpbGUubG9nIHRvIGZpbGUxLmxvZywgYW5kIHNvIG9uLlxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IGV4dCAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0ge21peGVkfSBiYXNlbmFtZSAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0ge21peGVkfSBjYWxsYmFjayAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX2NoZWNrTWF4RmlsZXNUYWlsYWJsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2hlY2tNYXhGaWxlc1RhaWxhYmxlKGV4dCwgYmFzZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7XG4gICAgICB2YXIgdGFza3MgPSBbXTtcbiAgICAgIGlmICghdGhpcy5tYXhGaWxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnN0IGlzWmlwcGVkID0gdGhpcy56aXBwZWRBcmNoaXZlID8gJy5neicgOiAnJztcbiAgICAgIHZhciBpc1ppcHBlZCA9IHRoaXMuemlwcGVkQXJjaGl2ZSA/ICcuZ3onIDogJyc7XG4gICAgICBmb3IgKHZhciB4ID0gdGhpcy5tYXhGaWxlcyAtIDE7IHggPiAxOyB4LS0pIHtcbiAgICAgICAgdGFza3MucHVzaChmdW5jdGlvbiAoaSwgY2IpIHtcbiAgICAgICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG4gICAgICAgICAgdmFyIGZpbGVOYW1lID0gXCJcIi5jb25jYXQoYmFzZW5hbWUpLmNvbmNhdChpIC0gMSkuY29uY2F0KGV4dCkuY29uY2F0KGlzWmlwcGVkKTtcbiAgICAgICAgICB2YXIgdG1wcGF0aCA9IHBhdGguam9pbih0aGlzLmRpcm5hbWUsIGZpbGVOYW1lKTtcbiAgICAgICAgICBmcy5leGlzdHModG1wcGF0aCwgZnVuY3Rpb24gKGV4aXN0cykge1xuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZU5hbWUgPSBcIlwiLmNvbmNhdChiYXNlbmFtZSkuY29uY2F0KGkpLmNvbmNhdChleHQpLmNvbmNhdChpc1ppcHBlZCk7XG4gICAgICAgICAgICBmcy5yZW5hbWUodG1wcGF0aCwgcGF0aC5qb2luKF90aGlzMTEuZGlybmFtZSwgZmlsZU5hbWUpLCBjYik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0uYmluZCh0aGlzLCB4KSk7XG4gICAgICB9XG4gICAgICBhc3luY1Nlcmllcyh0YXNrcywgZnVuY3Rpb24gKCkge1xuICAgICAgICBmcy5yZW5hbWUocGF0aC5qb2luKF90aGlzMTIuZGlybmFtZSwgXCJcIi5jb25jYXQoYmFzZW5hbWUpLmNvbmNhdChleHQpKSwgcGF0aC5qb2luKF90aGlzMTIuZGlybmFtZSwgXCJcIi5jb25jYXQoYmFzZW5hbWUsIFwiMVwiKS5jb25jYXQoZXh0KS5jb25jYXQoaXNaaXBwZWQpKSwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jcmVhdGVMb2dEaXJJZk5vdEV4aXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVMb2dEaXJJZk5vdEV4aXN0KGRpclBhdGgpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXN5bmMgKi9cbiAgICAgIGlmICghZnMuZXhpc3RzU3luYyhkaXJQYXRoKSkge1xuICAgICAgICBmcy5ta2RpclN5bmMoZGlyUGF0aCwge1xuICAgICAgICAgIHJlY3Vyc2l2ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tc3luYyAqL1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRmlsZTtcbn0oVHJhbnNwb3J0U3RyZWFtKTsiLCAiLyoqXG4gKiBodHRwLmpzOiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYSBqc29uLXJwY3NlcnZlci5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG52YXIgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbnZhciBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0nKSxcbiAgU3RyZWFtID0gX3JlcXVpcmUuU3RyZWFtO1xudmFyIFRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJ3dpbnN0b24tdHJhbnNwb3J0Jyk7XG52YXIganNvblN0cmluZ2lmeSA9IHJlcXVpcmUoJ3NhZmUtc3RhYmxlLXN0cmluZ2lmeScpO1xuXG4vKipcbiAqIFRyYW5zcG9ydCBmb3Igb3V0cHV0dGluZyB0byBhIGpzb24tcnBjIHNlcnZlci5cbiAqIEB0eXBlIHtTdHJlYW19XG4gKiBAZXh0ZW5kcyB7VHJhbnNwb3J0U3RyZWFtfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1RyYW5zcG9ydFN0cmVhbSkge1xuICBfaW5oZXJpdHMoSHR0cCwgX1RyYW5zcG9ydFN0cmVhbSk7XG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSHR0cCk7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIEh0dHAgdHJhbnNwb3J0IG9iamVjdCByZXNwb25zaWJsZSBmb3JcbiAgICogcGVyc2lzdGluZyBsb2cgbWVzc2FnZXMgYW5kIG1ldGFkYXRhIHRvIGEgdGVybWluYWwgb3IgVFRZLlxuICAgKiBAcGFyYW0geyFPYmplY3R9IFtvcHRpb25zPXt9XSAtIE9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHNcbiAgZnVuY3Rpb24gSHR0cCgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIdHRwKTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIF90aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgJ2h0dHAnO1xuICAgIF90aGlzLnNzbCA9ICEhb3B0aW9ucy5zc2w7XG4gICAgX3RoaXMuaG9zdCA9IG9wdGlvbnMuaG9zdCB8fCAnbG9jYWxob3N0JztcbiAgICBfdGhpcy5wb3J0ID0gb3B0aW9ucy5wb3J0O1xuICAgIF90aGlzLmF1dGggPSBvcHRpb25zLmF1dGg7XG4gICAgX3RoaXMucGF0aCA9IG9wdGlvbnMucGF0aCB8fCAnJztcbiAgICBfdGhpcy5hZ2VudCA9IG9wdGlvbnMuYWdlbnQ7XG4gICAgX3RoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICBfdGhpcy5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICBfdGhpcy5iYXRjaCA9IG9wdGlvbnMuYmF0Y2ggfHwgZmFsc2U7XG4gICAgX3RoaXMuYmF0Y2hJbnRlcnZhbCA9IG9wdGlvbnMuYmF0Y2hJbnRlcnZhbCB8fCA1MDAwO1xuICAgIF90aGlzLmJhdGNoQ291bnQgPSBvcHRpb25zLmJhdGNoQ291bnQgfHwgMTA7XG4gICAgX3RoaXMuYmF0Y2hPcHRpb25zID0gW107XG4gICAgX3RoaXMuYmF0Y2hUaW1lb3V0SUQgPSAtMTtcbiAgICBfdGhpcy5iYXRjaENhbGxiYWNrID0ge307XG4gICAgaWYgKCFfdGhpcy5wb3J0KSB7XG4gICAgICBfdGhpcy5wb3J0ID0gX3RoaXMuc3NsID8gNDQzIDogODA7XG4gICAgfVxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3JlIGxvZ2dpbmcgbWV0aG9kIGV4cG9zZWQgdG8gV2luc3Rvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKEh0dHAsIFt7XG4gICAga2V5OiBcImxvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2coaW5mbywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdGhpcy5fcmVxdWVzdChpbmZvLCBudWxsLCBudWxsLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKHJlcyAmJiByZXMuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgICAgZXJyID0gbmV3IEVycm9yKFwiSW52YWxpZCBIVFRQIFN0YXR1cyBDb2RlOiBcIi5jb25jYXQocmVzLnN0YXR1c0NvZGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgX3RoaXMyLmVtaXQoJ3dhcm4nLCBlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzMi5lbWl0KCdsb2dnZWQnLCBpbmZvKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbWFyazogKGpjcnVnenopIEZpcmUgYW5kIGZvcmdldCBoZXJlIHNvIHJlcXVlc3RzIGRvbnQgY2F1c2UgYnVmZmVyaW5nXG4gICAgICAvLyBhbmQgYmxvY2sgbW9yZSByZXF1ZXN0cyBmcm9tIGhhcHBlbmluZz9cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFF1ZXJ5IHRoZSB0cmFuc3BvcnQuIE9wdGlvbnMgb2JqZWN0IGlzIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gIExvZ2dseS1saWtlIHF1ZXJ5IG9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDb250aW51YXRpb24gdG8gcmVzcG9uZCB0byB3aGVuIGNvbXBsZXRlLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcXVlcnkob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ3F1ZXJ5JyxcbiAgICAgICAgcGFyYW1zOiB0aGlzLm5vcm1hbGl6ZVF1ZXJ5KG9wdGlvbnMpXG4gICAgICB9O1xuICAgICAgdmFyIGF1dGggPSBvcHRpb25zLnBhcmFtcy5hdXRoIHx8IG51bGw7XG4gICAgICBkZWxldGUgb3B0aW9ucy5wYXJhbXMuYXV0aDtcbiAgICAgIHZhciBwYXRoID0gb3B0aW9ucy5wYXJhbXMucGF0aCB8fCBudWxsO1xuICAgICAgZGVsZXRlIG9wdGlvbnMucGFyYW1zLnBhdGg7XG4gICAgICB0aGlzLl9yZXF1ZXN0KG9wdGlvbnMsIGF1dGgsIHBhdGgsIGZ1bmN0aW9uIChlcnIsIHJlcywgYm9keSkge1xuICAgICAgICBpZiAocmVzICYmIHJlcy5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoXCJJbnZhbGlkIEhUVFAgU3RhdHVzIENvZGU6IFwiLmNvbmNhdChyZXMuc3RhdHVzQ29kZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sobnVsbCwgYm9keSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbG9nIHN0cmVhbSBmb3IgdGhpcyB0cmFuc3BvcnQuIE9wdGlvbnMgb2JqZWN0IGlzIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gU3RyZWFtIG9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge1N0cmVhbX0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic3RyZWFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0cmVhbSgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHZhciBzdHJlYW0gPSBuZXcgU3RyZWFtKCk7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdzdHJlYW0nLFxuICAgICAgICBwYXJhbXM6IG9wdGlvbnNcbiAgICAgIH07XG4gICAgICB2YXIgcGF0aCA9IG9wdGlvbnMucGFyYW1zLnBhdGggfHwgbnVsbDtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLnBhcmFtcy5wYXRoO1xuICAgICAgdmFyIGF1dGggPSBvcHRpb25zLnBhcmFtcy5hdXRoIHx8IG51bGw7XG4gICAgICBkZWxldGUgb3B0aW9ucy5wYXJhbXMuYXV0aDtcbiAgICAgIHZhciBidWZmID0gJyc7XG4gICAgICB2YXIgcmVxID0gdGhpcy5fcmVxdWVzdChvcHRpb25zLCBhdXRoLCBwYXRoKTtcbiAgICAgIHN0cmVhbS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVxLmRlc3Ryb3koKTtcbiAgICAgIH07XG4gICAgICByZXEub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBkYXRhID0gKGJ1ZmYgKyBkYXRhKS5zcGxpdCgvXFxuKy8pO1xuICAgICAgICB2YXIgbCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdHJlYW0uZW1pdCgnbG9nJywgSlNPTi5wYXJzZShkYXRhW2ldKSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJ1ZmYgPSBkYXRhW2xdO1xuICAgICAgfSk7XG4gICAgICByZXEub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIGEgcmVxdWVzdCB0byBhIHdpbnN0b25kIHNlcnZlciBvciBhbnkgaHR0cCBzZXJ2ZXIgd2hpY2ggY2FuXG4gICAgICogaGFuZGxlIGpzb24tcnBjLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMgLSBPcHRpb25zIHRvIHNlbnQgdGhlIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtPYmplY3Q/fSBhdXRoIC0gYXV0aGVudGljYXRpb24gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gcmVxdWVzdCBwYXRoXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDb250aW51YXRpb24gdG8gcmVzcG9uZCB0byB3aGVuIGNvbXBsZXRlLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9yZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXF1ZXN0KG9wdGlvbnMsIGF1dGgsIHBhdGgsIGNhbGxiYWNrKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIGF1dGggPSBhdXRoIHx8IHRoaXMuYXV0aDtcbiAgICAgIHBhdGggPSBwYXRoIHx8IHRoaXMucGF0aCB8fCAnJztcbiAgICAgIGlmICh0aGlzLmJhdGNoKSB7XG4gICAgICAgIHRoaXMuX2RvQmF0Y2gob3B0aW9ucywgY2FsbGJhY2ssIGF1dGgsIHBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZG9SZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrLCBhdXRoLCBwYXRoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIG9yIG1lbW9yaXplIHRoZSBvcHRpb25zIGFjY29yZGluZyB0byBiYXRjaCBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gc2VudCB0aGUgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENvbnRpbnVhdGlvbiB0byByZXNwb25kIHRvIHdoZW4gY29tcGxldGUuXG4gICAgICogQHBhcmFtIHtPYmplY3Q/fSBhdXRoIC0gYXV0aGVudGljYXRpb24gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gcmVxdWVzdCBwYXRoXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX2RvQmF0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RvQmF0Y2gob3B0aW9ucywgY2FsbGJhY2ssIGF1dGgsIHBhdGgpIHtcbiAgICAgIHRoaXMuYmF0Y2hPcHRpb25zLnB1c2gob3B0aW9ucyk7XG4gICAgICBpZiAodGhpcy5iYXRjaE9wdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIEZpcnN0IG1lc3NhZ2Ugc3RvcmVkLCBpdCdzIHRpbWUgdG8gc3RhcnQgdGhlIHRpbWVvdXQhXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHRoaXMuYmF0Y2hDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLmJhdGNoVGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gdGltZW91dCBpcyByZWFjaGVkLCBzZW5kIGFsbCBtZXNzYWdlcyB0byBlbmRwb2ludFxuICAgICAgICAgIG1lLmJhdGNoVGltZW91dElEID0gLTE7XG4gICAgICAgICAgbWUuX2RvQmF0Y2hSZXF1ZXN0KG1lLmJhdGNoQ2FsbGJhY2ssIGF1dGgsIHBhdGgpO1xuICAgICAgICB9LCB0aGlzLmJhdGNoSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuYmF0Y2hPcHRpb25zLmxlbmd0aCA9PT0gdGhpcy5iYXRjaENvdW50KSB7XG4gICAgICAgIC8vIG1heCBiYXRjaCBjb3VudCBpcyByZWFjaGVkLCBzZW5kIGFsbCBtZXNzYWdlcyB0byBlbmRwb2ludFxuICAgICAgICB0aGlzLl9kb0JhdGNoUmVxdWVzdCh0aGlzLmJhdGNoQ2FsbGJhY2ssIGF1dGgsIHBhdGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYXRlIGEgcmVxdWVzdCB3aXRoIHRoZSBtZW1vcml6ZWQgYmF0Y2ggb3B0aW9ucywgc3RvcCB0aGUgYmF0Y2ggdGltZW91dFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ29udGludWF0aW9uIHRvIHJlc3BvbmQgdG8gd2hlbiBjb21wbGV0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD99IGF1dGggLSBhdXRoZW50aWNhdGlvbiBvcHRpb25zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSByZXF1ZXN0IHBhdGhcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJfZG9CYXRjaFJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RvQmF0Y2hSZXF1ZXN0KGNhbGxiYWNrLCBhdXRoLCBwYXRoKSB7XG4gICAgICBpZiAodGhpcy5iYXRjaFRpbWVvdXRJRCA+IDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYmF0Y2hUaW1lb3V0SUQpO1xuICAgICAgICB0aGlzLmJhdGNoVGltZW91dElEID0gLTE7XG4gICAgICB9XG4gICAgICB2YXIgYmF0Y2hPcHRpb25zQ29weSA9IHRoaXMuYmF0Y2hPcHRpb25zLnNsaWNlKCk7XG4gICAgICB0aGlzLmJhdGNoT3B0aW9ucyA9IFtdO1xuICAgICAgdGhpcy5fZG9SZXF1ZXN0KGJhdGNoT3B0aW9uc0NvcHksIGNhbGxiYWNrLCBhdXRoLCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIGEgcmVxdWVzdCB0byBhIHdpbnN0b25kIHNlcnZlciBvciBhbnkgaHR0cCBzZXJ2ZXIgd2hpY2ggY2FuXG4gICAgICogaGFuZGxlIGpzb24tcnBjLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMgLSBPcHRpb25zIHRvIHNlbnQgdGhlIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDb250aW51YXRpb24gdG8gcmVzcG9uZCB0byB3aGVuIGNvbXBsZXRlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0P30gYXV0aCAtIGF1dGhlbnRpY2F0aW9uIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHJlcXVlc3QgcGF0aFxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9kb1JlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RvUmVxdWVzdChvcHRpb25zLCBjYWxsYmFjaywgYXV0aCwgcGF0aCkge1xuICAgICAgLy8gUHJlcGFyZSBvcHRpb25zIGZvciBvdXRnb2luZyBIVFRQIHJlcXVlc3RcbiAgICAgIHZhciBoZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5oZWFkZXJzKTtcbiAgICAgIGlmIChhdXRoICYmIGF1dGguYmVhcmVyKSB7XG4gICAgICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IFwiQmVhcmVyIFwiLmNvbmNhdChhdXRoLmJlYXJlcik7XG4gICAgICB9XG4gICAgICB2YXIgcmVxID0gKHRoaXMuc3NsID8gaHR0cHMgOiBodHRwKS5yZXF1ZXN0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5vcHRpb25zKSwge30sIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhvc3Q6IHRoaXMuaG9zdCxcbiAgICAgICAgcG9ydDogdGhpcy5wb3J0LFxuICAgICAgICBwYXRoOiBcIi9cIi5jb25jYXQocGF0aC5yZXBsYWNlKC9eXFwvLywgJycpKSxcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgYXV0aDogYXV0aCAmJiBhdXRoLnVzZXJuYW1lICYmIGF1dGgucGFzc3dvcmQgPyBcIlwiLmNvbmNhdChhdXRoLnVzZXJuYW1lLCBcIjpcIikuY29uY2F0KGF1dGgucGFzc3dvcmQpIDogJycsXG4gICAgICAgIGFnZW50OiB0aGlzLmFnZW50XG4gICAgICB9KSk7XG4gICAgICByZXEub24oJ2Vycm9yJywgY2FsbGJhY2spO1xuICAgICAgcmVxLm9uKCdyZXNwb25zZScsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgICB9KS5yZXN1bWUoKTtcbiAgICAgIH0pO1xuICAgICAgcmVxLmVuZChCdWZmZXIuZnJvbShqc29uU3RyaW5naWZ5KG9wdGlvbnMsIHRoaXMub3B0aW9ucy5yZXBsYWNlciksICd1dGY4JykpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSHR0cDtcbn0oVHJhbnNwb3J0U3RyZWFtKTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBpc1N0cmVhbSA9IHN0cmVhbSA9PlxuXHRzdHJlYW0gIT09IG51bGwgJiZcblx0dHlwZW9mIHN0cmVhbSA9PT0gJ29iamVjdCcgJiZcblx0dHlwZW9mIHN0cmVhbS5waXBlID09PSAnZnVuY3Rpb24nO1xuXG5pc1N0cmVhbS53cml0YWJsZSA9IHN0cmVhbSA9PlxuXHRpc1N0cmVhbShzdHJlYW0pICYmXG5cdHN0cmVhbS53cml0YWJsZSAhPT0gZmFsc2UgJiZcblx0dHlwZW9mIHN0cmVhbS5fd3JpdGUgPT09ICdmdW5jdGlvbicgJiZcblx0dHlwZW9mIHN0cmVhbS5fd3JpdGFibGVTdGF0ZSA9PT0gJ29iamVjdCc7XG5cbmlzU3RyZWFtLnJlYWRhYmxlID0gc3RyZWFtID0+XG5cdGlzU3RyZWFtKHN0cmVhbSkgJiZcblx0c3RyZWFtLnJlYWRhYmxlICE9PSBmYWxzZSAmJlxuXHR0eXBlb2Ygc3RyZWFtLl9yZWFkID09PSAnZnVuY3Rpb24nICYmXG5cdHR5cGVvZiBzdHJlYW0uX3JlYWRhYmxlU3RhdGUgPT09ICdvYmplY3QnO1xuXG5pc1N0cmVhbS5kdXBsZXggPSBzdHJlYW0gPT5cblx0aXNTdHJlYW0ud3JpdGFibGUoc3RyZWFtKSAmJlxuXHRpc1N0cmVhbS5yZWFkYWJsZShzdHJlYW0pO1xuXG5pc1N0cmVhbS50cmFuc2Zvcm0gPSBzdHJlYW0gPT5cblx0aXNTdHJlYW0uZHVwbGV4KHN0cmVhbSkgJiZcblx0dHlwZW9mIHN0cmVhbS5fdHJhbnNmb3JtID09PSAnZnVuY3Rpb24nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3RyZWFtO1xuIiwgIi8qKlxuICogc3RyZWFtLmpzOiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYW55IGFyYml0cmFyeSBzdHJlYW0uXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxudmFyIGlzU3RyZWFtID0gcmVxdWlyZSgnaXMtc3RyZWFtJyk7XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICBNRVNTQUdFID0gX3JlcXVpcmUuTUVTU0FHRTtcbnZhciBvcyA9IHJlcXVpcmUoJ29zJyk7XG52YXIgVHJhbnNwb3J0U3RyZWFtID0gcmVxdWlyZSgnd2luc3Rvbi10cmFuc3BvcnQnKTtcblxuLyoqXG4gKiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYW55IGFyYml0cmFyeSBzdHJlYW0uXG4gKiBAdHlwZSB7U3RyZWFtfVxuICogQGV4dGVuZHMge1RyYW5zcG9ydFN0cmVhbX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9UcmFuc3BvcnRTdHJlYW0pIHtcbiAgX2luaGVyaXRzKFN0cmVhbSwgX1RyYW5zcG9ydFN0cmVhbSk7XG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU3RyZWFtKTtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgQ29uc29sZSB0cmFuc3BvcnQgb2JqZWN0IHJlc3BvbnNpYmxlIGZvclxuICAgKiBwZXJzaXN0aW5nIGxvZyBtZXNzYWdlcyBhbmQgbWV0YWRhdGEgdG8gYSB0ZXJtaW5hbCBvciBUVFkuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gW29wdGlvbnM9e31dIC0gT3B0aW9ucyBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIFN0cmVhbSgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHJlYW0pO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgaWYgKCFvcHRpb25zLnN0cmVhbSB8fCAhaXNTdHJlYW0ob3B0aW9ucy5zdHJlYW0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29wdGlvbnMuc3RyZWFtIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIC8vIFdlIG5lZWQgdG8gbGlzdGVuIGZvciBkcmFpbiBldmVudHMgd2hlbiB3cml0ZSgpIHJldHVybnMgZmFsc2UuIFRoaXMgY2FuXG4gICAgLy8gbWFrZSBub2RlIG1hZCBhdCB0aW1lcy5cbiAgICBfdGhpcy5fc3RyZWFtID0gb3B0aW9ucy5zdHJlYW07XG4gICAgX3RoaXMuX3N0cmVhbS5zZXRNYXhMaXN0ZW5lcnMoSW5maW5pdHkpO1xuICAgIF90aGlzLmlzT2JqZWN0TW9kZSA9IG9wdGlvbnMuc3RyZWFtLl93cml0YWJsZVN0YXRlLm9iamVjdE1vZGU7XG4gICAgX3RoaXMuZW9sID0gdHlwZW9mIG9wdGlvbnMuZW9sID09PSAnc3RyaW5nJyA/IG9wdGlvbnMuZW9sIDogb3MuRU9MO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3JlIGxvZ2dpbmcgbWV0aG9kIGV4cG9zZWQgdG8gV2luc3Rvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKFN0cmVhbSwgW3tcbiAgICBrZXk6IFwibG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvZyhpbmZvLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICBzZXRJbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmVtaXQoJ2xvZ2dlZCcsIGluZm8pO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5pc09iamVjdE1vZGUpIHtcbiAgICAgICAgdGhpcy5fc3RyZWFtLndyaXRlKGluZm8pO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RyZWFtLndyaXRlKFwiXCIuY29uY2F0KGluZm9bTUVTU0FHRV0pLmNvbmNhdCh0aGlzLmVvbCkpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FsbGJhY2stcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFN0cmVhbTtcbn0oVHJhbnNwb3J0U3RyZWFtKTsiLCAiLyoqXG4gKiB0cmFuc3BvcnRzLmpzOiBTZXQgb2YgYWxsIHRyYW5zcG9ydHMgV2luc3RvbiBrbm93cyBhYm91dC5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFRPRE86IGFkZCBwcm9wZXJ0eSBkZXNjcmlwdGlvbi5cbiAqIEB0eXBlIHtDb25zb2xlfVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvbnNvbGUnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHJlcXVpcmUoJy4vY29uc29sZScpO1xuICB9XG59KTtcblxuLyoqXG4gKiBUT0RPOiBhZGQgcHJvcGVydHkgZGVzY3JpcHRpb24uXG4gKiBAdHlwZSB7RmlsZX1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdGaWxlJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiByZXF1aXJlKCcuL2ZpbGUnKTtcbiAgfVxufSk7XG5cbi8qKlxuICogVE9ETzogYWRkIHByb3BlcnR5IGRlc2NyaXB0aW9uLlxuICogQHR5cGUge0h0dHB9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSHR0cCcsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gcmVxdWlyZSgnLi9odHRwJyk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFRPRE86IGFkZCBwcm9wZXJ0eSBkZXNjcmlwdGlvbi5cbiAqIEB0eXBlIHtTdHJlYW19XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3RyZWFtJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiByZXF1aXJlKCcuL3N0cmVhbScpO1xuICB9XG59KTsiLCAiLyoqXG4gKiBpbmRleC5qczogRGVmYXVsdCBzZXR0aW5ncyBmb3IgYWxsIGxldmVscyB0aGF0IHdpbnN0b24ga25vd3MgYWJvdXQuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGxvZ2Zvcm0gPSByZXF1aXJlKCdsb2dmb3JtJyk7XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpLFxuICBjb25maWdzID0gX3JlcXVpcmUuY29uZmlncztcblxuLyoqXG4gKiBFeHBvcnQgY29uZmlnIHNldCBmb3IgdGhlIENMSS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuY2xpID0gbG9nZm9ybS5sZXZlbHMoY29uZmlncy5jbGkpO1xuXG4vKipcbiAqIEV4cG9ydCBjb25maWcgc2V0IGZvciBucG0uXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLm5wbSA9IGxvZ2Zvcm0ubGV2ZWxzKGNvbmZpZ3MubnBtKTtcblxuLyoqXG4gKiBFeHBvcnQgY29uZmlnIHNldCBmb3IgdGhlIHN5c2xvZy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuc3lzbG9nID0gbG9nZm9ybS5sZXZlbHMoY29uZmlncy5zeXNsb2cpO1xuXG4vKipcbiAqIEhvaXN0IGFkZENvbG9ycyBmcm9tIGxvZ2Zvcm0gd2hlcmUgaXQgd2FzIHJlZmFjdG9yZWQgaW50byBpbiB3aW5zdG9uQDMuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLmFkZENvbG9ycyA9IGxvZ2Zvcm0ubGV2ZWxzOyIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvaXNBcnJheUxpa2UuanMnKTtcblxudmFyIF9pc0FycmF5TGlrZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0FycmF5TGlrZSk7XG5cbnZhciBfYnJlYWtMb29wID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9icmVha0xvb3AuanMnKTtcblxudmFyIF9icmVha0xvb3AyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnJlYWtMb29wKTtcblxudmFyIF9lYWNoT2ZMaW1pdCA9IHJlcXVpcmUoJy4vZWFjaE9mTGltaXQuanMnKTtcblxudmFyIF9lYWNoT2ZMaW1pdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYWNoT2ZMaW1pdCk7XG5cbnZhciBfb25jZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvb25jZS5qcycpO1xuXG52YXIgX29uY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb25jZSk7XG5cbnZhciBfb25seU9uY2UgPSByZXF1aXJlKCcuL2ludGVybmFsL29ubHlPbmNlLmpzJyk7XG5cbnZhciBfb25seU9uY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb25seU9uY2UpO1xuXG52YXIgX3dyYXBBc3luYyA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvd3JhcEFzeW5jLmpzJyk7XG5cbnZhciBfd3JhcEFzeW5jMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBBc3luYyk7XG5cbnZhciBfYXdhaXRpZnkgPSByZXF1aXJlKCcuL2ludGVybmFsL2F3YWl0aWZ5LmpzJyk7XG5cbnZhciBfYXdhaXRpZnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXdhaXRpZnkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBlYWNoT2YgaW1wbGVtZW50YXRpb24gb3B0aW1pemVkIGZvciBhcnJheS1saWtlc1xuZnVuY3Rpb24gZWFjaE9mQXJyYXlMaWtlKGNvbGwsIGl0ZXJhdGVlLCBjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrID0gKDAsIF9vbmNlMi5kZWZhdWx0KShjYWxsYmFjayk7XG4gICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgY29tcGxldGVkID0gMCxcbiAgICAgICAgeyBsZW5ndGggfSA9IGNvbGwsXG4gICAgICAgIGNhbmNlbGVkID0gZmFsc2U7XG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVyYXRvckNhbGxiYWNrKGVyciwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGVyciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNhbmNlbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuY2VsZWQgPT09IHRydWUpIHJldHVybjtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfSBlbHNlIGlmICgrK2NvbXBsZXRlZCA9PT0gbGVuZ3RoIHx8IHZhbHVlID09PSBfYnJlYWtMb29wMi5kZWZhdWx0KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBpdGVyYXRlZShjb2xsW2luZGV4XSwgaW5kZXgsICgwLCBfb25seU9uY2UyLmRlZmF1bHQpKGl0ZXJhdG9yQ2FsbGJhY2spKTtcbiAgICB9XG59XG5cbi8vIGEgZ2VuZXJpYyB2ZXJzaW9uIG9mIGVhY2hPZiB3aGljaCBjYW4gaGFuZGxlIGFycmF5LCBvYmplY3QsIGFuZCBpdGVyYXRvciBjYXNlcy5cbmZ1bmN0aW9uIGVhY2hPZkdlbmVyaWMoY29sbCwgaXRlcmF0ZWUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuICgwLCBfZWFjaE9mTGltaXQyLmRlZmF1bHQpKGNvbGwsIEluZmluaXR5LCBpdGVyYXRlZSwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIExpa2UgW2BlYWNoYF17QGxpbmsgbW9kdWxlOkNvbGxlY3Rpb25zLmVhY2h9LCBleGNlcHQgdGhhdCBpdCBwYXNzZXMgdGhlIGtleSAob3IgaW5kZXgpIGFzIHRoZSBzZWNvbmQgYXJndW1lbnRcbiAqIHRvIHRoZSBpdGVyYXRlZS5cbiAqXG4gKiBAbmFtZSBlYWNoT2ZcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBtb2R1bGU6Q29sbGVjdGlvbnNcbiAqIEBtZXRob2RcbiAqIEBhbGlhcyBmb3JFYWNoT2ZcbiAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gKiBAc2VlIFthc3luYy5lYWNoXXtAbGluayBtb2R1bGU6Q29sbGVjdGlvbnMuZWFjaH1cbiAqIEBwYXJhbSB7QXJyYXl8SXRlcmFibGV8QXN5bmNJdGVyYWJsZXxPYmplY3R9IGNvbGwgLSBBIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtBc3luY0Z1bmN0aW9ufSBpdGVyYXRlZSAtIEEgZnVuY3Rpb24gdG8gYXBwbHkgdG8gZWFjaFxuICogaXRlbSBpbiBgY29sbGAuXG4gKiBUaGUgYGtleWAgaXMgdGhlIGl0ZW0ncyBrZXksIG9yIGluZGV4IGluIHRoZSBjYXNlIG9mIGFuIGFycmF5LlxuICogSW52b2tlZCB3aXRoIChpdGVtLCBrZXksIGNhbGxiYWNrKS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gLSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCB3aGVuIGFsbFxuICogYGl0ZXJhdGVlYCBmdW5jdGlvbnMgaGF2ZSBmaW5pc2hlZCwgb3IgYW4gZXJyb3Igb2NjdXJzLiBJbnZva2VkIHdpdGggKGVycikuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gYSBwcm9taXNlLCBpZiBhIGNhbGxiYWNrIGlzIG9taXR0ZWRcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gZGV2Lmpzb24gaXMgYSBmaWxlIGNvbnRhaW5pbmcgYSB2YWxpZCBqc29uIG9iamVjdCBjb25maWcgZm9yIGRldiBlbnZpcm9ubWVudFxuICogLy8gZGV2Lmpzb24gaXMgYSBmaWxlIGNvbnRhaW5pbmcgYSB2YWxpZCBqc29uIG9iamVjdCBjb25maWcgZm9yIHRlc3QgZW52aXJvbm1lbnRcbiAqIC8vIHByb2QuanNvbiBpcyBhIGZpbGUgY29udGFpbmluZyBhIHZhbGlkIGpzb24gb2JqZWN0IGNvbmZpZyBmb3IgcHJvZCBlbnZpcm9ubWVudFxuICogLy8gaW52YWxpZC5qc29uIGlzIGEgZmlsZSB3aXRoIGEgbWFsZm9ybWVkIGpzb24gb2JqZWN0XG4gKlxuICogbGV0IGNvbmZpZ3MgPSB7fTsgLy9nbG9iYWwgdmFyaWFibGVcbiAqIGxldCB2YWxpZENvbmZpZ0ZpbGVNYXAgPSB7ZGV2OiAnZGV2Lmpzb24nLCB0ZXN0OiAndGVzdC5qc29uJywgcHJvZDogJ3Byb2QuanNvbid9O1xuICogbGV0IGludmFsaWRDb25maWdGaWxlTWFwID0ge2RldjogJ2Rldi5qc29uJywgdGVzdDogJ3Rlc3QuanNvbicsIGludmFsaWQ6ICdpbnZhbGlkLmpzb24nfTtcbiAqXG4gKiAvLyBhc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCByZWFkcyBhIGpzb24gZmlsZSBhbmQgcGFyc2VzIHRoZSBjb250ZW50cyBhcyBqc29uIG9iamVjdFxuICogZnVuY3Rpb24gcGFyc2VGaWxlKGZpbGUsIGtleSwgY2FsbGJhY2spIHtcbiAqICAgICBmcy5yZWFkRmlsZShmaWxlLCBcInV0ZjhcIiwgZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gKiAgICAgICAgIGlmIChlcnIpIHJldHVybiBjYWxiYWNrKGVycik7XG4gKiAgICAgICAgIHRyeSB7XG4gKiAgICAgICAgICAgICBjb25maWdzW2tleV0gPSBKU09OLnBhcnNlKGRhdGEpO1xuICogICAgICAgICB9IGNhdGNoIChlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgICAgY2FsbGJhY2soKTtcbiAqICAgICB9KTtcbiAqIH1cbiAqXG4gKiAvLyBVc2luZyBjYWxsYmFja3NcbiAqIGFzeW5jLmZvckVhY2hPZih2YWxpZENvbmZpZ0ZpbGVNYXAsIHBhcnNlRmlsZSwgZnVuY3Rpb24gKGVycikge1xuICogICAgIGlmIChlcnIpIHtcbiAqICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGNvbmZpZ3MpO1xuICogICAgICAgICAvLyBjb25maWdzIGlzIG5vdyBhIG1hcCBvZiBKU09OIGRhdGEsIGUuZy5cbiAqICAgICAgICAgLy8geyBkZXY6IC8vcGFyc2VkIGRldi5qc29uLCB0ZXN0OiAvL3BhcnNlZCB0ZXN0Lmpzb24sIHByb2Q6IC8vcGFyc2VkIHByb2QuanNvbn1cbiAqICAgICB9XG4gKiB9KTtcbiAqXG4gKiAvL0Vycm9yIGhhbmRpbmdcbiAqIGFzeW5jLmZvckVhY2hPZihpbnZhbGlkQ29uZmlnRmlsZU1hcCwgcGFyc2VGaWxlLCBmdW5jdGlvbiAoZXJyKSB7XG4gKiAgICAgaWYgKGVycikge1xuICogICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gKiAgICAgICAgIC8vIEpTT04gcGFyc2UgZXJyb3IgZXhjZXB0aW9uXG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coY29uZmlncyk7XG4gKiAgICAgfVxuICogfSk7XG4gKlxuICogLy8gVXNpbmcgUHJvbWlzZXNcbiAqIGFzeW5jLmZvckVhY2hPZih2YWxpZENvbmZpZ0ZpbGVNYXAsIHBhcnNlRmlsZSlcbiAqIC50aGVuKCAoKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coY29uZmlncyk7XG4gKiAgICAgLy8gY29uZmlncyBpcyBub3cgYSBtYXAgb2YgSlNPTiBkYXRhLCBlLmcuXG4gKiAgICAgLy8geyBkZXY6IC8vcGFyc2VkIGRldi5qc29uLCB0ZXN0OiAvL3BhcnNlZCB0ZXN0Lmpzb24sIHByb2Q6IC8vcGFyc2VkIHByb2QuanNvbn1cbiAqIH0pLmNhdGNoKCBlcnIgPT4ge1xuICogICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAqIH0pO1xuICpcbiAqIC8vRXJyb3IgaGFuZGluZ1xuICogYXN5bmMuZm9yRWFjaE9mKGludmFsaWRDb25maWdGaWxlTWFwLCBwYXJzZUZpbGUpXG4gKiAudGhlbiggKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKGNvbmZpZ3MpO1xuICogfSkuY2F0Y2goIGVyciA9PiB7XG4gKiAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICogICAgIC8vIEpTT04gcGFyc2UgZXJyb3IgZXhjZXB0aW9uXG4gKiB9KTtcbiAqXG4gKiAvLyBVc2luZyBhc3luYy9hd2FpdFxuICogYXN5bmMgKCkgPT4ge1xuICogICAgIHRyeSB7XG4gKiAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBhc3luYy5mb3JFYWNoT2YodmFsaWRDb25maWdGaWxlTWFwLCBwYXJzZUZpbGUpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhjb25maWdzKTtcbiAqICAgICAgICAgLy8gY29uZmlncyBpcyBub3cgYSBtYXAgb2YgSlNPTiBkYXRhLCBlLmcuXG4gKiAgICAgICAgIC8vIHsgZGV2OiAvL3BhcnNlZCBkZXYuanNvbiwgdGVzdDogLy9wYXJzZWQgdGVzdC5qc29uLCBwcm9kOiAvL3BhcnNlZCBwcm9kLmpzb259XG4gKiAgICAgfVxuICogICAgIGNhdGNoIChlcnIpIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAqICAgICB9XG4gKiB9XG4gKlxuICogLy9FcnJvciBoYW5kaW5nXG4gKiBhc3luYyAoKSA9PiB7XG4gKiAgICAgdHJ5IHtcbiAqICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGFzeW5jLmZvckVhY2hPZihpbnZhbGlkQ29uZmlnRmlsZU1hcCwgcGFyc2VGaWxlKTtcbiAqICAgICAgICAgY29uc29sZS5sb2coY29uZmlncyk7XG4gKiAgICAgfVxuICogICAgIGNhdGNoIChlcnIpIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAqICAgICAgICAgLy8gSlNPTiBwYXJzZSBlcnJvciBleGNlcHRpb25cbiAqICAgICB9XG4gKiB9XG4gKlxuICovXG5mdW5jdGlvbiBlYWNoT2YoY29sbCwgaXRlcmF0ZWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGVhY2hPZkltcGxlbWVudGF0aW9uID0gKDAsIF9pc0FycmF5TGlrZTIuZGVmYXVsdCkoY29sbCkgPyBlYWNoT2ZBcnJheUxpa2UgOiBlYWNoT2ZHZW5lcmljO1xuICAgIHJldHVybiBlYWNoT2ZJbXBsZW1lbnRhdGlvbihjb2xsLCAoMCwgX3dyYXBBc3luYzIuZGVmYXVsdCkoaXRlcmF0ZWUpLCBjYWxsYmFjayk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfYXdhaXRpZnkyLmRlZmF1bHQpKGVhY2hPZiwgMyk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IF93aXRob3V0SW5kZXg7XG5mdW5jdGlvbiBfd2l0aG91dEluZGV4KGl0ZXJhdGVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSwgaW5kZXgsIGNhbGxiYWNrKSA9PiBpdGVyYXRlZSh2YWx1ZSwgY2FsbGJhY2spO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwgIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2VhY2hPZiA9IHJlcXVpcmUoJy4vZWFjaE9mLmpzJyk7XG5cbnZhciBfZWFjaE9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhY2hPZik7XG5cbnZhciBfd2l0aG91dEluZGV4ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC93aXRob3V0SW5kZXguanMnKTtcblxudmFyIF93aXRob3V0SW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2l0aG91dEluZGV4KTtcblxudmFyIF93cmFwQXN5bmMgPSByZXF1aXJlKCcuL2ludGVybmFsL3dyYXBBc3luYy5qcycpO1xuXG52YXIgX3dyYXBBc3luYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwQXN5bmMpO1xuXG52YXIgX2F3YWl0aWZ5ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9hd2FpdGlmeS5qcycpO1xuXG52YXIgX2F3YWl0aWZ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F3YWl0aWZ5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBmdW5jdGlvbiBgaXRlcmF0ZWVgIHRvIGVhY2ggaXRlbSBpbiBgY29sbGAsIGluIHBhcmFsbGVsLlxuICogVGhlIGBpdGVyYXRlZWAgaXMgY2FsbGVkIHdpdGggYW4gaXRlbSBmcm9tIHRoZSBsaXN0LCBhbmQgYSBjYWxsYmFjayBmb3Igd2hlblxuICogaXQgaGFzIGZpbmlzaGVkLiBJZiB0aGUgYGl0ZXJhdGVlYCBwYXNzZXMgYW4gZXJyb3IgdG8gaXRzIGBjYWxsYmFja2AsIHRoZVxuICogbWFpbiBgY2FsbGJhY2tgIChmb3IgdGhlIGBlYWNoYCBmdW5jdGlvbikgaXMgaW1tZWRpYXRlbHkgY2FsbGVkIHdpdGggdGhlXG4gKiBlcnJvci5cbiAqXG4gKiBOb3RlLCB0aGF0IHNpbmNlIHRoaXMgZnVuY3Rpb24gYXBwbGllcyBgaXRlcmF0ZWVgIHRvIGVhY2ggaXRlbSBpbiBwYXJhbGxlbCxcbiAqIHRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IHRoZSBpdGVyYXRlZSBmdW5jdGlvbnMgd2lsbCBjb21wbGV0ZSBpbiBvcmRlci5cbiAqXG4gKiBAbmFtZSBlYWNoXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgbW9kdWxlOkNvbGxlY3Rpb25zXG4gKiBAbWV0aG9kXG4gKiBAYWxpYXMgZm9yRWFjaFxuICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl8SXRlcmFibGV8QXN5bmNJdGVyYWJsZXxPYmplY3R9IGNvbGwgLSBBIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtBc3luY0Z1bmN0aW9ufSBpdGVyYXRlZSAtIEFuIGFzeW5jIGZ1bmN0aW9uIHRvIGFwcGx5IHRvXG4gKiBlYWNoIGl0ZW0gaW4gYGNvbGxgLiBJbnZva2VkIHdpdGggKGl0ZW0sIGNhbGxiYWNrKS5cbiAqIFRoZSBhcnJheSBpbmRleCBpcyBub3QgcGFzc2VkIHRvIHRoZSBpdGVyYXRlZS5cbiAqIElmIHlvdSBuZWVkIHRoZSBpbmRleCwgdXNlIGBlYWNoT2ZgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSAtIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIHdoZW4gYWxsXG4gKiBgaXRlcmF0ZWVgIGZ1bmN0aW9ucyBoYXZlIGZpbmlzaGVkLCBvciBhbiBlcnJvciBvY2N1cnMuIEludm9rZWQgd2l0aCAoZXJyKS5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBhIHByb21pc2UsIGlmIGEgY2FsbGJhY2sgaXMgb21pdHRlZFxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBkaXIxIGlzIGEgZGlyZWN0b3J5IHRoYXQgY29udGFpbnMgZmlsZTEudHh0LCBmaWxlMi50eHRcbiAqIC8vIGRpcjIgaXMgYSBkaXJlY3RvcnkgdGhhdCBjb250YWlucyBmaWxlMy50eHQsIGZpbGU0LnR4dFxuICogLy8gZGlyMyBpcyBhIGRpcmVjdG9yeSB0aGF0IGNvbnRhaW5zIGZpbGU1LnR4dFxuICogLy8gZGlyNCBkb2VzIG5vdCBleGlzdFxuICpcbiAqIGNvbnN0IGZpbGVMaXN0ID0gWyAnZGlyMS9maWxlMi50eHQnLCAnZGlyMi9maWxlMy50eHQnLCAnZGlyL2ZpbGU1LnR4dCddO1xuICogY29uc3Qgd2l0aE1pc3NpbmdGaWxlTGlzdCA9IFsnZGlyMS9maWxlMS50eHQnLCAnZGlyNC9maWxlMi50eHQnXTtcbiAqXG4gKiAvLyBhc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCBkZWxldGVzIGEgZmlsZVxuICogY29uc3QgZGVsZXRlRmlsZSA9IGZ1bmN0aW9uKGZpbGUsIGNhbGxiYWNrKSB7XG4gKiAgICAgZnMudW5saW5rKGZpbGUsIGNhbGxiYWNrKTtcbiAqIH07XG4gKlxuICogLy8gVXNpbmcgY2FsbGJhY2tzXG4gKiBhc3luYy5lYWNoKGZpbGVMaXN0LCBkZWxldGVGaWxlLCBmdW5jdGlvbihlcnIpIHtcbiAqICAgICBpZiggZXJyICkge1xuICogICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKCdBbGwgZmlsZXMgaGF2ZSBiZWVuIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gKiAgICAgfVxuICogfSk7XG4gKlxuICogLy8gRXJyb3IgSGFuZGxpbmdcbiAqIGFzeW5jLmVhY2god2l0aE1pc3NpbmdGaWxlTGlzdCwgZGVsZXRlRmlsZSwgZnVuY3Rpb24oZXJyKXtcbiAqICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICogICAgIC8vIFsgRXJyb3I6IEVOT0VOVDogbm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeSBdXG4gKiAgICAgLy8gc2luY2UgZGlyNC9maWxlMi50eHQgZG9lcyBub3QgZXhpc3RcbiAqICAgICAvLyBkaXIxL2ZpbGUxLnR4dCBjb3VsZCBoYXZlIGJlZW4gZGVsZXRlZFxuICogfSk7XG4gKlxuICogLy8gVXNpbmcgUHJvbWlzZXNcbiAqIGFzeW5jLmVhY2goZmlsZUxpc3QsIGRlbGV0ZUZpbGUpXG4gKiAudGhlbiggKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBbGwgZmlsZXMgaGF2ZSBiZWVuIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gKiB9KS5jYXRjaCggZXJyID0+IHtcbiAqICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICogfSk7XG4gKlxuICogLy8gRXJyb3IgSGFuZGxpbmdcbiAqIGFzeW5jLmVhY2goZmlsZUxpc3QsIGRlbGV0ZUZpbGUpXG4gKiAudGhlbiggKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBbGwgZmlsZXMgaGF2ZSBiZWVuIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gKiB9KS5jYXRjaCggZXJyID0+IHtcbiAqICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICogICAgIC8vIFsgRXJyb3I6IEVOT0VOVDogbm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeSBdXG4gKiAgICAgLy8gc2luY2UgZGlyNC9maWxlMi50eHQgZG9lcyBub3QgZXhpc3RcbiAqICAgICAvLyBkaXIxL2ZpbGUxLnR4dCBjb3VsZCBoYXZlIGJlZW4gZGVsZXRlZFxuICogfSk7XG4gKlxuICogLy8gVXNpbmcgYXN5bmMvYXdhaXRcbiAqIGFzeW5jICgpID0+IHtcbiAqICAgICB0cnkge1xuICogICAgICAgICBhd2FpdCBhc3luYy5lYWNoKGZpbGVzLCBkZWxldGVGaWxlKTtcbiAqICAgICB9XG4gKiAgICAgY2F0Y2ggKGVycikge1xuICogICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICogICAgIH1cbiAqIH1cbiAqXG4gKiAvLyBFcnJvciBIYW5kbGluZ1xuICogYXN5bmMgKCkgPT4ge1xuICogICAgIHRyeSB7XG4gKiAgICAgICAgIGF3YWl0IGFzeW5jLmVhY2god2l0aE1pc3NpbmdGaWxlTGlzdCwgZGVsZXRlRmlsZSk7XG4gKiAgICAgfVxuICogICAgIGNhdGNoIChlcnIpIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAqICAgICAgICAgLy8gWyBFcnJvcjogRU5PRU5UOiBubyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5IF1cbiAqICAgICAgICAgLy8gc2luY2UgZGlyNC9maWxlMi50eHQgZG9lcyBub3QgZXhpc3RcbiAqICAgICAgICAgLy8gZGlyMS9maWxlMS50eHQgY291bGQgaGF2ZSBiZWVuIGRlbGV0ZWRcbiAqICAgICB9XG4gKiB9XG4gKlxuICovXG5mdW5jdGlvbiBlYWNoTGltaXQoY29sbCwgaXRlcmF0ZWUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuICgwLCBfZWFjaE9mMi5kZWZhdWx0KShjb2xsLCAoMCwgX3dpdGhvdXRJbmRleDIuZGVmYXVsdCkoKDAsIF93cmFwQXN5bmMyLmRlZmF1bHQpKGl0ZXJhdGVlKSksIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9hd2FpdGlmeTIuZGVmYXVsdCkoZWFjaExpbWl0LCAzKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyIsICIndXNlIHN0cmljdCc7XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRXh0cmFjdCBuYW1lcyBmcm9tIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gd2hvJ3MgbmFtZSB3ZSBuZWVkIHRvIGV4dHJhY3QuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gKiBAcHVibGljXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbmFtZShmbikge1xuICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBmbi5kaXNwbGF5TmFtZSAmJiBmbi5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgcmV0dXJuIGZuLmRpc3BsYXlOYW1lO1xuICB9IGVsc2UgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgZm4ubmFtZSAmJiBmbi5uYW1lKSB7XG4gICAgcmV0dXJuIGZuLm5hbWU7XG4gIH1cblxuICAvL1xuICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGNvbnN0cnVjdG9yIGhhcyBhIG5hbWUuXG4gIC8vXG4gIGlmIChcbiAgICAgICAnb2JqZWN0JyA9PT0gdHlwZW9mIGZuXG4gICAgJiYgZm4uY29uc3RydWN0b3JcbiAgICAmJiAnc3RyaW5nJyA9PT0gdHlwZW9mIGZuLmNvbnN0cnVjdG9yLm5hbWVcbiAgKSByZXR1cm4gZm4uY29uc3RydWN0b3IubmFtZTtcblxuICAvL1xuICAvLyB0b1N0cmluZyB0aGUgZ2l2ZW4gZnVuY3Rpb24gYW5kIGF0dGVtcHQgdG8gcGFyc2UgaXQgb3V0IG9mIGl0LCBvciBkZXRlcm1pbmVcbiAgLy8gdGhlIGNsYXNzLlxuICAvL1xuICB2YXIgbmFtZWQgPSBmbi50b1N0cmluZygpXG4gICAgLCB0eXBlID0gdG9TdHJpbmcuY2FsbChmbikuc2xpY2UoOCwgLTEpO1xuXG4gIGlmICgnRnVuY3Rpb24nID09PSB0eXBlKSB7XG4gICAgbmFtZWQgPSBuYW1lZC5zdWJzdHJpbmcobmFtZWQuaW5kZXhPZignKCcpICsgMSwgbmFtZWQuaW5kZXhPZignKScpKTtcbiAgfSBlbHNlIHtcbiAgICBuYW1lZCA9IHR5cGU7XG4gIH1cblxuICByZXR1cm4gbmFtZWQgfHwgJ2Fub255bW91cyc7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIG5hbWUgPSByZXF1aXJlKCdmbi5uYW1lJyk7XG5cbi8qKlxuICogV3JhcCBjYWxsYmFja3MgdG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgd3JhcHBlZCBjYWxsYmFjayB3aGljaCBwcmV2ZW50cyBtdWx0aXBsZSBleGVjdXRpb25zLlxuICogQHB1YmxpY1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG9uZShmbikge1xuICB2YXIgY2FsbGVkID0gMFxuICAgICwgdmFsdWU7XG5cbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbiB0aGF0IHByZXZlbnRzIGRvdWJsZSBleGVjdXRpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBvbmV0aW1lKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybiB2YWx1ZTtcblxuICAgIGNhbGxlZCA9IDE7XG4gICAgdmFsdWUgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGZuID0gbnVsbDtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8vXG4gIC8vIFRvIG1ha2UgZGVidWdnaW5nIG1vcmUgZWFzeSB3ZSB3YW50IHRvIHVzZSB0aGUgbmFtZSBvZiB0aGUgc3VwcGxpZWRcbiAgLy8gZnVuY3Rpb24uIFNvIHdoZW4geW91IGxvb2sgYXQgdGhlIGZ1bmN0aW9ucyB0aGF0IGFyZSBhc3NpZ25lZCB0byBldmVudFxuICAvLyBsaXN0ZW5lcnMgeW91IGRvbid0IHNlZSBhIGxvYWQgb2YgYG9uZXRpbWVgIGZ1bmN0aW9ucyBidXQgYWN0dWFsbHkgdGhlXG4gIC8vIG5hbWVzIG9mIHRoZSBmdW5jdGlvbnMgdGhhdCB0aGlzIG1vZHVsZSB3aWxsIGNhbGwuXG4gIC8vXG4gIC8vIE5PVEU6IFdlIGNhbm5vdCBvdmVycmlkZSB0aGUgYG5hbWVgIHByb3BlcnR5LCBhcyB0aGF0IGlzIGByZWFkT25seWBcbiAgLy8gcHJvcGVydHksIHNvIGRpc3BsYXlOYW1lIHdpbGwgaGF2ZSB0byBkby5cbiAgLy9cbiAgb25ldGltZS5kaXNwbGF5TmFtZSA9IG5hbWUoZm4pO1xuICByZXR1cm4gb25ldGltZTtcbn07XG4iLCAiZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihiZWxvd0ZuKSB7XG4gIHZhciBvbGRMaW1pdCA9IEVycm9yLnN0YWNrVHJhY2VMaW1pdDtcbiAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gSW5maW5pdHk7XG5cbiAgdmFyIGR1bW15T2JqZWN0ID0ge307XG5cbiAgdmFyIHY4SGFuZGxlciA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IGZ1bmN0aW9uKGR1bW15T2JqZWN0LCB2OFN0YWNrVHJhY2UpIHtcbiAgICByZXR1cm4gdjhTdGFja1RyYWNlO1xuICB9O1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShkdW1teU9iamVjdCwgYmVsb3dGbiB8fCBleHBvcnRzLmdldCk7XG5cbiAgdmFyIHY4U3RhY2tUcmFjZSA9IGR1bW15T2JqZWN0LnN0YWNrO1xuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHY4SGFuZGxlcjtcbiAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gb2xkTGltaXQ7XG5cbiAgcmV0dXJuIHY4U3RhY2tUcmFjZTtcbn07XG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbihlcnIpIHtcbiAgaWYgKCFlcnIuc3RhY2spIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBsaW5lcyA9IGVyci5zdGFjay5zcGxpdCgnXFxuJykuc2xpY2UoMSk7XG5cbiAgcmV0dXJuIGxpbmVzXG4gICAgLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZS5tYXRjaCgvXlxccypbLV17NCx9JC8pKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVQYXJzZWRDYWxsU2l0ZSh7XG4gICAgICAgICAgZmlsZU5hbWU6IGxpbmUsXG4gICAgICAgICAgbGluZU51bWJlcjogbnVsbCxcbiAgICAgICAgICBmdW5jdGlvbk5hbWU6IG51bGwsXG4gICAgICAgICAgdHlwZU5hbWU6IG51bGwsXG4gICAgICAgICAgbWV0aG9kTmFtZTogbnVsbCxcbiAgICAgICAgICBjb2x1bW5OdW1iZXI6IG51bGwsXG4gICAgICAgICAgJ25hdGl2ZSc6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGluZU1hdGNoID0gbGluZS5tYXRjaCgvYXQgKD86KC4rKVxccytcXCgpPyg/OiguKz8pOihcXGQrKSg/OjooXFxkKykpP3woW14pXSspKVxcKT8vKTtcbiAgICAgIGlmICghbGluZU1hdGNoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9iamVjdCA9IG51bGw7XG4gICAgICB2YXIgbWV0aG9kID0gbnVsbDtcbiAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSBudWxsO1xuICAgICAgdmFyIHR5cGVOYW1lID0gbnVsbDtcbiAgICAgIHZhciBtZXRob2ROYW1lID0gbnVsbDtcbiAgICAgIHZhciBpc05hdGl2ZSA9IChsaW5lTWF0Y2hbNV0gPT09ICduYXRpdmUnKTtcblxuICAgICAgaWYgKGxpbmVNYXRjaFsxXSkge1xuICAgICAgICBmdW5jdGlvbk5hbWUgPSBsaW5lTWF0Y2hbMV07XG4gICAgICAgIHZhciBtZXRob2RTdGFydCA9IGZ1bmN0aW9uTmFtZS5sYXN0SW5kZXhPZignLicpO1xuICAgICAgICBpZiAoZnVuY3Rpb25OYW1lW21ldGhvZFN0YXJ0LTFdID09ICcuJylcbiAgICAgICAgICBtZXRob2RTdGFydC0tO1xuICAgICAgICBpZiAobWV0aG9kU3RhcnQgPiAwKSB7XG4gICAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb25OYW1lLnN1YnN0cigwLCBtZXRob2RTdGFydCk7XG4gICAgICAgICAgbWV0aG9kID0gZnVuY3Rpb25OYW1lLnN1YnN0cihtZXRob2RTdGFydCArIDEpO1xuICAgICAgICAgIHZhciBvYmplY3RFbmQgPSBvYmplY3QuaW5kZXhPZignLk1vZHVsZScpO1xuICAgICAgICAgIGlmIChvYmplY3RFbmQgPiAwKSB7XG4gICAgICAgICAgICBmdW5jdGlvbk5hbWUgPSBmdW5jdGlvbk5hbWUuc3Vic3RyKG9iamVjdEVuZCArIDEpO1xuICAgICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LnN1YnN0cigwLCBvYmplY3RFbmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0eXBlTmFtZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgdHlwZU5hbWUgPSBvYmplY3Q7XG4gICAgICAgIG1ldGhvZE5hbWUgPSBtZXRob2Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRob2QgPT09ICc8YW5vbnltb3VzPicpIHtcbiAgICAgICAgbWV0aG9kTmFtZSA9IG51bGw7XG4gICAgICAgIGZ1bmN0aW9uTmFtZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgICBmaWxlTmFtZTogbGluZU1hdGNoWzJdIHx8IG51bGwsXG4gICAgICAgIGxpbmVOdW1iZXI6IHBhcnNlSW50KGxpbmVNYXRjaFszXSwgMTApIHx8IG51bGwsXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogZnVuY3Rpb25OYW1lLFxuICAgICAgICB0eXBlTmFtZTogdHlwZU5hbWUsXG4gICAgICAgIG1ldGhvZE5hbWU6IG1ldGhvZE5hbWUsXG4gICAgICAgIGNvbHVtbk51bWJlcjogcGFyc2VJbnQobGluZU1hdGNoWzRdLCAxMCkgfHwgbnVsbCxcbiAgICAgICAgJ25hdGl2ZSc6IGlzTmF0aXZlLFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHNlbGYuX2NyZWF0ZVBhcnNlZENhbGxTaXRlKHByb3BlcnRpZXMpO1xuICAgIH0pXG4gICAgLmZpbHRlcihmdW5jdGlvbihjYWxsU2l0ZSkge1xuICAgICAgcmV0dXJuICEhY2FsbFNpdGU7XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiBDYWxsU2l0ZShwcm9wZXJ0aWVzKSB7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICB0aGlzW3Byb3BlcnR5XSA9IHByb3BlcnRpZXNbcHJvcGVydHldO1xuICB9XG59XG5cbnZhciBzdHJQcm9wZXJ0aWVzID0gW1xuICAndGhpcycsXG4gICd0eXBlTmFtZScsXG4gICdmdW5jdGlvbk5hbWUnLFxuICAnbWV0aG9kTmFtZScsXG4gICdmaWxlTmFtZScsXG4gICdsaW5lTnVtYmVyJyxcbiAgJ2NvbHVtbk51bWJlcicsXG4gICdmdW5jdGlvbicsXG4gICdldmFsT3JpZ2luJ1xuXTtcbnZhciBib29sUHJvcGVydGllcyA9IFtcbiAgJ3RvcExldmVsJyxcbiAgJ2V2YWwnLFxuICAnbmF0aXZlJyxcbiAgJ2NvbnN0cnVjdG9yJ1xuXTtcbnN0clByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgQ2FsbFNpdGUucHJvdG90eXBlW3Byb3BlcnR5XSA9IG51bGw7XG4gIENhbGxTaXRlLnByb3RvdHlwZVsnZ2V0JyArIHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zdWJzdHIoMSldID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcbiAgfVxufSk7XG5ib29sUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICBDYWxsU2l0ZS5wcm90b3R5cGVbcHJvcGVydHldID0gZmFsc2U7XG4gIENhbGxTaXRlLnByb3RvdHlwZVsnaXMnICsgcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnN1YnN0cigxKV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICB9XG59KTtcblxuZXhwb3J0cy5fY3JlYXRlUGFyc2VkQ2FsbFNpdGUgPSBmdW5jdGlvbihwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBuZXcgQ2FsbFNpdGUocHJvcGVydGllcyk7XG59O1xuIiwgIi8qKlxuICogZXhjZXB0aW9uLXN0cmVhbS5qczogVE9ETzogYWRkIGZpbGUgaGVhZGVyIGhhbmRsZXIuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJyksXG4gIFdyaXRhYmxlID0gX3JlcXVpcmUuV3JpdGFibGU7XG5cbi8qKlxuICogVE9ETzogYWRkIGNsYXNzIGRlc2NyaXB0aW9uLlxuICogQHR5cGUge0V4Y2VwdGlvblN0cmVhbX1cbiAqIEBleHRlbmRzIHtXcml0YWJsZX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Xcml0YWJsZSkge1xuICBfaW5oZXJpdHMoRXhjZXB0aW9uU3RyZWFtLCBfV3JpdGFibGUpO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEV4Y2VwdGlvblN0cmVhbSk7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIEV4Y2VwdGlvblN0cmVhbSByZXNwb25zaWJsZSBmb3Igd3JhcHBpbmcgYVxuICAgKiBUcmFuc3BvcnRTdHJlYW07IG9ubHkgYWxsb3dpbmcgd3JpdGVzIG9mIGBpbmZvYCBvYmplY3RzIHdpdGhcbiAgICogYGluZm8uZXhjZXB0aW9uYCBzZXQgdG8gdHJ1ZS5cbiAgICogQHBhcmFtIHshVHJhbnNwb3J0U3RyZWFtfSB0cmFuc3BvcnQgLSBTdHJlYW0gdG8gZmlsdGVyIHRvIGV4Y2VwdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIEV4Y2VwdGlvblN0cmVhbSh0cmFuc3BvcnQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4Y2VwdGlvblN0cmVhbSk7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICBvYmplY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKCF0cmFuc3BvcnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhjZXB0aW9uU3RyZWFtIHJlcXVpcmVzIGEgVHJhbnNwb3J0U3RyZWFtIGluc3RhbmNlLicpO1xuICAgIH1cblxuICAgIC8vIFJlbWFyayAoaW5kZXh6ZXJvKTogd2Ugc2V0IGBoYW5kbGVFeGNlcHRpb25zYCBoZXJlIGJlY2F1c2UgaXQncyB0aGVcbiAgICAvLyBwcmVkaWNhdGUgY2hlY2tlZCBpbiBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fX2dldEV4Y2VwdGlvbkhhbmRsZXJzXG4gICAgX3RoaXMuaGFuZGxlRXhjZXB0aW9ucyA9IHRydWU7XG4gICAgX3RoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZXMgdGhlIGluZm8gb2JqZWN0IHRvIG91ciB0cmFuc3BvcnQgaW5zdGFuY2UgaWYgKGFuZCBvbmx5IGlmKSB0aGVcbiAgICogYGV4Y2VwdGlvbmAgcHJvcGVydHkgaXMgc2V0IG9uIHRoZSBpbmZvLlxuICAgKiBAcGFyYW0ge21peGVkfSBpbmZvIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge21peGVkfSBlbmMgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7bWl4ZWR9IGNhbGxiYWNrIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVDbGFzcyhFeGNlcHRpb25TdHJlYW0sIFt7XG4gICAga2V5OiBcIl93cml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfd3JpdGUoaW5mbywgZW5jLCBjYWxsYmFjaykge1xuICAgICAgaWYgKGluZm8uZXhjZXB0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5sb2coaW5mbywgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRXhjZXB0aW9uU3RyZWFtO1xufShXcml0YWJsZSk7IiwgIi8qKlxuICogZXhjZXB0aW9uLWhhbmRsZXIuanM6IE9iamVjdCBmb3IgaGFuZGxpbmcgdW5jYXVnaHRFeGNlcHRpb24gZXZlbnRzLlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxudmFyIG9zID0gcmVxdWlyZSgnb3MnKTtcbnZhciBhc3luY0ZvckVhY2ggPSByZXF1aXJlKCdhc3luYy9mb3JFYWNoJyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdAZGFiaC9kaWFnbm9zdGljcycpKCd3aW5zdG9uOmV4Y2VwdGlvbicpO1xudmFyIG9uY2UgPSByZXF1aXJlKCdvbmUtdGltZScpO1xudmFyIHN0YWNrVHJhY2UgPSByZXF1aXJlKCdzdGFjay10cmFjZScpO1xudmFyIEV4Y2VwdGlvblN0cmVhbSA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uLXN0cmVhbScpO1xuXG4vKipcbiAqIE9iamVjdCBmb3IgaGFuZGxpbmcgdW5jYXVnaHRFeGNlcHRpb24gZXZlbnRzLlxuICogQHR5cGUge0V4Y2VwdGlvbkhhbmRsZXJ9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFRPRE86IGFkZCBjb250cnVjdG9yIGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7IUxvZ2dlcn0gbG9nZ2VyIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBFeGNlcHRpb25IYW5kbGVyKGxvZ2dlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFeGNlcHRpb25IYW5kbGVyKTtcbiAgICBpZiAoIWxvZ2dlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dnZXIgaXMgcmVxdWlyZWQgdG8gaGFuZGxlIGV4Y2VwdGlvbnMnKTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgdGhpcy5oYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGB1bmNhdWdodEV4Y2VwdGlvbmAgZXZlbnRzIGZvciB0aGUgY3VycmVudCBwcm9jZXNzIGJ5IGFkZGluZyBhbnlcbiAgICogaGFuZGxlcnMgcGFzc2VkIGluLlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKEV4Y2VwdGlvbkhhbmRsZXIsIFt7XG4gICAga2V5OiBcImhhbmRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGUoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2FkZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2FkZEhhbmRsZXIoYXJnKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF0aGlzLmNhdGNoZXIpIHtcbiAgICAgICAgdGhpcy5jYXRjaGVyID0gdGhpcy5fdW5jYXVnaHRFeGNlcHRpb24uYmluZCh0aGlzKTtcbiAgICAgICAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCB0aGlzLmNhdGNoZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIHRvIGB1bmNhdWdodEV4Y2VwdGlvbmAgZXZlbnRzIGZvciB0aGUgY3VycmVudFxuICAgICAqIHByb2Nlc3MuIFRoaXMgZG9lcyBub3QgbW9kaWZ5IHRoZSBzdGF0ZSBvZiB0aGUgYHRoaXMuaGFuZGxlcnNgIHNldC5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInVuaGFuZGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuaGFuZGxlKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5jYXRjaGVyKSB7XG4gICAgICAgIHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoJ3VuY2F1Z2h0RXhjZXB0aW9uJywgdGhpcy5jYXRjaGVyKTtcbiAgICAgICAgdGhpcy5jYXRjaGVyID0gZmFsc2U7XG4gICAgICAgIEFycmF5LmZyb20odGhpcy5oYW5kbGVycy52YWx1ZXMoKSkuZm9yRWFjaChmdW5jdGlvbiAod3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiBfdGhpczIubG9nZ2VyLnVucGlwZSh3cmFwcGVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogYWRkIG1ldGhvZCBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGVyciAtIEVycm9yIHRvIGdldCBpbmZvcm1hdGlvbiBhYm91dC5cbiAgICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRBbGxJbmZvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbEluZm8oZXJyKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9IG51bGw7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG1lc3NhZ2UgPSB0eXBlb2YgZXJyID09PSAnc3RyaW5nJyA/IGVyciA6IGVyci5tZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgLy8gVE9ETyAoaW5kZXh6ZXJvKTogaG93IGRvIHdlIGNvbmZpZ3VyZSB0aGlzP1xuICAgICAgICBsZXZlbDogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogW1widW5jYXVnaHRFeGNlcHRpb246IFwiLmNvbmNhdChtZXNzYWdlIHx8ICcobm8gZXJyb3IgbWVzc2FnZSknKSwgZXJyICYmIGVyci5zdGFjayB8fCAnICBObyBzdGFjayB0cmFjZSddLmpvaW4oJ1xcbicpLFxuICAgICAgICBzdGFjazogZXJyICYmIGVyci5zdGFjayxcbiAgICAgICAgZXhjZXB0aW9uOiB0cnVlLFxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvU3RyaW5nKCksXG4gICAgICAgIHByb2Nlc3M6IHRoaXMuZ2V0UHJvY2Vzc0luZm8oKSxcbiAgICAgICAgb3M6IHRoaXMuZ2V0T3NJbmZvKCksXG4gICAgICAgIHRyYWNlOiB0aGlzLmdldFRyYWNlKGVycilcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgcmVsZXZhbnQgcHJvY2VzcyBpbmZvcm1hdGlvbiBmb3IgdGhlIGN1cnJlbnRseSBydW5uaW5nIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge21peGVkfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UHJvY2Vzc0luZm9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvY2Vzc0luZm8oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwaWQ6IHByb2Nlc3MucGlkLFxuICAgICAgICB1aWQ6IHByb2Nlc3MuZ2V0dWlkID8gcHJvY2Vzcy5nZXR1aWQoKSA6IG51bGwsXG4gICAgICAgIGdpZDogcHJvY2Vzcy5nZXRnaWQgPyBwcm9jZXNzLmdldGdpZCgpIDogbnVsbCxcbiAgICAgICAgY3dkOiBwcm9jZXNzLmN3ZCgpLFxuICAgICAgICBleGVjUGF0aDogcHJvY2Vzcy5leGVjUGF0aCxcbiAgICAgICAgdmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLFxuICAgICAgICBhcmd2OiBwcm9jZXNzLmFyZ3YsXG4gICAgICAgIG1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgcmVsZXZhbnQgT1MgaW5mb3JtYXRpb24gZm9yIHRoZSBjdXJyZW50bHkgcnVubmluZyBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldE9zSW5mb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPc0luZm8oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2FkYXZnOiBvcy5sb2FkYXZnKCksXG4gICAgICAgIHVwdGltZTogb3MudXB0aW1lKClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0YWNrIHRyYWNlIGZvciB0aGUgc3BlY2lmaWVkIGVycm9yLlxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IGVyciAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRUcmFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUcmFjZShlcnIpIHtcbiAgICAgIHZhciB0cmFjZSA9IGVyciA/IHN0YWNrVHJhY2UucGFyc2UoZXJyKSA6IHN0YWNrVHJhY2UuZ2V0KCk7XG4gICAgICByZXR1cm4gdHJhY2UubWFwKGZ1bmN0aW9uIChzaXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29sdW1uOiBzaXRlLmdldENvbHVtbk51bWJlcigpLFxuICAgICAgICAgIGZpbGU6IHNpdGUuZ2V0RmlsZU5hbWUoKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCI6IHNpdGUuZ2V0RnVuY3Rpb25OYW1lKCksXG4gICAgICAgICAgbGluZTogc2l0ZS5nZXRMaW5lTnVtYmVyKCksXG4gICAgICAgICAgbWV0aG9kOiBzaXRlLmdldE1ldGhvZE5hbWUoKSxcbiAgICAgICAgICBcIm5hdGl2ZVwiOiBzaXRlLmlzTmF0aXZlKClcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gYWRkIGEgdHJhbnNwb3J0IGFzIGFuIGV4Y2VwdGlvbiBoYW5kbGVyLlxuICAgICAqIEBwYXJhbSB7VHJhbnNwb3J0fSBoYW5kbGVyIC0gVGhlIHRyYW5zcG9ydCB0byBhZGQgYXMgYW4gZXhjZXB0aW9uIGhhbmRsZXIuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgaWYgKCF0aGlzLmhhbmRsZXJzLmhhcyhoYW5kbGVyKSkge1xuICAgICAgICBoYW5kbGVyLmhhbmRsZUV4Y2VwdGlvbnMgPSB0cnVlO1xuICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBFeGNlcHRpb25TdHJlYW0oaGFuZGxlcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGhhbmRsZXIsIHdyYXBwZXIpO1xuICAgICAgICB0aGlzLmxvZ2dlci5waXBlKHdyYXBwZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZ3MgYWxsIHJlbGV2YW50IGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgYGVycmAgYW5kIGV4aXRzIHRoZSBjdXJyZW50XG4gICAgICogcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnIgLSBFcnJvciB0byBoYW5kbGVcbiAgICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl91bmNhdWdodEV4Y2VwdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5jYXVnaHRFeGNlcHRpb24oZXJyKSB7XG4gICAgICB2YXIgaW5mbyA9IHRoaXMuZ2V0QWxsSW5mbyhlcnIpO1xuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZ2V0RXhjZXB0aW9uSGFuZGxlcnMoKTtcbiAgICAgIC8vIENhbGN1bGF0ZSBpZiB3ZSBzaG91bGQgZXhpdCBvbiB0aGlzIGVycm9yXG4gICAgICB2YXIgZG9FeGl0ID0gdHlwZW9mIHRoaXMubG9nZ2VyLmV4aXRPbkVycm9yID09PSAnZnVuY3Rpb24nID8gdGhpcy5sb2dnZXIuZXhpdE9uRXJyb3IoZXJyKSA6IHRoaXMubG9nZ2VyLmV4aXRPbkVycm9yO1xuICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICBpZiAoIWhhbmRsZXJzLmxlbmd0aCAmJiBkb0V4aXQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCd3aW5zdG9uOiBleGl0T25FcnJvciBjYW5ub3QgYmUgdHJ1ZSB3aXRoIG5vIGV4Y2VwdGlvbiBoYW5kbGVycy4nKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCd3aW5zdG9uOiBub3QgZXhpdGluZyBwcm9jZXNzLicpO1xuICAgICAgICBkb0V4aXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGdyYWNlZnVsRXhpdCgpIHtcbiAgICAgICAgZGVidWcoJ2RvRXhpdCcsIGRvRXhpdCk7XG4gICAgICAgIGRlYnVnKCdwcm9jZXNzLl9leGl0aW5nJywgcHJvY2Vzcy5fZXhpdGluZyk7XG4gICAgICAgIGlmIChkb0V4aXQgJiYgIXByb2Nlc3MuX2V4aXRpbmcpIHtcbiAgICAgICAgICAvLyBSZW1hcms6IEN1cnJlbnRseSBpZ25vcmluZyBhbnkgZXhjZXB0aW9ucyBmcm9tIHRyYW5zcG9ydHMgd2hlblxuICAgICAgICAgIC8vIGNhdGNoaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbnMuXG4gICAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZXhpdFxuICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFoYW5kbGVycyB8fCBoYW5kbGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZ3JhY2VmdWxFeGl0KTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9nIHRvIGFsbCB0cmFuc3BvcnRzIGF0dGVtcHRpbmcgdG8gbGlzdGVuIGZvciB3aGVuIHRoZXkgYXJlIGNvbXBsZXRlZC5cbiAgICAgIGFzeW5jRm9yRWFjaChoYW5kbGVycywgZnVuY3Rpb24gKGhhbmRsZXIsIG5leHQpIHtcbiAgICAgICAgdmFyIGRvbmUgPSBvbmNlKG5leHQpO1xuICAgICAgICB2YXIgdHJhbnNwb3J0ID0gaGFuZGxlci50cmFuc3BvcnQgfHwgaGFuZGxlcjtcblxuICAgICAgICAvLyBEZWJ1ZyB3cmFwcGluZyBzbyB0aGF0IHdlIGNhbiBpbnNwZWN0IHdoYXQncyBnb2luZyBvbiB1bmRlciB0aGUgY292ZXJzLlxuICAgICAgICBmdW5jdGlvbiBvbkRvbmUoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVidWcoZXZlbnQpO1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNwb3J0Ll9lbmRpbmcgPSB0cnVlO1xuICAgICAgICB0cmFuc3BvcnQub25jZSgnZmluaXNoJywgb25Eb25lKCdmaW5pc2hlZCcpKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoJ2Vycm9yJywgb25Eb25lKCdlcnJvcicpKTtcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRvRXhpdCAmJiBncmFjZWZ1bEV4aXQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5sb2dnZXIubG9nKGluZm8pO1xuXG4gICAgICAvLyBJZiBleGl0T25FcnJvciBpcyB0cnVlLCB0aGVuIG9ubHkgYWxsb3cgdGhlIGxvZ2dpbmcgb2YgZXhjZXB0aW9ucyB0b1xuICAgICAgLy8gdGFrZSB1cCB0byBgMzAwMG1zYC5cbiAgICAgIGlmIChkb0V4aXQpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZ3JhY2VmdWxFeGl0LCAzMDAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBMaXN0IG9mIHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGlzXG4gICAgICogaW5zdGFuY2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0RXhjZXB0aW9uSGFuZGxlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEV4Y2VwdGlvbkhhbmRsZXJzKCkge1xuICAgICAgLy8gUmVtYXJrIChpbmRleHplcm8pOiBzaW5jZSBgbG9nZ2VyLnRyYW5zcG9ydHNgIHJldHVybnMgYWxsIG9mIHRoZSBwaXBlc1xuICAgICAgLy8gZnJvbSB0aGUgX3JlYWRhYmxlU3RhdGUgb2YgdGhlIHN0cmVhbSB3ZSBhY3R1YWxseSBnZXQgdGhlIGpvaW4gb2YgdGhlXG4gICAgICAvLyBleHBsaWNpdCBoYW5kbGVycyBhbmQgdGhlIGltcGxpY2l0IHRyYW5zcG9ydHMgd2l0aFxuICAgICAgLy8gYGhhbmRsZUV4Y2VwdGlvbnM6IHRydWVgXG4gICAgICByZXR1cm4gdGhpcy5sb2dnZXIudHJhbnNwb3J0cy5maWx0ZXIoZnVuY3Rpb24gKHdyYXApIHtcbiAgICAgICAgdmFyIHRyYW5zcG9ydCA9IHdyYXAudHJhbnNwb3J0IHx8IHdyYXA7XG4gICAgICAgIHJldHVybiB0cmFuc3BvcnQuaGFuZGxlRXhjZXB0aW9ucztcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRXhjZXB0aW9uSGFuZGxlcjtcbn0oKTsiLCAiLyoqXG4gKiBleGNlcHRpb24taGFuZGxlci5qczogT2JqZWN0IGZvciBoYW5kbGluZyB1bmNhdWdodEV4Y2VwdGlvbiBldmVudHMuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG52YXIgb3MgPSByZXF1aXJlKCdvcycpO1xudmFyIGFzeW5jRm9yRWFjaCA9IHJlcXVpcmUoJ2FzeW5jL2ZvckVhY2gnKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ0BkYWJoL2RpYWdub3N0aWNzJykoJ3dpbnN0b246cmVqZWN0aW9uJyk7XG52YXIgb25jZSA9IHJlcXVpcmUoJ29uZS10aW1lJyk7XG52YXIgc3RhY2tUcmFjZSA9IHJlcXVpcmUoJ3N0YWNrLXRyYWNlJyk7XG52YXIgRXhjZXB0aW9uU3RyZWFtID0gcmVxdWlyZSgnLi9leGNlcHRpb24tc3RyZWFtJyk7XG5cbi8qKlxuICogT2JqZWN0IGZvciBoYW5kbGluZyB1bmhhbmRsZWRSZWplY3Rpb24gZXZlbnRzLlxuICogQHR5cGUge1JlamVjdGlvbkhhbmRsZXJ9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFRPRE86IGFkZCBjb250cnVjdG9yIGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7IUxvZ2dlcn0gbG9nZ2VyIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBSZWplY3Rpb25IYW5kbGVyKGxvZ2dlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWplY3Rpb25IYW5kbGVyKTtcbiAgICBpZiAoIWxvZ2dlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dnZXIgaXMgcmVxdWlyZWQgdG8gaGFuZGxlIHJlamVjdGlvbnMnKTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgdGhpcy5oYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGB1bmhhbmRsZWRSZWplY3Rpb25gIGV2ZW50cyBmb3IgdGhlIGN1cnJlbnQgcHJvY2VzcyBieSBhZGRpbmcgYW55XG4gICAqIGhhbmRsZXJzIHBhc3NlZCBpbi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIF9jcmVhdGVDbGFzcyhSZWplY3Rpb25IYW5kbGVyLCBbe1xuICAgIGtleTogXCJoYW5kbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgIHJldHVybiBhcmcuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9hZGRIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9hZGRIYW5kbGVyKGFyZyk7XG4gICAgICB9KTtcbiAgICAgIGlmICghdGhpcy5jYXRjaGVyKSB7XG4gICAgICAgIHRoaXMuY2F0Y2hlciA9IHRoaXMuX3VuaGFuZGxlZFJlamVjdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICBwcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCB0aGlzLmNhdGNoZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIHRvIGB1bmhhbmRsZWRSZWplY3Rpb25gIGV2ZW50cyBmb3IgdGhlIGN1cnJlbnRcbiAgICAgKiBwcm9jZXNzLiBUaGlzIGRvZXMgbm90IG1vZGlmeSB0aGUgc3RhdGUgb2YgdGhlIGB0aGlzLmhhbmRsZXJzYCBzZXQuXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJ1bmhhbmRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmhhbmRsZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuY2F0Y2hlcikge1xuICAgICAgICBwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCd1bmhhbmRsZWRSZWplY3Rpb24nLCB0aGlzLmNhdGNoZXIpO1xuICAgICAgICB0aGlzLmNhdGNoZXIgPSBmYWxzZTtcbiAgICAgICAgQXJyYXkuZnJvbSh0aGlzLmhhbmRsZXJzLnZhbHVlcygpKS5mb3JFYWNoKGZ1bmN0aW9uICh3cmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5sb2dnZXIudW5waXBlKHdyYXBwZXIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBhZGQgbWV0aG9kIGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyIC0gRXJyb3IgdG8gZ2V0IGluZm9ybWF0aW9uIGFib3V0LlxuICAgICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldEFsbEluZm9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsSW5mbyhlcnIpIHtcbiAgICAgIHZhciBtZXNzYWdlID0gbnVsbDtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgbWVzc2FnZSA9IHR5cGVvZiBlcnIgPT09ICdzdHJpbmcnID8gZXJyIDogZXJyLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAvLyBUT0RPIChpbmRleHplcm8pOiBob3cgZG8gd2UgY29uZmlndXJlIHRoaXM/XG4gICAgICAgIGxldmVsOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBbXCJ1bmhhbmRsZWRSZWplY3Rpb246IFwiLmNvbmNhdChtZXNzYWdlIHx8ICcobm8gZXJyb3IgbWVzc2FnZSknKSwgZXJyICYmIGVyci5zdGFjayB8fCAnICBObyBzdGFjayB0cmFjZSddLmpvaW4oJ1xcbicpLFxuICAgICAgICBzdGFjazogZXJyICYmIGVyci5zdGFjayxcbiAgICAgICAgZXhjZXB0aW9uOiB0cnVlLFxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvU3RyaW5nKCksXG4gICAgICAgIHByb2Nlc3M6IHRoaXMuZ2V0UHJvY2Vzc0luZm8oKSxcbiAgICAgICAgb3M6IHRoaXMuZ2V0T3NJbmZvKCksXG4gICAgICAgIHRyYWNlOiB0aGlzLmdldFRyYWNlKGVycilcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgcmVsZXZhbnQgcHJvY2VzcyBpbmZvcm1hdGlvbiBmb3IgdGhlIGN1cnJlbnRseSBydW5uaW5nIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge21peGVkfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UHJvY2Vzc0luZm9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvY2Vzc0luZm8oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwaWQ6IHByb2Nlc3MucGlkLFxuICAgICAgICB1aWQ6IHByb2Nlc3MuZ2V0dWlkID8gcHJvY2Vzcy5nZXR1aWQoKSA6IG51bGwsXG4gICAgICAgIGdpZDogcHJvY2Vzcy5nZXRnaWQgPyBwcm9jZXNzLmdldGdpZCgpIDogbnVsbCxcbiAgICAgICAgY3dkOiBwcm9jZXNzLmN3ZCgpLFxuICAgICAgICBleGVjUGF0aDogcHJvY2Vzcy5leGVjUGF0aCxcbiAgICAgICAgdmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLFxuICAgICAgICBhcmd2OiBwcm9jZXNzLmFyZ3YsXG4gICAgICAgIG1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgcmVsZXZhbnQgT1MgaW5mb3JtYXRpb24gZm9yIHRoZSBjdXJyZW50bHkgcnVubmluZyBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldE9zSW5mb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPc0luZm8oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2FkYXZnOiBvcy5sb2FkYXZnKCksXG4gICAgICAgIHVwdGltZTogb3MudXB0aW1lKClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0YWNrIHRyYWNlIGZvciB0aGUgc3BlY2lmaWVkIGVycm9yLlxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IGVyciAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRUcmFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUcmFjZShlcnIpIHtcbiAgICAgIHZhciB0cmFjZSA9IGVyciA/IHN0YWNrVHJhY2UucGFyc2UoZXJyKSA6IHN0YWNrVHJhY2UuZ2V0KCk7XG4gICAgICByZXR1cm4gdHJhY2UubWFwKGZ1bmN0aW9uIChzaXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29sdW1uOiBzaXRlLmdldENvbHVtbk51bWJlcigpLFxuICAgICAgICAgIGZpbGU6IHNpdGUuZ2V0RmlsZU5hbWUoKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCI6IHNpdGUuZ2V0RnVuY3Rpb25OYW1lKCksXG4gICAgICAgICAgbGluZTogc2l0ZS5nZXRMaW5lTnVtYmVyKCksXG4gICAgICAgICAgbWV0aG9kOiBzaXRlLmdldE1ldGhvZE5hbWUoKSxcbiAgICAgICAgICBcIm5hdGl2ZVwiOiBzaXRlLmlzTmF0aXZlKClcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gYWRkIGEgdHJhbnNwb3J0IGFzIGFuIGV4Y2VwdGlvbiBoYW5kbGVyLlxuICAgICAqIEBwYXJhbSB7VHJhbnNwb3J0fSBoYW5kbGVyIC0gVGhlIHRyYW5zcG9ydCB0byBhZGQgYXMgYW4gZXhjZXB0aW9uIGhhbmRsZXIuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgaWYgKCF0aGlzLmhhbmRsZXJzLmhhcyhoYW5kbGVyKSkge1xuICAgICAgICBoYW5kbGVyLmhhbmRsZVJlamVjdGlvbnMgPSB0cnVlO1xuICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBFeGNlcHRpb25TdHJlYW0oaGFuZGxlcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGhhbmRsZXIsIHdyYXBwZXIpO1xuICAgICAgICB0aGlzLmxvZ2dlci5waXBlKHdyYXBwZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZ3MgYWxsIHJlbGV2YW50IGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgYGVycmAgYW5kIGV4aXRzIHRoZSBjdXJyZW50XG4gICAgICogcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnIgLSBFcnJvciB0byBoYW5kbGVcbiAgICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl91bmhhbmRsZWRSZWplY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VuaGFuZGxlZFJlamVjdGlvbihlcnIpIHtcbiAgICAgIHZhciBpbmZvID0gdGhpcy5nZXRBbGxJbmZvKGVycik7XG4gICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9nZXRSZWplY3Rpb25IYW5kbGVycygpO1xuICAgICAgLy8gQ2FsY3VsYXRlIGlmIHdlIHNob3VsZCBleGl0IG9uIHRoaXMgZXJyb3JcbiAgICAgIHZhciBkb0V4aXQgPSB0eXBlb2YgdGhpcy5sb2dnZXIuZXhpdE9uRXJyb3IgPT09ICdmdW5jdGlvbicgPyB0aGlzLmxvZ2dlci5leGl0T25FcnJvcihlcnIpIDogdGhpcy5sb2dnZXIuZXhpdE9uRXJyb3I7XG4gICAgICB2YXIgdGltZW91dDtcbiAgICAgIGlmICghaGFuZGxlcnMubGVuZ3RoICYmIGRvRXhpdCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oJ3dpbnN0b246IGV4aXRPbkVycm9yIGNhbm5vdCBiZSB0cnVlIHdpdGggbm8gcmVqZWN0aW9uIGhhbmRsZXJzLicpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oJ3dpbnN0b246IG5vdCBleGl0aW5nIHByb2Nlc3MuJyk7XG4gICAgICAgIGRvRXhpdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZ3JhY2VmdWxFeGl0KCkge1xuICAgICAgICBkZWJ1ZygnZG9FeGl0JywgZG9FeGl0KTtcbiAgICAgICAgZGVidWcoJ3Byb2Nlc3MuX2V4aXRpbmcnLCBwcm9jZXNzLl9leGl0aW5nKTtcbiAgICAgICAgaWYgKGRvRXhpdCAmJiAhcHJvY2Vzcy5fZXhpdGluZykge1xuICAgICAgICAgIC8vIFJlbWFyazogQ3VycmVudGx5IGlnbm9yaW5nIGFueSByZWplY3Rpb25zIGZyb20gdHJhbnNwb3J0cyB3aGVuXG4gICAgICAgICAgLy8gY2F0Y2hpbmcgdW5oYW5kbGVkIHJlamVjdGlvbnMuXG4gICAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZXhpdFxuICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFoYW5kbGVycyB8fCBoYW5kbGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZ3JhY2VmdWxFeGl0KTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9nIHRvIGFsbCB0cmFuc3BvcnRzIGF0dGVtcHRpbmcgdG8gbGlzdGVuIGZvciB3aGVuIHRoZXkgYXJlIGNvbXBsZXRlZC5cbiAgICAgIGFzeW5jRm9yRWFjaChoYW5kbGVycywgZnVuY3Rpb24gKGhhbmRsZXIsIG5leHQpIHtcbiAgICAgICAgdmFyIGRvbmUgPSBvbmNlKG5leHQpO1xuICAgICAgICB2YXIgdHJhbnNwb3J0ID0gaGFuZGxlci50cmFuc3BvcnQgfHwgaGFuZGxlcjtcblxuICAgICAgICAvLyBEZWJ1ZyB3cmFwcGluZyBzbyB0aGF0IHdlIGNhbiBpbnNwZWN0IHdoYXQncyBnb2luZyBvbiB1bmRlciB0aGUgY292ZXJzLlxuICAgICAgICBmdW5jdGlvbiBvbkRvbmUoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVidWcoZXZlbnQpO1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNwb3J0Ll9lbmRpbmcgPSB0cnVlO1xuICAgICAgICB0cmFuc3BvcnQub25jZSgnZmluaXNoJywgb25Eb25lKCdmaW5pc2hlZCcpKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoJ2Vycm9yJywgb25Eb25lKCdlcnJvcicpKTtcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRvRXhpdCAmJiBncmFjZWZ1bEV4aXQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5sb2dnZXIubG9nKGluZm8pO1xuXG4gICAgICAvLyBJZiBleGl0T25FcnJvciBpcyB0cnVlLCB0aGVuIG9ubHkgYWxsb3cgdGhlIGxvZ2dpbmcgb2YgZXhjZXB0aW9ucyB0b1xuICAgICAgLy8gdGFrZSB1cCB0byBgMzAwMG1zYC5cbiAgICAgIGlmIChkb0V4aXQpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZ3JhY2VmdWxFeGl0LCAzMDAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBMaXN0IG9mIHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGlzXG4gICAgICogaW5zdGFuY2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0UmVqZWN0aW9uSGFuZGxlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFJlamVjdGlvbkhhbmRsZXJzKCkge1xuICAgICAgLy8gUmVtYXJrIChpbmRleHplcm8pOiBzaW5jZSBgbG9nZ2VyLnRyYW5zcG9ydHNgIHJldHVybnMgYWxsIG9mIHRoZSBwaXBlc1xuICAgICAgLy8gZnJvbSB0aGUgX3JlYWRhYmxlU3RhdGUgb2YgdGhlIHN0cmVhbSB3ZSBhY3R1YWxseSBnZXQgdGhlIGpvaW4gb2YgdGhlXG4gICAgICAvLyBleHBsaWNpdCBoYW5kbGVycyBhbmQgdGhlIGltcGxpY2l0IHRyYW5zcG9ydHMgd2l0aFxuICAgICAgLy8gYGhhbmRsZVJlamVjdGlvbnM6IHRydWVgXG4gICAgICByZXR1cm4gdGhpcy5sb2dnZXIudHJhbnNwb3J0cy5maWx0ZXIoZnVuY3Rpb24gKHdyYXApIHtcbiAgICAgICAgdmFyIHRyYW5zcG9ydCA9IHdyYXAudHJhbnNwb3J0IHx8IHdyYXA7XG4gICAgICAgIHJldHVybiB0cmFuc3BvcnQuaGFuZGxlUmVqZWN0aW9ucztcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUmVqZWN0aW9uSGFuZGxlcjtcbn0oKTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuY29uc3QgeyBMRVZFTCB9ID0gcmVxdWlyZSgndHJpcGxlLWJlYW0nKTtcbmNvbnN0IFRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJy4vJyk7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBMZWdhY3lUcmFuc3BvcnRTdHJlYW0uIFRoaXMgaXMgYW4gaW50ZXJuYWxcbiAqIHdyYXBwZXIgYHdpbnN0b24gPj0gM2AgdXNlcyB0byB3cmFwIG9sZGVyIHRyYW5zcG9ydHMgaW1wbGVtZW50aW5nXG4gKiBsb2cobGV2ZWwsIG1lc3NhZ2UsIG1ldGEpLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGlzIFRyYW5zcG9ydFN0cmVhbSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7VHJhbnNwb3R9IG9wdGlvbnMudHJhbnNwb3J0IC0gd2luc3RvbkAyIG9yIG9sZGVyIFRyYW5zcG9ydCB0byB3cmFwLlxuICovXG5cbmNvbnN0IExlZ2FjeVRyYW5zcG9ydFN0cmVhbSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gTGVnYWN5VHJhbnNwb3J0U3RyZWFtKG9wdGlvbnMgPSB7fSkge1xuICBUcmFuc3BvcnRTdHJlYW0uY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgaWYgKCFvcHRpb25zLnRyYW5zcG9ydCB8fCB0eXBlb2Ygb3B0aW9ucy50cmFuc3BvcnQubG9nICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRyYW5zcG9ydCwgbXVzdCBiZSBhbiBvYmplY3Qgd2l0aCBhIGxvZyBtZXRob2QuJyk7XG4gIH1cblxuICB0aGlzLnRyYW5zcG9ydCA9IG9wdGlvbnMudHJhbnNwb3J0O1xuICB0aGlzLmxldmVsID0gdGhpcy5sZXZlbCB8fCBvcHRpb25zLnRyYW5zcG9ydC5sZXZlbDtcbiAgdGhpcy5oYW5kbGVFeGNlcHRpb25zID0gdGhpcy5oYW5kbGVFeGNlcHRpb25zIHx8IG9wdGlvbnMudHJhbnNwb3J0LmhhbmRsZUV4Y2VwdGlvbnM7XG5cbiAgLy8gRGlzcGxheSBvdXIgZGVwcmVjYXRpb24gbm90aWNlLlxuICB0aGlzLl9kZXByZWNhdGVkKCk7XG5cbiAgLy8gUHJvcGVybHkgYnViYmxlIHVwIGVycm9ycyBmcm9tIHRoZSB0cmFuc3BvcnQgdG8gdGhlXG4gIC8vIExlZ2FjeVRyYW5zcG9ydFN0cmVhbSBpbnN0YW5jZSwgYnV0IG9ubHkgb25jZSBubyBtYXR0ZXIgaG93IG1hbnkgdGltZXNcbiAgLy8gdGhpcyB0cmFuc3BvcnQgaXMgc2hhcmVkLlxuICBmdW5jdGlvbiB0cmFuc3BvcnRFcnJvcihlcnIpIHtcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyLCB0aGlzLnRyYW5zcG9ydCk7XG4gIH1cblxuICBpZiAoIXRoaXMudHJhbnNwb3J0Ll9fd2luc3RvbkVycm9yKSB7XG4gICAgdGhpcy50cmFuc3BvcnQuX193aW5zdG9uRXJyb3IgPSB0cmFuc3BvcnRFcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMudHJhbnNwb3J0Lm9uKCdlcnJvcicsIHRoaXMudHJhbnNwb3J0Ll9fd2luc3RvbkVycm9yKTtcbiAgfVxufTtcblxuLypcbiAqIEluaGVyaXQgZnJvbSBUcmFuc3BvcnRTdHJlYW0gdXNpbmcgTm9kZS5qcyBidWlsdC1pbnNcbiAqL1xudXRpbC5pbmhlcml0cyhMZWdhY3lUcmFuc3BvcnRTdHJlYW0sIFRyYW5zcG9ydFN0cmVhbSk7XG5cbi8qKlxuICogV3JpdGVzIHRoZSBpbmZvIG9iamVjdCB0byBvdXIgdHJhbnNwb3J0IGluc3RhbmNlLlxuICogQHBhcmFtIHttaXhlZH0gaW5mbyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7bWl4ZWR9IGVuYyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEBwcml2YXRlXG4gKi9cbkxlZ2FjeVRyYW5zcG9ydFN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gX3dyaXRlKGluZm8sIGVuYywgY2FsbGJhY2spIHtcbiAgaWYgKHRoaXMuc2lsZW50IHx8IChpbmZvLmV4Y2VwdGlvbiA9PT0gdHJ1ZSAmJiAhdGhpcy5oYW5kbGVFeGNlcHRpb25zKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgfVxuXG4gIC8vIFJlbWFyazogVGhpcyBoYXMgdG8gYmUgaGFuZGxlZCBpbiB0aGUgYmFzZSB0cmFuc3BvcnQgbm93IGJlY2F1c2Ugd2VcbiAgLy8gY2Fubm90IGNvbmRpdGlvbmFsbHkgd3JpdGUgdG8gb3VyIHBpcGUgdGFyZ2V0cyBhcyBzdHJlYW0uXG4gIGlmICghdGhpcy5sZXZlbCB8fCB0aGlzLmxldmVsc1t0aGlzLmxldmVsXSA+PSB0aGlzLmxldmVsc1tpbmZvW0xFVkVMXV0pIHtcbiAgICB0aGlzLnRyYW5zcG9ydC5sb2coaW5mb1tMRVZFTF0sIGluZm8ubWVzc2FnZSwgaW5mbywgdGhpcy5fbm9wKTtcbiAgfVxuXG4gIGNhbGxiYWNrKG51bGwpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgdGhlIGJhdGNoIG9mIGluZm8gb2JqZWN0cyAoaS5lLiBcIm9iamVjdCBjaHVua3NcIikgdG8gb3VyIHRyYW5zcG9ydFxuICogaW5zdGFuY2UgYWZ0ZXIgcGVyZm9ybWluZyBhbnkgbmVjZXNzYXJ5IGZpbHRlcmluZy5cbiAqIEBwYXJhbSB7bWl4ZWR9IGNodW5rcyAtIFRPRE86IGFkZCBwYXJhbXMgZGVzY3JpcHRpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRPRE86IGFkZCBwYXJhbXMgZGVzY3JpcHRpb24uXG4gKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybnMgZGVzY3JpcHRpb24uXG4gKiBAcHJpdmF0ZVxuICovXG5MZWdhY3lUcmFuc3BvcnRTdHJlYW0ucHJvdG90eXBlLl93cml0ZXYgPSBmdW5jdGlvbiBfd3JpdGV2KGNodW5rcywgY2FsbGJhY2spIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcy5fYWNjZXB0KGNodW5rc1tpXSkpIHtcbiAgICAgIHRoaXMudHJhbnNwb3J0LmxvZyhcbiAgICAgICAgY2h1bmtzW2ldLmNodW5rW0xFVkVMXSxcbiAgICAgICAgY2h1bmtzW2ldLmNodW5rLm1lc3NhZ2UsXG4gICAgICAgIGNodW5rc1tpXS5jaHVuayxcbiAgICAgICAgdGhpcy5fbm9wXG4gICAgICApO1xuICAgICAgY2h1bmtzW2ldLmNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xufTtcblxuLyoqXG4gKiBEaXNwbGF5cyBhIGRlcHJlY2F0aW9uIG5vdGljZS4gRGVmaW5lZCBhcyBhIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZVxuICogb3ZlcnJpZGVuIGluIHRlc3RzLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuTGVnYWN5VHJhbnNwb3J0U3RyZWFtLnByb3RvdHlwZS5fZGVwcmVjYXRlZCA9IGZ1bmN0aW9uIF9kZXByZWNhdGVkKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLmVycm9yKFtcbiAgICBgJHt0aGlzLnRyYW5zcG9ydC5uYW1lfSBpcyBhIGxlZ2FjeSB3aW5zdG9uIHRyYW5zcG9ydC4gQ29uc2lkZXIgdXBncmFkaW5nOiBgLFxuICAgICctIFVwZ3JhZGUgZG9jczogaHR0cHM6Ly9naXRodWIuY29tL3dpbnN0b25qcy93aW5zdG9uL2Jsb2IvbWFzdGVyL1VQR1JBREUtMy4wLm1kJ1xuICBdLmpvaW4oJ1xcbicpKTtcbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgZXJyb3IgaGFuZGxpbmcgc3RhdGUgb24gdGhlIGxlZ2FjeSB0cmFuc3BvcnQgYXNzb2NpYXRlZFxuICogd2l0aCB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuTGVnYWN5VHJhbnNwb3J0U3RyZWFtLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKCkge1xuICBpZiAodGhpcy50cmFuc3BvcnQuY2xvc2UpIHtcbiAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICB9XG5cbiAgaWYgKHRoaXMudHJhbnNwb3J0Ll9fd2luc3RvbkVycm9yKSB7XG4gICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgdGhpcy50cmFuc3BvcnQuX193aW5zdG9uRXJyb3IpO1xuICAgIHRoaXMudHJhbnNwb3J0Ll9fd2luc3RvbkVycm9yID0gbnVsbDtcbiAgfVxufTtcbiIsICIvKipcbiAqIHByb2ZpbGVyLmpzOiBUT0RPOiBhZGQgZmlsZSBoZWFkZXIgZGVzY3JpcHRpb24uXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUT0RPOiBhZGQgY2xhc3MgZGVzY3JpcHRpb24uXG4gKiBAdHlwZSB7UHJvZmlsZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbnZhciBQcm9maWxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIFByb2ZpbGVyIGluc3RhbmNlIHVzZWQgYnlcbiAgICogYExvZ2dlci5wcm90b3R5cGUuc3RhcnRUaW1lcmAuIFdoZW4gZG9uZSBpcyBjYWxsZWQgdGhlIHRpbWVyIHdpbGwgZmluaXNoXG4gICAqIGFuZCBsb2cgdGhlIGR1cmF0aW9uLlxuICAgKiBAcGFyYW0geyFMb2dnZXJ9IGxvZ2dlciAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIFByb2ZpbGVyKGxvZ2dlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9maWxlcik7XG4gICAgdmFyIExvZ2dlciA9IHJlcXVpcmUoJy4vbG9nZ2VyJyk7XG4gICAgaWYgKF90eXBlb2YobG9nZ2VyKSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShsb2dnZXIpIHx8ICEobG9nZ2VyIGluc3RhbmNlb2YgTG9nZ2VyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dnZXIgaXMgcmVxdWlyZWQgZm9yIHByb2ZpbGluZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgIHRoaXMuc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmRzIHRoZSBjdXJyZW50IHRpbWVyIChpLmUuIFByb2ZpbGVyKSBpbnN0YW5jZSBhbmQgbG9ncyB0aGUgYG1zZ2AgYWxvbmdcbiAgICogd2l0aCB0aGUgZHVyYXRpb24gc2luY2UgY3JlYXRpb24uXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKFByb2ZpbGVyLCBbe1xuICAgIGtleTogXCJkb25lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUud2FybignQ2FsbGJhY2sgZnVuY3Rpb24gbm8gbG9uZ2VyIHN1cHBvcnRlZCBhcyBvZiB3aW5zdG9uQDMuMC4wJyk7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICB9XG4gICAgICB2YXIgaW5mbyA9IF90eXBlb2YoYXJnc1thcmdzLmxlbmd0aCAtIDFdKSA9PT0gJ29iamVjdCcgPyBhcmdzLnBvcCgpIDoge307XG4gICAgICBpbmZvLmxldmVsID0gaW5mby5sZXZlbCB8fCAnaW5mbyc7XG4gICAgICBpbmZvLmR1cmF0aW9uTXMgPSBEYXRlLm5vdygpIC0gdGhpcy5zdGFydDtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlci53cml0ZShpbmZvKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFByb2ZpbGVyO1xufSgpO1xuO1xubW9kdWxlLmV4cG9ydHMgPSBQcm9maWxlcjsiLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogRGlzcGxheXMgYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIHRoZSBzb3VyY2Ugb2ZcbiAqIHRoZSBmb3JtYXQgd2hlbiBpdCBpcyBpbnZhbGlkLlxuICovXG5jbGFzcyBJbnZhbGlkRm9ybWF0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1hdEZuKSB7XG4gICAgc3VwZXIoYEZvcm1hdCBmdW5jdGlvbnMgbXVzdCBiZSBzeW5jaHJvbm91cyB0YWtpbmcgYSB0d28gYXJndW1lbnRzOiAoaW5mbywgb3B0cylcbkZvdW5kOiAke2Zvcm1hdEZuLnRvU3RyaW5nKCkuc3BsaXQoJ1xcbicpWzBdfVxcbmApO1xuXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgSW52YWxpZEZvcm1hdEVycm9yKTtcbiAgfVxufVxuXG4vKlxuICogZnVuY3Rpb24gZm9ybWF0IChmb3JtYXRGbilcbiAqIFJldHVybnMgYSBjcmVhdGUgZnVuY3Rpb24gZm9yIHRoZSBgZm9ybWF0Rm5gLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZvcm1hdEZuID0+IHtcbiAgaWYgKGZvcm1hdEZuLmxlbmd0aCA+IDIpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEZvcm1hdEVycm9yKGZvcm1hdEZuKTtcbiAgfVxuXG4gIC8qXG4gICAqIGZ1bmN0aW9uIEZvcm1hdCAob3B0aW9ucylcbiAgICogQmFzZSBwcm90b3R5cGUgd2hpY2ggY2FsbHMgYSBgX2Zvcm1hdGBcbiAgICogZnVuY3Rpb24gYW5kIHB1c2hlcyB0aGUgcmVzdWx0LlxuICAgKi9cbiAgZnVuY3Rpb24gRm9ybWF0KG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICBGb3JtYXQucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZvcm1hdEZuO1xuXG4gIC8vXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgbmV3IGluc3RhbmNlcyBvZlxuICAvLyBGb3JtYXRXcmFwIGZvciBzaW1wbGUgc3ludGF4IGxpa2U6XG4gIC8vXG4gIC8vIHJlcXVpcmUoJ3dpbnN0b24nKS5mb3JtYXRzLmpzb24oKTtcbiAgLy9cbiAgZnVuY3Rpb24gY3JlYXRlRm9ybWF0V3JhcChvcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBGb3JtYXQob3B0cyk7XG4gIH1cblxuICAvL1xuICAvLyBFeHBvc2UgdGhlIEZvcm1hdFdyYXAgdGhyb3VnaCB0aGUgY3JlYXRlIGZ1bmN0aW9uXG4gIC8vIGZvciB0ZXN0YWJpbGl0eS5cbiAgLy9cbiAgY3JlYXRlRm9ybWF0V3JhcC5Gb3JtYXQgPSBGb3JtYXQ7XG4gIHJldHVybiBjcmVhdGVGb3JtYXRXcmFwO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGZvcm1hdCA9IHJlcXVpcmUoJy4vZm9ybWF0Jyk7XG5jb25zdCB7IE1FU1NBR0UgfSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyk7XG5jb25zdCBzdHJpbmdpZnkgPSByZXF1aXJlKCdzYWZlLXN0YWJsZS1zdHJpbmdpZnknKTtcblxuLypcbiAqIGZ1bmN0aW9uIHJlcGxhY2VyIChrZXksIHZhbHVlKVxuICogSGFuZGxlcyBwcm9wZXIgc3RyaW5naWZpY2F0aW9uIG9mIEJ1ZmZlciBhbmQgYmlnaW50IG91dHB1dC5cbiAqL1xuZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICAvLyBzYWZlLXN0YWJsZS1zdHJpbmdpZnkgZG9lcyBzdXBwb3J0IEJpZ0ludCwgaG93ZXZlciwgaXQgZG9lc24ndCB3cmFwIHRoZSB2YWx1ZSBpbiBxdW90ZXMuXG4gIC8vIExlYWRpbmcgdG8gYSBsb3NzIGluIGZpZGVsaXR5IGlmIHRoZSByZXN1bHRpbmcgc3RyaW5nIGlzIHBhcnNlZC5cbiAgLy8gSXQgd291bGQgYWxzbyBiZSBhIGJyZWFraW5nIGNoYW5nZSBmb3IgbG9nZm9ybS5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpXG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLypcbiAqIGZ1bmN0aW9uIGpzb24gKGluZm8pXG4gKiBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBKU09OIGZvcm1hdCB0aGF0IHR1cm5zIGEgbG9nIGBpbmZvYFxuICogb2JqZWN0IGludG8gcHVyZSBKU09OLiBUaGlzIHdhcyBwcmV2aW91c2x5IGV4cG9zZWQgYXMgeyBqc29uOiB0cnVlIH1cbiAqIHRvIHRyYW5zcG9ydHMgaW4gYHdpbnN0b24gPCAzLjAuMGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0KChpbmZvLCBvcHRzKSA9PiB7XG4gIGNvbnN0IGpzb25TdHJpbmdpZnkgPSBzdHJpbmdpZnkuY29uZmlndXJlKG9wdHMpO1xuICBpbmZvW01FU1NBR0VdID0ganNvblN0cmluZ2lmeShpbmZvLCBvcHRzLnJlcGxhY2VyIHx8IHJlcGxhY2VyLCBvcHRzLnNwYWNlKTtcbiAgcmV0dXJuIGluZm87XG59KTtcbiIsICIvKipcbiAqIGxvZ2dlci5qczogVE9ETzogYWRkIGZpbGUgaGVhZGVyIGRlc2NyaXB0aW9uLlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0nKSxcbiAgU3RyZWFtID0gX3JlcXVpcmUuU3RyZWFtLFxuICBUcmFuc2Zvcm0gPSBfcmVxdWlyZS5UcmFuc2Zvcm07XG52YXIgYXN5bmNGb3JFYWNoID0gcmVxdWlyZSgnYXN5bmMvZm9yRWFjaCcpO1xudmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyksXG4gIExFVkVMID0gX3JlcXVpcmUyLkxFVkVMLFxuICBTUExBVCA9IF9yZXF1aXJlMi5TUExBVDtcbnZhciBpc1N0cmVhbSA9IHJlcXVpcmUoJ2lzLXN0cmVhbScpO1xudmFyIEV4Y2VwdGlvbkhhbmRsZXIgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbi1oYW5kbGVyJyk7XG52YXIgUmVqZWN0aW9uSGFuZGxlciA9IHJlcXVpcmUoJy4vcmVqZWN0aW9uLWhhbmRsZXInKTtcbnZhciBMZWdhY3lUcmFuc3BvcnRTdHJlYW0gPSByZXF1aXJlKCd3aW5zdG9uLXRyYW5zcG9ydC9sZWdhY3knKTtcbnZhciBQcm9maWxlciA9IHJlcXVpcmUoJy4vcHJvZmlsZXInKTtcbnZhciBfcmVxdWlyZTMgPSByZXF1aXJlKCcuL2NvbW1vbicpLFxuICB3YXJuID0gX3JlcXVpcmUzLndhcm47XG52YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcblxuLyoqXG4gKiBDYXB0dXJlcyB0aGUgbnVtYmVyIG9mIGZvcm1hdCAoaS5lLiAlcyBzdHJpbmdzKSBpbiBhIGdpdmVuIHN0cmluZy5cbiAqIEJhc2VkIG9uIGB1dGlsLmZvcm1hdGAsIHNlZSBOb2RlLmpzIHNvdXJjZTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL2IxYzhmMTVjNWYxNjllMDIxZjdjNDZlYjdiMjE5ZGU5NWZlOTc2MDMvbGliL3V0aWwuanMjTDIwMS1MMjMwXG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2Nkamlmb08lXS9nO1xuXG4vKipcbiAqIFRPRE86IGFkZCBjbGFzcyBkZXNjcmlwdGlvbi5cbiAqIEB0eXBlIHtMb2dnZXJ9XG4gKiBAZXh0ZW5kcyB7VHJhbnNmb3JtfVxuICovXG52YXIgTG9nZ2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVHJhbnNmb3JtKSB7XG4gIF9pbmhlcml0cyhMb2dnZXIsIF9UcmFuc2Zvcm0pO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKExvZ2dlcik7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIExvZ2dlciBvYmplY3QgcmVzcG9uc2libGUgZm9yIHBlcnNpc3RpbmcgbG9nXG4gICAqIG1lc3NhZ2VzIGFuZCBtZXRhZGF0YSB0byBvbmUgb3IgbW9yZSB0cmFuc3BvcnRzLlxuICAgKiBAcGFyYW0geyFPYmplY3R9IG9wdGlvbnMgLSBmb29cbiAgICovXG4gIGZ1bmN0aW9uIExvZ2dlcihvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dnZXIpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgb2JqZWN0TW9kZTogdHJ1ZVxuICAgIH0pO1xuICAgIF90aGlzLmNvbmZpZ3VyZShvcHRpb25zKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKExvZ2dlciwgW3tcbiAgICBrZXk6IFwiY2hpbGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hpbGQoZGVmYXVsdFJlcXVlc3RNZXRhZGF0YSkge1xuICAgICAgdmFyIGxvZ2dlciA9IHRoaXM7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShsb2dnZXIsIHtcbiAgICAgICAgd3JpdGU6IHtcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaW5mbykge1xuICAgICAgICAgICAgdmFyIGluZm9DbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRSZXF1ZXN0TWV0YWRhdGEsIGluZm8pO1xuXG4gICAgICAgICAgICAvLyBPYmplY3QuYXNzaWduIGRvZXNuJ3QgY29weSBpbmhlcml0ZWQgRXJyb3JcbiAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgc28gd2UgaGF2ZSB0byBkbyB0aGF0IGV4cGxpY2l0bHlcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBSZW1hcmsgKGluZGV4emVybyk6IHdlIHNob3VsZCByZW1vdmUgdGhpc1xuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGVycm9ycyBmb3JtYXQgd2lsbCBoYW5kbGUgdGhpcyBjYXNlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmIChpbmZvIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgaW5mb0Nsb25lLnN0YWNrID0gaW5mby5zdGFjaztcbiAgICAgICAgICAgICAgaW5mb0Nsb25lLm1lc3NhZ2UgPSBpbmZvLm1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIud3JpdGUoaW5mb0Nsb25lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCB3aG9sZXNhbGUgcmVjb25maWd1cmUgdGhpcyBpbnN0YW5jZSBieTpcbiAgICAgKiAxLiBSZXNldHRpbmcgYWxsIHRyYW5zcG9ydHMuIE9sZGVyIHRyYW5zcG9ydHMgd2lsbCBiZSByZW1vdmVkIGltcGxpY2l0bHkuXG4gICAgICogMi4gU2V0IGFsbCBvdGhlciBvcHRpb25zIGluY2x1ZGluZyBsZXZlbHMsIGNvbG9ycywgcmV3cml0ZXJzLCBmaWx0ZXJzLFxuICAgICAqICAgIGV4Y2VwdGlvbkhhbmRsZXJzLCBldGMuXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBvcHRpb25zIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiY29uZmlndXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpZ3VyZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBzaWxlbnQgPSBfcmVmLnNpbGVudCxcbiAgICAgICAgZm9ybWF0ID0gX3JlZi5mb3JtYXQsXG4gICAgICAgIGRlZmF1bHRNZXRhID0gX3JlZi5kZWZhdWx0TWV0YSxcbiAgICAgICAgbGV2ZWxzID0gX3JlZi5sZXZlbHMsXG4gICAgICAgIF9yZWYkbGV2ZWwgPSBfcmVmLmxldmVsLFxuICAgICAgICBsZXZlbCA9IF9yZWYkbGV2ZWwgPT09IHZvaWQgMCA/ICdpbmZvJyA6IF9yZWYkbGV2ZWwsXG4gICAgICAgIF9yZWYkZXhpdE9uRXJyb3IgPSBfcmVmLmV4aXRPbkVycm9yLFxuICAgICAgICBleGl0T25FcnJvciA9IF9yZWYkZXhpdE9uRXJyb3IgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGV4aXRPbkVycm9yLFxuICAgICAgICB0cmFuc3BvcnRzID0gX3JlZi50cmFuc3BvcnRzLFxuICAgICAgICBjb2xvcnMgPSBfcmVmLmNvbG9ycyxcbiAgICAgICAgZW1pdEVycnMgPSBfcmVmLmVtaXRFcnJzLFxuICAgICAgICBmb3JtYXR0ZXJzID0gX3JlZi5mb3JtYXR0ZXJzLFxuICAgICAgICBwYWRMZXZlbHMgPSBfcmVmLnBhZExldmVscyxcbiAgICAgICAgcmV3cml0ZXJzID0gX3JlZi5yZXdyaXRlcnMsXG4gICAgICAgIHN0cmlwQ29sb3JzID0gX3JlZi5zdHJpcENvbG9ycyxcbiAgICAgICAgZXhjZXB0aW9uSGFuZGxlcnMgPSBfcmVmLmV4Y2VwdGlvbkhhbmRsZXJzLFxuICAgICAgICByZWplY3Rpb25IYW5kbGVycyA9IF9yZWYucmVqZWN0aW9uSGFuZGxlcnM7XG4gICAgICAvLyBSZXNldCB0cmFuc3BvcnRzIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGVtXG4gICAgICBpZiAodGhpcy50cmFuc3BvcnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNpbGVudCA9IHNpbGVudDtcbiAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMuZm9ybWF0IHx8IHJlcXVpcmUoJ2xvZ2Zvcm0vanNvbicpKCk7XG4gICAgICB0aGlzLmRlZmF1bHRNZXRhID0gZGVmYXVsdE1ldGEgfHwgbnVsbDtcbiAgICAgIC8vIEhvaXN0IG90aGVyIG9wdGlvbnMgb250byB0aGlzIGluc3RhbmNlLlxuICAgICAgdGhpcy5sZXZlbHMgPSBsZXZlbHMgfHwgdGhpcy5sZXZlbHMgfHwgY29uZmlnLm5wbS5sZXZlbHM7XG4gICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgICBpZiAodGhpcy5leGNlcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZXhjZXB0aW9ucy51bmhhbmRsZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucmVqZWN0aW9ucykge1xuICAgICAgICB0aGlzLnJlamVjdGlvbnMudW5oYW5kbGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXhjZXB0aW9ucyA9IG5ldyBFeGNlcHRpb25IYW5kbGVyKHRoaXMpO1xuICAgICAgdGhpcy5yZWplY3Rpb25zID0gbmV3IFJlamVjdGlvbkhhbmRsZXIodGhpcyk7XG4gICAgICB0aGlzLnByb2ZpbGVycyA9IHt9O1xuICAgICAgdGhpcy5leGl0T25FcnJvciA9IGV4aXRPbkVycm9yO1xuXG4gICAgICAvLyBBZGQgYWxsIHRyYW5zcG9ydHMgd2UgaGF2ZSBiZWVuIHByb3ZpZGVkLlxuICAgICAgaWYgKHRyYW5zcG9ydHMpIHtcbiAgICAgICAgdHJhbnNwb3J0cyA9IEFycmF5LmlzQXJyYXkodHJhbnNwb3J0cykgPyB0cmFuc3BvcnRzIDogW3RyYW5zcG9ydHNdO1xuICAgICAgICB0cmFuc3BvcnRzLmZvckVhY2goZnVuY3Rpb24gKHRyYW5zcG9ydCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuYWRkKHRyYW5zcG9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbG9ycyB8fCBlbWl0RXJycyB8fCBmb3JtYXR0ZXJzIHx8IHBhZExldmVscyB8fCByZXdyaXRlcnMgfHwgc3RyaXBDb2xvcnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFsneyBjb2xvcnMsIGVtaXRFcnJzLCBmb3JtYXR0ZXJzLCBwYWRMZXZlbHMsIHJld3JpdGVycywgc3RyaXBDb2xvcnMgfSB3ZXJlIHJlbW92ZWQgaW4gd2luc3RvbkAzLjAuMC4nLCAnVXNlIGEgY3VzdG9tIHdpbnN0b24uZm9ybWF0KGZ1bmN0aW9uKSBpbnN0ZWFkLicsICdTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS93aW5zdG9uanMvd2luc3Rvbi90cmVlL21hc3Rlci9VUEdSQURFLTMuMC5tZCddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICAgIGlmIChleGNlcHRpb25IYW5kbGVycykge1xuICAgICAgICB0aGlzLmV4Y2VwdGlvbnMuaGFuZGxlKGV4Y2VwdGlvbkhhbmRsZXJzKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWplY3Rpb25IYW5kbGVycykge1xuICAgICAgICB0aGlzLnJlamVjdGlvbnMuaGFuZGxlKHJlamVjdGlvbkhhbmRsZXJzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNMZXZlbEVuYWJsZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNMZXZlbEVuYWJsZWQobGV2ZWwpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgdmFyIGdpdmVuTGV2ZWxWYWx1ZSA9IGdldExldmVsVmFsdWUodGhpcy5sZXZlbHMsIGxldmVsKTtcbiAgICAgIGlmIChnaXZlbkxldmVsVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGNvbmZpZ3VyZWRMZXZlbFZhbHVlID0gZ2V0TGV2ZWxWYWx1ZSh0aGlzLmxldmVscywgdGhpcy5sZXZlbCk7XG4gICAgICBpZiAoY29uZmlndXJlZExldmVsVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnRyYW5zcG9ydHMgfHwgdGhpcy50cmFuc3BvcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gY29uZmlndXJlZExldmVsVmFsdWUgPj0gZ2l2ZW5MZXZlbFZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gdGhpcy50cmFuc3BvcnRzLmZpbmRJbmRleChmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gICAgICAgIHZhciB0cmFuc3BvcnRMZXZlbFZhbHVlID0gZ2V0TGV2ZWxWYWx1ZShfdGhpczMubGV2ZWxzLCB0cmFuc3BvcnQubGV2ZWwpO1xuICAgICAgICBpZiAodHJhbnNwb3J0TGV2ZWxWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRyYW5zcG9ydExldmVsVmFsdWUgPSBjb25maWd1cmVkTGV2ZWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNwb3J0TGV2ZWxWYWx1ZSA+PSBnaXZlbkxldmVsVmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmRleCAhPT0gLTE7XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbiAgICAvKipcbiAgICAgKiBFbnN1cmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBhIGBsb2dgIG1ldGhvZFxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IGxldmVsIC0gTGV2ZWwgdGhlIGxvZyBtZXNzYWdlIGlzIHdyaXR0ZW4gYXQuXG4gICAgICogQHBhcmFtIHttaXhlZH0gbXNnIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IG1ldGEgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAgICogQHJldHVybnMge0xvZ2dlcn0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICAvLyBTdXBwb3J0cyB0aGUgZXhpc3RpbmcgQVBJOlxuICAgICAqICAgIGxvZ2dlci5sb2coJ2luZm8nLCAnSGVsbG8gd29ybGQnLCB7IGN1c3RvbTogdHJ1ZSB9KTtcbiAgICAgKiAgICBsb2dnZXIubG9nKCdpbmZvJywgbmV3IEVycm9yKCdZbywgaXRcXCdzIG9uIGZpcmUnKSk7XG4gICAgICpcbiAgICAgKiAgICAvLyBSZXF1aXJlcyB3aW5zdG9uLmZvcm1hdC5zcGxhdCgpXG4gICAgICogICAgbG9nZ2VyLmxvZygnaW5mbycsICclcyAlZCUlJywgJ0Egc3RyaW5nJywgNTAsIHsgdGhpc0lzTWV0YTogdHJ1ZSB9KTtcbiAgICAgKlxuICAgICAqICAgIC8vIEFuZCB0aGUgbmV3IEFQSSB3aXRoIGEgc2luZ2xlIEpTT04gbGl0ZXJhbDpcbiAgICAgKiAgICBsb2dnZXIubG9nKHsgbGV2ZWw6ICdpbmZvJywgbWVzc2FnZTogJ0hlbGxvIHdvcmxkJywgY3VzdG9tOiB0cnVlIH0pO1xuICAgICAqICAgIGxvZ2dlci5sb2coeyBsZXZlbDogJ2luZm8nLCBtZXNzYWdlOiBuZXcgRXJyb3IoJ1lvLCBpdFxcJ3Mgb24gZmlyZScpIH0pO1xuICAgICAqXG4gICAgICogICAgLy8gQWxzbyByZXF1aXJlcyB3aW5zdG9uLmZvcm1hdC5zcGxhdCgpXG4gICAgICogICAgbG9nZ2VyLmxvZyh7XG4gICAgICogICAgICBsZXZlbDogJ2luZm8nLFxuICAgICAqICAgICAgbWVzc2FnZTogJyVzICVkJSUnLFxuICAgICAqICAgICAgW1NQTEFUXTogWydBIHN0cmluZycsIDUwXSxcbiAgICAgKiAgICAgIG1ldGE6IHsgdGhpc0lzTWV0YTogdHJ1ZSB9XG4gICAgICogICAgfSk7XG4gICAgICpcbiAgICAgKi9cbiAgICAvKiBlc2xpbnQtZW5hYmxlIHZhbGlkLWpzZG9jICovXG4gIH0sIHtcbiAgICBrZXk6IFwibG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvZyhsZXZlbCwgbXNnKSB7XG4gICAgICB2YXIgX09iamVjdCRhc3NpZ24yO1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNwbGF0ID0gbmV3IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgc3BsYXRbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtcGFyYW1zXG4gICAgICAvLyBPcHRpbWl6ZSBmb3IgdGhlIGhvdHBhdGggb2YgbG9nZ2luZyBKU09OIGxpdGVyYWxzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBZbyBkYXdnLCBJIGhlYXJkIHlvdSBsaWtlIGxldmVscyAuLi4gc2VyaW91c2x5IC4uLlxuICAgICAgICAvLyBJbiB0aGlzIGNvbnRleHQgdGhlIExIUyBgbGV2ZWxgIGhlcmUgaXMgYWN0dWFsbHkgdGhlIGBpbmZvYCBzbyByZWFkXG4gICAgICAgIC8vIHRoaXMgYXM6IGluZm9bTEVWRUxdID0gaW5mby5sZXZlbDtcbiAgICAgICAgbGV2ZWxbTEVWRUxdID0gbGV2ZWwubGV2ZWw7XG4gICAgICAgIHRoaXMuX2FkZERlZmF1bHRNZXRhKGxldmVsKTtcbiAgICAgICAgdGhpcy53cml0ZShsZXZlbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBTbGlnaHRseSBsZXNzIGhvdHBhdGgsIGJ1dCB3b3J0aCBvcHRpbWl6aW5nIGZvci5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHZhciBfbXNnO1xuICAgICAgICBpZiAobXNnICYmIF90eXBlb2YobXNnKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBtc2dbTEVWRUxdID0gbXNnLmxldmVsID0gbGV2ZWw7XG4gICAgICAgICAgdGhpcy5fYWRkRGVmYXVsdE1ldGEobXNnKTtcbiAgICAgICAgICB0aGlzLndyaXRlKG1zZyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgbXNnID0gKF9tc2cgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tc2csIExFVkVMLCBsZXZlbCksIF9kZWZpbmVQcm9wZXJ0eShfbXNnLCBcImxldmVsXCIsIGxldmVsKSwgX2RlZmluZVByb3BlcnR5KF9tc2csIFwibWVzc2FnZVwiLCBtc2cpLCBfbXNnKTtcbiAgICAgICAgdGhpcy5fYWRkRGVmYXVsdE1ldGEobXNnKTtcbiAgICAgICAgdGhpcy53cml0ZShtc2cpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhID0gc3BsYXRbMF07XG4gICAgICBpZiAoX3R5cGVvZihtZXRhKSA9PT0gJ29iamVjdCcgJiYgbWV0YSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBFeHRyYWN0IHRva2VucywgaWYgbm9uZSBhdmFpbGFibGUgZGVmYXVsdCB0byBlbXB0eSBhcnJheSB0b1xuICAgICAgICAvLyBlbnN1cmUgY29uc2lzdGFuY3kgaW4gZXhwZWN0ZWQgcmVzdWx0c1xuICAgICAgICB2YXIgdG9rZW5zID0gbXNnICYmIG1zZy5tYXRjaCAmJiBtc2cubWF0Y2goZm9ybWF0UmVnRXhwKTtcbiAgICAgICAgaWYgKCF0b2tlbnMpIHtcbiAgICAgICAgICB2YXIgX09iamVjdCRhc3NpZ247XG4gICAgICAgICAgdmFyIGluZm8gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRNZXRhLCBtZXRhLCAoX09iamVjdCRhc3NpZ24gPSB7fSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkYXNzaWduLCBMRVZFTCwgbGV2ZWwpLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRhc3NpZ24sIFNQTEFULCBzcGxhdCksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGFzc2lnbiwgXCJsZXZlbFwiLCBsZXZlbCksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGFzc2lnbiwgXCJtZXNzYWdlXCIsIG1zZyksIF9PYmplY3QkYXNzaWduKSk7XG4gICAgICAgICAgaWYgKG1ldGEubWVzc2FnZSkgaW5mby5tZXNzYWdlID0gXCJcIi5jb25jYXQoaW5mby5tZXNzYWdlLCBcIiBcIikuY29uY2F0KG1ldGEubWVzc2FnZSk7XG4gICAgICAgICAgaWYgKG1ldGEuc3RhY2spIGluZm8uc3RhY2sgPSBtZXRhLnN0YWNrO1xuICAgICAgICAgIHRoaXMud3JpdGUoaW5mbyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMud3JpdGUoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0TWV0YSwgKF9PYmplY3QkYXNzaWduMiA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRhc3NpZ24yLCBMRVZFTCwgbGV2ZWwpLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRhc3NpZ24yLCBTUExBVCwgc3BsYXQpLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRhc3NpZ24yLCBcImxldmVsXCIsIGxldmVsKSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkYXNzaWduMiwgXCJtZXNzYWdlXCIsIG1zZyksIF9PYmplY3QkYXNzaWduMikpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHBpY2tlZCB1cCBieSBhbGwgb2Ygb3VyIHBpcGUgdGFyZ2V0cy5cbiAgICAgKiBAcGFyYW0ge21peGVkfSBpbmZvIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IGVuYyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0ge21peGVkfSBjYWxsYmFjayAtIENvbnRpbnVlcyBzdHJlYW0gcHJvY2Vzc2luZy5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX3RyYW5zZm9ybVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJhbnNmb3JtKGluZm8sIGVuYywgY2FsbGJhY2spIHtcbiAgICAgIGlmICh0aGlzLnNpbGVudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgIH1cblxuICAgICAgLy8gW0xFVkVMXSBpcyBvbmx5IHNvZnQgZ3VhcmFudGVlZCB0byBiZSBzZXQgaGVyZSBzaW5jZSB3ZSBhcmUgYSBwcm9wZXJcbiAgICAgIC8vIHN0cmVhbS4gSXQgaXMgbGlrZWx5IHRoYXQgYGluZm9gIGNhbWUgaW4gdGhyb3VnaCBgLmxvZyhpbmZvKWAgb3JcbiAgICAgIC8vIGAuaW5mbyhpbmZvKWAuIElmIGl0IGlzIG5vdCBkZWZpbmVkLCBob3dldmVyLCBkZWZpbmUgaXQuXG4gICAgICAvLyBUaGlzIExFVkVMIHN5bWJvbCBpcyBwcm92aWRlZCBieSBgdHJpcGxlLWJlYW1gIGFuZCBhbHNvIHVzZWQgaW46XG4gICAgICAvLyAtIGxvZ2Zvcm1cbiAgICAgIC8vIC0gd2luc3Rvbi10cmFuc3BvcnRcbiAgICAgIC8vIC0gYWJzdHJhY3Qtd2luc3Rvbi10cmFuc3BvcnRcbiAgICAgIGlmICghaW5mb1tMRVZFTF0pIHtcbiAgICAgICAgaW5mb1tMRVZFTF0gPSBpbmZvLmxldmVsO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1hcms6IHJlYWxseSBub3Qgc3VyZSB3aGF0IHRvIGRvIGhlcmUsIGJ1dCB0aGlzIGhhcyBiZWVuIHJlcG9ydGVkIGFzXG4gICAgICAvLyB2ZXJ5IGNvbmZ1c2luZyBieSBwcmUgd2luc3RvbkAyLjAuMCB1c2VycyBhcyBxdWl0ZSBjb25mdXNpbmcgd2hlbiB1c2luZ1xuICAgICAgLy8gY3VzdG9tIGxldmVscy5cbiAgICAgIGlmICghdGhpcy5sZXZlbHNbaW5mb1tMRVZFTF1dICYmIHRoaXMubGV2ZWxzW2luZm9bTEVWRUxdXSAhPT0gMCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKCdbd2luc3Rvbl0gVW5rbm93biBsb2dnZXIgbGV2ZWw6ICVzJywgaW5mb1tMRVZFTF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1hcms6IG5vdCBzdXJlIGlmIHdlIHNob3VsZCBzaW1wbHkgZXJyb3IgaGVyZS5cbiAgICAgIGlmICghdGhpcy5fcmVhZGFibGVTdGF0ZS5waXBlcykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKCdbd2luc3Rvbl0gQXR0ZW1wdCB0byB3cml0ZSBsb2dzIHdpdGggbm8gdHJhbnNwb3J0cywgd2hpY2ggY2FuIGluY3JlYXNlIG1lbW9yeSB1c2FnZTogJWonLCBpbmZvKTtcbiAgICAgIH1cblxuICAgICAgLy8gSGVyZSB3ZSB3cml0ZSB0byB0aGUgYGZvcm1hdGAgcGlwZS1jaGFpbiwgd2hpY2ggb24gYHJlYWRhYmxlYCBhYm92ZSB3aWxsXG4gICAgICAvLyBwdXNoIHRoZSBmb3JtYXR0ZWQgYGluZm9gIE9iamVjdCBvbnRvIHRoZSBidWZmZXIgZm9yIHRoaXMgaW5zdGFuY2UuIFdlIHRyYXBcbiAgICAgIC8vIChhbmQgcmUtdGhyb3cpIGFueSBlcnJvcnMgZ2VuZXJhdGVkIGJ5IHRoZSB1c2VyLXByb3ZpZGVkIGZvcm1hdCwgYnV0IGFsc29cbiAgICAgIC8vIGd1YXJhbnRlZSB0aGF0IHRoZSBzdHJlYW1zIGNhbGxiYWNrIGlzIGludm9rZWQgc28gdGhhdCB3ZSBjYW4gY29udGludWUgZmxvd2luZy5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMucHVzaCh0aGlzLmZvcm1hdC50cmFuc2Zvcm0oaW5mbywgdGhpcy5mb3JtYXQub3B0aW9ucykpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5zeW5jID0gZmFsc2U7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYWxsYmFjay1yZXR1cm5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxheXMgdGhlICdmaW5pc2gnIGV2ZW50IHVudGlsIGFsbCB0cmFuc3BvcnQgcGlwZSB0YXJnZXRzIGhhdmVcbiAgICAgKiBhbHNvIGVtaXR0ZWQgJ2ZpbmlzaCcgb3IgYXJlIGFscmVhZHkgZmluaXNoZWQuXG4gICAgICogQHBhcmFtIHttaXhlZH0gY2FsbGJhY2sgLSBDb250aW51ZXMgc3RyZWFtIHByb2Nlc3NpbmcuXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX2ZpbmFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5hbChjYWxsYmFjaykge1xuICAgICAgdmFyIHRyYW5zcG9ydHMgPSB0aGlzLnRyYW5zcG9ydHMuc2xpY2UoKTtcbiAgICAgIGFzeW5jRm9yRWFjaCh0cmFuc3BvcnRzLCBmdW5jdGlvbiAodHJhbnNwb3J0LCBuZXh0KSB7XG4gICAgICAgIGlmICghdHJhbnNwb3J0IHx8IHRyYW5zcG9ydC5maW5pc2hlZCkgcmV0dXJuIHNldEltbWVkaWF0ZShuZXh0KTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoJ2ZpbmlzaCcsIG5leHQpO1xuICAgICAgICB0cmFuc3BvcnQuZW5kKCk7XG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgdHJhbnNwb3J0IHRvIHRoaXMgbG9nZ2VyIGluc3RhbmNlIGJ5IHBpcGluZyB0byBpdC5cbiAgICAgKiBAcGFyYW0ge21peGVkfSB0cmFuc3BvcnQgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAgICogQHJldHVybnMge0xvZ2dlcn0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImFkZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQodHJhbnNwb3J0KSB7XG4gICAgICAvLyBTdXBwb3J0IGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggYWxsIGV4aXN0aW5nIGB3aW5zdG9uIDwgMy54LnhgXG4gICAgICAvLyB0cmFuc3BvcnRzIHdoaWNoIG1lZXQgb25lIG9mIHR3byBjcml0ZXJpYTpcbiAgICAgIC8vIDEuIFRoZXkgaW5oZXJpdCBmcm9tIHdpbnN0b24uVHJhbnNwb3J0IGluICA8IDMueC54IHdoaWNoIGlzIE5PVCBhIHN0cmVhbS5cbiAgICAgIC8vIDIuIFRoZXkgZXhwb3NlIGEgbG9nIG1ldGhvZCB3aGljaCBoYXMgYSBsZW5ndGggZ3JlYXRlciB0aGFuIDIgKGkuZS4gbW9yZSB0aGVuXG4gICAgICAvLyAgICBqdXN0IGBsb2coaW5mbywgY2FsbGJhY2spYC5cbiAgICAgIHZhciB0YXJnZXQgPSAhaXNTdHJlYW0odHJhbnNwb3J0KSB8fCB0cmFuc3BvcnQubG9nLmxlbmd0aCA+IDIgPyBuZXcgTGVnYWN5VHJhbnNwb3J0U3RyZWFtKHtcbiAgICAgICAgdHJhbnNwb3J0OiB0cmFuc3BvcnRcbiAgICAgIH0pIDogdHJhbnNwb3J0O1xuICAgICAgaWYgKCF0YXJnZXQuX3dyaXRhYmxlU3RhdGUgfHwgIXRhcmdldC5fd3JpdGFibGVTdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNwb3J0cyBtdXN0IFdyaXRhYmxlU3RyZWFtcyBpbiBvYmplY3RNb2RlLiBTZXQgeyBvYmplY3RNb2RlOiB0cnVlIH0uJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgdGhlIGBlcnJvcmAgZXZlbnQgYW5kIHRoZSBgd2FybmAgZXZlbnQgb24gdGhlIG5ldyBUcmFuc3BvcnQuXG4gICAgICB0aGlzLl9vbkV2ZW50KCdlcnJvcicsIHRhcmdldCk7XG4gICAgICB0aGlzLl9vbkV2ZW50KCd3YXJuJywgdGFyZ2V0KTtcbiAgICAgIHRoaXMucGlwZSh0YXJnZXQpO1xuICAgICAgaWYgKHRyYW5zcG9ydC5oYW5kbGVFeGNlcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZXhjZXB0aW9ucy5oYW5kbGUoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc3BvcnQuaGFuZGxlUmVqZWN0aW9ucykge1xuICAgICAgICB0aGlzLnJlamVjdGlvbnMuaGFuZGxlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSB0cmFuc3BvcnQgZnJvbSB0aGlzIGxvZ2dlciBpbnN0YW5jZSBieSB1bnBpcGluZyBmcm9tIGl0LlxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IHRyYW5zcG9ydCAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TG9nZ2VyfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSh0cmFuc3BvcnQpIHtcbiAgICAgIGlmICghdHJhbnNwb3J0KSByZXR1cm4gdGhpcztcbiAgICAgIHZhciB0YXJnZXQgPSB0cmFuc3BvcnQ7XG4gICAgICBpZiAoIWlzU3RyZWFtKHRyYW5zcG9ydCkgfHwgdHJhbnNwb3J0LmxvZy5sZW5ndGggPiAyKSB7XG4gICAgICAgIHRhcmdldCA9IHRoaXMudHJhbnNwb3J0cy5maWx0ZXIoZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoLnRyYW5zcG9ydCA9PT0gdHJhbnNwb3J0O1xuICAgICAgICB9KVswXTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy51bnBpcGUodGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRyYW5zcG9ydHMgZnJvbSB0aGlzIGxvZ2dlciBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7TG9nZ2VyfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB0aGlzLnVucGlwZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIHJlc291cmNlcyAoc3RyZWFtcywgZXZlbnQgbGlzdGVuZXJzKSBmb3IgYWxsIHRyYW5zcG9ydHNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnN0YW5jZSAoaWYgbmVjZXNzYXJ5KS5cbiAgICAgKiBAcmV0dXJucyB7TG9nZ2VyfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICB0aGlzLmV4Y2VwdGlvbnMudW5oYW5kbGUoKTtcbiAgICAgIHRoaXMucmVqZWN0aW9ucy51bmhhbmRsZSgpO1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgdGhpcy5lbWl0KCdjbG9zZScpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRhcmdldGAgbGV2ZWxzIHNwZWNpZmllZCBvbiB0aGlzIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBUYXJnZXQgbGV2ZWxzIHRvIHVzZSBvbiB0aGlzIGluc3RhbmNlLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInNldExldmVsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMZXZlbHMoKSB7XG4gICAgICB3YXJuLmRlcHJlY2F0ZWQoJ3NldExldmVscycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFF1ZXJpZXMgdGhlIGFsbCB0cmFuc3BvcnRzIGZvciB0aGlzIGluc3RhbmNlIHdpdGggdGhlIHNwZWNpZmllZCBgb3B0aW9uc2AuXG4gICAgICogVGhpcyB3aWxsIGFnZ3JlZ2F0ZSBlYWNoIHRyYW5zcG9ydCdzIHJlc3VsdHMgaW50byBvbmUgb2JqZWN0IGNvbnRhaW5pbmdcbiAgICAgKiBhIHByb3BlcnR5IHBlciB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBRdWVyeSBvcHRpb25zIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ29udGludWF0aW9uIHRvIHJlc3BvbmQgdG8gd2hlbiBjb21wbGV0ZS5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBxdWVyeShvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB2YXIgcmVzdWx0cyA9IHt9O1xuICAgICAgdmFyIHF1ZXJ5T2JqZWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucy5xdWVyeSB8fCB7fSk7XG5cbiAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBxdWVyeSBhIHNpbmdsZSB0cmFuc3BvcnRcbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5VHJhbnNwb3J0KHRyYW5zcG9ydCwgbmV4dCkge1xuICAgICAgICBpZiAob3B0aW9ucy5xdWVyeSAmJiB0eXBlb2YgdHJhbnNwb3J0LmZvcm1hdFF1ZXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb3B0aW9ucy5xdWVyeSA9IHRyYW5zcG9ydC5mb3JtYXRRdWVyeShxdWVyeU9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNwb3J0LnF1ZXJ5KG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdHJhbnNwb3J0LmZvcm1hdFJlc3VsdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJlcyA9IHRyYW5zcG9ydC5mb3JtYXRSZXN1bHRzKHJlcywgb3B0aW9ucy5mb3JtYXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0KG51bGwsIHJlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gYWNjdW11bGF0ZSB0aGUgcmVzdWx0cyBmcm9tIGBxdWVyeVRyYW5zcG9ydGAgaW50b1xuICAgICAgLy8gdGhlIGByZXN1bHRzYC5cbiAgICAgIGZ1bmN0aW9uIGFkZFJlc3VsdHModHJhbnNwb3J0LCBuZXh0KSB7XG4gICAgICAgIHF1ZXJ5VHJhbnNwb3J0KHRyYW5zcG9ydCwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgLy8gcXVlcnlUcmFuc3BvcnQgY291bGQgcG90ZW50aWFsbHkgaW52b2tlIHRoZSBjYWxsYmFjayBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgIC8vIHNpbmNlIFRyYW5zcG9ydCBjb2RlIGNhbiBiZSB1bnByZWRpY3RhYmxlLlxuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBlcnIgfHwgcmVzdWx0O1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICByZXN1bHRzW3RyYW5zcG9ydC5uYW1lXSA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0ID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgdHJhbnNwb3J0cyBpbiBwYXJhbGxlbCBzZXR0aW5nIHRoZSBhcHByb3ByaWF0ZSBrZXkgaW5cbiAgICAgIC8vIHRoZSBgcmVzdWx0c2AuXG4gICAgICBhc3luY0ZvckVhY2godGhpcy50cmFuc3BvcnRzLmZpbHRlcihmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gICAgICAgIHJldHVybiAhIXRyYW5zcG9ydC5xdWVyeTtcbiAgICAgIH0pLCBhZGRSZXN1bHRzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsb2cgc3RyZWFtIGZvciBhbGwgdHJhbnNwb3J0cy4gT3B0aW9ucyBvYmplY3QgaXMgb3B0aW9uYWwuXG4gICAgICogQHBhcmFte09iamVjdH0gb3B0aW9ucz17fSAtIFN0cmVhbSBvcHRpb25zIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW19IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJzdHJlYW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RyZWFtKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdmFyIG91dCA9IG5ldyBTdHJlYW0oKTtcbiAgICAgIHZhciBzdHJlYW1zID0gW107XG4gICAgICBvdXQuX3N0cmVhbXMgPSBzdHJlYW1zO1xuICAgICAgb3V0LmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpID0gc3RyZWFtcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICBzdHJlYW1zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQ3JlYXRlIGEgbGlzdCBvZiBhbGwgdHJhbnNwb3J0cyBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgIHRoaXMudHJhbnNwb3J0cy5maWx0ZXIoZnVuY3Rpb24gKHRyYW5zcG9ydCkge1xuICAgICAgICByZXR1cm4gISF0cmFuc3BvcnQuc3RyZWFtO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gICAgICAgIHZhciBzdHIgPSB0cmFuc3BvcnQuc3RyZWFtKG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXN0cikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdHJlYW1zLnB1c2goc3RyKTtcbiAgICAgICAgc3RyLm9uKCdsb2cnLCBmdW5jdGlvbiAobG9nKSB7XG4gICAgICAgICAgbG9nLnRyYW5zcG9ydCA9IGxvZy50cmFuc3BvcnQgfHwgW107XG4gICAgICAgICAgbG9nLnRyYW5zcG9ydC5wdXNoKHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICBvdXQuZW1pdCgnbG9nJywgbG9nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0ci5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgZXJyLnRyYW5zcG9ydCA9IGVyci50cmFuc3BvcnQgfHwgW107XG4gICAgICAgICAgZXJyLnRyYW5zcG9ydC5wdXNoKHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICBvdXQuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIGEgc3BlY2lmaWMgdGltaW5nLiBXaGVuIGRvbmUgaXMgY2FsbGVkXG4gICAgICogdGhlIHRpbWVyIHdpbGwgZmluaXNoIGFuZCBsb2cgdGhlIGR1cmF0aW9uLiBlLmcuOlxuICAgICAqIEByZXR1cm5zIHtQcm9maWxlfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb25zdCB0aW1lciA9IHdpbnN0b24uc3RhcnRUaW1lcigpXG4gICAgICogICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICogICAgICB0aW1lci5kb25lKHtcbiAgICAgKiAgICAgICAgbWVzc2FnZTogJ0xvZ2dpbmcgbWVzc2FnZSdcbiAgICAgKiAgICAgIH0pO1xuICAgICAqICAgIH0sIDEwMDApO1xuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0VGltZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRUaW1lcigpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvZmlsZXIodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhY2tzIHRoZSB0aW1lIGluYmV0d2VlbiBzdWJzZXF1ZW50IGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdpdGggdGhlIHNhbWVcbiAgICAgKiBgaWRgIHBhcmFtZXRlci4gVGhlIHNlY29uZCBjYWxsIHRvIHRoaXMgbWV0aG9kIHdpbGwgbG9nIHRoZSBkaWZmZXJlbmNlIGluXG4gICAgICogbWlsbGlzZWNvbmRzIGFsb25nIHdpdGggdGhlIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFVuaXF1ZSBpZCBvZiB0aGUgcHJvZmlsZXJcbiAgICAgKiBAcmV0dXJucyB7TG9nZ2VyfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicHJvZmlsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9maWxlKGlkKSB7XG4gICAgICB2YXIgdGltZSA9IERhdGUubm93KCk7XG4gICAgICBpZiAodGhpcy5wcm9maWxlcnNbaWRdKSB7XG4gICAgICAgIHZhciB0aW1lRW5kID0gdGhpcy5wcm9maWxlcnNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5wcm9maWxlcnNbaWRdO1xuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYmUga2luZCB0byB1c2VycyBpZiB0aGV5IGFyZSBzdGlsbCB1c2luZyBvbGRlciBBUElzLlxuICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIGNvbnNvbGUud2FybignQ2FsbGJhY2sgZnVuY3Rpb24gbm8gbG9uZ2VyIHN1cHBvcnRlZCBhcyBvZiB3aW5zdG9uQDMuMC4wJyk7XG4gICAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gcHJvcGVydHkgb2YgdGhlIG1ldGFkYXRhXG4gICAgICAgIHZhciBpbmZvID0gX3R5cGVvZihhcmdzW2FyZ3MubGVuZ3RoIC0gMV0pID09PSAnb2JqZWN0JyA/IGFyZ3MucG9wKCkgOiB7fTtcbiAgICAgICAgaW5mby5sZXZlbCA9IGluZm8ubGV2ZWwgfHwgJ2luZm8nO1xuICAgICAgICBpbmZvLmR1cmF0aW9uTXMgPSB0aW1lIC0gdGltZUVuZDtcbiAgICAgICAgaW5mby5tZXNzYWdlID0gaW5mby5tZXNzYWdlIHx8IGlkO1xuICAgICAgICByZXR1cm4gdGhpcy53cml0ZShpbmZvKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvZmlsZXJzW2lkXSA9IHRpbWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byBgZXhjZXB0aW9ucy5oYW5kbGVgIGluIHdpbnN0b24gPCAzLjAuMC5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlRXhjZXB0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFeGNlcHRpb25zKCkge1xuICAgICAgdmFyIF90aGlzJGV4Y2VwdGlvbnM7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGVkOiAuaGFuZGxlRXhjZXB0aW9ucygpIHdpbGwgYmUgcmVtb3ZlZCBpbiB3aW5zdG9uQDQuIFVzZSAuZXhjZXB0aW9ucy5oYW5kbGUoKScpO1xuICAgICAgKF90aGlzJGV4Y2VwdGlvbnMgPSB0aGlzLmV4Y2VwdGlvbnMpLmhhbmRsZS5hcHBseShfdGhpcyRleGNlcHRpb25zLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIGBleGNlcHRpb25zLmhhbmRsZWAgaW4gd2luc3RvbiA8IDMuMC4wLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJ1bmhhbmRsZUV4Y2VwdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5oYW5kbGVFeGNlcHRpb25zKCkge1xuICAgICAgdmFyIF90aGlzJGV4Y2VwdGlvbnMyO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRlZDogLnVuaGFuZGxlRXhjZXB0aW9ucygpIHdpbGwgYmUgcmVtb3ZlZCBpbiB3aW5zdG9uQDQuIFVzZSAuZXhjZXB0aW9ucy51bmhhbmRsZSgpJyk7XG4gICAgICAoX3RoaXMkZXhjZXB0aW9uczIgPSB0aGlzLmV4Y2VwdGlvbnMpLnVuaGFuZGxlLmFwcGx5KF90aGlzJGV4Y2VwdGlvbnMyLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRocm93IGEgbW9yZSBtZWFuaW5nZnVsIGRlcHJlY2F0aW9uIG5vdGljZVxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSAtIFRPRE86IGFkZCB0aHJvd3MgZGVzY3JpcHRpb24uXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xpXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsaSgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihbJ0xvZ2dlci5jbGkoKSB3YXMgcmVtb3ZlZCBpbiB3aW5zdG9uQDMuMC4wJywgJ1VzZSBhIGN1c3RvbSB3aW5zdG9uLmZvcm1hdHMuY2xpKCkgaW5zdGVhZC4nLCAnU2VlOiBodHRwczovL2dpdGh1Yi5jb20vd2luc3RvbmpzL3dpbnN0b24vdHJlZS9tYXN0ZXIvVVBHUkFERS0zLjAubWQnXS5qb2luKCdcXG4nKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnViYmxlcyB0aGUgYGV2ZW50YCB0aGF0IG9jY3VyZWQgb24gdGhlIHNwZWNpZmllZCBgdHJhbnNwb3J0YCB1cFxuICAgICAqIGZyb20gdGhpcyBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBvY2N1cmVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zcG9ydCAtIFRyYW5zcG9ydCBvbiB3aGljaCB0aGUgZXZlbnQgb2NjdXJlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiX29uRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uRXZlbnQoZXZlbnQsIHRyYW5zcG9ydCkge1xuICAgICAgZnVuY3Rpb24gdHJhbnNwb3J0RXZlbnQoZXJyKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93aW5zdG9uanMvd2luc3Rvbi9pc3N1ZXMvMTM2NFxuICAgICAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicgJiYgIXRoaXMudHJhbnNwb3J0cy5pbmNsdWRlcyh0cmFuc3BvcnQpKSB7XG4gICAgICAgICAgdGhpcy5hZGQodHJhbnNwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoZXZlbnQsIGVyciwgdHJhbnNwb3J0KTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNwb3J0WydfX3dpbnN0b24nICsgZXZlbnRdKSB7XG4gICAgICAgIHRyYW5zcG9ydFsnX193aW5zdG9uJyArIGV2ZW50XSA9IHRyYW5zcG9ydEV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRyYW5zcG9ydC5vbihldmVudCwgdHJhbnNwb3J0WydfX3dpbnN0b24nICsgZXZlbnRdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZERlZmF1bHRNZXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGREZWZhdWx0TWV0YShtc2cpIHtcbiAgICAgIGlmICh0aGlzLmRlZmF1bHRNZXRhKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obXNnLCB0aGlzLmRlZmF1bHRNZXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIExvZ2dlcjtcbn0oVHJhbnNmb3JtKTtcbmZ1bmN0aW9uIGdldExldmVsVmFsdWUobGV2ZWxzLCBsZXZlbCkge1xuICB2YXIgdmFsdWUgPSBsZXZlbHNbbGV2ZWxdO1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGN1cnJlbnQgcmVhZGFibGVTdGF0ZSBwaXBlIHRhcmdldHMgZm9yIHRoaXMgTG9nZ2VyIGluc3RhbmNlLlxuICogQHR5cGUge0FycmF5fE9iamVjdH1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KExvZ2dlci5wcm90b3R5cGUsICd0cmFuc3BvcnRzJywge1xuICBjb25maWd1cmFibGU6IGZhbHNlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICB2YXIgcGlwZXMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlLnBpcGVzO1xuICAgIHJldHVybiAhQXJyYXkuaXNBcnJheShwaXBlcykgPyBbcGlwZXNdLmZpbHRlcihCb29sZWFuKSA6IHBpcGVzO1xuICB9XG59KTtcbm1vZHVsZS5leHBvcnRzID0gTG9nZ2VyOyIsICIvKipcbiAqIGNyZWF0ZS1sb2dnZXIuanM6IExvZ2dlciBmYWN0b3J5IGZvciB3aW5zdG9uIGxvZ2dlciBpbnN0YW5jZXMuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgndHJpcGxlLWJlYW0nKSxcbiAgTEVWRUwgPSBfcmVxdWlyZS5MRVZFTDtcbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xudmFyIExvZ2dlciA9IHJlcXVpcmUoJy4vbG9nZ2VyJyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdAZGFiaC9kaWFnbm9zdGljcycpKCd3aW5zdG9uOmNyZWF0ZS1sb2dnZXInKTtcbmZ1bmN0aW9uIGlzTGV2ZWxFbmFibGVkRnVuY3Rpb25OYW1lKGxldmVsKSB7XG4gIHJldHVybiAnaXMnICsgbGV2ZWwuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBsZXZlbC5zbGljZSgxKSArICdFbmFibGVkJztcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgYSB3aW5zdG9uIExvZ2dlci4gQ3JlYXRlcyBhIG5ld1xuICogcHJvdG90eXBlIGZvciBlYWNoIGluc3RhbmNlLlxuICogQHBhcmFtIHshT2JqZWN0fSBvcHRzIC0gT3B0aW9ucyBmb3IgdGhlIGNyZWF0ZWQgbG9nZ2VyLlxuICogQHJldHVybnMge0xvZ2dlcn0gLSBBIG5ld2x5IGNyZWF0ZWQgbG9nZ2VyIGluc3RhbmNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAvL1xuICAvLyBEZWZhdWx0IGxldmVsczogbnBtXG4gIC8vXG4gIG9wdHMubGV2ZWxzID0gb3B0cy5sZXZlbHMgfHwgY29uZmlnLm5wbS5sZXZlbHM7XG5cbiAgLyoqXG4gICAqIERlcml2ZWRMb2dnZXIgdG8gYXR0YWNoIHRoZSBsb2dzIGxldmVsIG1ldGhvZHMuXG4gICAqIEB0eXBlIHtEZXJpdmVkTG9nZ2VyfVxuICAgKiBAZXh0ZW5kcyB7TG9nZ2VyfVxuICAgKi9cbiAgdmFyIERlcml2ZWRMb2dnZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Mb2dnZXIpIHtcbiAgICBfaW5oZXJpdHMoRGVyaXZlZExvZ2dlciwgX0xvZ2dlcik7XG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihEZXJpdmVkTG9nZ2VyKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgY2xhc3MgZGVyaXZlZCBsb2dnZXIgZm9yIHdoaWNoIHRoZSBsZXZlbHMgY2FuIGJlIGF0dGFjaGVkIHRvXG4gICAgICogdGhlIHByb3RvdHlwZSBvZi4gVGhpcyBpcyBhIFY4IG9wdGltaXphdGlvbiB0aGF0IGlzIHdlbGwga25vdyB0byBpbmNyZWFzZVxuICAgICAqIHBlcmZvcm1hbmNlIG9mIHByb3RvdHlwZSBmdW5jdGlvbnMuXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGNyZWF0ZWQgbG9nZ2VyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERlcml2ZWRMb2dnZXIob3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlcml2ZWRMb2dnZXIpO1xuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gX2NyZWF0ZUNsYXNzKERlcml2ZWRMb2dnZXIpO1xuICB9KExvZ2dlcik7XG4gIHZhciBsb2dnZXIgPSBuZXcgRGVyaXZlZExvZ2dlcihvcHRzKTtcblxuICAvL1xuICAvLyBDcmVhdGUgdGhlIGxvZyBsZXZlbCBtZXRob2RzIGZvciB0aGUgZGVyaXZlZCBsb2dnZXIuXG4gIC8vXG4gIE9iamVjdC5rZXlzKG9wdHMubGV2ZWxzKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgIGRlYnVnKCdEZWZpbmUgcHJvdG90eXBlIG1ldGhvZCBmb3IgXCIlc1wiJywgbGV2ZWwpO1xuICAgIGlmIChsZXZlbCA9PT0gJ2xvZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oJ0xldmVsIFwibG9nXCIgbm90IGRlZmluZWQ6IGNvbmZsaWN0cyB3aXRoIHRoZSBtZXRob2QgXCJsb2dcIi4gVXNlIGEgZGlmZmVyZW50IGxldmVsIG5hbWUuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBEZWZpbmUgcHJvdG90eXBlIG1ldGhvZHMgZm9yIGVhY2ggbG9nIGxldmVsIGUuZy46XG4gICAgLy8gbG9nZ2VyLmxvZygnaW5mbycsIG1zZykgaW1wbGllcyB0aGVzZSBtZXRob2RzIGFyZSBkZWZpbmVkOlxuICAgIC8vIC0gbG9nZ2VyLmluZm8obXNnKVxuICAgIC8vIC0gbG9nZ2VyLmlzSW5mb0VuYWJsZWQoKVxuICAgIC8vXG4gICAgLy8gUmVtYXJrOiB0byBzdXBwb3J0IGxvZ2dlci5jaGlsZCB0aGlzICoqTVVTVCoqIGJlIGEgZnVuY3Rpb25cbiAgICAvLyBzbyBpdCdsbCBhbHdheXMgYmUgY2FsbGVkIG9uIHRoZSBpbnN0YW5jZSBpbnN0ZWFkIG9mIGEgZml4ZWRcbiAgICAvLyBwbGFjZSBpbiB0aGUgcHJvdG90eXBlIGNoYWluLlxuICAgIC8vXG4gICAgRGVyaXZlZExvZ2dlci5wcm90b3R5cGVbbGV2ZWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gUHJlZmVyIGFueSBpbnN0YW5jZSBzY29wZSwgYnV0IGRlZmF1bHQgdG8gXCJyb290XCIgbG9nZ2VyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgbG9nZ2VyO1xuXG4gICAgICAvLyBPcHRpbWl6ZSB0aGUgaG90LXBhdGggd2hpY2ggaXMgdGhlIHNpbmdsZSBvYmplY3QuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgbXNnID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGluZm8gPSBtc2cgJiYgbXNnLm1lc3NhZ2UgJiYgbXNnIHx8IHtcbiAgICAgICAgICBtZXNzYWdlOiBtc2dcbiAgICAgICAgfTtcbiAgICAgICAgaW5mby5sZXZlbCA9IGluZm9bTEVWRUxdID0gbGV2ZWw7XG4gICAgICAgIHNlbGYuX2FkZERlZmF1bHRNZXRhKGluZm8pO1xuICAgICAgICBzZWxmLndyaXRlKGluZm8pO1xuICAgICAgICByZXR1cm4gdGhpcyB8fCBsb2dnZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gcHJvdmlkZWQgbm90aGluZyBhc3N1bWUgdGhlIGVtcHR5IHN0cmluZ1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNlbGYubG9nKGxldmVsLCAnJyk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UgYnVpbGQgYXJndW1lbnQgbGlzdCB3aGljaCBjb3VsZCBwb3RlbnRpYWxseSBjb25mb3JtIHRvXG4gICAgICAvLyBlaXRoZXI6XG4gICAgICAvLyAuIHYzIEFQSTogbG9nKG9iailcbiAgICAgIC8vIDIuIHYxL3YyIEFQSTogbG9nKGxldmVsLCBtc2csIC4uLiBbc3RyaW5nIGludGVycG9sYXRlXSwgW3ttZXRhZGF0YX1dLCBbY2FsbGJhY2tdKVxuICAgICAgcmV0dXJuIHNlbGYubG9nLmFwcGx5KHNlbGYsIFtsZXZlbF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIERlcml2ZWRMb2dnZXIucHJvdG90eXBlW2lzTGV2ZWxFbmFibGVkRnVuY3Rpb25OYW1lKGxldmVsKV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKHRoaXMgfHwgbG9nZ2VyKS5pc0xldmVsRW5hYmxlZChsZXZlbCk7XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBsb2dnZXI7XG59OyIsICIvKipcbiAqIGNvbnRhaW5lci5qczogSW52ZXJzaW9uIG9mIGNvbnRyb2wgY29udGFpbmVyIGZvciB3aW5zdG9uIGxvZ2dlciBpbnN0YW5jZXMuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG52YXIgY3JlYXRlTG9nZ2VyID0gcmVxdWlyZSgnLi9jcmVhdGUtbG9nZ2VyJyk7XG5cbi8qKlxuICogSW52ZXJzaW9uIG9mIGNvbnRyb2wgY29udGFpbmVyIGZvciB3aW5zdG9uIGxvZ2dlciBpbnN0YW5jZXMuXG4gKiBAdHlwZSB7Q29udGFpbmVyfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIENvbnRhaW5lciBvYmplY3QgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIGFcbiAgICogc2V0IG9mIGB3aW5zdG9uLkxvZ2dlcmAgaW5zdGFuY2VzIGJhc2VkIG9uIHN0cmluZyBpZHMuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gW29wdGlvbnM9e31dIC0gRGVmYXVsdCBwYXNzLXRocnUgb3B0aW9ucyBmb3IgTG9nZ2Vycy5cbiAgICovXG4gIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhaW5lcik7XG4gICAgdGhpcy5sb2dnZXJzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgYHdpbnN0b24uTG9nZ2VyYCBpbnN0YW5jZSBmb3IgdGhlIHNwZWNpZmllZCBgaWRgLiBJZiBhblxuICAgKiBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCwgb25lIGlzIGNyZWF0ZWQuXG4gICAqIEBwYXJhbSB7IXN0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIExvZ2dlciB0byBnZXQuXG4gICAqIEBwYXJhbSB7P09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cbiAgICogQHJldHVybnMge0xvZ2dlcn0gLSBBIGNvbmZpZ3VyZWQgTG9nZ2VyIGluc3RhbmNlIHdpdGggYSBzcGVjaWZpZWQgaWQuXG4gICAqL1xuICBfY3JlYXRlQ2xhc3MoQ29udGFpbmVyLCBbe1xuICAgIGtleTogXCJhZGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGlkLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgaWYgKCF0aGlzLmxvZ2dlcnMuaGFzKGlkKSkge1xuICAgICAgICAvLyBSZW1hcms6IFNpbXBsZSBzaGFsbG93IGNsb25lIGZvciBjb25maWd1cmF0aW9uIG9wdGlvbnMgaW4gY2FzZSB3ZSBwYXNzXG4gICAgICAgIC8vIGluIGluc3RhbnRpYXRlZCBwcm90b3lwYWwgb2JqZWN0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyB8fCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSBvcHRpb25zLnRyYW5zcG9ydHMgfHwgdGhpcy5vcHRpb25zLnRyYW5zcG9ydHM7XG5cbiAgICAgICAgLy8gUmVtYXJrOiBNYWtlIHN1cmUgaWYgd2UgaGF2ZSBhbiBhcnJheSBvZiB0cmFuc3BvcnRzIHdlIHNsaWNlIGl0IHRvXG4gICAgICAgIC8vIG1ha2UgY29waWVzIG9mIHRob3NlIHJlZmVyZW5jZXMuXG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgIG9wdGlvbnMudHJhbnNwb3J0cyA9IEFycmF5LmlzQXJyYXkoZXhpc3RpbmcpID8gZXhpc3Rpbmcuc2xpY2UoKSA6IFtleGlzdGluZ107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy50cmFuc3BvcnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcihvcHRpb25zKTtcbiAgICAgICAgbG9nZ2VyLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuX2RlbGV0ZShpZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxvZ2dlcnMuc2V0KGlkLCBsb2dnZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubG9nZ2Vycy5nZXQoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJlaXZlcyBhIGB3aW5zdG9uLkxvZ2dlcmAgaW5zdGFuY2UgZm9yIHRoZSBzcGVjaWZpZWQgYGlkYC4gSWZcbiAgICAgKiBhbiBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCwgb25lIGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHshc3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTG9nZ2VyIHRvIGdldC5cbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge0xvZ2dlcn0gLSBBIGNvbmZpZ3VyZWQgTG9nZ2VyIGluc3RhbmNlIHdpdGggYSBzcGVjaWZpZWQgaWQuXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChpZCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuYWRkKGlkLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgY29udGFpbmVyIGhhcyBhIGxvZ2dlciB3aXRoIHRoZSBpZC5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBMb2dnZXIgaW5zdGFuY2UgdG8gZmluZC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBCb29sZWFuIHZhbHVlIGluZGljYXRpbmcgaWYgdGhpcyBpbnN0YW5jZSBoYXMgYVxuICAgICAqIGxvZ2dlciB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYC5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJoYXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKGlkKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmxvZ2dlcnMuaGFzKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgYSBgTG9nZ2VyYCBpbnN0YW5jZSB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYCBpZiBpdCBleGlzdHMuXG4gICAgICogSWYgbm8gYGlkYCBpcyBzdXBwbGllZCB0aGVuIGFsbCBMb2dnZXJzIGFyZSBjbG9zZWQuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTG9nZ2VyIGluc3RhbmNlIHRvIGNsb3NlLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoaWQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2dnZXIoaWQpO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2dnZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuX3JlbW92ZUxvZ2dlcihrZXkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgbG9nZ2VyIGJhc2VkIG9uIHRoZSBpZC5cbiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBsb2dnZXIgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJfcmVtb3ZlTG9nZ2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVMb2dnZXIoaWQpIHtcbiAgICAgIGlmICghdGhpcy5sb2dnZXJzLmhhcyhpZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGxvZ2dlciA9IHRoaXMubG9nZ2Vycy5nZXQoaWQpO1xuICAgICAgbG9nZ2VyLmNsb3NlKCk7XG4gICAgICB0aGlzLl9kZWxldGUoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSBgTG9nZ2VyYCBpbnN0YW5jZSB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYC5cbiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBMb2dnZXIgaW5zdGFuY2UgdG8gZGVsZXRlIGZyb21cbiAgICAgKiBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIl9kZWxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xuICAgICAgdGhpcy5sb2dnZXJzW1wiZGVsZXRlXCJdKGlkKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENvbnRhaW5lcjtcbn0oKTsiLCAiLyoqXG4gKiB3aW5zdG9uLmpzOiBUb3AtbGV2ZWwgaW5jbHVkZSBkZWZpbmluZyBXaW5zdG9uLlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBsb2dmb3JtID0gcmVxdWlyZSgnbG9nZm9ybScpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi93aW5zdG9uL2NvbW1vbicpLFxuICB3YXJuID0gX3JlcXVpcmUud2FybjtcblxuLyoqXG4gKiBFeHBvc2UgdmVyc2lvbi4gVXNlIGByZXF1aXJlYCBtZXRob2QgZm9yIGB3ZWJwYWNrYCBzdXBwb3J0LlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0cy52ZXJzaW9uID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbi8qKlxuICogSW5jbHVkZSB0cmFuc3BvcnRzIGRlZmluZWQgYnkgZGVmYXVsdCBieSB3aW5zdG9uXG4gKiBAdHlwZSB7QXJyYXl9XG4gKi9cbmV4cG9ydHMudHJhbnNwb3J0cyA9IHJlcXVpcmUoJy4vd2luc3Rvbi90cmFuc3BvcnRzJyk7XG4vKipcbiAqIEV4cG9zZSB1dGlsaXR5IG1ldGhvZHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuY29uZmlnID0gcmVxdWlyZSgnLi93aW5zdG9uL2NvbmZpZycpO1xuLyoqXG4gKiBIb2lzdCBmb3JtYXQtcmVsYXRlZCBmdW5jdGlvbmFsaXR5IGZyb20gbG9nZm9ybS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuYWRkQ29sb3JzID0gbG9nZm9ybS5sZXZlbHM7XG4vKipcbiAqIEhvaXN0IGZvcm1hdC1yZWxhdGVkIGZ1bmN0aW9uYWxpdHkgZnJvbSBsb2dmb3JtLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5mb3JtYXQgPSBsb2dmb3JtLmZvcm1hdDtcbi8qKlxuICogRXhwb3NlIGNvcmUgTG9nZ2luZy1yZWxhdGVkIHByb3RvdHlwZXMuXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKi9cbmV4cG9ydHMuY3JlYXRlTG9nZ2VyID0gcmVxdWlyZSgnLi93aW5zdG9uL2NyZWF0ZS1sb2dnZXInKTtcbi8qKlxuICogRXhwb3NlIGNvcmUgTG9nZ2luZy1yZWxhdGVkIHByb3RvdHlwZXMuXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKi9cbmV4cG9ydHMuTG9nZ2VyID0gcmVxdWlyZSgnLi93aW5zdG9uL2xvZ2dlcicpO1xuLyoqXG4gKiBFeHBvc2UgY29yZSBMb2dnaW5nLXJlbGF0ZWQgcHJvdG90eXBlcy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuRXhjZXB0aW9uSGFuZGxlciA9IHJlcXVpcmUoJy4vd2luc3Rvbi9leGNlcHRpb24taGFuZGxlcicpO1xuLyoqXG4gKiBFeHBvc2UgY29yZSBMb2dnaW5nLXJlbGF0ZWQgcHJvdG90eXBlcy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuUmVqZWN0aW9uSGFuZGxlciA9IHJlcXVpcmUoJy4vd2luc3Rvbi9yZWplY3Rpb24taGFuZGxlcicpO1xuLyoqXG4gKiBFeHBvc2UgY29yZSBMb2dnaW5nLXJlbGF0ZWQgcHJvdG90eXBlcy5cbiAqIEB0eXBlIHtDb250YWluZXJ9XG4gKi9cbmV4cG9ydHMuQ29udGFpbmVyID0gcmVxdWlyZSgnLi93aW5zdG9uL2NvbnRhaW5lcicpO1xuLyoqXG4gKiBFeHBvc2UgY29yZSBMb2dnaW5nLXJlbGF0ZWQgcHJvdG90eXBlcy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuVHJhbnNwb3J0ID0gcmVxdWlyZSgnd2luc3Rvbi10cmFuc3BvcnQnKTtcbi8qKlxuICogV2UgY3JlYXRlIGFuZCBleHBvc2UgYSBkZWZhdWx0IGBDb250YWluZXJgIHRvIGB3aW5zdG9uLmxvZ2dlcnNgIHNvIHRoYXQgdGhlXG4gKiBwcm9ncmFtbWVyIG1heSBtYW5hZ2UgbXVsdGlwbGUgYHdpbnN0b24uTG9nZ2VyYCBpbnN0YW5jZXMgd2l0aG91dCBhbnlcbiAqIGFkZGl0aW9uYWwgb3ZlcmhlYWQuXG4gKiBAZXhhbXBsZVxuICogICAvLyBzb21lLWZpbGUxLmpzXG4gKiAgIGNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJ3dpbnN0b24nKS5sb2dnZXJzLmdldCgnc29tZXRoaW5nJyk7XG4gKlxuICogICAvLyBzb21lLWZpbGUyLmpzXG4gKiAgIGNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJ3dpbnN0b24nKS5sb2dnZXJzLmdldCgnc29tZXRoaW5nJyk7XG4gKi9cbmV4cG9ydHMubG9nZ2VycyA9IG5ldyBleHBvcnRzLkNvbnRhaW5lcigpO1xuXG4vKipcbiAqIFdlIGNyZWF0ZSBhbmQgZXhwb3NlIGEgJ2RlZmF1bHRMb2dnZXInIHNvIHRoYXQgdGhlIHByb2dyYW1tZXIgbWF5IGRvIHRoZVxuICogZm9sbG93aW5nIHdpdGhvdXQgdGhlIG5lZWQgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHdpbnN0b24uTG9nZ2VyIGRpcmVjdGx5OlxuICogQGV4YW1wbGVcbiAqICAgY29uc3Qgd2luc3RvbiA9IHJlcXVpcmUoJ3dpbnN0b24nKTtcbiAqICAgd2luc3Rvbi5sb2coJ2luZm8nLCAnc29tZSBtZXNzYWdlJyk7XG4gKiAgIHdpbnN0b24uZXJyb3IoJ3NvbWUgZXJyb3InKTtcbiAqL1xudmFyIGRlZmF1bHRMb2dnZXIgPSBleHBvcnRzLmNyZWF0ZUxvZ2dlcigpO1xuXG4vLyBQYXNzIHRocm91Z2ggdGhlIHRhcmdldCBtZXRob2RzIG9udG8gYHdpbnN0b24uXG5PYmplY3Qua2V5cyhleHBvcnRzLmNvbmZpZy5ucG0ubGV2ZWxzKS5jb25jYXQoWydsb2cnLCAncXVlcnknLCAnc3RyZWFtJywgJ2FkZCcsICdyZW1vdmUnLCAnY2xlYXInLCAncHJvZmlsZScsICdzdGFydFRpbWVyJywgJ2hhbmRsZUV4Y2VwdGlvbnMnLCAndW5oYW5kbGVFeGNlcHRpb25zJywgJ2hhbmRsZVJlamVjdGlvbnMnLCAndW5oYW5kbGVSZWplY3Rpb25zJywgJ2NvbmZpZ3VyZScsICdjaGlsZCddKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgcmV0dXJuIGV4cG9ydHNbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGVmYXVsdExvZ2dlclttZXRob2RdLmFwcGx5KGRlZmF1bHRMb2dnZXIsIGFyZ3VtZW50cyk7XG4gIH07XG59KTtcblxuLyoqXG4gKiBEZWZpbmUgZ2V0dGVyIC8gc2V0dGVyIGZvciB0aGUgZGVmYXVsdCBsb2dnZXIgbGV2ZWwgd2hpY2ggbmVlZCB0byBiZSBleHBvc2VkXG4gKiBieSB3aW5zdG9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdsZXZlbCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRMb2dnZXIubGV2ZWw7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgIGRlZmF1bHRMb2dnZXIubGV2ZWwgPSB2YWw7XG4gIH1cbn0pO1xuXG4vKipcbiAqIERlZmluZSBnZXR0ZXIgZm9yIGBleGNlcHRpb25zYCB3aGljaCByZXBsYWNlcyBgaGFuZGxlRXhjZXB0aW9uc2AgYW5kXG4gKiBgdW5oYW5kbGVFeGNlcHRpb25zYC5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZXhjZXB0aW9ucycsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRMb2dnZXIuZXhjZXB0aW9ucztcbiAgfVxufSk7XG5cbi8qKlxuICogRGVmaW5lIGdldHRlcnMgLyBzZXR0ZXJzIGZvciBhcHByb3ByaWF0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBkZWZhdWx0IGxvZ2dlclxuICogd2hpY2ggbmVlZCB0byBiZSBleHBvc2VkIGJ5IHdpbnN0b24uXG4gKiBAdHlwZSB7TG9nZ2VyfVxuICovXG5bJ2V4aXRPbkVycm9yJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgcHJvcCwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRMb2dnZXJbcHJvcF07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgIGRlZmF1bHRMb2dnZXJbcHJvcF0gPSB2YWw7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGUgZGVmYXVsdCB3aW5zdG9uIGxvZ2dlci5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZGVmYXVsdCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4Y2VwdGlvbkhhbmRsZXJzOiBkZWZhdWx0TG9nZ2VyLmV4Y2VwdGlvbkhhbmRsZXJzLFxuICAgICAgcmVqZWN0aW9uSGFuZGxlcnM6IGRlZmF1bHRMb2dnZXIucmVqZWN0aW9uSGFuZGxlcnMsXG4gICAgICB0cmFuc3BvcnRzOiBkZWZhdWx0TG9nZ2VyLnRyYW5zcG9ydHNcbiAgICB9O1xuICB9XG59KTtcblxuLy8gSGF2ZSBmcmllbmRsaWVyIGJyZWFrYWdlIG5vdGljZXMgZm9yIHByb3BlcnRpZXMgdGhhdCB3ZXJlIGV4cG9zZWQgYnkgZGVmYXVsdFxuLy8gb24gd2luc3RvbiA8IDMuMC5cbndhcm4uZGVwcmVjYXRlZChleHBvcnRzLCAnc2V0TGV2ZWxzJyk7XG53YXJuLmZvckZ1bmN0aW9ucyhleHBvcnRzLCAndXNlRm9ybWF0JywgWydjbGknXSk7XG53YXJuLmZvclByb3BlcnRpZXMoZXhwb3J0cywgJ3VzZUZvcm1hdCcsIFsncGFkTGV2ZWxzJywgJ3N0cmlwQ29sb3JzJ10pO1xud2Fybi5mb3JGdW5jdGlvbnMoZXhwb3J0cywgJ2RlcHJlY2F0ZWQnLCBbJ2FkZFJld3JpdGVyJywgJ2FkZEZpbHRlcicsICdjbG9uZScsICdleHRlbmQnXSk7XG53YXJuLmZvclByb3BlcnRpZXMoZXhwb3J0cywgJ2RlcHJlY2F0ZWQnLCBbJ2VtaXRFcnJzJywgJ2xldmVsTGVuZ3RoJ10pOyIsICJpbXBvcnQge1xuXHRBcHAsXG5cdEVkaXRvcixcblx0TWFya2Rvd25WaWV3LFxuXHRQbHVnaW4sXG5cdFBsdWdpblNldHRpbmdUYWIsXG5cdFNldHRpbmcsXG5cdE5vdGljZSxcblx0c2V0SWNvbixcbn0gZnJvbSAnb2JzaWRpYW4nO1xuXG5pbXBvcnQge1xuXHRQbHVnaW5TZXR0aW5ncyxcblx0REVGQVVMVF9TRVRUSU5HUyxcbn0gZnJvbSAnLi9zZXR0aW5ncyc7XG5cbmltcG9ydCB7IEV4cG9ydE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG4vLyBpbXBvcnQge1xuLy8gICAgIGVsZWN0cm9uRW5jcnlwdCxcbi8vICAgICBlbGVjdHJvbkRlY3J5cHQsXG4vLyB9IGZyb20gJy4vdXRpbHMvZW5jJztcbmltcG9ydCB7IEFOS0lfQ09OTkVDVF9ERUZBVUxUX1BPUlQgfSBmcm9tICcuL3V0aWxzL2Fua2knO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi91dGlscy92YWxpZGF0aW9ucyc7XG5pbXBvcnQgeyBTdGF0dXNCYXJFbGVtZW50IH0gZnJvbSAnLi91dGlscy9jdXNvbS10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dG9BbmtpUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IFBsdWdpblNldHRpbmdzO1xuXHRzdGF0dXNCYXI6IFN0YXR1c0JhckVsZW1lbnQ7XG5cdHN0YXR1c0Jhckljb246IEhUTUxFbGVtZW50O1xuXHRcblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQXV0b0Fua2lTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gdGhpcy5zZXR0aW5ncy5xdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0cztcbiAgICAgICAgY29uc3QgeyB0ZXh0U2VsZWN0aW9uOiBkZWZhdWx0c1RleHRTZWxlY3Rpb24sIGZpbGU6IGRlZmF1bHRzRmlsZSB9ID0gZGVmYXVsdHM7XG5cblx0XHR0aGlzLnN0YXR1c0JhciA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHRoaXMuc3RhdHVzQmFyLmNsYXNzTmFtZSA9ICdzdGF0dXMtYmFyLWF1dG8tYW5raSdcblx0XHR0aGlzLnN0YXR1c0Jhckljb24gPSB0aGlzLnN0YXR1c0Jhci5jcmVhdGVFbCgnc3BhbicsIHsgY2xzOiAnc3RhdHVzLWJhci1pY29uJyB9KTtcblx0XHR0aGlzLnN0YXR1c0Jhci5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnYXV0by1hbmtpJyB9KTtcblx0XHR0aGlzLnN0YXR1c0Jhci5kb1Jlc2V0ID0gKCkgPT4ge1xuXHRcdFx0c2V0SWNvbih0aGlzLnN0YXR1c0Jhckljb24sICdjaGVjay1jaXJjbGUtMicpO1xuXHRcdFx0dGhpcy5zdGF0dXNCYXIuY2xhc3NMaXN0LnJlbW92ZSgnLS1ydW5uaW5nJyk7XG5cdFx0XHR0aGlzLnN0YXR1c0Jhci5jbGFzc0xpc3QucmVtb3ZlKCctLWVycm9yJyk7XG5cdFx0fTtcblx0XHR0aGlzLnN0YXR1c0Jhci5kb0Rpc3BsYXlFcnJvciA9ICgpID0+IHtcblx0XHRcdHNldEljb24odGhpcy5zdGF0dXNCYXJJY29uLCAnYWxlcnQtY2lyY2xlJyk7XG5cdFx0XHR0aGlzLnN0YXR1c0Jhci5jbGFzc0xpc3QucmVtb3ZlKCctLXJ1bm5pbmcnKTtcblx0XHRcdHRoaXMuc3RhdHVzQmFyLmNsYXNzTGlzdC5hZGQoJy0tZXJyb3InKTtcblx0XHRcdFxuXHRcdH1cblx0XHR0aGlzLnN0YXR1c0Jhci5kb0Rpc3BsYXlSdW5uaW5nID0gKCkgPT4ge1xuXHRcdFx0c2V0SWNvbih0aGlzLnN0YXR1c0Jhckljb24sICdyZWZyZXNoLWN3Jyk7XG5cdFx0XHR0aGlzLnN0YXR1c0Jhci5jbGFzc0xpc3QucmVtb3ZlKCctLWVycm9yJyk7XG5cdFx0XHR0aGlzLnN0YXR1c0Jhci5jbGFzc0xpc3QuYWRkKCctLXJ1bm5pbmcnKTtcblx0XHR9O1xuXHRcdHRoaXMuc3RhdHVzQmFyLmRvUmVzZXQoKTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2V4cG9ydC1jdXJyZW50LWZpbGUtdG8tYW5raScsXG5cdFx0XHRuYW1lOiAnRXhwb3J0IEN1cnJlbnQgRmlsZSB0byBBbmtpJyxcblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5vcGVuQWlBcGlLZXkgPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdFx0XHRpZiAodmlldyA9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFjaGVja2luZykge1xuXHRcdFx0XHRcdGlmICh2aWV3LmRhdGEubGVuZ3RoIDw9IDApIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1RoZXJlIGlzIG5vdGhpbmcgaW4gdGhlIGZpbGUhJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gY29uc3QgYXBpS2V5ID0gZWxlY3Ryb25EZWNyeXB0KHRoaXMuc2V0dGluZ3Mub3BlbkFpQXBpS2V5KTtcblx0XHRcdFx0XHRjb25zdCBhcGlLZXkgPSB0aGlzLnNldHRpbmdzLm9wZW5BaUFwaUtleTtcblx0XHRcdFx0XHRjb25zdCBwb3J0ID0gdGhpcy5zZXR0aW5ncy5hbmtpQ29ubmVjdFBvcnQgfHwgQU5LSV9DT05ORUNUX0RFRkFVTFRfUE9SVDtcblx0XHRcdFx0XHRuZXcgRXhwb3J0TW9kYWwoXG5cdFx0XHRcdFx0XHR0aGlzLmFwcCxcblx0XHRcdFx0XHRcdHRoaXMuc3RhdHVzQmFyLFxuXHRcdFx0XHRcdFx0dmlldy5kYXRhLFxuXHRcdFx0XHRcdFx0YXBpS2V5LFxuXHRcdFx0XHRcdFx0cG9ydCxcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuYW5raURlc3RpbmF0aW9uRGVjayxcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuZ3B0QWR2YW5jZWRPcHRpb25zLFxuXHRcdFx0XHRcdFx0ZGVmYXVsdHNGaWxlLm51bVF1ZXN0aW9ucyxcblx0XHRcdFx0XHRcdGRlZmF1bHRzRmlsZS5udW1BbHRlcm5hdGl2ZXMsXG5cdFx0XHRcdFx0KS5vcGVuKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdleHBvcnQtdGV4dC1zZWxlY3Rpb24tdG8tYW5raScsXG5cdFx0XHRuYW1lOiAnRXhwb3J0IEhpZ2hsaWdodGVkIFRleHQgdG8gQW5raScsXG5cdFx0XHRlZGl0b3JDaGVja0NhbGxiYWNrOiAoY2hlY2tpbmc6IGJvb2xlYW4sIGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc3QgY3VyclRleHRTZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Mub3BlbkFpQXBpS2V5ID09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWNoZWNraW5nKSB7XG5cdFx0XHRcdFx0aWYgKGN1cnJUZXh0U2VsZWN0aW9uLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdObyB0ZXh0IHdhcyBzZWxlY3RlZCEnKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBjb25zdCBhcGlLZXkgPSBlbGVjdHJvbkRlY3J5cHQodGhpcy5zZXR0aW5ncy5vcGVuQWlBcGlLZXkpO1xuXHRcdFx0XHRcdGNvbnN0IGFwaUtleSA9IHRoaXMuc2V0dGluZ3Mub3BlbkFpQXBpS2V5O1xuXHRcdFx0XHRcdGNvbnN0IHBvcnQgPSB0aGlzLnNldHRpbmdzLmFua2lDb25uZWN0UG9ydCB8fCBBTktJX0NPTk5FQ1RfREVGQVVMVF9QT1JUO1xuXHRcdFx0XHRcdG5ldyBFeHBvcnRNb2RhbChcblx0XHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0dXNCYXIsXG5cdFx0XHRcdFx0XHRjdXJyVGV4dFNlbGVjdGlvbixcblx0XHRcdFx0XHRcdGFwaUtleSxcblx0XHRcdFx0XHRcdHBvcnQsXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmFua2lEZXN0aW5hdGlvbkRlY2ssXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmdwdEFkdmFuY2VkT3B0aW9ucyxcblx0XHRcdFx0XHRcdGRlZmF1bHRzVGV4dFNlbGVjdGlvbi5udW1RdWVzdGlvbnMsXG5cdFx0XHRcdFx0XHRkZWZhdWx0c1RleHRTZWxlY3Rpb24ubnVtQWx0ZXJuYXRpdmVzLFxuXHRcdFx0XHRcdCkub3BlbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cdFxuXHRvbnVubG9hZCgpIHtcblx0fVxuXHRcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cdFxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5jbGFzcyBBdXRvQW5raVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBBdXRvQW5raVBsdWdpbjtcblx0bWF4RmlsZXNTZXR0aW5nOiBTZXR0aW5nO1xuXHRcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQXV0b0Fua2lQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblx0XG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29uc3QgYW5raURlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIC8vIHVzZSBpbm5lckhUTUwgZm9yIGhhcmNvZGVkIGRlc2NyaXB0aW9uXG5cdFx0YW5raURlc2NyaXB0aW9uLmlubmVySFRNTCA9ICc8cD48YSBocmVmPVwiaHR0cHM6Ly9hcHBzLmFua2l3ZWIubmV0L1wiPkFua2k8L2E+IGlzIGFuIG9wZW4tc291cmNlIGZsYXNoY2FyZCBwcm9ncmFtIHRoYXQgaXMgcG9wdWxhciBmb3Igc3BhY2VkIHJlcGV0aXRpb24uIFRoaXMgcGx1Z2luIGhhcyBvbmx5IGJlZW4gdGVzdGVkIG9uIGRlc2t0b3AsIGFuZCByZXF1aXJlcyA8YSBocmVmPVwiaHR0cHM6Ly9mb29zb2Z0Lm5ldC9wcm9qZWN0cy9hbmtpLWNvbm5lY3QvXCI+QW5raSBDb25uZWN0PC9hPiB0byBiZSBpbnN0YWxsZWQgYWxvbmdzaWRlIHRoZSBtYWluIEFua2kgcHJvZ3JhbS48L3A+PHA+RW5hYmxpbmcgdGhpcyBwbHVnaW4gd2lsbCBhZGQgY29tbWFuZHMgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBRdWVzdGlvbi1BbnN3ZXItc3R5bGUgZmxhc2hjYXJkcyBpbnRvIHRoZSBBbmtpIHN5c3RlbSB1c2luZyBPcGVuQUlcXCdzIEFJIG1vZGVscy48L3A+PHA+Rm9yIGluZm9ybWF0aW9uIG9uIHVzYWdlLCBzZWUgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9hZDI5Njkvb2JzaWRpYW4tYXV0by1hbmtpI3JlYWRtZVwiPnRoZSBpbnN0cnVjdGlvbnM8L2E+IG9ubGluZS48L3A+JztcbiAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoYW5raURlc2NyaXB0aW9uKVxuXHRcdFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0Fua2kgUG9ydCcpXG5cdFx0XHQuc2V0RGVzYygnVGhlIHBvcnQgbnVtYmVyIHVzZWQgdG8gaG9zdCBBbmtpIENvbm5lY3QnKVxuXHRcdFx0LmFkZFRleHQodGV4dENvbXBvbmVudCA9PiB0ZXh0Q29tcG9uZW50XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignQW5raSBDb25uZWN0IERlZmF1bHQ6IDg3NjUnKVxuXHRcdFx0XHQuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmFua2lDb25uZWN0UG9ydCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbmtpQ29ubmVjdFBvcnQgPSBOdW1iZXIodmFsdWUpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0XHRcblx0XHRjb25zdCBvcGVuQWlEZXNjcmlwdGlvbiA9IG5ldyBEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0Y29uc3Qgb3BlbkFpRGVzY0h0bWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIC8vIHVzZSBpbm5lckhUTUwgZm9yIGhhcmNvZGVkIGRlc2NyaXB0aW9uXG5cdFx0b3BlbkFpRGVzY0h0bWwuaW5uZXJIVE1MID0gJ1RoZSBBUEkgS2V5IGFzc29jaWF0ZWQgd2l0aCB5b3VyIE9wZW5BSSBhY2NvdW50LCB1c2VkIGZvciBxdWVyeWluZyBHUFQuIEdvIDxhIGhyZWY9XCJodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vYWNjb3VudC9hcGkta2V5c1wiPmhlcmU8L2E+IHRvIG9idGFpbiBvbmUuJztcblx0XHRvcGVuQWlEZXNjcmlwdGlvbi5hcHBlbmRDaGlsZChvcGVuQWlEZXNjSHRtbCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdPcGVuQUkgQVBJIEtleScpXG5cdFx0XHQuc2V0RGVzYyhvcGVuQWlEZXNjcmlwdGlvbilcblx0XHRcdC5hZGRUZXh0KHRleHRDb21wb25lbnQgPT4gdGV4dENvbXBvbmVudFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoYGtleSBlbnRlcmVkOiAke3RoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5BaUFwaUtleUlkZW50aWZpZXJ9YCA/PyAnTk9fS0VZX0VOVEVSRUQnKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Ly8gdGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkFpQXBpS2V5ID0gZWxlY3Ryb25FbmNyeXB0KHZhbHVlKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuQWlBcGlLZXkgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkZW50aWZpZXIgPSAneHh4eCc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPj0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllciA9IGAke3ZhbHVlLnNsaWNlKDAsMyl9Li4uJHt2YWx1ZS5zbGljZSgtNCl9YFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5BaUFwaUtleUlkZW50aWZpZXIgPSBpZGVudGlmaWVyO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdEZWZhdWx0IE9wdGlvbnMgZm9yIEV4cG9ydGluZycgfSk7XG5cdFx0XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQW5raSBEZWZhdWx0IERlY2sgTmFtZScpXG5cdFx0XHQuc2V0RGVzYygnVGhlIG5hbWUgb2YgdGhlIGRlY2sgaW4gQW5raSB5b3Ugd2FudCB0byBleHBvcnQgZmxhc2hjYXJkcyB0bywgYnkgZGVmYXVsdCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0Q29tcG9uZW50ID0+IHRleHRDb21wb25lbnRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdEZWZhdWx0Jylcblx0XHRcdFx0LnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbmtpRGVzdGluYXRpb25EZWNrKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFua2lEZXN0aW5hdGlvbkRlY2sgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICctLT4gRm9yIGV4cG9ydGluZyBmdWxsIGZpbGVzJyB9KTtcbiAgICAgICAgXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnTnVtYmVyIG9mIFF1ZXN0aW9ucycpXG4gICAgICAgICAgICAuc2V0RGVzYygnVGhlIG51bWJlciBvZiBxdWVzdGlvbnMgdG8gZ2VuZXJhdGUgZnJvbSB0aGUgZmlsZS4nKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dENvbXBvbmVudCA9PiB0ZXh0Q29tcG9uZW50XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5xdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0cy5maWxlLm51bVF1ZXN0aW9ucykpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGlmICh2YWx1ZSA9PSAnJykge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucXVlc3Rpb25HZW5lcmF0aW9uRGVmYXVsdHMuZmlsZS5udW1RdWVzdGlvbnMgPSAwO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKCFpc051bWVyaWModmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdUaGUgdmFsdWUgeW91IGVudGVyZWQgaXMgbm90IGEgbnVtYmVyIHZhbHVlJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucXVlc3Rpb25HZW5lcmF0aW9uRGVmYXVsdHMuZmlsZS5udW1RdWVzdGlvbnMgPSBOdW1iZXIodmFsdWUpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnTnVtYmVyIG9mIEFsdGVybmF0aXZlcycpXG5cdFx0XHQuc2V0RGVzYygnVGhlIG51bWJlciBvZiBhbHRlcm5hdGl2ZXMgdG8gZ2VuZXJhdGUgZm9yIGVhY2ggcXVlc3Rpb24uIFplcm8gbWVhbnMgbm8gYWx0ZXJhdGl2ZXMuJylcblx0XHRcdC5hZGRUZXh0KHRleHRDb21wb25lbnQgPT4gdGV4dENvbXBvbmVudFxuXHRcdFx0XHQuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLnF1ZXN0aW9uR2VuZXJhdGlvbkRlZmF1bHRzLmZpbGUubnVtQWx0ZXJuYXRpdmVzKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGlmICh2YWx1ZSA9PSAnJykge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucXVlc3Rpb25HZW5lcmF0aW9uRGVmYXVsdHMuZmlsZS5udW1BbHRlcm5hdGl2ZXMgPSAwO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKCFpc051bWVyaWModmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdUaGUgdmFsdWUgeW91IGVudGVyZWQgaXMgbm90IGEgbnVtYmVyIHZhbHVlJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucXVlc3Rpb25HZW5lcmF0aW9uRGVmYXVsdHMuZmlsZS5udW1BbHRlcm5hdGl2ZXMgPSBOdW1iZXIodmFsdWUpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJy0tPiBGb3IgZXhwb3J0aW5nIHNlbGVjdGVkIHRleHQnIH0pO1xuICAgICAgICBcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdOdW1iZXIgb2YgUXVlc3Rpb25zJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdUaGUgbnVtYmVyIG9mIHF1ZXN0aW9ucyB0byBnZW5lcmF0ZSBmcm9tIHRoZSBzZWxlY3RlZCB0ZXh0LicpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0Q29tcG9uZW50ID0+IHRleHRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLnF1ZXN0aW9uR2VuZXJhdGlvbkRlZmF1bHRzLnRleHRTZWxlY3Rpb24ubnVtUXVlc3Rpb25zKSlcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHZhbHVlID09ICcnKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5xdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0cy50ZXh0U2VsZWN0aW9uLm51bVF1ZXN0aW9ucyA9IDA7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWlzTnVtZXJpYyh2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1RoZSB2YWx1ZSB5b3UgZW50ZXJlZCBpcyBub3QgYSBudW1iZXIgdmFsdWUnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5xdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0cy50ZXh0U2VsZWN0aW9uLm51bVF1ZXN0aW9ucyA9IE51bWJlcih2YWx1ZSk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdOdW1iZXIgb2YgQWx0ZXJuYXRpdmVzJylcblx0XHRcdC5zZXREZXNjKCdUaGUgbnVtYmVyIG9mIGFsdGVybmF0aXZlcyB0byBnZW5lcmF0ZSBmb3IgZWFjaCBxdWVzdGlvbi4gWmVybyBtZWFucyBubyBhbHRlcmF0aXZlcy4nKVxuXHRcdFx0LmFkZFRleHQodGV4dENvbXBvbmVudCA9PiB0ZXh0Q29tcG9uZW50XG5cdFx0XHRcdC5zZXRWYWx1ZShTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MucXVlc3Rpb25HZW5lcmF0aW9uRGVmYXVsdHMudGV4dFNlbGVjdGlvbi5udW1BbHRlcm5hdGl2ZXMpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHZhbHVlID09ICcnKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5xdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0cy50ZXh0U2VsZWN0aW9uLm51bUFsdGVybmF0aXZlcyA9IDA7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWlzTnVtZXJpYyh2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1RoZSB2YWx1ZSB5b3UgZW50ZXJlZCBpcyBub3QgYSBudW1iZXIgdmFsdWUnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5xdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0cy50ZXh0U2VsZWN0aW9uLm51bUFsdGVybmF0aXZlcyA9IE51bWJlcih2YWx1ZSk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0FkdmFuY2VkIE9wdGlvbnMgZm9yIE9wZW5BSVxcJ3MgR1BUIE1vZGVscycgfSk7XG5cbiAgICAgICAgLy8gU2VlIE9wZW5BSSBkb2NzIGZvciBtb3JlIGluZm86XG4gICAgICAgIC8vIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnNcbiAgICAgICAgY29uc3QgdGVtcFZhbENvbXBvbmVudCA9IGNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0dGV4dDogU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmdwdEFkdmFuY2VkT3B0aW9ucy50ZW1wZXJhdHVyZSksXG5cdFx0XHRjbHM6ICdzbGlkZXItdmFsJywgLy8gdXNlZCB0byBtYWtlIGN1c3RvbSBzbGlkZXIgY29tcG9uZW50IHdpdGggZGlzcGxheWVkIHZhbHVlIG5leHQgdG8gaXRcblx0XHR9KTtcbiAgICAgICAgY29uc3QgdGVtcENvbXBvbmVudCA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1RlbXBlcmF0dXJlJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdXNlZC4gSGlnaGVyIHZhbHVlcyBpbmNyZWFzZXMgcmFuZG9tbmVzcywgd2hpbGUgbG93ZXIgdmFsdWVzIG1ha2VzIHRoZSBvdXRwdXQgbW9yZSBkZXRlcm1pbmlzdGljLiAoRGVmYXVsdCA9IDEpJylcbiAgICAgICAgICAgIC5hZGRTbGlkZXIoc2xpZGVyQ29tcG9uZW50ID0+IHNsaWRlckNvbXBvbmVudFxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ncHRBZHZhbmNlZE9wdGlvbnMudGVtcGVyYXR1cmUpXG4gICAgICAgICAgICAgICAgLnNldExpbWl0cygwLCAyLCAwLjEpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5ncHRBZHZhbmNlZE9wdGlvbnMudGVtcGVyYXR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFZhbENvbXBvbmVudC50ZXh0Q29udGVudCA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB0ZW1wQ29tcG9uZW50LnNldHRpbmdFbC5hcHBlbmRDaGlsZCh0ZW1wVmFsQ29tcG9uZW50KTtcblxuICAgICAgICBjb25zdCB0b3BQVmFsQ29tcG9uZW50ID0gY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHR0ZXh0OiBTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ3B0QWR2YW5jZWRPcHRpb25zLnRvcF9wKSxcblx0XHRcdGNsczogJ3NsaWRlci12YWwnLFxuXHRcdH0pO1xuICAgICAgICBjb25zdCB0b3BQQ29tcG9uZW50ID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnVG9wIFAnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1ZhbHVlIGZvciBudWNsZXVzIHNhbXBsaW5nLiBMb3dlciB2YWx1ZXMgbWVhbiB0aGUgb3V0cHV0IGNvbnNpZGVycyB0aGUgdG9rZW5zIGNvbXByaXNpbmcgaGlnaGVyIHByb2JhYmlsaXR5IG1hc3MuIChEZWZhdWx0ID0gMSknKVxuICAgICAgICAgICAgLmFkZFNsaWRlcihzbGlkZXJDb21wb25lbnQgPT4gc2xpZGVyQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdwdEFkdmFuY2VkT3B0aW9ucy50b3BfcClcbiAgICAgICAgICAgICAgICAuc2V0TGltaXRzKDAsIDEsIDAuMDUpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5ncHRBZHZhbmNlZE9wdGlvbnMudG9wX3AgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdG9wUFZhbENvbXBvbmVudC50ZXh0Q29udGVudCA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB0b3BQQ29tcG9uZW50LnNldHRpbmdFbC5hcHBlbmRDaGlsZCh0b3BQVmFsQ29tcG9uZW50KTtcblxuICAgICAgICBjb25zdCBmUGVuYWx0eVZhbENvbXBvbmVudCA9IGNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0dGV4dDogU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmdwdEFkdmFuY2VkT3B0aW9ucy5mcmVxdWVuY3lfcGVuYWx0eSksXG5cdFx0XHRjbHM6ICdzbGlkZXItdmFsJyxcblx0XHR9KTtcbiAgICAgICAgY29uc3QgZlBlbmFsdHlDb21wb25lbnQgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdGcmVxdWVuY3kgUGVuYWx0eScpXG4gICAgICAgICAgICAuc2V0RGVzYygnUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIG5ldyB0b2tlbnMgYmFzZWQgb24gdGhlaXIgZXhpc3RpbmcgZnJlcXVlbmN5IGluIHRoZSB0ZXh0IHNvIGZhci4gSGlnaGVyIHZhbHVlcyBkZWNyZWFzZSBjaGFuY2Ugb2YgXFwncmVwZXRpdGlvblxcJy4gKERlZmF1bHQgPSAwKScpXG4gICAgICAgICAgICAuYWRkU2xpZGVyKHNsaWRlckNvbXBvbmVudCA9PiBzbGlkZXJDb21wb25lbnRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ3B0QWR2YW5jZWRPcHRpb25zLmZyZXF1ZW5jeV9wZW5hbHR5KVxuICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoLTIsIDIsIDAuMSlcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmdwdEFkdmFuY2VkT3B0aW9ucy5mcmVxdWVuY3lfcGVuYWx0eSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBmUGVuYWx0eVZhbENvbXBvbmVudC50ZXh0Q29udGVudCA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICBmUGVuYWx0eUNvbXBvbmVudC5zZXR0aW5nRWwuYXBwZW5kQ2hpbGQoZlBlbmFsdHlWYWxDb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IHBQZW5hbHR5VmFsQ29tcG9uZW50ID0gY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHR0ZXh0OiBTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ3B0QWR2YW5jZWRPcHRpb25zLnByZXNlbmNlX3BlbmFsdHkpLFxuXHRcdFx0Y2xzOiAnc2xpZGVyLXZhbCcsXG5cdFx0fSk7XG5cdFx0Y29uc3QgcFBlbmFsdHlDb21wb25lbnQgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdQcmVzZW5jZSBQZW5hbHR5JylcbiAgICAgICAgICAgIC5zZXREZXNjKCdQb3NpdGl2ZSB2YWx1ZXMgcGVuYWxpemUgbmV3IHRva2VucyBiYXNlZCBvbiB3aGV0aGVyIHRoZXkgYXBwZWFyIGluIHRoZSB0ZXh0IHNvIGZhci4gSGlnaGVyIHZhbHVlcyBpbmNyZWFzZSBjaGFuY2Ugb2YgXFwnY3JlYXRpdml0eVxcJy4gKERlZmF1bHQgPSAwKScpXG4gICAgICAgICAgICAuYWRkU2xpZGVyKHNsaWRlckNvbXBvbmVudCA9PiBzbGlkZXJDb21wb25lbnRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ3B0QWR2YW5jZWRPcHRpb25zLnByZXNlbmNlX3BlbmFsdHkpXG4gICAgICAgICAgICAgICAgLnNldExpbWl0cygtMiwgMiwgMC4xKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ3B0QWR2YW5jZWRPcHRpb25zLnByZXNlbmNlX3BlbmFsdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcFBlbmFsdHlWYWxDb21wb25lbnQudGV4dENvbnRlbnQgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgcFBlbmFsdHlDb21wb25lbnQuc2V0dGluZ0VsLmFwcGVuZENoaWxkKHBQZW5hbHR5VmFsQ29tcG9uZW50KTtcblxuXG4gICAgICAgIGNvbnN0IG9wZW5BaVRva2VuRGVzY3JpcHRpb24gPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBjb25zdCBvcGVuQWlUb2tlbkRlc2NIdG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAvLyB1c2UgaW5uZXJIVE1MIGZvciBoYXJjb2RlZCBkZXNjcmlwdGlvblxuICAgICAgICBvcGVuQWlUb2tlbkRlc2NIdG1sLmlubmVySFRNTCA9ICdUaGUgbWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIGNvbnN1bWVkIGZvciBlYWNoIHF1ZXN0aW9uLiBTZWUgPGEgaHJlZj1cImh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS90b2tlbml6ZXJcIj50b2tlbnM8L2E+IHRvIGJldHRlciB1bmRlcnN0YW5kIGhvdyB0b2tlbnMgYXJlIHF1YW50aXplZC4gKERlZmF1bHQgPSAxNiknO1xuICAgICAgICBvcGVuQWlUb2tlbkRlc2NyaXB0aW9uLmFwcGVuZENoaWxkKG9wZW5BaVRva2VuRGVzY0h0bWwpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ01heGltdW0gVG9rZW5zIHBlciBRdWVzdGlvbicpXG4gICAgICAgICAgICAuc2V0RGVzYyhvcGVuQWlUb2tlbkRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dENvbXBvbmVudCA9PiB0ZXh0Q29tcG9uZW50XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ncHRBZHZhbmNlZE9wdGlvbnMubWF4X3Rva2Vuc19wZXJfcXVlc3Rpb24pKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRpZiAodmFsdWUgPT0gJycpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmdwdEFkdmFuY2VkT3B0aW9ucy5tYXhfdG9rZW5zX3Blcl9xdWVzdGlvbiA9IERFRkFVTFRfU0VUVElOR1MuZ3B0QWR2YW5jZWRPcHRpb25zLm1heF90b2tlbnNfcGVyX3F1ZXN0aW9uO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKCFpc051bWVyaWModmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdUaGUgdmFsdWUgeW91IGVudGVyZWQgaXMgbm90IGEgbnVtYmVyIHZhbHVlJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ3B0QWR2YW5jZWRPcHRpb25zLm1heF90b2tlbnNfcGVyX3F1ZXN0aW9uID0gTnVtYmVyKHZhbHVlKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblx0fVxufVxuIiwgImltcG9ydCB7IE5vdGljZSwgcmVxdWVzdFVybCB9IGZyb20gJ29ic2lkaWFuJztcblxuaW1wb3J0IHsgQ2FyZEluZm9ybWF0aW9uIH0gZnJvbSAnLi9ncHQnO1xuXG5jb25zdCBBTktJX1ZFUlNJT04gPSA2O1xuLy8gY29uc3QgQU5LSV9ERUZBVUxUX0RFQ0sgPSAnRGVmYXVsdCc7XG5leHBvcnQgY29uc3QgQU5LSV9DT05ORUNUX0RFRkFVTFRfUE9SVCA9IDg3NjU7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0Fua2lBdmFpbGFiaWxpdHkoYW5raVBvcnQ6IG51bWJlcikge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6IGBodHRwOi8vMTI3LjAuMC4xOiR7YW5raVBvcnR9YCxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdkZWNrTmFtZXMnLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IEFOS0lfVkVSU0lPTixcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aHJvdzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoYEVSUjogQ291bGQgbm90IGNvbm5lY3QgdG8gQW5raSEgUGxlYXNlIGVuc3VyZSB5b3UgaGF2ZSBBbmtpIENvbm5lY3QgcnVubmluZyBvbiBwb3J0ICR7YW5raVBvcnR9LmApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhZGRDYXJkc1RvQW5raShhbmtpUG9ydDogbnVtYmVyLCBkZWNrOiBzdHJpbmcsIGRhdGE6IENhcmRJbmZvcm1hdGlvbltdKSB7XG4gICAgLy8gZm9yIGFua2kgY29ubmVjdCwgdGhlIHJlcXVlc3QgZm9ybWF0IGlzIChodHRwczovL2Zvb3NvZnQubmV0L3Byb2plY3RzL2Fua2ktY29ubmVjdC8pXG4gICAgY29uc3QgYW5raVJlcXVlc3REYXRhID0gZGF0YS5tYXAoKGNhcmQpID0+ICh7XG4gICAgICAgICdkZWNrTmFtZSc6IGRlY2ssXG4gICAgICAgICdtb2RlbE5hbWUnOiAnQmFzaWMnLFxuICAgICAgICAnZmllbGRzJzoge1xuICAgICAgICAgICAgJ0Zyb250JzogY2FyZC5xLFxuICAgICAgICAgICAgJ0JhY2snOiBjYXJkLmEsXG4gICAgICAgIH0sXG4gICAgICAgICd0YWdzJzogW1xuICAgICAgICAgICAgJ2F1dG8tZ3B0LWltcG9ydGVkJ1xuICAgICAgICBdLFxuICAgIH0pKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiBgaHR0cDovLzEyNy4wLjAuMToke2Fua2lQb3J0fWAsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnYWRkTm90ZXMnLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IEFOS0lfVkVSU0lPTixcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ25vdGVzJzogYW5raVJlcXVlc3REYXRhLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgICAgICB0aHJvdzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXMuanNvbi5yZXN1bHQgPz8gW107XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgbmV3IE5vdGljZShgRVJSOiBDb3VsZCBub3QgY29ubmVjdCB0byBBbmtpISBQbGVhc2UgZW5zdXJlIHlvdSBoYXZlIEFua2kgQ29ubmVjdCBydW5uaW5nIG9uIHBvcnQgJHthbmtpUG9ydH0uYCk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbmtpRGVja3MoYW5raVBvcnQ6IG51bWJlcikge1xuICAgIGxldCByZXM7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzID0gYXdhaXQgcmVxdWVzdFVybCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogYGh0dHA6Ly8xMjcuMC4wLjE6JHthbmtpUG9ydH1gLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ2RlY2tOYW1lcycsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogQU5LSV9WRVJTSU9OLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge30sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRocm93OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBuZXcgTm90aWNlKGBFUlI6IENvdWxkIG5vdCBjb25uZWN0IHRvIEFua2khIFBsZWFzZSBlbnN1cmUgeW91IGhhdmUgQW5raSBDb25uZWN0IHJ1bm5pbmcgb24gcG9ydCAke2Fua2lQb3J0fS5gKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLmpzb24ucmVzdWx0IGFzIHN0cmluZ1tdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tBbmtpRGVja3NFeGlzdChhbmtpUG9ydDogbnVtYmVyKSB7XG4gICAgY29uc3QgZGVja3MgPSBhd2FpdCBnZXRBbmtpRGVja3MoYW5raVBvcnQpO1xuICAgIGlmIChkZWNrcy5sZW5ndGggPT0gMCkge1xuICAgICAgICBuZXcgTm90aWNlKCdZb3VyIGFua2kgYWNjb3VudCBoYXMgbm8gZGVja3MuIENyZWF0ZSBhIG5ldyBvbmUgYmVmb3JlIHVzaW5nIScpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydFRvQW5raShjYXJkczogQ2FyZEluZm9ybWF0aW9uW10sIHBvcnQ6IG51bWJlciwgZGVjazogc3RyaW5nKSB7XG4gICAgLy8gdHVybiBub3RlIGludG8gUSZBIGZvcm1hdCB1c2luZyBHUFRcbiAgICBjb25zdCBhbmtpUmVzOiBudW1iZXJbXSA9IGF3YWl0IGFkZENhcmRzVG9BbmtpKHBvcnQsIGRlY2ssIGNhcmRzKTtcbiAgICBpZiAoYW5raVJlcy5sZW5ndGggPiAwKSBuZXcgTm90aWNlKGBTdWNjZXNzZnVsbHkgZXhwb3J0ZWQgJHthbmtpUmVzLmxlbmd0aH0gY2FyZChzKSB0byBBbmtpIWApXG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCAiaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zJztcbmltcG9ydCB7IEFOS0lfQ09OTkVDVF9ERUZBVUxUX1BPUlQgfSBmcm9tICcuL3V0aWxzL2Fua2knO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdwdEFkdmFuY2VkT3B0aW9ucyBleHRlbmRzIFBhcnRpYWw8Q2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlPiB7XG5cdHRlbXBlcmF0dXJlOiBudW1iZXI7XG5cdHRvcF9wOiBudW1iZXI7XG5cdGZyZXF1ZW5jeV9wZW5hbHR5OiBudW1iZXI7XG5cdHByZXNlbmNlX3BlbmFsdHk6IG51bWJlcjtcblx0bWF4X3Rva2Vuc19wZXJfcXVlc3Rpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0cyB7XG5cdHRleHRTZWxlY3Rpb246IHtcblx0XHRudW1RdWVzdGlvbnM6IG51bWJlcixcblx0XHRudW1BbHRlcm5hdGl2ZXM6IG51bWJlcixcblx0fSxcblx0ZmlsZToge1xuXHRcdG51bVF1ZXN0aW9uczogbnVtYmVyLFxuXHRcdG51bUFsdGVybmF0aXZlczogbnVtYmVyLFxuXHR9LFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsdWdpblNldHRpbmdzIHtcblx0YW5raUNvbm5lY3RQb3J0OiBudW1iZXI7XG5cdGFua2lEZXN0aW5hdGlvbkRlY2s6IHN0cmluZztcblx0b3BlbkFpQXBpS2V5OiBzdHJpbmcgfCBudWxsO1xuXHRvcGVuQWlBcGlLZXlJZGVudGlmaWVyOiBzdHJpbmc7XG5cdGdwdEFkdmFuY2VkT3B0aW9uczogR3B0QWR2YW5jZWRPcHRpb25zO1xuXHRxdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0czogUXVlc3Rpb25HZW5lcmF0aW9uRGVmYXVsdHM7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQbHVnaW5TZXR0aW5ncyA9IHtcblx0YW5raUNvbm5lY3RQb3J0OiBBTktJX0NPTk5FQ1RfREVGQVVMVF9QT1JULFxuXHRhbmtpRGVzdGluYXRpb25EZWNrOiAnJyxcblx0b3BlbkFpQXBpS2V5OiBudWxsLFxuXHRvcGVuQWlBcGlLZXlJZGVudGlmaWVyOiAnJyxcblx0Z3B0QWR2YW5jZWRPcHRpb25zOiB7XG5cdFx0dGVtcGVyYXR1cmU6IDEsXG5cdFx0dG9wX3A6IDEuMCxcblx0XHRmcmVxdWVuY3lfcGVuYWx0eTogMC4wLFxuXHRcdHByZXNlbmNlX3BlbmFsdHk6IDAuMCxcblx0XHRtYXhfdG9rZW5zX3Blcl9xdWVzdGlvbjogMTAwLFxuXHR9LFxuXHRxdWVzdGlvbkdlbmVyYXRpb25EZWZhdWx0czoge1xuXHRcdHRleHRTZWxlY3Rpb246IHtcblx0XHRcdG51bVF1ZXN0aW9uczogMSxcblx0XHRcdG51bUFsdGVybmF0aXZlczogMCxcblx0XHR9LFxuXHRcdGZpbGU6IHtcblx0XHRcdG51bVF1ZXN0aW9uczogNSxcblx0XHRcdG51bUFsdGVybmF0aXZlczogMCxcblx0XHR9LFxuXHR9LFxufVxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEdwdEFkdmFuY2VkT3B0aW9ucyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuXG5pbXBvcnQgeyBcbiAgICBjaGVja0Fua2lBdmFpbGFiaWxpdHksXG4gICAgY2hlY2tBbmtpRGVja3NFeGlzdCxcbiAgICBleHBvcnRUb0Fua2ksXG4gICAgZ2V0QW5raURlY2tzLFxufSBmcm9tICcuL3V0aWxzL2Fua2knO1xuaW1wb3J0IHsgQ2FyZEluZm9ybWF0aW9uLCBjaGVja0dwdCwgY29udmVydE5vdGVzVG9GbGFzaGNhcmRzIH0gZnJvbSAnLi91dGlscy9ncHQnO1xuaW1wb3J0IHsgU3RhdHVzQmFyRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvY3Vzb20tdHlwZXMnO1xuXG4vLyBpbXBvcnQgeyBTQU1QTEVfQ0FSRF9JTkZPUk1BVElPTiB9IGZyb20gJ3NhbXBsZS9zYW1wbGVfY2FyZF9pbmZvcm1hdGlvbic7XG5cbmZ1bmN0aW9uIGNoZWNrVmFsaWROdW1HcmVhdGVyVGhhblplcm8odGV4dDogc3RyaW5nfG51bWJlciwgaW5jbHVzaXZlWmVybz86IGJvb2xlYW4pIHtcbiAgICBpZiAodHlwZW9mIHRleHQgPT0gJ3N0cmluZycgJiYgdGV4dCA9PT0gJycpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoaXNOYU4oK3RleHQpKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGluY2x1c2l2ZVplcm8gPyArdGV4dCA+PSAwIDogK3RleHQgPiAwO1xufVxuZXhwb3J0IGNsYXNzIEV4cG9ydE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICAgIG5fcTogbnVtYmVyO1xuICAgIG5fcV92YWxpZDogYm9vbGVhbjtcbiAgICBuX2FsdDogbnVtYmVyO1xuICAgIG5fYWx0X3ZhbGlkOiBib29sZWFuO1xuICAgIGRhdGE6IHN0cmluZztcbiAgICBhcGlLZXk6IHN0cmluZztcbiAgICBwb3J0OiBudW1iZXI7XG4gICAgZGVjazogc3RyaW5nO1xuICAgIGdwdEFkdmFuY2VkT3B0aW9uczogR3B0QWR2YW5jZWRPcHRpb25zO1xuICAgIHN0YXR1c0JhcjogU3RhdHVzQmFyRWxlbWVudDtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXBwOiBBcHAsXG4gICAgICAgIHN0YXR1c0JhcjogU3RhdHVzQmFyRWxlbWVudCxcbiAgICAgICAgZGF0YTogc3RyaW5nLFxuICAgICAgICBvcGVuQWlBcGlLZXk6IHN0cmluZyxcbiAgICAgICAgYW5raUNvbm5lY3RQb3J0OiBudW1iZXIsXG4gICAgICAgIGFua2lEZXN0aW5hdGlvbkRlY2s6IHN0cmluZyxcbiAgICAgICAgZ3B0QWR2YW5jZWRPcHRpb25zOiBHcHRBZHZhbmNlZE9wdGlvbnMsXG4gICAgICAgIGRhZmF1bHROdW1RdWVzdGlvbnM/OiBudW1iZXIsXG4gICAgICAgIGRlZmF1bHROdW1BbHRlcm5hdGl2ZXM/OiBudW1iZXIsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMuc3RhdHVzQmFyID0gc3RhdHVzQmFyO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmFwaUtleSA9IG9wZW5BaUFwaUtleTtcbiAgICAgICAgdGhpcy5wb3J0ID0gYW5raUNvbm5lY3RQb3J0O1xuICAgICAgICB0aGlzLmRlY2sgPSBhbmtpRGVzdGluYXRpb25EZWNrO1xuICAgICAgICB0aGlzLmdwdEFkdmFuY2VkT3B0aW9ucyA9IGdwdEFkdmFuY2VkT3B0aW9ucztcblxuICAgICAgICB0aGlzLm5fcSA9IGRhZmF1bHROdW1RdWVzdGlvbnMgPz8gNTtcbiAgICAgICAgdGhpcy5uX3FfdmFsaWQgPSBjaGVja1ZhbGlkTnVtR3JlYXRlclRoYW5aZXJvKHRoaXMubl9xKTtcbiAgICAgICAgdGhpcy5uX2FsdCA9IGRlZmF1bHROdW1BbHRlcm5hdGl2ZXMgPz8gMztcbiAgICAgICAgdGhpcy5uX2FsdF92YWxpZCA9IGNoZWNrVmFsaWROdW1HcmVhdGVyVGhhblplcm8odGhpcy5uX2FsdCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblxuICAgICAgICBjb25zdCBpc0Fua2lBdmFpbGFibGUgPSBhd2FpdCBjaGVja0Fua2lBdmFpbGFiaWxpdHkodGhpcy5wb3J0KTtcbiAgICAgICAgLy8gdXBkYXRlIHN0YXR1cyBiYXIgaWYgZXJyb3Ivc3VjY2Vzc1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNCYXIuZG9EaXNwbGF5RXJyb3IgJiYgIWlzQW5raUF2YWlsYWJsZSkgdGhpcy5zdGF0dXNCYXIuZG9EaXNwbGF5RXJyb3IoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzQmFyLmRvUmVzZXQgJiYgaXNBbmtpQXZhaWxhYmxlKSB0aGlzLnN0YXR1c0Jhci5kb1Jlc2V0KCk7XG4gICAgICAgIGlmICghaXNBbmtpQXZhaWxhYmxlKSByZXR1cm4gdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgIGNvbnN0IGFua2lDaGVjayA9IGF3YWl0IGNoZWNrQW5raURlY2tzRXhpc3QodGhpcy5wb3J0KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzQmFyLmRvRGlzcGxheUVycm9yICYmICFhbmtpQ2hlY2spIHRoaXMuc3RhdHVzQmFyLmRvRGlzcGxheUVycm9yKCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c0Jhci5kb1Jlc2V0ICYmIGFua2lDaGVjaykgdGhpcy5zdGF0dXNCYXIuZG9SZXNldCgpO1xuICAgICAgICBpZiAoIWFua2lDaGVjaykgcmV0dXJuIHRoaXMuY2xvc2UoKTtcblxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnSG93IG1hbnkgcXVlc3Rpb25zIHNob3VsZCBiZSBnZW5lcmF0ZWQ/JyB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnTnVtYmVyIG9mIFF1ZXN0aW9ucycpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShTdHJpbmcodGhpcy5uX3EpKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uX3FfdmFsaWQgPSBjaGVja1ZhbGlkTnVtR3JlYXRlclRoYW5aZXJvKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uX3EgPSBOdW1iZXIodmFsdWUpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ051bWJlciBvZiBBbHRlcm5hdGl2ZXMnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0dlbmVyYXRlIG11bHRpcGxlIHZlcnNpb25zIG9mIHF1ZXN0aW9ucyBhbmQgY2hvb3NlIHlvdXIgZmF2b3JpdGUgb25lcyEnKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMubl9hbHQpKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uX2FsdF92YWxpZCA9IGNoZWNrVmFsaWROdW1HcmVhdGVyVGhhblplcm8odmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5fYWx0ID0gTnVtYmVyKHZhbHVlKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgICAgICAgIC5hZGRCdXR0b24oKGJ0bikgPT5cbiAgICAgICAgICAgICAgICBidG5cbiAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnR2VuZXJhdGUgQ2FyZHMnKVxuICAgICAgICAgICAgICAgIC5zZXRDdGEoKVxuICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5fcV92YWxpZCB8fCAhdGhpcy5uX2FsdF92YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnQW4gaW52YWxpZCBudW1iZXIgd2FzIGVudGVyZWQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1JlcXVlc3RWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1JlcXVlc3RWYWxpZCA9IGNoZWNrR3B0KHRoaXMuYXBpS2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVxdWVzdFZhbGlkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1c0Jhci5kb0Rpc3BsYXlSdW5uaW5nKSB0aGlzLnN0YXR1c0Jhci5kb0Rpc3BsYXlSdW5uaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRfc2V0czogQXJyYXk8Q2FyZEluZm9ybWF0aW9uW10+ID0gYXdhaXQgY29udmVydE5vdGVzVG9GbGFzaGNhcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGlLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5fcSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubl9hbHQrMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3B0QWR2YW5jZWRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXNCYXIuZG9SZXNldCkgdGhpcy5zdGF0dXNCYXIuZG9SZXNldCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJkX3NldHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFkZCBsb2FkaW5nIGluZGljYXRvciBzb21ld2hlcmVcbiAgICAgICAgICAgICAgICAgICAgbmV3IENob2ljZU1vZGFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkX3NldHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTQU1QTEVfQ0FSRF9JTkZPUk1BVElPTixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubl9xLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uX2FsdCA+IDAsXG4gICAgICAgICAgICAgICAgICAgICkub3BlbigpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbmNsYXNzIFF1ZXN0aW9uU2V0V2l0aFNlbGVjdGlvbnMge1xuICAgIHF1ZXN0aW9uczogQ2FyZEluZm9ybWF0aW9uW107XG4gICAgc2VsZWN0ZWQ6IFNldDxudW1iZXI+O1xuICAgIHJlbmRlckZ1bmM6IFZvaWRGdW5jdGlvbjtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcXVlc3Rpb25zOiBDYXJkSW5mb3JtYXRpb25bXSxcbiAgICAgICAgb25DaGFuZ2VDYWxsYmFjazogVm9pZEZ1bmN0aW9uLFxuICAgICAgICBzZWxlY3RBbGxPbkluaXQ/OiBib29sZWFuLFxuICAgICkge1xuICAgICAgICB0aGlzLnF1ZXN0aW9ucyA9IHF1ZXN0aW9ucztcbiAgICAgICAgaWYgKHNlbGVjdEFsbE9uSW5pdCkgdGhpcy5zZWxlY3RlZCA9IG5ldyBTZXQoWy4uLkFycmF5KHF1ZXN0aW9ucy5sZW5ndGgpLmtleXMoKV0pXG4gICAgICAgIGVsc2UgdGhpcy5zZWxlY3RlZCA9IG5ldyBTZXQoW10pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5yZW5kZXJGdW5jID0gb25DaGFuZ2VDYWxsYmFjaztcbiAgICB9XG5cbiAgICByZW5kZXJIdG1sTGlzdCgpIHtcbiAgICAgICAgY29uc3QgaHRtbExpc3QgPSBjcmVhdGVFbCgndWwnLCB7IGNsczogJ3F1ZXN0aW9uLW9wdGlvbnMtY29udGFpbmVyJyB9KTtcblxuICAgICAgICBjb25zdCBjb252ZW5pZW5jZUJ1dHRvbnMgPSBjcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdxdWVzdGlvbi1vcHRpb25zX19idXR0b25zJyB9KTtcbiAgICAgICAgY29uc3Qgc2VsZWN0QWxsQnV0dG9uID0gY29udmVuaWVuY2VCdXR0b25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTZWxlY3QgQWxsJyB9KTtcbiAgICAgICAgc2VsZWN0QWxsQnV0dG9uLm9uY2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4geyB0aGlzLnNlbGVjdEFsbCgpIH07XG4gICAgICAgIGNvbnN0IGRlc2VsZWN0QWxsQnV0dG9uID0gY29udmVuaWVuY2VCdXR0b25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZXNlbGVjdCBBbGwnIH0pO1xuICAgICAgICBkZXNlbGVjdEFsbEJ1dHRvbi5vbmNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHsgdGhpcy5kZXNlbGVjdEFsbCgpIH07XG5cbiAgICAgICAgaHRtbExpc3QuYXBwZW5kQ2hpbGQoY29udmVuaWVuY2VCdXR0b25zKTtcblxuICAgICAgICB0aGlzLnF1ZXN0aW9ucy5mb3JFYWNoKChxOiBDYXJkSW5mb3JtYXRpb24sIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBodG1sUXVlc3Rpb24gPSBjcmVhdGVFbCgnbGknKTtcbiAgICAgICAgICAgIGh0bWxRdWVzdGlvbi5hcHBlbmRDaGlsZChjcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHEucSB9KSk7XG4gICAgICAgICAgICBodG1sUXVlc3Rpb24uYXBwZW5kQ2hpbGQoY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHEuYSB9KSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC5oYXMoaWR4KSkge1xuICAgICAgICAgICAgICAgIGh0bWxRdWVzdGlvbi5jbGFzc05hbWUgPSAncXVlc3Rpb24tb3B0aW9uIC0tc2VsZWN0ZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBodG1sUXVlc3Rpb24uY2xhc3NOYW1lID0gJ3F1ZXN0aW9uLW9wdGlvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWxRdWVzdGlvbi5vbmNsaWNrID0gKCkgPT4geyB0aGlzLnRvZ2dsZVNlbGVjdChpZHgpIH07XG4gICAgICAgICAgICBodG1sTGlzdC5hcHBlbmRDaGlsZChodG1sUXVlc3Rpb24pO1xuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBodG1sTGlzdDtcbiAgICB9XG5cbiAgICB0b2dnbGVTZWxlY3QoaWR4OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQuaGFzKGlkeCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZGVsZXRlKGlkeCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmFkZChpZHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyRnVuYygpO1xuICAgIH1cblxuICAgIHNlbGVjdEFsbCgpIHtcbiAgICAgICAgdGhpcy5xdWVzdGlvbnMuZm9yRWFjaCgocTogQ2FyZEluZm9ybWF0aW9uLCBpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQuaGFzKGlkeCkpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuYWRkKGlkeCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbmRlckZ1bmMoKTtcbiAgICB9XG5cbiAgICBkZXNlbGVjdEFsbCgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZC5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlbmRlckZ1bmMoKTtcbiAgICB9XG5cbiAgICBleHRyYWN0U2VsZWN0ZWRRdWVzaW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlc3Rpb25zLmZpbHRlcigodmFsLCBpZHgpID0+IHRoaXMuc2VsZWN0ZWQuaGFzKGlkeCkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENob2ljZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICAgIGNhcmRfc2V0czogQXJyYXk8Q2FyZEluZm9ybWF0aW9uW10+O1xuICAgIHF1ZXN0aW9uX3NldHM6IFF1ZXN0aW9uU2V0V2l0aFNlbGVjdGlvbnNbXTtcbiAgICBuX3NldHM6IG51bWJlcjtcbiAgICBwb3J0OiBudW1iZXI7XG4gICAgZGVjazogc3RyaW5nO1xuXG4gICAgY3Vycl9zZXQ6IG51bWJlcjtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXBwOiBBcHAsXG4gICAgICAgIGNhcmRfc2V0czogQXJyYXk8Q2FyZEluZm9ybWF0aW9uW10+LFxuICAgICAgICBwb3J0OiBudW1iZXIsXG4gICAgICAgIGRlY2s6IHN0cmluZyxcbiAgICAgICAgbl9xOiBudW1iZXIsXG4gICAgICAgIGhhc19hbHRlcm5hdGl2ZXM6IGJvb2xlYW4sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29udGVudCAgPSB0aGlzLnJlbmRlckNvbnRlbnQuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmNhcmRfc2V0cyA9IGNhcmRfc2V0cztcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICAgICAgdGhpcy5kZWNrID0gZGVjaztcblxuICAgICAgICAvLyBjcmVhdGUgcXVlc3Rpb24gc2V0c1xuICAgICAgICB0aGlzLmN1cnJfc2V0ID0gMDtcbiAgICAgICAgdGhpcy5xdWVzdGlvbl9zZXRzID0gW107XG5cbiAgICAgICAgaWYgKGhhc19hbHRlcm5hdGl2ZXMpIHtcbiAgICAgICAgICAgIHRoaXMubl9zZXRzID0gbl9xO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuX3E7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uX2Nob2ljZXM6IENhcmRJbmZvcm1hdGlvbltdID0gW107XG4gICAgXG4gICAgICAgICAgICAgICAgY2FyZF9zZXRzLmZvckVhY2goKHNldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHNldC5sZW5ndGgpIHF1ZXN0aW9uX2Nob2ljZXMucHVzaChzZXRbaV0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvbl9zZXRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIG5ldyBRdWVzdGlvblNldFdpdGhTZWxlY3Rpb25zKHF1ZXN0aW9uX2Nob2ljZXMsIHRoaXMucmVuZGVyQ29udGVudClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uX3NldHMgPSAxO1xuICAgICAgICAgICAgdGhpcy5xdWVzdGlvbl9zZXRzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IFF1ZXN0aW9uU2V0V2l0aFNlbGVjdGlvbnMoY2FyZF9zZXRzWzBdLCB0aGlzLnJlbmRlckNvbnRlbnQpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5pbm5lckhUTUwgPSAnJzsgLy8gdXNlIGlubmVySFRNTCB0byByZXNldCBjb250ZW50XG5cbiAgICAgICAgLy8gbW9kYWwgdGl0bGUsIGRlc2NyaXB0aW9uXG4gICAgICAgIGlmICh0aGlzLm5fc2V0cyA9PT0gMSkge1xuICAgICAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ1F1ZXN0aW9ucyBMaXN0JyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6IGBRdWVzdGlvbiBTZXQgTm8uICR7dGhpcy5jdXJyX3NldCsxfWAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnUGljayBvbmUgb3IgbW9yZSBvZiB0aGUgcXVlc3Rpb25zIGJlbG93IHlvdSB3YW50IHRvIGV4cG9ydCB0byBBbmtpLicgfSk7XG5cbiAgICAgICAgLy8gZ2V0IGNhcmQgc2V0IHRvIHJlbmRlclxuICAgICAgICBjb25zdCBodG1sTGlzdCA9IHRoaXMucXVlc3Rpb25fc2V0c1t0aGlzLmN1cnJfc2V0XS5yZW5kZXJIdG1sTGlzdCgpO1xuICAgICAgICBjb250ZW50RWwuYXBwZW5kQ2hpbGQoaHRtbExpc3QpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBidXR0b25zIGRlcGVuZGluZyBvbiBob3cgbWFueSBzZXRzIHRoZXJlIGFyZVxuICAgICAgICBpZiAodGhpcy5uX3NldHMgPiAxKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgYnV0dG9ucyBpbiBtb2RhbCBmb290ZXJcbiAgICAgICAgICAgIGNvbnN0IGh0bWxCdXR0b25zID0gY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnbW9kYWwtYnV0dG9ucycgfSk7XG4gICAgICAgICAgICAvLyBwcmV2aW91cyBidXR0b25cbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGh0bWxCdXR0b25zKVxuICAgICAgICAgICAgICAgIC5hZGRCdXR0b24oKGJ0bikgPT5cbiAgICAgICAgICAgICAgICAgICAgYnRuXG4gICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdQcmV2aW91cycpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRDdGEoKVxuICAgICAgICAgICAgICAgICAgICAuc2V0Q2xhc3ModGhpcy5jdXJyX3NldCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnZW5hYmxlZCcpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREaXNhYmxlZCh0aGlzLmN1cnJfc2V0ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJfc2V0IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgXG4gICAgICAgICAgICAvLyBuZXh0L2NvbmZpcm0gYnV0dG9uXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyX3NldCA8IHRoaXMubl9zZXRzLTEpe1xuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGh0bWxCdXR0b25zKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQnV0dG9uKChidG4pID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBidG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdOZXh0JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRDdGEoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vycl9zZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGh0bWxCdXR0b25zKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQnV0dG9uKChidG4pID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBidG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdDb25maXJtIFNlbGVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0Q3RhKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsU2VsZWN0ZWRDYXJkczogQ2FyZEluZm9ybWF0aW9uW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXN0aW9uX3NldHMuZm9yRWFjaCgoc2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2FyZHMgPSBzZXQuZXh0cmFjdFNlbGVjdGVkUXVlc2lvbnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZENhcmRzLnB1c2goLi4uc2VsZWN0ZWRDYXJkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQW5raURlY2tNb2RhbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZENhcmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGVudEVsLmFwcGVuZENoaWxkKGh0bWxCdXR0b25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgICAgICAgICAgICAuYWRkQnV0dG9uKChidG4pID0+XG4gICAgICAgICAgICAgICAgICAgIGJ0blxuICAgICAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnQ29uZmlybSBTZWxlY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAuc2V0Q3RhKClcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsU2VsZWN0ZWRDYXJkczogQ2FyZEluZm9ybWF0aW9uW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25fc2V0cy5mb3JFYWNoKChzZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZENhcmRzID0gc2V0LmV4dHJhY3RTZWxlY3RlZFF1ZXNpb25zKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZENhcmRzLnB1c2goLi4uc2VsZWN0ZWRDYXJkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFua2lEZWNrTW9kYWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZENhcmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQW5raURlY2tNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwb3J0OiBudW1iZXI7XG4gICAgY2FyZHNUb0V4cG9ydDogQ2FyZEluZm9ybWF0aW9uW107XG4gICAgZGVja3M6IHN0cmluZ1tdO1xuICAgIHNlbGVjdGVkRGVjazogc3RyaW5nO1xuICAgIGlzRGF0YUZldGNoZWQ6IGJvb2xlYW47XG4gICAgaXNEYXRhRXJyb3I6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXBwOiBBcHAsXG4gICAgICAgIHBvcnQ6IG51bWJlcixcbiAgICAgICAgZGVmYXVsdERlY2s6IHN0cmluZyxcbiAgICAgICAgYWxsU2VsZWN0ZWRDYXJkczogQ2FyZEluZm9ybWF0aW9uW10sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29udGVudCAgPSB0aGlzLnJlbmRlckNvbnRlbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZERlY2sgPSBkZWZhdWx0RGVjaztcbiAgICAgICAgdGhpcy5jYXJkc1RvRXhwb3J0ID0gYWxsU2VsZWN0ZWRDYXJkcztcblxuICAgICAgICB0aGlzLmlzRGF0YUZldGNoZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBmZXRjaERhdGEoKSB7XG4gICAgICAgIGNvbnN0IGZldGNoZWREZWNrcyA9IGF3YWl0IGdldEFua2lEZWNrcyh0aGlzLnBvcnQpO1xuICAgICAgICB0aGlzLmRlY2tzID0gZmV0Y2hlZERlY2tzO1xuICAgICAgICB0aGlzLmlzRGF0YUZldGNoZWQgPSB0cnVlO1xuXG5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWREZWNrID09PSAnJyAmJiBmZXRjaGVkRGVja3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERlY2sgPSBmZXRjaGVkRGVja3NbMF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJIdG1sTGlzdCgpIHtcbiAgICAgICAgY29uc3QgaHRtbExpc3QgPSBjcmVhdGVFbCgndWwnLCB7IGNsczogJ2RlY2stb3B0aW9ucy1jb250YWluZXInIH0pO1xuICAgICAgICBjb25zdCBjb252ZW5pZW5jZUJ1dHRvbnMgPSBjcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdkZWNrLW9wdGlvbnNfX2J1dHRvbnMnIH0pO1xuXG4gICAgICAgIGh0bWxMaXN0LmFwcGVuZENoaWxkKGNvbnZlbmllbmNlQnV0dG9ucyk7XG5cbiAgICAgICAgdGhpcy5kZWNrcy5mb3JFYWNoKChkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGh0bWxEZWNrID0gY3JlYXRlRWwoJ2xpJyk7XG4gICAgICAgICAgICBodG1sRGVjay5hcHBlbmRDaGlsZChjcmVhdGVFbCgnaDMnLCB7IHRleHQ6IGQgfSkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWREZWNrID09PSBkKSB7XG4gICAgICAgICAgICAgICAgaHRtbERlY2suY2xhc3NOYW1lID0gJ2RlY2stb3B0aW9uIC0tc2VsZWN0ZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBodG1sRGVjay5jbGFzc05hbWUgPSAnZGVjay1vcHRpb24nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodG1sRGVjay5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWNrID0gZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sTGlzdC5hcHBlbmRDaGlsZChodG1sRGVjayk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGh0bWxMaXN0O1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuaW5uZXJIVE1MID0gJyc7IC8vIHVzZSBpbm5lckhUTUwgdG8gcmVzZXQgY29udGVudFxuXG4gICAgICAgIC8vIG1vZGFsIHRpdGxlXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdBbmtpIERlY2tzJyB9KTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNEYXRhRmV0Y2hlZCkge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2Vycm9yLW5vdGljZScgfSk7XG4gICAgICAgICAgICBjZW50ZXJDb250YWluZXIuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnbG9hZGluZyBkYXRhLi4uJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuZGVja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXJDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZXJyb3Itbm90aWNlJyB9KTtcbiAgICAgICAgICAgIGNlbnRlckNvbnRhaW5lci5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdFaXRoZXIgYW4gZXJyb3Igb2NjdXJlZCBvciBubyBBbmtpIGRlY2tzIHdlcmUgZm91bmQnIH0pO1xuICAgICAgICAgICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IGNlbnRlckNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnUmVmcmVzaCcgfSk7XG4gICAgICAgICAgICByZWZyZXNoQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaERhdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vZGFsIGRlc2NyaXB0aW9uXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1BpY2sgb25lIG9mIHRoZSBmb2xsb3dpbmcgYXZhaWxhYmxlIEFua2kgZGVja3MgdG8gZXhwb3J0IHRvLicgfSk7XG5cbiAgICAgICAgLy8gZ2V0IGRlY2sgbGlzdCB0byByZW5kZXJcbiAgICAgICAgY29uc3QgaHRtbExpc3QgPSB0aGlzLnJlbmRlckh0bWxMaXN0KCk7XG4gICAgICAgIGNvbnRlbnRFbC5hcHBlbmRDaGlsZChodG1sTGlzdCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgLmFkZEJ1dHRvbigoYnRuKSA9PlxuICAgICAgICAgICAgICAgIGJ0blxuICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdDb25maXJtIGFuZCBFeHBvcnQnKVxuICAgICAgICAgICAgICAgIC5zZXREaXNhYmxlZCh0aGlzLnNlbGVjdGVkRGVjayA9PT0gJycpXG4gICAgICAgICAgICAgICAgLnNldEN0YSgpXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZERlY2sgPT09ICcnKSByZXR1cm47XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0VG9BbmtpKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkc1RvRXhwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERlY2ssXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyQ29udGVudCgpO1xuICAgICAgICBhd2FpdCB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuMjQuNic7IC8vIHgtcmVsZWFzZS1wbGVhc2UtdmVyc2lvblxuIiwgIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuaW1wb3J0IHsgdHlwZSBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uL2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoaW1zIHtcbiAga2luZDogc3RyaW5nO1xuICBmZXRjaDogYW55O1xuICBSZXF1ZXN0OiBhbnk7XG4gIFJlc3BvbnNlOiBhbnk7XG4gIEhlYWRlcnM6IGFueTtcbiAgRm9ybURhdGE6IGFueTtcbiAgQmxvYjogYW55O1xuICBGaWxlOiBhbnk7XG4gIFJlYWRhYmxlU3RyZWFtOiBhbnk7XG4gIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zOiA8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgICBmb3JtOiBTaGltc1snRm9ybURhdGEnXSxcbiAgICBvcHRzOiBSZXF1ZXN0T3B0aW9uczxUPixcbiAgKSA9PiBQcm9taXNlPFJlcXVlc3RPcHRpb25zPFQ+PjtcbiAgZ2V0RGVmYXVsdEFnZW50OiAodXJsOiBzdHJpbmcpID0+IGFueTtcbiAgZmlsZUZyb21QYXRoOlxuICAgIHwgKChwYXRoOiBzdHJpbmcsIGZpbGVuYW1lPzogc3RyaW5nLCBvcHRpb25zPzoge30pID0+IFByb21pc2U8U2hpbXNbJ0ZpbGUnXT4pXG4gICAgfCAoKHBhdGg6IHN0cmluZywgb3B0aW9ucz86IHt9KSA9PiBQcm9taXNlPFNoaW1zWydGaWxlJ10+KTtcbiAgaXNGc1JlYWRTdHJlYW06ICh2YWx1ZTogYW55KSA9PiBib29sZWFuO1xufVxuXG5leHBvcnQgbGV0IGF1dG8gPSBmYWxzZTtcbmV4cG9ydCBsZXQga2luZDogU2hpbXNbJ2tpbmQnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZmV0Y2g6IFNoaW1zWydmZXRjaCddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBSZXF1ZXN0OiBTaGltc1snUmVxdWVzdCddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBSZXNwb25zZTogU2hpbXNbJ1Jlc3BvbnNlJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IEhlYWRlcnM6IFNoaW1zWydIZWFkZXJzJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IEZvcm1EYXRhOiBTaGltc1snRm9ybURhdGEnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgQmxvYjogU2hpbXNbJ0Jsb2InXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgRmlsZTogU2hpbXNbJ0ZpbGUnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVhZGFibGVTdHJlYW06IFNoaW1zWydSZWFkYWJsZVN0cmVhbSddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9uczogU2hpbXNbJ2dldE11bHRpcGFydFJlcXVlc3RPcHRpb25zJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGdldERlZmF1bHRBZ2VudDogU2hpbXNbJ2dldERlZmF1bHRBZ2VudCddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBmaWxlRnJvbVBhdGg6IFNoaW1zWydmaWxlRnJvbVBhdGgnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgaXNGc1JlYWRTdHJlYW06IFNoaW1zWydpc0ZzUmVhZFN0cmVhbSddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2hpbXMoc2hpbXM6IFNoaW1zLCBvcHRpb25zOiB7IGF1dG86IGJvb2xlYW4gfSA9IHsgYXV0bzogZmFsc2UgfSkge1xuICBpZiAoYXV0bykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGB5b3UgbXVzdCBcXGBpbXBvcnQgJ29wZW5haS9zaGltcy8ke3NoaW1zLmtpbmR9J1xcYCBiZWZvcmUgaW1wb3J0aW5nIGFueXRoaW5nIGVsc2UgZnJvbSBvcGVuYWlgLFxuICAgICk7XG4gIH1cbiAgaWYgKGtpbmQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbid0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGFmdGVyIFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7a2luZH0nXFxgYCk7XG4gIH1cbiAgYXV0byA9IG9wdGlvbnMuYXV0bztcbiAga2luZCA9IHNoaW1zLmtpbmQ7XG4gIGZldGNoID0gc2hpbXMuZmV0Y2g7XG4gIFJlcXVlc3QgPSBzaGltcy5SZXF1ZXN0O1xuICBSZXNwb25zZSA9IHNoaW1zLlJlc3BvbnNlO1xuICBIZWFkZXJzID0gc2hpbXMuSGVhZGVycztcbiAgRm9ybURhdGEgPSBzaGltcy5Gb3JtRGF0YTtcbiAgQmxvYiA9IHNoaW1zLkJsb2I7XG4gIEZpbGUgPSBzaGltcy5GaWxlO1xuICBSZWFkYWJsZVN0cmVhbSA9IHNoaW1zLlJlYWRhYmxlU3RyZWFtO1xuICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyA9IHNoaW1zLmdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zO1xuICBnZXREZWZhdWx0QWdlbnQgPSBzaGltcy5nZXREZWZhdWx0QWdlbnQ7XG4gIGZpbGVGcm9tUGF0aCA9IHNoaW1zLmZpbGVGcm9tUGF0aDtcbiAgaXNGc1JlYWRTdHJlYW0gPSBzaGltcy5pc0ZzUmVhZFN0cmVhbTtcbn1cbiIsICIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNdWx0aXBhcnRCb2R5IHtcbiAgY29uc3RydWN0b3IocHVibGljIGJvZHk6IGFueSkge31cbiAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdNdWx0aXBhcnRCb2R5JztcbiAgfVxufVxuIiwgIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuaW1wb3J0IHsgTXVsdGlwYXJ0Qm9keSB9IGZyb20gJy4vTXVsdGlwYXJ0Qm9keSc7XG5pbXBvcnQgeyB0eXBlIFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyB0eXBlIFNoaW1zIH0gZnJvbSAnLi9yZWdpc3RyeSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdW50aW1lKHsgbWFudWFsbHlJbXBvcnRlZCB9OiB7IG1hbnVhbGx5SW1wb3J0ZWQ/OiBib29sZWFuIH0gPSB7fSk6IFNoaW1zIHtcbiAgY29uc3QgcmVjb21tZW5kYXRpb24gPVxuICAgIG1hbnVhbGx5SW1wb3J0ZWQgP1xuICAgICAgYFlvdSBtYXkgbmVlZCB0byB1c2UgcG9seWZpbGxzYFxuICAgIDogYEFkZCBvbmUgb2YgdGhlc2UgaW1wb3J0cyBiZWZvcmUgeW91ciBmaXJzdCBcXGBpbXBvcnQgXHUyMDI2IGZyb20gJ29wZW5haSdcXGA6XG4tIFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zL25vZGUnXFxgIChpZiB5b3UncmUgcnVubmluZyBvbiBOb2RlKVxuLSBcXGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInXFxgIChvdGhlcndpc2UpXG5gO1xuXG4gIGxldCBfZmV0Y2gsIF9SZXF1ZXN0LCBfUmVzcG9uc2UsIF9IZWFkZXJzO1xuICB0cnkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBfZmV0Y2ggPSBmZXRjaDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgX1JlcXVlc3QgPSBSZXF1ZXN0O1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBfUmVzcG9uc2UgPSBSZXNwb25zZTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgX0hlYWRlcnMgPSBIZWFkZXJzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGB0aGlzIGVudmlyb25tZW50IGlzIG1pc3NpbmcgdGhlIGZvbGxvd2luZyBXZWIgRmV0Y2ggQVBJIHR5cGU6ICR7XG4gICAgICAgIChlcnJvciBhcyBhbnkpLm1lc3NhZ2VcbiAgICAgIH0uICR7cmVjb21tZW5kYXRpb259YCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBraW5kOiAnd2ViJyxcbiAgICBmZXRjaDogX2ZldGNoLFxuICAgIFJlcXVlc3Q6IF9SZXF1ZXN0LFxuICAgIFJlc3BvbnNlOiBfUmVzcG9uc2UsXG4gICAgSGVhZGVyczogX0hlYWRlcnMsXG4gICAgRm9ybURhdGE6XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnID8gRm9ybURhdGEgOiAoXG4gICAgICAgIGNsYXNzIEZvcm1EYXRhIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBmaWxlIHVwbG9hZHMgYXJlbid0IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHlldCBhcyAnRm9ybURhdGEnIGlzIHVuZGVmaW5lZC4gJHtyZWNvbW1lbmRhdGlvbn1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgQmxvYjpcbiAgICAgIHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyA/IEJsb2IgOiAoXG4gICAgICAgIGNsYXNzIEJsb2Ige1xuICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgZmlsZSB1cGxvYWRzIGFyZW4ndCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCB5ZXQgYXMgJ0Jsb2InIGlzIHVuZGVmaW5lZC4gJHtyZWNvbW1lbmRhdGlvbn1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgRmlsZTpcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHR5cGVvZiBGaWxlICE9PSAndW5kZWZpbmVkJyA/IEZpbGUgOiAoXG4gICAgICAgIGNsYXNzIEZpbGUge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYGZpbGUgdXBsb2FkcyBhcmVuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQgeWV0IGFzICdGaWxlJyBpcyB1bmRlZmluZWQuICR7cmVjb21tZW5kYXRpb259YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApLFxuICAgIFJlYWRhYmxlU3RyZWFtOlxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdHlwZW9mIFJlYWRhYmxlU3RyZWFtICE9PSAndW5kZWZpbmVkJyA/IFJlYWRhYmxlU3RyZWFtIDogKFxuICAgICAgICBjbGFzcyBSZWFkYWJsZVN0cmVhbSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgc3RyZWFtaW5nIGlzbid0IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHlldCBhcyAnUmVhZGFibGVTdHJlYW0nIGlzIHVuZGVmaW5lZC4gJHtyZWNvbW1lbmRhdGlvbn1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnM6IGFzeW5jIDxUID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZm9ybTogRm9ybURhdGEsXG4gICAgICBvcHRzOiBSZXF1ZXN0T3B0aW9uczxUPixcbiAgICApOiBQcm9taXNlPFJlcXVlc3RPcHRpb25zPFQ+PiA9PiAoe1xuICAgICAgLi4ub3B0cyxcbiAgICAgIGJvZHk6IG5ldyBNdWx0aXBhcnRCb2R5KGZvcm0pIGFzIGFueSxcbiAgICB9KSxcbiAgICBnZXREZWZhdWx0QWdlbnQ6ICh1cmw6IHN0cmluZykgPT4gdW5kZWZpbmVkLFxuICAgIGZpbGVGcm9tUGF0aDogKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIGBmaWxlRnJvbVBhdGhgIGZ1bmN0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGluIE5vZGUuIFNlZSB0aGUgUkVBRE1FIGZvciBtb3JlIGRldGFpbHM6IGh0dHBzOi8vd3d3LmdpdGh1Yi5jb20vb3BlbmFpL29wZW5haS1ub2RlI2ZpbGUtdXBsb2FkcycsXG4gICAgICApO1xuICAgIH0sXG4gICAgaXNGc1JlYWRTdHJlYW06ICh2YWx1ZTogYW55KSA9PiBmYWxzZSxcbiAgfTtcbn1cbiIsICIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmltcG9ydCAqIGFzIHNoaW1zIGZyb20gJy4vcmVnaXN0cnkubWpzJztcbmltcG9ydCAqIGFzIGF1dG8gZnJvbSAnb3BlbmFpL19zaGltcy9hdXRvL3J1bnRpbWUnO1xuaWYgKCFzaGltcy5raW5kKSBzaGltcy5zZXRTaGltcyhhdXRvLmdldFJ1bnRpbWUoKSwgeyBhdXRvOiB0cnVlIH0pO1xuZXhwb3J0ICogZnJvbSAnLi9yZWdpc3RyeS5tanMnO1xuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCB7IGNhc3RUb0Vycm9yLCBIZWFkZXJzIH0gZnJvbSAnLi9jb3JlJztcblxuZXhwb3J0IGNsYXNzIE9wZW5BSUVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGNsYXNzIEFQSUVycm9yIGV4dGVuZHMgT3BlbkFJRXJyb3Ige1xuICByZWFkb25seSBzdGF0dXM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgaGVhZGVyczogSGVhZGVycyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZXJyb3I6IE9iamVjdCB8IHVuZGVmaW5lZDtcblxuICByZWFkb25seSBjb2RlOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBwYXJhbTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0YXR1czogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGVycm9yOiBPYmplY3QgfCB1bmRlZmluZWQsXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGhlYWRlcnM6IEhlYWRlcnMgfCB1bmRlZmluZWQsXG4gICkge1xuICAgIHN1cGVyKGAke0FQSUVycm9yLm1ha2VNZXNzYWdlKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UpfWApO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG5cbiAgICBjb25zdCBkYXRhID0gZXJyb3IgYXMgUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICB0aGlzLmVycm9yID0gZGF0YTtcbiAgICB0aGlzLmNvZGUgPSBkYXRhPy5bJ2NvZGUnXTtcbiAgICB0aGlzLnBhcmFtID0gZGF0YT8uWydwYXJhbSddO1xuICAgIHRoaXMudHlwZSA9IGRhdGE/LlsndHlwZSddO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgbWFrZU1lc3NhZ2Uoc3RhdHVzOiBudW1iZXIgfCB1bmRlZmluZWQsIGVycm9yOiBhbnksIG1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IG1zZyA9XG4gICAgICBlcnJvcj8ubWVzc2FnZSA/XG4gICAgICAgIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgZXJyb3IubWVzc2FnZVxuICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2UpXG4gICAgICA6IGVycm9yID8gSlNPTi5zdHJpbmdpZnkoZXJyb3IpXG4gICAgICA6IG1lc3NhZ2U7XG5cbiAgICBpZiAoc3RhdHVzICYmIG1zZykge1xuICAgICAgcmV0dXJuIGAke3N0YXR1c30gJHttc2d9YDtcbiAgICB9XG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgcmV0dXJuIGAke3N0YXR1c30gc3RhdHVzIGNvZGUgKG5vIGJvZHkpYDtcbiAgICB9XG4gICAgaWYgKG1zZykge1xuICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgcmV0dXJuICcobm8gc3RhdHVzIGNvZGUgb3IgYm9keSknO1xuICB9XG5cbiAgc3RhdGljIGdlbmVyYXRlKFxuICAgIHN0YXR1czogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGVycm9yUmVzcG9uc2U6IE9iamVjdCB8IHVuZGVmaW5lZCxcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgaGVhZGVyczogSGVhZGVycyB8IHVuZGVmaW5lZCxcbiAgKSB7XG4gICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgIHJldHVybiBuZXcgQVBJQ29ubmVjdGlvbkVycm9yKHsgY2F1c2U6IGNhc3RUb0Vycm9yKGVycm9yUmVzcG9uc2UpIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9yID0gKGVycm9yUmVzcG9uc2UgYXMgUmVjb3JkPHN0cmluZywgYW55Pik/LlsnZXJyb3InXTtcblxuICAgIGlmIChzdGF0dXMgPT09IDQwMCkge1xuICAgICAgcmV0dXJuIG5ldyBCYWRSZXF1ZXN0RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICByZXR1cm4gbmV3IFBlcm1pc3Npb25EZW5pZWRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgIHJldHVybiBuZXcgTm90Rm91bmRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MjIpIHtcbiAgICAgIHJldHVybiBuZXcgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQyOSkge1xuICAgICAgcmV0dXJuIG5ldyBSYXRlTGltaXRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID49IDUwMCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQVBJRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFQSVVzZXJBYm9ydEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBvdmVycmlkZSByZWFkb25seSBzdGF0dXM6IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfTogeyBtZXNzYWdlPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIHN1cGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlIHx8ICdSZXF1ZXN0IHdhcyBhYm9ydGVkLicsIHVuZGVmaW5lZCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFQSUNvbm5lY3Rpb25FcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgc3RhdHVzOiB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlLCBjYXVzZSB9OiB7IG1lc3NhZ2U/OiBzdHJpbmc7IGNhdXNlPzogRXJyb3IgfCB1bmRlZmluZWQgfSkge1xuICAgIHN1cGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlIHx8ICdDb25uZWN0aW9uIGVycm9yLicsIHVuZGVmaW5lZCk7XG4gICAgLy8gaW4gc29tZSBlbnZpcm9ubWVudHMgdGhlICdjYXVzZScgcHJvcGVydHkgaXMgYWxyZWFkeSBkZWNsYXJlZFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoY2F1c2UpIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciBleHRlbmRzIEFQSUNvbm5lY3Rpb25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9OiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlOiBtZXNzYWdlID8/ICdSZXF1ZXN0IHRpbWVkIG91dC4nIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHN0YXR1czogNDAwID0gNDAwO1xufVxuXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgc3RhdHVzOiA0MDEgPSA0MDE7XG59XG5cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHN0YXR1czogNDAzID0gNDAzO1xufVxuXG5leHBvcnQgY2xhc3MgTm90Rm91bmRFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgc3RhdHVzOiA0MDQgPSA0MDQ7XG59XG5cbmV4cG9ydCBjbGFzcyBDb25mbGljdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBvdmVycmlkZSByZWFkb25seSBzdGF0dXM6IDQwOSA9IDQwOTtcbn1cblxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgc3RhdHVzOiA0MjIgPSA0MjI7XG59XG5cbmV4cG9ydCBjbGFzcyBSYXRlTGltaXRFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgc3RhdHVzOiA0MjkgPSA0Mjk7XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcm5hbFNlcnZlckVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige31cbiIsICJpbXBvcnQgeyBSZWFkYWJsZVN0cmVhbSwgdHlwZSBSZXNwb25zZSB9IGZyb20gJy4vX3NoaW1zL2luZGV4JztcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSAnLi9lcnJvcic7XG5cbmltcG9ydCB7IEFQSUVycm9yIH0gZnJvbSBcIi4vZXJyb3JcIjtcblxudHlwZSBCeXRlcyA9IHN0cmluZyB8IEFycmF5QnVmZmVyIHwgVWludDhBcnJheSB8IEJ1ZmZlciB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbnR5cGUgU2VydmVyU2VudEV2ZW50ID0ge1xuICBldmVudDogc3RyaW5nIHwgbnVsbDtcbiAgZGF0YTogc3RyaW5nO1xuICByYXc6IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IGNsYXNzIFN0cmVhbTxJdGVtPiBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8SXRlbT4ge1xuICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBpdGVyYXRvcjogKCkgPT4gQXN5bmNJdGVyYXRvcjxJdGVtPixcbiAgICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIsXG4gICkge1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gIH1cblxuICBzdGF0aWMgZnJvbVNTRVJlc3BvbnNlPEl0ZW0+KHJlc3BvbnNlOiBSZXNwb25zZSwgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyKSB7XG4gICAgbGV0IGNvbnN1bWVkID0gZmFsc2U7XG4gICAgY29uc3QgZGVjb2RlciA9IG5ldyBTU0VEZWNvZGVyKCk7XG5cbiAgICBhc3luYyBmdW5jdGlvbiogaXRlck1lc3NhZ2VzKCk6IEFzeW5jR2VuZXJhdG9yPFNlcnZlclNlbnRFdmVudCwgdm9pZCwgdW5rbm93bj4ge1xuICAgICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBBdHRlbXB0ZWQgdG8gaXRlcmF0ZSBvdmVyIGEgcmVzcG9uc2Ugd2l0aCBubyBib2R5YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG5cbiAgICAgIGNvbnN0IGl0ZXIgPSByZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmFibGU8Qnl0ZXM+KHJlc3BvbnNlLmJvZHkpO1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpdGVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgICAgY29uc3Qgc3NlID0gZGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgICAgaWYgKHNzZSkgeWllbGQgc3NlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgICAgIGNvbnN0IHNzZSA9IGRlY29kZXIuZGVjb2RlKGxpbmUpO1xuICAgICAgICBpZiAoc3NlKSB5aWVsZCBzc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJhdG9yKCk6IEFzeW5jSXRlcmF0b3I8SXRlbSwgYW55LCB1bmRlZmluZWQ+IHtcbiAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpdGVyYXRlIG92ZXIgYSBjb25zdW1lZCBzdHJlYW0sIHVzZSBgLnRlZSgpYCB0byBzcGxpdCB0aGUgc3RyZWFtLicpO1xuICAgICAgfVxuICAgICAgY29uc3VtZWQgPSB0cnVlO1xuICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlIG9mIGl0ZXJNZXNzYWdlcygpKSB7XG4gICAgICAgICAgaWYgKGRvbmUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgaWYgKHNzZS5kYXRhLnN0YXJ0c1dpdGgoJ1tET05FXScpKSB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzc2UuZXZlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBkYXRhO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShzc2UuZGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBtZXNzYWdlIGludG8gSlNPTjpgLCBzc2UuZGF0YSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZyb20gY2h1bms6YCwgc3NlLnJhdyk7XG4gICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKHVuZGVmaW5lZCwgZGF0YS5lcnJvciwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB5aWVsZCBkYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSByZXR1cm47XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBgYnJlYWtgcywgYWJvcnQgdGhlIG9uZ29pbmcgcmVxdWVzdC5cbiAgICAgICAgaWYgKCFkb25lKSBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIFN0cmVhbSBmcm9tIGEgbmV3bGluZS1zZXBhcmF0ZWQgUmVhZGFibGVTdHJlYW1cbiAgICogd2hlcmUgZWFjaCBpdGVtIGlzIGEgSlNPTiB2YWx1ZS5cbiAgICovXG4gIHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW08SXRlbT4ocmVhZGFibGVTdHJlYW06IFJlYWRhYmxlU3RyZWFtLCBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIpIHtcbiAgICBsZXQgY29uc3VtZWQgPSBmYWxzZTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyTGluZXMoKTogQXN5bmNHZW5lcmF0b3I8c3RyaW5nLCB2b2lkLCB1bmtub3duPiB7XG4gICAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuXG4gICAgICBjb25zdCBpdGVyID0gcmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhYmxlPEJ5dGVzPihyZWFkYWJsZVN0cmVhbSk7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShjaHVuaykpIHtcbiAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgICAgIHlpZWxkIGxpbmU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJhdG9yKCk6IEFzeW5jSXRlcmF0b3I8SXRlbSwgYW55LCB1bmRlZmluZWQ+IHtcbiAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpdGVyYXRlIG92ZXIgYSBjb25zdW1lZCBzdHJlYW0sIHVzZSBgLnRlZSgpYCB0byBzcGxpdCB0aGUgc3RyZWFtLicpO1xuICAgICAgfVxuICAgICAgY29uc3VtZWQgPSB0cnVlO1xuICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbGluZSBvZiBpdGVyTGluZXMoKSkge1xuICAgICAgICAgIGlmIChkb25lKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAobGluZSkgeWllbGQgSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSByZXR1cm47XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBgYnJlYWtgcywgYWJvcnQgdGhlIG9uZ29pbmcgcmVxdWVzdC5cbiAgICAgICAgaWYgKCFkb25lKSBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhdG9yPEl0ZW0+IHtcbiAgICByZXR1cm4gdGhpcy5pdGVyYXRvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyB0aGUgc3RyZWFtIGludG8gdHdvIHN0cmVhbXMgd2hpY2ggY2FuIGJlXG4gICAqIGluZGVwZW5kZW50bHkgcmVhZCBmcm9tIGF0IGRpZmZlcmVudCBzcGVlZHMuXG4gICAqL1xuICB0ZWUoKTogW1N0cmVhbTxJdGVtPiwgU3RyZWFtPEl0ZW0+XSB7XG4gICAgY29uc3QgbGVmdDogQXJyYXk8UHJvbWlzZTxJdGVyYXRvclJlc3VsdDxJdGVtPj4+ID0gW107XG4gICAgY29uc3QgcmlnaHQ6IEFycmF5PFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8SXRlbT4+PiA9IFtdO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuXG4gICAgY29uc3QgdGVlSXRlcmF0b3IgPSAocXVldWU6IEFycmF5PFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8SXRlbT4+Pik6IEFzeW5jSXRlcmF0b3I8SXRlbT4gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGxlZnQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgcmlnaHQucHVzaChyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcXVldWUuc2hpZnQoKSE7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gW1xuICAgICAgbmV3IFN0cmVhbSgoKSA9PiB0ZWVJdGVyYXRvcihsZWZ0KSwgdGhpcy5jb250cm9sbGVyKSxcbiAgICAgIG5ldyBTdHJlYW0oKCkgPT4gdGVlSXRlcmF0b3IocmlnaHQpLCB0aGlzLmNvbnRyb2xsZXIpLFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBzdHJlYW0gdG8gYSBuZXdsaW5lLXNlcGFyYXRlZCBSZWFkYWJsZVN0cmVhbSBvZlxuICAgKiBKU09OIHN0cmluZ2lmaWVkIHZhbHVlcyBpbiB0aGUgc3RyZWFtXG4gICAqIHdoaWNoIGNhbiBiZSB0dXJuZWQgYmFjayBpbnRvIGEgU3RyZWFtIHdpdGggYFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0oKWAuXG4gICAqL1xuICB0b1JlYWRhYmxlU3RyZWFtKCk6IFJlYWRhYmxlU3RyZWFtIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgaXRlcjogQXN5bmNJdGVyYXRvcjxJdGVtPjtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5cbiAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICBpdGVyID0gc2VsZltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBwdWxsKGN0cmwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpdGVyLm5leHQoKTtcbiAgICAgICAgICBpZiAoZG9uZSkgcmV0dXJuIGN0cmwuY2xvc2UoKTtcblxuICAgICAgICAgIGNvbnN0IGJ5dGVzID0gZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ1xcbicpO1xuXG4gICAgICAgICAgY3RybC5lbnF1ZXVlKGJ5dGVzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY3RybC5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICBhd2FpdCBpdGVyLnJldHVybj8uKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG5cbmNsYXNzIFNTRURlY29kZXIge1xuICBwcml2YXRlIGRhdGE6IHN0cmluZ1tdO1xuICBwcml2YXRlIGV2ZW50OiBzdHJpbmcgfCBudWxsO1xuICBwcml2YXRlIGNodW5rczogc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudCA9IG51bGw7XG4gICAgdGhpcy5kYXRhID0gW107XG4gICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgfVxuXG4gIGRlY29kZShsaW5lOiBzdHJpbmcpIHtcbiAgICBpZiAobGluZS5lbmRzV2l0aCgnXFxyJykpIHtcbiAgICAgIGxpbmUgPSBsaW5lLnN1YnN0cmluZygwLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIGlmICghbGluZSkge1xuICAgICAgLy8gZW1wdHkgbGluZSBhbmQgd2UgZGlkbid0IHByZXZpb3VzbHkgZW5jb3VudGVyIGFueSBtZXNzYWdlc1xuICAgICAgaWYgKCF0aGlzLmV2ZW50ICYmICF0aGlzLmRhdGEubGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuICAgICAgY29uc3Qgc3NlOiBTZXJ2ZXJTZW50RXZlbnQgPSB7XG4gICAgICAgIGV2ZW50OiB0aGlzLmV2ZW50LFxuICAgICAgICBkYXRhOiB0aGlzLmRhdGEuam9pbignXFxuJyksXG4gICAgICAgIHJhdzogdGhpcy5jaHVua3MsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgdGhpcy5jaHVua3MgPSBbXTtcblxuICAgICAgcmV0dXJuIHNzZTtcbiAgICB9XG5cbiAgICB0aGlzLmNodW5rcy5wdXNoKGxpbmUpO1xuXG4gICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgW2ZpZWxkbmFtZSwgXywgdmFsdWVdID0gcGFydGl0aW9uKGxpbmUsICc6Jyk7XG5cbiAgICBpZiAodmFsdWUuc3RhcnRzV2l0aCgnICcpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxKTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGRuYW1lID09PSAnZXZlbnQnKSB7XG4gICAgICB0aGlzLmV2ZW50ID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChmaWVsZG5hbWUgPT09ICdkYXRhJykge1xuICAgICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQSByZS1pbXBsZW1lbnRhdGlvbiBvZiBodHRweCdzIGBMaW5lRGVjb2RlcmAgaW4gUHl0aG9uIHRoYXQgaGFuZGxlcyBpbmNyZW1lbnRhbGx5XG4gKiByZWFkaW5nIGxpbmVzIGZyb20gdGV4dC5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZW5jb2RlL2h0dHB4L2Jsb2IvOTIwMzMzZWE5ODExOGU5Y2Y2MTdmMjQ2OTA1ZDdiMjAyNTEwOTQxYy9odHRweC9fZGVjb2RlcnMucHkjTDI1OFxuICovXG5jbGFzcyBMaW5lRGVjb2RlciB7XG4gIC8vIHByZXR0aWVyLWlnbm9yZVxuICBzdGF0aWMgTkVXTElORV9DSEFSUyA9IG5ldyBTZXQoWydcXG4nLCAnXFxyJywgJ1xceDBiJywgJ1xceDBjJywgJ1xceDFjJywgJ1xceDFkJywgJ1xceDFlJywgJ1xceDg1JywgJ1xcdTIwMjgnLCAnXFx1MjAyOSddKTtcbiAgc3RhdGljIE5FV0xJTkVfUkVHRVhQID0gL1xcclxcbnxbXFxuXFxyXFx4MGJcXHgwY1xceDFjXFx4MWRcXHgxZVxceDg1XFx1MjAyOFxcdTIwMjldL2c7XG5cbiAgYnVmZmVyOiBzdHJpbmdbXTtcbiAgdHJhaWxpbmdDUjogYm9vbGVhbjtcbiAgdGV4dERlY29kZXI6IGFueTsgLy8gVGV4dERlY29kZXIgZm91bmQgaW4gYnJvd3NlcnM7IG5vdCB0eXBlZCB0byBhdm9pZCBwdWxsaW5nIGluIGVpdGhlciBcImRvbVwiIG9yIFwibm9kZVwiIHR5cGVzLlxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgdGhpcy50cmFpbGluZ0NSID0gZmFsc2U7XG4gIH1cblxuICBkZWNvZGUoY2h1bms6IEJ5dGVzKTogc3RyaW5nW10ge1xuICAgIGxldCB0ZXh0ID0gdGhpcy5kZWNvZGVUZXh0KGNodW5rKTtcblxuICAgIGlmICh0aGlzLnRyYWlsaW5nQ1IpIHtcbiAgICAgIHRleHQgPSAnXFxyJyArIHRleHQ7XG4gICAgICB0aGlzLnRyYWlsaW5nQ1IgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRleHQuZW5kc1dpdGgoJ1xccicpKSB7XG4gICAgICB0aGlzLnRyYWlsaW5nQ1IgPSB0cnVlO1xuICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xuICAgIH1cblxuICAgIGlmICghdGV4dCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHRyYWlsaW5nTmV3bGluZSA9IExpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMuaGFzKHRleHRbdGV4dC5sZW5ndGggLSAxXSB8fCAnJyk7XG4gICAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChMaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCk7XG5cbiAgICBpZiAobGluZXMubGVuZ3RoID09PSAxICYmICF0cmFpbGluZ05ld2xpbmUpIHtcbiAgICAgIHRoaXMuYnVmZmVyLnB1c2gobGluZXNbMF0hKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgbGluZXMgPSBbdGhpcy5idWZmZXIuam9pbignJykgKyBsaW5lc1swXSwgLi4ubGluZXMuc2xpY2UoMSldO1xuICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIXRyYWlsaW5nTmV3bGluZSkge1xuICAgICAgdGhpcy5idWZmZXIgPSBbbGluZXMucG9wKCkgfHwgJyddO1xuICAgIH1cblxuICAgIHJldHVybiBsaW5lcztcbiAgfVxuXG4gIGRlY29kZVRleHQoYnl0ZXM6IEJ5dGVzKTogc3RyaW5nIHtcbiAgICBpZiAoYnl0ZXMgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSByZXR1cm4gYnl0ZXM7XG5cbiAgICAvLyBOb2RlOlxuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBieXRlcy50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYnl0ZXMpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgYFVuZXhwZWN0ZWQ6IHJlY2VpdmVkIG5vbi1VaW50OEFycmF5ICgke2J5dGVzLmNvbnN0cnVjdG9yLm5hbWV9KSBzdHJlYW0gY2h1bmsgaW4gYW4gZW52aXJvbm1lbnQgd2l0aCBhIGdsb2JhbCBcIkJ1ZmZlclwiIGRlZmluZWQsIHdoaWNoIHRoaXMgbGlicmFyeSBhc3N1bWVzIHRvIGJlIE5vZGUuIFBsZWFzZSByZXBvcnQgdGhpcyBlcnJvci5gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBCcm93c2VyXG4gICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgYnl0ZXMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICB0aGlzLnRleHREZWNvZGVyID8/PSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dERlY29kZXIuZGVjb2RlKGJ5dGVzKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICBgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkvQXJyYXlCdWZmZXIgKCR7XG4gICAgICAgICAgKGJ5dGVzIGFzIGFueSkuY29uc3RydWN0b3IubmFtZVxuICAgICAgICB9KSBpbiBhIHdlYiBwbGF0Zm9ybS4gUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yLmAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgIGBVbmV4cGVjdGVkOiBuZWl0aGVyIEJ1ZmZlciBub3IgVGV4dERlY29kZXIgYXJlIGF2YWlsYWJsZSBhcyBnbG9iYWxzLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICApO1xuICB9XG5cbiAgZmx1c2goKTogc3RyaW5nW10ge1xuICAgIGlmICghdGhpcy5idWZmZXIubGVuZ3RoICYmICF0aGlzLnRyYWlsaW5nQ1IpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBsaW5lcyA9IFt0aGlzLmJ1ZmZlci5qb2luKCcnKV07XG4gICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICB0aGlzLnRyYWlsaW5nQ1IgPSBmYWxzZTtcbiAgICByZXR1cm4gbGluZXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFydGl0aW9uKHN0cjogc3RyaW5nLCBkZWxpbWl0ZXI6IHN0cmluZyk6IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nXSB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBbc3RyLnN1YnN0cmluZygwLCBpbmRleCksIGRlbGltaXRlciwgc3RyLnN1YnN0cmluZyhpbmRleCArIGRlbGltaXRlci5sZW5ndGgpXTtcbiAgfVxuXG4gIHJldHVybiBbc3RyLCAnJywgJyddO1xufVxuXG4vKipcbiAqIE1vc3QgYnJvd3NlcnMgZG9uJ3QgeWV0IGhhdmUgYXN5bmMgaXRlcmFibGUgc3VwcG9ydCBmb3IgUmVhZGFibGVTdHJlYW0sXG4gKiBhbmQgTm9kZSBoYXMgYSB2ZXJ5IGRpZmZlcmVudCB3YXkgb2YgcmVhZGluZyBieXRlcyBmcm9tIGl0cyBcIlJlYWRhYmxlU3RyZWFtXCIuXG4gKlxuICogVGhpcyBwb2x5ZmlsbCB3YXMgcHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYWJsZTxUPihzdHJlYW06IGFueSk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSByZXR1cm4gc3RyZWFtO1xuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBuZXh0KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKHJlc3VsdD8uZG9uZSkgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGNsb3NlZFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTsgLy8gcmVsZWFzZSBsb2NrIHdoZW4gc3RyZWFtIGJlY29tZXMgZXJyb3JlZFxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgY29uc3QgY2FuY2VsUHJvbWlzZSA9IHJlYWRlci5jYW5jZWwoKTtcbiAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTtcbiAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICB9LFxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IHR5cGUgUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0IHtcbiAgRm9ybURhdGEsXG4gIEZpbGUsXG4gIHR5cGUgQmxvYixcbiAgdHlwZSBGaWxlUHJvcGVydHlCYWcsXG4gIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLFxuICB0eXBlIEZzUmVhZFN0cmVhbSxcbiAgaXNGc1JlYWRTdHJlYW0sXG59IGZyb20gJy4vX3NoaW1zL2luZGV4JztcbmltcG9ydCB7IE11bHRpcGFydEJvZHkgfSBmcm9tICcuL19zaGltcy9NdWx0aXBhcnRCb2R5JztcbmV4cG9ydCB7IGZpbGVGcm9tUGF0aCB9IGZyb20gJy4vX3NoaW1zL2luZGV4JztcblxudHlwZSBCbG9iTGlrZVBhcnQgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyB8IEJsb2JMaWtlIHwgVWludDhBcnJheSB8IERhdGFWaWV3O1xuZXhwb3J0IHR5cGUgQmxvYlBhcnQgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyB8IEJsb2IgfCBVaW50OEFycmF5IHwgRGF0YVZpZXc7XG5cbi8qKlxuICogVHlwaWNhbGx5LCB0aGlzIGlzIGEgbmF0aXZlIFwiRmlsZVwiIGNsYXNzLlxuICpcbiAqIFdlIHByb3ZpZGUgdGhlIHtAbGluayB0b0ZpbGV9IHV0aWxpdHkgdG8gY29udmVydCBhIHZhcmlldHkgb2Ygb2JqZWN0c1xuICogaW50byB0aGUgRmlsZSBjbGFzcy5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgZmV0Y2ggUmVzcG9uc2UsIG9yIGluIE5vZGUsXG4gKiB0aGUgcmVzdWx0IG9mIGZzLmNyZWF0ZVJlYWRTdHJlYW0oKS5cbiAqL1xuZXhwb3J0IHR5cGUgVXBsb2FkYWJsZSA9IEZpbGVMaWtlIHwgUmVzcG9uc2VMaWtlIHwgRnNSZWFkU3RyZWFtO1xuXG4vKipcbiAqIEludGVuZGVkIHRvIG1hdGNoIHdlYi5CbG9iLCBub2RlLkJsb2IsIG5vZGUtZmV0Y2guQmxvYiwgZXRjLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2JMaWtlIHtcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQmxvYi9zaXplKSAqL1xuICByZWFkb25seSBzaXplOiBudW1iZXI7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2IvdHlwZSkgKi9cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9CbG9iL3RleHQpICovXG4gIHRleHQoKTogUHJvbWlzZTxzdHJpbmc+O1xuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9CbG9iL3NsaWNlKSAqL1xuICBzbGljZShzdGFydD86IG51bWJlciwgZW5kPzogbnVtYmVyKTogQmxvYkxpa2U7XG4gIC8vIHVuZm9ydHVuYXRlbHkgQHR5cGVzL25vZGUtZmV0Y2hAXjIuNi40IGRvZXNuJ3QgdHlwZSB0aGUgYXJyYXlCdWZmZXIgbWV0aG9kXG59XG5cbi8qKlxuICogSW50ZW5kZWQgdG8gbWF0Y2ggd2ViLkZpbGUsIG5vZGUuRmlsZSwgbm9kZS1mZXRjaC5GaWxlLCBldGMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUxpa2UgZXh0ZW5kcyBCbG9iTGlrZSB7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZpbGUvbGFzdE1vZGlmaWVkKSAqL1xuICByZWFkb25seSBsYXN0TW9kaWZpZWQ6IG51bWJlcjtcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRmlsZS9uYW1lKSAqL1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG59XG5cbi8qKlxuICogSW50ZW5kZWQgdG8gbWF0Y2ggd2ViLlJlc3BvbnNlLCBub2RlLlJlc3BvbnNlLCBub2RlLWZldGNoLlJlc3BvbnNlLCBldGMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VMaWtlIHtcbiAgdXJsOiBzdHJpbmc7XG4gIGJsb2IoKTogUHJvbWlzZTxCbG9iTGlrZT47XG59XG5cbmV4cG9ydCBjb25zdCBpc1Jlc3BvbnNlTGlrZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgUmVzcG9uc2VMaWtlID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUudXJsID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcblxuZXhwb3J0IGNvbnN0IGlzRmlsZUxpa2UgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEZpbGVMaWtlID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUubmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgdHlwZW9mIHZhbHVlLmxhc3RNb2RpZmllZCA9PT0gJ251bWJlcicgJiZcbiAgaXNCbG9iTGlrZSh2YWx1ZSk7XG5cbi8qKlxuICogVGhlIEJsb2JMaWtlIHR5cGUgb21pdHMgYXJyYXlCdWZmZXIoKSBiZWNhdXNlIEB0eXBlcy9ub2RlLWZldGNoQF4yLjYuNCBsYWNrcyBpdDsgYnV0IHRoaXMgY2hlY2tcbiAqIGFkZHMgdGhlIGFycmF5QnVmZmVyKCkgbWV0aG9kIHR5cGUgYmVjYXVzZSBpdCBpcyBhdmFpbGFibGUgYW5kIHVzZWQgYXQgcnVudGltZVxuICovXG5leHBvcnQgY29uc3QgaXNCbG9iTGlrZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgQmxvYkxpa2UgJiB7IGFycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+IH0gPT5cbiAgdmFsdWUgIT0gbnVsbCAmJlxuICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gIHR5cGVvZiB2YWx1ZS5zaXplID09PSAnbnVtYmVyJyAmJlxuICB0eXBlb2YgdmFsdWUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgdHlwZW9mIHZhbHVlLnRleHQgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIHZhbHVlLnNsaWNlID09PSAnZnVuY3Rpb24nICYmXG4gIHR5cGVvZiB2YWx1ZS5hcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcblxuZXhwb3J0IGNvbnN0IGlzVXBsb2FkYWJsZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgVXBsb2FkYWJsZSA9PiB7XG4gIHJldHVybiBpc0ZpbGVMaWtlKHZhbHVlKSB8fCBpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkgfHwgaXNGc1JlYWRTdHJlYW0odmFsdWUpO1xufTtcblxuZXhwb3J0IHR5cGUgVG9GaWxlSW5wdXQgPSBVcGxvYWRhYmxlIHwgRXhjbHVkZTxCbG9iTGlrZVBhcnQsIHN0cmluZz4gfCBBc3luY0l0ZXJhYmxlPEJsb2JMaWtlUGFydD47XG5cbi8qKlxuICogSGVscGVyIGZvciBjcmVhdGluZyBhIHtAbGluayBGaWxlfSB0byBwYXNzIHRvIGFuIFNESyB1cGxvYWQgbWV0aG9kIGZyb20gYSB2YXJpZXR5IG9mIGRpZmZlcmVudCBkYXRhIGZvcm1hdHNcbiAqIEBwYXJhbSB2YWx1ZSB0aGUgcmF3IGNvbnRlbnQgb2YgdGhlIGZpbGUuICBDYW4gYmUgYW4ge0BsaW5rIFVwbG9hZGFibGV9LCB7QGxpbmsgQmxvYkxpa2VQYXJ0fSwgb3Ige0BsaW5rIEFzeW5jSXRlcmFibGV9IG9mIHtAbGluayBCbG9iTGlrZVBhcnR9c1xuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBmaWxlLiBJZiBvbWl0dGVkLCB0b0ZpbGUgd2lsbCB0cnkgdG8gZGV0ZXJtaW5lIGEgZmlsZSBuYW1lIGZyb20gYml0cyBpZiBwb3NzaWJsZVxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRpb25zLnR5cGUgdGhlIE1JTUUgdHlwZSBvZiB0aGUgY29udGVudFxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRpb25zLmxhc3RNb2RpZmllZCB0aGUgbGFzdCBtb2RpZmllZCB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIGEge0BsaW5rIEZpbGV9IHdpdGggdGhlIGdpdmVuIHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvRmlsZShcbiAgdmFsdWU6IFRvRmlsZUlucHV0IHwgUHJvbWlzZUxpa2U8VG9GaWxlSW5wdXQ+LFxuICBuYW1lPzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgb3B0aW9uczogRmlsZVByb3BlcnR5QmFnIHwgdW5kZWZpbmVkID0ge30sXG4pOiBQcm9taXNlPEZpbGVMaWtlPiB7XG4gIC8vIElmIGl0J3MgYSBwcm9taXNlLCByZXNvbHZlIGl0LlxuICB2YWx1ZSA9IGF3YWl0IHZhbHVlO1xuXG4gIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgdmFsdWUuYmxvYigpO1xuICAgIG5hbWUgfHw9IG5ldyBVUkwodmFsdWUudXJsKS5wYXRobmFtZS5zcGxpdCgvW1xcXFwvXS8pLnBvcCgpID8/ICd1bmtub3duX2ZpbGUnO1xuXG4gICAgcmV0dXJuIG5ldyBGaWxlKFtibG9iIGFzIGFueV0sIG5hbWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uc3QgYml0cyA9IGF3YWl0IGdldEJ5dGVzKHZhbHVlKTtcblxuICBuYW1lIHx8PSBnZXROYW1lKHZhbHVlKSA/PyAndW5rbm93bl9maWxlJztcblxuICBpZiAoIW9wdGlvbnMudHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSAoYml0c1swXSBhcyBhbnkpPy50eXBlO1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIHR5cGUgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IEZpbGUoYml0cywgbmFtZSwgb3B0aW9ucyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlOiBUb0ZpbGVJbnB1dCk6IFByb21pc2U8QXJyYXk8QmxvYlBhcnQ+PiB7XG4gIGxldCBwYXJ0czogQXJyYXk8QmxvYlBhcnQ+ID0gW107XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyXG4gICkge1xuICAgIHBhcnRzLnB1c2godmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQmxvYkxpa2UodmFsdWUpKSB7XG4gICAgcGFydHMucHVzaChhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgfSBlbHNlIGlmIChcbiAgICBpc0FzeW5jSXRlcmFibGVJdGVyYXRvcih2YWx1ZSkgLy8gaW5jbHVkZXMgUmVhZGFibGUsIFJlYWRhYmxlU3RyZWFtLCBldGMuXG4gICkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICAgIHBhcnRzLnB1c2goY2h1bmsgYXMgQmxvYlBhcnQpOyAvLyBUT0RPLCBjb25zaWRlciB2YWxpZGF0aW5nP1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVW5leHBlY3RlZCBkYXRhIHR5cGU6ICR7dHlwZW9mIHZhbHVlfTsgY29uc3RydWN0b3I6ICR7dmFsdWU/LmNvbnN0cnVjdG9yXG4gICAgICAgID8ubmFtZX07IHByb3BzOiAke3Byb3BzRm9yRXJyb3IodmFsdWUpfWAsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuZnVuY3Rpb24gcHJvcHNGb3JFcnJvcih2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIHJldHVybiBgWyR7cHJvcHMubWFwKChwKSA9PiBgXCIke3B9XCJgKS5qb2luKCcsICcpfV1gO1xufVxuXG5mdW5jdGlvbiBnZXROYW1lKHZhbHVlOiBhbnkpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICByZXR1cm4gKFxuICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5uYW1lKSB8fFxuICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5maWxlbmFtZSkgfHxcbiAgICAvLyBGb3IgZnMuUmVhZFN0cmVhbVxuICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5wYXRoKT8uc3BsaXQoL1tcXFxcL10vKS5wb3AoKVxuICApO1xufVxuXG5jb25zdCBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIgPSAoeDogc3RyaW5nIHwgQnVmZmVyIHwgdW5rbm93bik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHJldHVybiB4O1xuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEJ1ZmZlcikgcmV0dXJuIFN0cmluZyh4KTtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IGlzQXN5bmNJdGVyYWJsZUl0ZXJhdG9yID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8dW5rbm93bj4gPT5cbiAgdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cbmV4cG9ydCBjb25zdCBpc011bHRpcGFydEJvZHkgPSAoYm9keTogYW55KTogYm9keSBpcyBNdWx0aXBhcnRCb2R5ID0+XG4gIGJvZHkgJiYgdHlwZW9mIGJvZHkgPT09ICdvYmplY3QnICYmIGJvZHkuYm9keSAmJiBib2R5W1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNdWx0aXBhcnRCb2R5JztcblxuLyoqXG4gKiBSZXR1cm5zIGEgbXVsdGlwYXJ0L2Zvcm0tZGF0YSByZXF1ZXN0IGlmIGFueSBwYXJ0IG9mIHRoZSBnaXZlbiByZXF1ZXN0IGJvZHkgY29udGFpbnMgYSBGaWxlIC8gQmxvYiB2YWx1ZS5cbiAqIE90aGVyd2lzZSByZXR1cm5zIHRoZSByZXF1ZXN0IGFzIGlzLlxuICovXG5leHBvcnQgY29uc3QgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgPSBhc3luYyA8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgb3B0czogUmVxdWVzdE9wdGlvbnM8VD4sXG4pOiBQcm9taXNlPFJlcXVlc3RPcHRpb25zPFQgfCBNdWx0aXBhcnRCb2R5Pj4gPT4ge1xuICBpZiAoIWhhc1VwbG9hZGFibGVWYWx1ZShvcHRzLmJvZHkpKSByZXR1cm4gb3B0cztcblxuICBjb25zdCBmb3JtID0gYXdhaXQgY3JlYXRlRm9ybShvcHRzLmJvZHkpO1xuICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuXG5leHBvcnQgY29uc3QgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zID0gYXN5bmMgPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oXG4gIG9wdHM6IFJlcXVlc3RPcHRpb25zPFQ+LFxuKTogUHJvbWlzZTxSZXF1ZXN0T3B0aW9uczxUIHwgTXVsdGlwYXJ0Qm9keT4+ID0+IHtcbiAgY29uc3QgZm9ybSA9IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5KTtcbiAgcmV0dXJuIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcm0gPSBhc3luYyA8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+Pihib2R5OiBUIHwgdW5kZWZpbmVkKTogUHJvbWlzZTxGb3JtRGF0YT4gPT4ge1xuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC5lbnRyaWVzKGJvZHkgfHwge30pLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5LCB2YWx1ZSkpKTtcbiAgcmV0dXJuIGZvcm07XG59O1xuXG5jb25zdCBoYXNVcGxvYWRhYmxlVmFsdWUgPSAodmFsdWU6IHVua25vd24pOiBib29sZWFuID0+IHtcbiAgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5zb21lKGhhc1VwbG9hZGFibGVWYWx1ZSk7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICBpZiAoaGFzVXBsb2FkYWJsZVZhbHVlKCh2YWx1ZSBhcyBhbnkpW2tdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGFkZEZvcm1WYWx1ZSA9IGFzeW5jIChmb3JtOiBGb3JtRGF0YSwga2V5OiBzdHJpbmcsIHZhbHVlOiB1bmtub3duKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIGBSZWNlaXZlZCBudWxsIGZvciBcIiR7a2V5fVwiOyB0byBwYXNzIG51bGwgaW4gRm9ybURhdGEsIHlvdSBtdXN0IHVzZSB0aGUgc3RyaW5nICdudWxsJ2AsXG4gICAgKTtcbiAgfVxuXG4gIC8vIFRPRE86IG1ha2UgbmVzdGVkIGZvcm1hdHMgY29uZmlndXJhYmxlXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICBmb3JtLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICB9IGVsc2UgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgdG9GaWxlKHZhbHVlKTtcbiAgICBmb3JtLmFwcGVuZChrZXksIGZpbGUgYXMgRmlsZSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgSW52YWxpZCB2YWx1ZSBnaXZlbiB0byBmb3JtLCBleHBlY3RlZCBhIHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBvYmplY3QsIEFycmF5LCBGaWxlIG9yIEJsb2IgYnV0IGdvdCAke3ZhbHVlfSBpbnN0ZWFkYCxcbiAgICApO1xuICB9XG59O1xuIiwgImltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi9zdHJlYW1pbmcnO1xuaW1wb3J0IHtcbiAgT3BlbkFJRXJyb3IsXG4gIEFQSUVycm9yLFxuICBBUElDb25uZWN0aW9uRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsXG4gIEFQSVVzZXJBYm9ydEVycm9yLFxufSBmcm9tICcuL2Vycm9yJztcbmltcG9ydCB7XG4gIGtpbmQgYXMgc2hpbXNLaW5kLFxuICB0eXBlIFJlYWRhYmxlLFxuICBnZXREZWZhdWx0QWdlbnQsXG4gIHR5cGUgQWdlbnQsXG4gIGZldGNoLFxuICB0eXBlIFJlcXVlc3RJbmZvLFxuICB0eXBlIFJlcXVlc3RJbml0LFxuICB0eXBlIFJlc3BvbnNlLFxuICB0eXBlIEhlYWRlcnNJbml0LFxufSBmcm9tICcuL19zaGltcy9pbmRleCc7XG5leHBvcnQgeyB0eXBlIFJlc3BvbnNlIH07XG5pbXBvcnQgeyBpc011bHRpcGFydEJvZHkgfSBmcm9tICcuL3VwbG9hZHMnO1xuZXhwb3J0IHtcbiAgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsXG4gIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyxcbiAgY3JlYXRlRm9ybSxcbiAgdHlwZSBVcGxvYWRhYmxlLFxufSBmcm9tICcuL3VwbG9hZHMnO1xuXG5leHBvcnQgdHlwZSBGZXRjaCA9ICh1cmw6IFJlcXVlc3RJbmZvLCBpbml0PzogUmVxdWVzdEluaXQpID0+IFByb21pc2U8UmVzcG9uc2U+O1xuXG50eXBlIFByb21pc2VPclZhbHVlPFQ+ID0gVCB8IFByb21pc2U8VD47XG5cbnR5cGUgQVBJUmVzcG9uc2VQcm9wcyA9IHtcbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xuICBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zO1xuICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG59O1xuXG5hc3luYyBmdW5jdGlvbiBkZWZhdWx0UGFyc2VSZXNwb25zZTxUPihwcm9wczogQVBJUmVzcG9uc2VQcm9wcyk6IFByb21pc2U8VD4ge1xuICBjb25zdCB7IHJlc3BvbnNlIH0gPSBwcm9wcztcbiAgaWYgKHByb3BzLm9wdGlvbnMuc3RyZWFtKSB7XG4gICAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIHJlc3BvbnNlLmJvZHkpO1xuXG4gICAgLy8gTm90ZTogdGhlcmUgaXMgYW4gaW52YXJpYW50IGhlcmUgdGhhdCBpc24ndCByZXByZXNlbnRlZCBpbiB0aGUgdHlwZSBzeXN0ZW1cbiAgICAvLyB0aGF0IGlmIHlvdSBzZXQgYHN0cmVhbTogdHJ1ZWAgdGhlIHJlc3BvbnNlIHR5cGUgbXVzdCBhbHNvIGJlIGBTdHJlYW08VD5gXG4gICAgcmV0dXJuIFN0cmVhbS5mcm9tU1NFUmVzcG9uc2UocmVzcG9uc2UsIHByb3BzLmNvbnRyb2xsZXIpIGFzIGFueTtcbiAgfVxuXG4gIC8vIGZldGNoIHJlZnVzZXMgdG8gcmVhZCB0aGUgYm9keSB3aGVuIHRoZSBzdGF0dXMgY29kZSBpcyAyMDQuXG4gIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgIHJldHVybiBudWxsIGFzIFQ7XG4gIH1cblxuICBpZiAocHJvcHMub3B0aW9ucy5fX2JpbmFyeVJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlIGFzIHVua25vd24gYXMgVDtcbiAgfVxuXG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICBpZiAoY29udGVudFR5cGU/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIGpzb24pO1xuXG4gICAgcmV0dXJuIGpzb24gYXMgVDtcbiAgfVxuXG4gIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCB0ZXh0KTtcblxuICAvLyBUT0RPIGhhbmRsZSBibG9iLCBhcnJheWJ1ZmZlciwgb3RoZXIgY29udGVudCB0eXBlcywgZXRjLlxuICByZXR1cm4gdGV4dCBhcyB1bmtub3duIGFzIFQ7XG59XG5cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlPFQ+IGV4dGVuZHMgUHJvbWlzZTxUPiB7XG4gIHByaXZhdGUgcGFyc2VkUHJvbWlzZTogUHJvbWlzZTxUPiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlc3BvbnNlUHJvbWlzZTogUHJvbWlzZTxBUElSZXNwb25zZVByb3BzPixcbiAgICBwcml2YXRlIHBhcnNlUmVzcG9uc2U6IChwcm9wczogQVBJUmVzcG9uc2VQcm9wcykgPT4gUHJvbWlzZU9yVmFsdWU8VD4gPSBkZWZhdWx0UGFyc2VSZXNwb25zZSxcbiAgKSB7XG4gICAgc3VwZXIoKHJlc29sdmUpID0+IHtcbiAgICAgIC8vIHRoaXMgaXMgbWF5YmUgYSBiaXQgd2VpcmQgYnV0IHRoaXMgaGFzIHRvIGJlIGEgbm8tb3AgdG8gbm90IGltcGxpY2l0bHlcbiAgICAgIC8vIHBhcnNlIHRoZSByZXNwb25zZSBib2R5OyBpbnN0ZWFkIC50aGVuLCAuY2F0Y2gsIC5maW5hbGx5IGFyZSBvdmVycmlkZGVuXG4gICAgICAvLyB0byBwYXJzZSB0aGUgcmVzcG9uc2VcbiAgICAgIHJlc29sdmUobnVsbCBhcyBhbnkpO1xuICAgIH0pO1xuICB9XG5cbiAgX3RoZW5VbndyYXA8VT4odHJhbnNmb3JtOiAoZGF0YTogVCkgPT4gVSk6IEFQSVByb21pc2U8VT4ge1xuICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLnJlc3BvbnNlUHJvbWlzZSwgYXN5bmMgKHByb3BzKSA9PiB0cmFuc2Zvcm0oYXdhaXQgdGhpcy5wYXJzZVJlc3BvbnNlKHByb3BzKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGluc3RlYWQgb2YgcGFyc2luZyB0aGUgcmVzcG9uc2VcbiAgICogZGF0YS5cbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gcGFyc2UgdGhlIHJlc3BvbnNlIGJvZHkgYnV0IHN0aWxsIGdldCB0aGUgYFJlc3BvbnNlYFxuICAgKiBpbnN0YW5jZSwgeW91IGNhbiB1c2Uge0BsaW5rIHdpdGhSZXNwb25zZSgpfS5cbiAgICpcbiAgICogXHVEODNEXHVEQzRCIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAqIG9yIGFkZCBvbmUgb2YgdGhlc2UgaW1wb3J0cyBiZWZvcmUgeW91ciBmaXJzdCBgaW1wb3J0IFx1MjAyNiBmcm9tICdvcGVuYWknYDpcbiAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvbm9kZSdgIChpZiB5b3UncmUgcnVubmluZyBvbiBOb2RlKVxuICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgKi9cbiAgYXNSZXNwb25zZSgpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4oKHApID0+IHAucmVzcG9uc2UpO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwYXJzZWQgcmVzcG9uc2UgZGF0YSBhbmQgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlLlxuICAgKlxuICAgKiBJZiB5b3UganVzdCB3YW50IHRvIGdldCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2Ugd2l0aG91dCBwYXJzaW5nIGl0LFxuICAgKiB5b3UgY2FuIHVzZSB7QGxpbmsgYXNSZXNwb25zZSgpfS5cbiAgICpcbiAgICpcbiAgICogXHVEODNEXHVEQzRCIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAqIG9yIGFkZCBvbmUgb2YgdGhlc2UgaW1wb3J0cyBiZWZvcmUgeW91ciBmaXJzdCBgaW1wb3J0IFx1MjAyNiBmcm9tICdvcGVuYWknYDpcbiAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvbm9kZSdgIChpZiB5b3UncmUgcnVubmluZyBvbiBOb2RlKVxuICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgKi9cbiAgYXN5bmMgd2l0aFJlc3BvbnNlKCk6IFByb21pc2U8eyBkYXRhOiBUOyByZXNwb25zZTogUmVzcG9uc2UgfT4ge1xuICAgIGNvbnN0IFtkYXRhLCByZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYXJzZSgpLCB0aGlzLmFzUmVzcG9uc2UoKV0pO1xuICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlIH07XG4gIH1cblxuICBwcml2YXRlIHBhcnNlKCk6IFByb21pc2U8VD4ge1xuICAgIGlmICghdGhpcy5wYXJzZWRQcm9taXNlKSB7XG4gICAgICB0aGlzLnBhcnNlZFByb21pc2UgPSB0aGlzLnJlc3BvbnNlUHJvbWlzZS50aGVuKHRoaXMucGFyc2VSZXNwb25zZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhcnNlZFByb21pc2U7XG4gIH1cblxuICBvdmVycmlkZSB0aGVuPFRSZXN1bHQxID0gVCwgVFJlc3VsdDIgPSBuZXZlcj4oXG4gICAgb25mdWxmaWxsZWQ/OiAoKHZhbHVlOiBUKSA9PiBUUmVzdWx0MSB8IFByb21pc2VMaWtlPFRSZXN1bHQxPikgfCB1bmRlZmluZWQgfCBudWxsLFxuICAgIG9ucmVqZWN0ZWQ/OiAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0MiB8IFByb21pc2VMaWtlPFRSZXN1bHQyPikgfCB1bmRlZmluZWQgfCBudWxsLFxuICApOiBQcm9taXNlPFRSZXN1bHQxIHwgVFJlc3VsdDI+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZSgpLnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICB9XG5cbiAgb3ZlcnJpZGUgY2F0Y2g8VFJlc3VsdCA9IG5ldmVyPihcbiAgICBvbnJlamVjdGVkPzogKChyZWFzb246IGFueSkgPT4gVFJlc3VsdCB8IFByb21pc2VMaWtlPFRSZXN1bHQ+KSB8IHVuZGVmaW5lZCB8IG51bGwsXG4gICk6IFByb21pc2U8VCB8IFRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZSgpLmNhdGNoKG9ucmVqZWN0ZWQpO1xuICB9XG5cbiAgb3ZlcnJpZGUgZmluYWxseShvbmZpbmFsbHk/OiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQgfCBudWxsKTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS5maW5hbGx5KG9uZmluYWxseSk7XG4gIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFQSUNsaWVudCB7XG4gIGJhc2VVUkw6IHN0cmluZztcbiAgbWF4UmV0cmllczogbnVtYmVyO1xuICB0aW1lb3V0OiBudW1iZXI7XG4gIGh0dHBBZ2VudDogQWdlbnQgfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSBmZXRjaDogRmV0Y2g7XG4gIHByb3RlY3RlZCBpZGVtcG90ZW5jeUhlYWRlcj86IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgYmFzZVVSTCxcbiAgICBtYXhSZXRyaWVzID0gMixcbiAgICB0aW1lb3V0ID0gNjAwMDAwLCAvLyAxMCBtaW51dGVzXG4gICAgaHR0cEFnZW50LFxuICAgIGZldGNoOiBvdmVycmlkZW5GZXRjaCxcbiAgfToge1xuICAgIGJhc2VVUkw6IHN0cmluZztcbiAgICBtYXhSZXRyaWVzPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBodHRwQWdlbnQ6IEFnZW50IHwgdW5kZWZpbmVkO1xuICAgIGZldGNoOiBGZXRjaCB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ21heFJldHJpZXMnLCBtYXhSZXRyaWVzKTtcbiAgICB0aGlzLnRpbWVvdXQgPSB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlcigndGltZW91dCcsIHRpbWVvdXQpO1xuICAgIHRoaXMuaHR0cEFnZW50ID0gaHR0cEFnZW50O1xuXG4gICAgdGhpcy5mZXRjaCA9IG92ZXJyaWRlbkZldGNoID8/IGZldGNoO1xuICB9XG5cbiAgcHJvdGVjdGVkIGF1dGhIZWFkZXJzKG9wdHM6IEZpbmFsUmVxdWVzdE9wdGlvbnMpOiBIZWFkZXJzIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhpcyB0byBhZGQgeW91ciBvd24gZGVmYXVsdCBoZWFkZXJzLCBmb3IgZXhhbXBsZTpcbiAgICpcbiAgICogIHtcbiAgICogICAgLi4uc3VwZXIuZGVmYXVsdEhlYWRlcnMoKSxcbiAgICogICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAxMjMnLFxuICAgKiAgfVxuICAgKi9cbiAgcHJvdGVjdGVkIGRlZmF1bHRIZWFkZXJzKG9wdHM6IEZpbmFsUmVxdWVzdE9wdGlvbnMpOiBIZWFkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ1VzZXItQWdlbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgLi4uZ2V0UGxhdGZvcm1IZWFkZXJzKCksXG4gICAgICAuLi50aGlzLmF1dGhIZWFkZXJzKG9wdHMpLFxuICAgIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZGVmYXVsdFF1ZXJ5KCk6IERlZmF1bHRRdWVyeSB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhpcyB0byBhZGQgeW91ciBvd24gaGVhZGVycyB2YWxpZGF0aW9uOlxuICAgKi9cbiAgcHJvdGVjdGVkIHZhbGlkYXRlSGVhZGVycyhoZWFkZXJzOiBIZWFkZXJzLCBjdXN0b21IZWFkZXJzOiBIZWFkZXJzKSB7fVxuXG4gIHByb3RlY3RlZCBkZWZhdWx0SWRlbXBvdGVuY3lLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYHN0YWlubGVzcy1ub2RlLXJldHJ5LSR7dXVpZDQoKX1gO1xuICB9XG5cbiAgZ2V0PFJlcSwgUnNwPihwYXRoOiBzdHJpbmcsIG9wdHM/OiBQcm9taXNlT3JWYWx1ZTxSZXF1ZXN0T3B0aW9uczxSZXE+Pik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZ2V0JywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBwb3N0PFJlcSwgUnNwPihwYXRoOiBzdHJpbmcsIG9wdHM/OiBQcm9taXNlT3JWYWx1ZTxSZXF1ZXN0T3B0aW9uczxSZXE+Pik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncG9zdCcsIHBhdGgsIG9wdHMpO1xuICB9XG5cbiAgcGF0Y2g8UmVxLCBSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPFJlcT4+KTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwYXRjaCcsIHBhdGgsIG9wdHMpO1xuICB9XG5cbiAgcHV0PFJlcSwgUnNwPihwYXRoOiBzdHJpbmcsIG9wdHM/OiBQcm9taXNlT3JWYWx1ZTxSZXF1ZXN0T3B0aW9uczxSZXE+Pik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncHV0JywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBkZWxldGU8UmVxLCBSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPFJlcT4+KTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdkZWxldGUnLCBwYXRoLCBvcHRzKTtcbiAgfVxuXG4gIHByaXZhdGUgbWV0aG9kUmVxdWVzdDxSZXEsIFJzcD4oXG4gICAgbWV0aG9kOiBIVFRQTWV0aG9kLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM8UmVxPj4sXG4gICk6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChQcm9taXNlLnJlc29sdmUob3B0cykudGhlbigob3B0cykgPT4gKHsgbWV0aG9kLCBwYXRoLCAuLi5vcHRzIH0pKSk7XG4gIH1cblxuICBnZXRBUElMaXN0PEl0ZW0sIFBhZ2VDbGFzcyBleHRlbmRzIEFic3RyYWN0UGFnZTxJdGVtPiA9IEFic3RyYWN0UGFnZTxJdGVtPj4oXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIFBhZ2U6IG5ldyAoLi4uYXJnczogYW55W10pID0+IFBhZ2VDbGFzcyxcbiAgICBvcHRzPzogUmVxdWVzdE9wdGlvbnM8YW55PixcbiAgKTogUGFnZVByb21pc2U8UGFnZUNsYXNzLCBJdGVtPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdEFQSUxpc3QoUGFnZSwgeyBtZXRob2Q6ICdnZXQnLCBwYXRoLCAuLi5vcHRzIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHk6IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5ieXRlTGVuZ3RoKGJvZHksICd1dGY4JykudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBUZXh0RW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICBjb25zdCBlbmNvZGVkID0gZW5jb2Rlci5lbmNvZGUoYm9keSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkLmxlbmd0aC50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYnVpbGRSZXF1ZXN0PFJlcT4ob3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9uczxSZXE+KTogeyByZXE6IFJlcXVlc3RJbml0OyB1cmw6IHN0cmluZzsgdGltZW91dDogbnVtYmVyIH0ge1xuICAgIGNvbnN0IHsgbWV0aG9kLCBwYXRoLCBxdWVyeSwgaGVhZGVyczogaGVhZGVycyA9IHt9IH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgYm9keSA9XG4gICAgICBpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSA/IG9wdGlvbnMuYm9keS5ib2R5XG4gICAgICA6IG9wdGlvbnMuYm9keSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSwgbnVsbCwgMilcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5jYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpO1xuXG4gICAgY29uc3QgdXJsID0gdGhpcy5idWlsZFVSTChwYXRoISwgcXVlcnkpO1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucykgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgIGNvbnN0IHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gdGhpcy50aW1lb3V0O1xuICAgIGNvbnN0IGh0dHBBZ2VudCA9IG9wdGlvbnMuaHR0cEFnZW50ID8/IHRoaXMuaHR0cEFnZW50ID8/IGdldERlZmF1bHRBZ2VudCh1cmwpO1xuICAgIGNvbnN0IG1pbkFnZW50VGltZW91dCA9IHRpbWVvdXQgKyAxMDAwO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiAoaHR0cEFnZW50IGFzIGFueSk/Lm9wdGlvbnM/LnRpbWVvdXQgPT09ICdudW1iZXInICYmXG4gICAgICBtaW5BZ2VudFRpbWVvdXQgPiAoKGh0dHBBZ2VudCBhcyBhbnkpLm9wdGlvbnMudGltZW91dCA/PyAwKVxuICAgICkge1xuICAgICAgLy8gQWxsb3cgYW55IGdpdmVuIHJlcXVlc3QgdG8gYnVtcCBvdXIgYWdlbnQgYWN0aXZlIHNvY2tldCB0aW1lb3V0LlxuICAgICAgLy8gVGhpcyBtYXkgc2VlbSBzdHJhbmdlLCBidXQgbGVha2luZyBhY3RpdmUgc29ja2V0cyBzaG91bGQgYmUgcmFyZSBhbmQgbm90IHBhcnRpY3VsYXJseSBwcm9ibGVtYXRpYyxcbiAgICAgIC8vIGFuZCB3aXRob3V0IG11dGF0aW5nIGFnZW50IHdlIHdvdWxkIG5lZWQgdG8gY3JlYXRlIG1vcmUgb2YgdGhlbS5cbiAgICAgIC8vIFRoaXMgdHJhZGVvZmYgb3B0aW1pemVzIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIChodHRwQWdlbnQgYXMgYW55KS5vcHRpb25zLnRpbWVvdXQgPSBtaW5BZ2VudFRpbWVvdXQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaWRlbXBvdGVuY3lIZWFkZXIgJiYgbWV0aG9kICE9PSAnZ2V0Jykge1xuICAgICAgaWYgKCFvcHRpb25zLmlkZW1wb3RlbmN5S2V5KSBvcHRpb25zLmlkZW1wb3RlbmN5S2V5ID0gdGhpcy5kZWZhdWx0SWRlbXBvdGVuY3lLZXkoKTtcbiAgICAgIGhlYWRlcnNbdGhpcy5pZGVtcG90ZW5jeUhlYWRlcl0gPSBvcHRpb25zLmlkZW1wb3RlbmN5S2V5O1xuICAgIH1cblxuICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB0aGlzLmJ1aWxkSGVhZGVycyh7IG9wdGlvbnMsIGhlYWRlcnMsIGNvbnRlbnRMZW5ndGggfSk7XG5cbiAgICBjb25zdCByZXE6IFJlcXVlc3RJbml0ID0ge1xuICAgICAgbWV0aG9kLFxuICAgICAgLi4uKGJvZHkgJiYgeyBib2R5OiBib2R5IGFzIGFueSB9KSxcbiAgICAgIGhlYWRlcnM6IHJlcUhlYWRlcnMsXG4gICAgICAuLi4oaHR0cEFnZW50ICYmIHsgYWdlbnQ6IGh0dHBBZ2VudCB9KSxcbiAgICAgIC8vIEB0cy1pZ25vcmUgbm9kZS1mZXRjaCB1c2VzIGEgY3VzdG9tIEFib3J0U2lnbmFsIHR5cGUgdGhhdCBpc1xuICAgICAgLy8gbm90IGNvbXBhdGlibGUgd2l0aCBzdGFuZGFyZCB3ZWIgdHlwZXNcbiAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwgPz8gbnVsbCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHsgcmVxLCB1cmwsIHRpbWVvdXQgfTtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRIZWFkZXJzKHtcbiAgICBvcHRpb25zLFxuICAgIGhlYWRlcnMsXG4gICAgY29udGVudExlbmd0aCxcbiAgfToge1xuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnM7XG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZD47XG4gICAgY29udGVudExlbmd0aDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgfSk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAgIGNvbnN0IHJlcUhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAoY29udGVudExlbmd0aCkge1xuICAgICAgcmVxSGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IGNvbnRlbnRMZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdEhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzKG9wdGlvbnMpO1xuICAgIGFwcGx5SGVhZGVyc011dChyZXFIZWFkZXJzLCBkZWZhdWx0SGVhZGVycyk7XG4gICAgYXBwbHlIZWFkZXJzTXV0KHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gbGV0IGJ1aWx0aW4gZmV0Y2ggc2V0IHRoZSBDb250ZW50LVR5cGUgZm9yIG11bHRpcGFydCBib2RpZXNcbiAgICBpZiAoaXNNdWx0aXBhcnRCb2R5KG9wdGlvbnMuYm9keSkgJiYgc2hpbXNLaW5kICE9PSAnbm9kZScpIHtcbiAgICAgIGRlbGV0ZSByZXFIZWFkZXJzWydjb250ZW50LXR5cGUnXTtcbiAgICB9XG5cbiAgICB0aGlzLnZhbGlkYXRlSGVhZGVycyhyZXFIZWFkZXJzLCBoZWFkZXJzKTtcblxuICAgIHJldHVybiByZXFIZWFkZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYXMgYSBjYWxsYmFjayBmb3IgbXV0YXRpbmcgdGhlIGdpdmVuIGBSZXF1ZXN0SW5pdGAgb2JqZWN0LlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FzZXMgd2hlcmUgeW91IHdhbnQgdG8gYWRkIGNlcnRhaW4gaGVhZGVycyBiYXNlZCBvZmYgb2ZcbiAgICogdGhlIHJlcXVlc3QgcHJvcGVydGllcywgZS5nLiBgbWV0aG9kYCBvciBgdXJsYC5cbiAgICovXG4gIHByb3RlY3RlZCBhc3luYyBwcmVwYXJlUmVxdWVzdChcbiAgICByZXF1ZXN0OiBSZXF1ZXN0SW5pdCxcbiAgICB7IHVybCwgb3B0aW9ucyB9OiB7IHVybDogc3RyaW5nOyBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zIH0sXG4gICk6IFByb21pc2U8dm9pZD4ge31cblxuICBwcm90ZWN0ZWQgcGFyc2VIZWFkZXJzKGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgbnVsbCB8IHVuZGVmaW5lZCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAgIHJldHVybiAoXG4gICAgICAhaGVhZGVycyA/IHt9XG4gICAgICA6IFN5bWJvbC5pdGVyYXRvciBpbiBoZWFkZXJzID9cbiAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKEFycmF5LmZyb20oaGVhZGVycyBhcyBJdGVyYWJsZTxzdHJpbmdbXT4pLm1hcCgoaGVhZGVyKSA9PiBbLi4uaGVhZGVyXSkpXG4gICAgICA6IHsgLi4uaGVhZGVycyB9XG4gICAgKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBtYWtlU3RhdHVzRXJyb3IoXG4gICAgc3RhdHVzOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gICAgZXJyb3I6IE9iamVjdCB8IHVuZGVmaW5lZCxcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgaGVhZGVyczogSGVhZGVycyB8IHVuZGVmaW5lZCxcbiAgKSB7XG4gICAgcmV0dXJuIEFQSUVycm9yLmdlbmVyYXRlKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICB9XG5cbiAgcmVxdWVzdDxSZXEsIFJzcD4oXG4gICAgb3B0aW9uczogUHJvbWlzZU9yVmFsdWU8RmluYWxSZXF1ZXN0T3B0aW9uczxSZXE+PixcbiAgICByZW1haW5pbmdSZXRyaWVzOiBudW1iZXIgfCBudWxsID0gbnVsbCxcbiAgKTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gbmV3IEFQSVByb21pc2UodGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCByZW1haW5pbmdSZXRyaWVzKSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0PFJlcT4oXG4gICAgb3B0aW9uc0lucHV0OiBQcm9taXNlT3JWYWx1ZTxGaW5hbFJlcXVlc3RPcHRpb25zPFJlcT4+LFxuICAgIHJldHJpZXNSZW1haW5pbmc6IG51bWJlciB8IG51bGwsXG4gICk6IFByb21pc2U8QVBJUmVzcG9uc2VQcm9wcz4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCBvcHRpb25zSW5wdXQ7XG4gICAgaWYgKHJldHJpZXNSZW1haW5pbmcgPT0gbnVsbCkge1xuICAgICAgcmV0cmllc1JlbWFpbmluZyA9IG9wdGlvbnMubWF4UmV0cmllcyA/PyB0aGlzLm1heFJldHJpZXM7XG4gICAgfVxuXG4gICAgY29uc3QgeyByZXEsIHVybCwgdGltZW91dCB9ID0gdGhpcy5idWlsZFJlcXVlc3Qob3B0aW9ucyk7XG5cbiAgICBhd2FpdCB0aGlzLnByZXBhcmVSZXF1ZXN0KHJlcSwgeyB1cmwsIG9wdGlvbnMgfSk7XG5cbiAgICBkZWJ1ZygncmVxdWVzdCcsIHVybCwgb3B0aW9ucywgcmVxLmhlYWRlcnMpO1xuXG4gICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhUaW1lb3V0KHVybCwgcmVxLCB0aW1lb3V0LCBjb250cm9sbGVyKS5jYXRjaChjYXN0VG9FcnJvcik7XG5cbiAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgfVxuICAgICAgaWYgKHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3BvbnNlLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcigpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IGNhdXNlOiByZXNwb25zZSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBjcmVhdGVSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBpZiAocmV0cmllc1JlbWFpbmluZyAmJiB0aGlzLnNob3VsZFJldHJ5KHJlc3BvbnNlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZywgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXJyVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoZSkgPT4gY2FzdFRvRXJyb3IoZSkubWVzc2FnZSk7XG4gICAgICBjb25zdCBlcnJKU09OID0gc2FmZUpTT04oZXJyVGV4dCk7XG4gICAgICBjb25zdCBlcnJNZXNzYWdlID0gZXJySlNPTiA/IHVuZGVmaW5lZCA6IGVyclRleHQ7XG5cbiAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMsIGVyck1lc3NhZ2UpO1xuXG4gICAgICBjb25zdCBlcnIgPSB0aGlzLm1ha2VTdGF0dXNFcnJvcihyZXNwb25zZS5zdGF0dXMsIGVyckpTT04sIGVyck1lc3NhZ2UsIHJlc3BvbnNlSGVhZGVycyk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcmVzcG9uc2UsIG9wdGlvbnMsIGNvbnRyb2xsZXIgfTtcbiAgfVxuXG4gIHJlcXVlc3RBUElMaXN0PEl0ZW0gPSB1bmtub3duLCBQYWdlQ2xhc3MgZXh0ZW5kcyBBYnN0cmFjdFBhZ2U8SXRlbT4gPSBBYnN0cmFjdFBhZ2U8SXRlbT4+KFxuICAgIFBhZ2U6IG5ldyAoLi4uYXJnczogQ29uc3RydWN0b3JQYXJhbWV0ZXJzPHR5cGVvZiBBYnN0cmFjdFBhZ2U+KSA9PiBQYWdlQ2xhc3MsXG4gICAgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucyxcbiAgKTogUGFnZVByb21pc2U8UGFnZUNsYXNzLCBJdGVtPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgbnVsbCk7XG4gICAgcmV0dXJuIG5ldyBQYWdlUHJvbWlzZTxQYWdlQ2xhc3MsIEl0ZW0+KHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICB9XG5cbiAgYnVpbGRVUkw8UmVxPihwYXRoOiBzdHJpbmcsIHF1ZXJ5OiBSZXEgfCBudWxsIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcbiAgICBjb25zdCB1cmwgPVxuICAgICAgaXNBYnNvbHV0ZVVSTChwYXRoKSA/XG4gICAgICAgIG5ldyBVUkwocGF0aClcbiAgICAgIDogbmV3IFVSTCh0aGlzLmJhc2VVUkwgKyAodGhpcy5iYXNlVVJMLmVuZHNXaXRoKCcvJykgJiYgcGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aCkpO1xuXG4gICAgY29uc3QgZGVmYXVsdFF1ZXJ5ID0gdGhpcy5kZWZhdWx0UXVlcnkoKTtcbiAgICBpZiAoIWlzRW1wdHlPYmooZGVmYXVsdFF1ZXJ5KSkge1xuICAgICAgcXVlcnkgPSB7IC4uLmRlZmF1bHRRdWVyeSwgLi4ucXVlcnkgfSBhcyBSZXE7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcgJiYgcXVlcnkgJiYgIUFycmF5LmlzQXJyYXkocXVlcnkpKSB7XG4gICAgICB1cmwuc2VhcmNoID0gdGhpcy5zdHJpbmdpZnlRdWVyeShxdWVyeSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHN0cmluZyB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHF1ZXJ5KVxuICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJylcbiAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICAgIGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcmJyk7XG4gIH1cblxuICBhc3luYyBmZXRjaFdpdGhUaW1lb3V0KFxuICAgIHVybDogUmVxdWVzdEluZm8sXG4gICAgaW5pdDogUmVxdWVzdEluaXQgfCB1bmRlZmluZWQsXG4gICAgbXM6IG51bWJlcixcbiAgICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIsXG4gICk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICBjb25zdCB7IHNpZ25hbCwgLi4ub3B0aW9ucyB9ID0gaW5pdCB8fCB7fTtcbiAgICBpZiAoc2lnbmFsKSBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiBjb250cm9sbGVyLmFib3J0KCkpO1xuXG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCBtcyk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5nZXRSZXF1ZXN0Q2xpZW50KClcbiAgICAgICAgLy8gdXNlIHVuZGVmaW5lZCB0aGlzIGJpbmRpbmc7IGZldGNoIGVycm9ycyBpZiBib3VuZCB0byBzb21ldGhpbmcgZWxzZSBpbiBicm93c2VyL2Nsb3VkZmxhcmVcbiAgICAgICAgLmZldGNoLmNhbGwodW5kZWZpbmVkLCB1cmwsIHsgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCBhcyBhbnksIC4uLm9wdGlvbnMgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFJlcXVlc3RDbGllbnQoKTogUmVxdWVzdENsaWVudCB7XG4gICAgcmV0dXJuIHsgZmV0Y2g6IHRoaXMuZmV0Y2ggfTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkUmV0cnkocmVzcG9uc2U6IFJlc3BvbnNlKTogYm9vbGVhbiB7XG4gICAgLy8gTm90ZSB0aGlzIGlzIG5vdCBhIHN0YW5kYXJkIGhlYWRlci5cbiAgICBjb25zdCBzaG91bGRSZXRyeUhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXNob3VsZC1yZXRyeScpO1xuXG4gICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgaWYgKHNob3VsZFJldHJ5SGVhZGVyID09PSAndHJ1ZScpIHJldHVybiB0cnVlO1xuICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gUmV0cnkgb24gcmVxdWVzdCB0aW1lb3V0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDgpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gUmV0cnkgb24gbG9jayB0aW1lb3V0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gUmV0cnkgb24gcmF0ZSBsaW1pdHMuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDUwMCkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJldHJ5UmVxdWVzdChcbiAgICBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zLFxuICAgIHJldHJpZXNSZW1haW5pbmc6IG51bWJlcixcbiAgICByZXNwb25zZUhlYWRlcnM/OiBIZWFkZXJzIHwgdW5kZWZpbmVkLFxuICApOiBQcm9taXNlPEFQSVJlc3BvbnNlUHJvcHM+IHtcbiAgICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgICBsZXQgdGltZW91dE1pbGxpczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXJIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LlsncmV0cnktYWZ0ZXInXTtcbiAgICBpZiAocmV0cnlBZnRlckhlYWRlcikge1xuICAgICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUludChyZXRyeUFmdGVySGVhZGVyKTtcbiAgICAgIGlmICghTnVtYmVyLmlzTmFOKHRpbWVvdXRTZWNvbmRzKSkge1xuICAgICAgICB0aW1lb3V0TWlsbGlzID0gdGltZW91dFNlY29uZHMgKiAxMDAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltZW91dE1pbGxpcyA9IERhdGUucGFyc2UocmV0cnlBZnRlckhlYWRlcikgLSBEYXRlLm5vdygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBBUEkgYXNrcyB1cyB0byB3YWl0IGEgY2VydGFpbiBhbW91bnQgb2YgdGltZSAoYW5kIGl0J3MgYSByZWFzb25hYmxlIGFtb3VudCksXG4gICAgLy8ganVzdCBkbyB3aGF0IGl0IHNheXMsIGJ1dCBvdGhlcndpc2UgY2FsY3VsYXRlIGEgZGVmYXVsdFxuICAgIGlmIChcbiAgICAgICF0aW1lb3V0TWlsbGlzIHx8XG4gICAgICAhTnVtYmVyLmlzSW50ZWdlcih0aW1lb3V0TWlsbGlzKSB8fFxuICAgICAgdGltZW91dE1pbGxpcyA8PSAwIHx8XG4gICAgICB0aW1lb3V0TWlsbGlzID4gNjAgKiAxMDAwXG4gICAgKSB7XG4gICAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aGlzLmNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZywgbWF4UmV0cmllcyk7XG4gICAgfVxuICAgIGF3YWl0IHNsZWVwKHRpbWVvdXRNaWxsaXMpO1xuXG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZyAtIDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVEZWZhdWx0UmV0cnlUaW1lb3V0TWlsbGlzKHJldHJpZXNSZW1haW5pbmc6IG51bWJlciwgbWF4UmV0cmllczogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbml0aWFsUmV0cnlEZWxheSA9IDAuNTtcbiAgICBjb25zdCBtYXhSZXRyeURlbGF5ID0gOC4wO1xuXG4gICAgY29uc3QgbnVtUmV0cmllcyA9IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nO1xuXG4gICAgLy8gQXBwbHkgZXhwb25lbnRpYWwgYmFja29mZiwgYnV0IG5vdCBtb3JlIHRoYW4gdGhlIG1heC5cbiAgICBjb25zdCBzbGVlcFNlY29uZHMgPSBNYXRoLm1pbihpbml0aWFsUmV0cnlEZWxheSAqIE1hdGgucG93KDIsIG51bVJldHJpZXMpLCBtYXhSZXRyeURlbGF5KTtcblxuICAgIC8vIEFwcGx5IHNvbWUgaml0dGVyLCB0YWtlIHVwIHRvIGF0IG1vc3QgMjUgcGVyY2VudCBvZiB0aGUgcmV0cnkgdGltZS5cbiAgICBjb25zdCBqaXR0ZXIgPSAxIC0gTWF0aC5yYW5kb20oKSAqIDAuMjU7XG5cbiAgICByZXR1cm4gc2xlZXBTZWNvbmRzICogaml0dGVyICogMTAwMDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VXNlckFnZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0vSlMgJHtWRVJTSU9OfWA7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGFnZUluZm8gPSB7IHVybDogVVJMIH0gfCB7IHBhcmFtczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIH07XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFBhZ2U8SXRlbT4gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPEl0ZW0+IHtcbiAgI2NsaWVudDogQVBJQ2xpZW50O1xuICBwcm90ZWN0ZWQgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucztcblxuICBwcm90ZWN0ZWQgcmVzcG9uc2U6IFJlc3BvbnNlO1xuICBwcm90ZWN0ZWQgYm9keTogdW5rbm93bjtcblxuICBjb25zdHJ1Y3RvcihjbGllbnQ6IEFQSUNsaWVudCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBib2R5OiB1bmtub3duLCBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zKSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIG5leHRQYWdlSW5mbyBpbnN0ZWFkXG4gICAqL1xuICBhYnN0cmFjdCBuZXh0UGFnZVBhcmFtcygpOiBQYXJ0aWFsPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB8IG51bGw7XG4gIGFic3RyYWN0IG5leHRQYWdlSW5mbygpOiBQYWdlSW5mbyB8IG51bGw7XG5cbiAgYWJzdHJhY3QgZ2V0UGFnaW5hdGVkSXRlbXMoKTogSXRlbVtdO1xuXG4gIGhhc05leHRQYWdlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRQYWdpbmF0ZWRJdGVtcygpO1xuICAgIGlmICghaXRlbXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMubmV4dFBhZ2VJbmZvKCkgIT0gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGdldE5leHRQYWdlKCk6IFByb21pc2U8dGhpcz4ge1xuICAgIGNvbnN0IG5leHRJbmZvID0gdGhpcy5uZXh0UGFnZUluZm8oKTtcbiAgICBpZiAoIW5leHRJbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICdObyBuZXh0IHBhZ2UgZXhwZWN0ZWQ7IHBsZWFzZSBjaGVjayBgLmhhc05leHRQYWdlKClgIGJlZm9yZSBjYWxsaW5nIGAuZ2V0TmV4dFBhZ2UoKWAuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG5leHRPcHRpb25zID0geyAuLi50aGlzLm9wdGlvbnMgfTtcbiAgICBpZiAoJ3BhcmFtcycgaW4gbmV4dEluZm8gJiYgdHlwZW9mIG5leHRPcHRpb25zLnF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICB9IGVsc2UgaWYgKCd1cmwnIGluIG5leHRJbmZvKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBbLi4uT2JqZWN0LmVudHJpZXMobmV4dE9wdGlvbnMucXVlcnkgfHwge30pLCAuLi5uZXh0SW5mby51cmwuc2VhcmNoUGFyYW1zLmVudHJpZXMoKV07XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBwYXJhbXMpIHtcbiAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSBhcyBhbnkpO1xuICAgICAgfVxuICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgICBuZXh0T3B0aW9ucy5wYXRoID0gbmV4dEluZm8udXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLiNjbGllbnQucmVxdWVzdEFQSUxpc3QodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnksIG5leHRPcHRpb25zKTtcbiAgfVxuXG4gIGFzeW5jICppdGVyUGFnZXMoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgbGV0IHBhZ2U6IEFic3RyYWN0UGFnZTxJdGVtPiA9IHRoaXM7XG4gICAgeWllbGQgcGFnZTtcbiAgICB3aGlsZSAocGFnZS5oYXNOZXh0UGFnZSgpKSB7XG4gICAgICBwYWdlID0gYXdhaXQgcGFnZS5nZXROZXh0UGFnZSgpO1xuICAgICAgeWllbGQgcGFnZTtcbiAgICB9XG4gIH1cblxuICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgc3ViY2xhc3Mgb2YgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gaW5zdGFudGlhdGVkIFBhZ2Ugb25jZSB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gKlxuICogSXQgYWxzbyBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGUgdG8gYWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAqXG4gKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICogICAgfVxuICovXG5leHBvcnQgY2xhc3MgUGFnZVByb21pc2U8XG4gICAgUGFnZUNsYXNzIGV4dGVuZHMgQWJzdHJhY3RQYWdlPEl0ZW0+LFxuICAgIEl0ZW0gPSBSZXR1cm5UeXBlPFBhZ2VDbGFzc1snZ2V0UGFnaW5hdGVkSXRlbXMnXT5bbnVtYmVyXSxcbiAgPlxuICBleHRlbmRzIEFQSVByb21pc2U8UGFnZUNsYXNzPlxuICBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8SXRlbT5cbntcbiAgY29uc3RydWN0b3IoXG4gICAgY2xpZW50OiBBUElDbGllbnQsXG4gICAgcmVxdWVzdDogUHJvbWlzZTxBUElSZXNwb25zZVByb3BzPixcbiAgICBQYWdlOiBuZXcgKC4uLmFyZ3M6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgQWJzdHJhY3RQYWdlPikgPT4gUGFnZUNsYXNzLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIHJlcXVlc3QsXG4gICAgICBhc3luYyAocHJvcHMpID0+IG5ldyBQYWdlKGNsaWVudCwgcHJvcHMucmVzcG9uc2UsIGF3YWl0IGRlZmF1bHRQYXJzZVJlc3BvbnNlKHByb3BzKSwgcHJvcHMub3B0aW9ucyksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvdyBhdXRvLXBhZ2luYXRpbmcgaXRlcmF0aW9uIG9uIGFuIHVuYXdhaXRlZCBsaXN0IGNhbGwsIGVnOlxuICAgKlxuICAgKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICAgKiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG4gICAqICAgIH1cbiAgICovXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICB5aWVsZCBpdGVtO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzcG9uc2VIZWFkZXJzID0gKFxuICBoZWFkZXJzOiBBd2FpdGVkPFJldHVyblR5cGU8RmV0Y2g+PlsnaGVhZGVycyddLFxuKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gIHJldHVybiBuZXcgUHJveHkoXG4gICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaGVhZGVycy5lbnRyaWVzKCksXG4gICAgKSxcbiAgICB7XG4gICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgdGFyZ2V0W2tleV07XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59O1xuXG50eXBlIEhUVFBNZXRob2QgPSAnZ2V0JyB8ICdwb3N0JyB8ICdwdXQnIHwgJ3BhdGNoJyB8ICdkZWxldGUnO1xuXG5leHBvcnQgdHlwZSBSZXF1ZXN0Q2xpZW50ID0geyBmZXRjaDogRmV0Y2ggfTtcbmV4cG9ydCB0eXBlIEhlYWRlcnMgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkPjtcbmV4cG9ydCB0eXBlIERlZmF1bHRRdWVyeSA9IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG5leHBvcnQgdHlwZSBLZXlzRW51bTxUPiA9IHsgW1AgaW4ga2V5b2YgUmVxdWlyZWQ8VD5dOiB0cnVlIH07XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3RPcHRpb25zPFJlcSA9IHVua25vd24gfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IFJlYWRhYmxlPiA9IHtcbiAgbWV0aG9kPzogSFRUUE1ldGhvZDtcbiAgcGF0aD86IHN0cmluZztcbiAgcXVlcnk/OiBSZXEgfCB1bmRlZmluZWQ7XG4gIGJvZHk/OiBSZXEgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM/OiBIZWFkZXJzIHwgdW5kZWZpbmVkO1xuXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG4gIHN0cmVhbT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHRpbWVvdXQ/OiBudW1iZXI7XG4gIGh0dHBBZ2VudD86IEFnZW50O1xuICBzaWduYWw/OiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZCB8IG51bGw7XG4gIGlkZW1wb3RlbmN5S2V5Pzogc3RyaW5nO1xuXG4gIF9fYmluYXJ5UmVzcG9uc2U/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufTtcblxuLy8gVGhpcyBpcyByZXF1aXJlZCBzbyB0aGF0IHdlIGNhbiBkZXRlcm1pbmUgaWYgYSBnaXZlbiBvYmplY3QgbWF0Y2hlcyB0aGUgUmVxdWVzdE9wdGlvbnNcbi8vIHR5cGUgYXQgcnVudGltZS4gV2hpbGUgdGhpcyByZXF1aXJlcyBkdXBsaWNhdGlvbiwgaXQgaXMgZW5mb3JjZWQgYnkgdGhlIFR5cGVTY3JpcHRcbi8vIGNvbXBpbGVyIHN1Y2ggdGhhdCBhbnkgbWlzc2luZyAvIGV4dHJhbmVvdXMga2V5cyB3aWxsIGNhdXNlIGFuIGVycm9yLlxuY29uc3QgcmVxdWVzdE9wdGlvbnNLZXlzOiBLZXlzRW51bTxSZXF1ZXN0T3B0aW9ucz4gPSB7XG4gIG1ldGhvZDogdHJ1ZSxcbiAgcGF0aDogdHJ1ZSxcbiAgcXVlcnk6IHRydWUsXG4gIGJvZHk6IHRydWUsXG4gIGhlYWRlcnM6IHRydWUsXG5cbiAgbWF4UmV0cmllczogdHJ1ZSxcbiAgc3RyZWFtOiB0cnVlLFxuICB0aW1lb3V0OiB0cnVlLFxuICBodHRwQWdlbnQ6IHRydWUsXG4gIHNpZ25hbDogdHJ1ZSxcbiAgaWRlbXBvdGVuY3lLZXk6IHRydWUsXG5cbiAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBpc1JlcXVlc3RPcHRpb25zID0gKG9iajogdW5rbm93bik6IG9iaiBpcyBSZXF1ZXN0T3B0aW9ucyA9PiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiZcbiAgICBvYmogIT09IG51bGwgJiZcbiAgICAhaXNFbXB0eU9iaihvYmopICYmXG4gICAgT2JqZWN0LmtleXMob2JqKS5ldmVyeSgoaykgPT4gaGFzT3duKHJlcXVlc3RPcHRpb25zS2V5cywgaykpXG4gICk7XG59O1xuXG5leHBvcnQgdHlwZSBGaW5hbFJlcXVlc3RPcHRpb25zPFJlcSA9IHVua25vd24gfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IFJlYWRhYmxlPiA9IFJlcXVlc3RPcHRpb25zPFJlcT4gJiB7XG4gIG1ldGhvZDogSFRUUE1ldGhvZDtcbiAgcGF0aDogc3RyaW5nO1xufTtcblxuZGVjbGFyZSBjb25zdCBEZW5vOiBhbnk7XG5kZWNsYXJlIGNvbnN0IEVkZ2VSdW50aW1lOiBhbnk7XG50eXBlIEFyY2ggPSAneDMyJyB8ICd4NjQnIHwgJ2FybScgfCAnYXJtNjQnIHwgYG90aGVyOiR7c3RyaW5nfWAgfCAndW5rbm93bic7XG50eXBlIFBsYXRmb3JtTmFtZSA9XG4gIHwgJ01hY09TJ1xuICB8ICdMaW51eCdcbiAgfCAnV2luZG93cydcbiAgfCAnRnJlZUJTRCdcbiAgfCAnT3BlbkJTRCdcbiAgfCAnaU9TJ1xuICB8ICdBbmRyb2lkJ1xuICB8IGBPdGhlcjoke3N0cmluZ31gXG4gIHwgJ1Vua25vd24nO1xudHlwZSBCcm93c2VyID0gJ2llJyB8ICdlZGdlJyB8ICdjaHJvbWUnIHwgJ2ZpcmVmb3gnIHwgJ3NhZmFyaSc7XG50eXBlIFBsYXRmb3JtUHJvcGVydGllcyA9IHtcbiAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnO1xuICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogc3RyaW5nO1xuICAnWC1TdGFpbmxlc3MtT1MnOiBQbGF0Zm9ybU5hbWU7XG4gICdYLVN0YWlubGVzcy1BcmNoJzogQXJjaDtcbiAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnbm9kZScgfCAnZGVubycgfCAnZWRnZScgfCBgYnJvd3Nlcjoke0Jyb3dzZXJ9YCB8ICd1bmtub3duJztcbiAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHN0cmluZztcbn07XG5jb25zdCBnZXRQbGF0Zm9ybVByb3BlcnRpZXMgPSAoKTogUGxhdGZvcm1Qcm9wZXJ0aWVzID0+IHtcbiAgaWYgKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJyAmJiBEZW5vLmJ1aWxkICE9IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAnWC1TdGFpbmxlc3MtT1MnOiBub3JtYWxpemVQbGF0Zm9ybShEZW5vLmJ1aWxkLm9zKSxcbiAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogbm9ybWFsaXplQXJjaChEZW5vLmJ1aWxkLmFyY2gpLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZGVubycsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogRGVuby52ZXJzaW9uLFxuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBFZGdlUnVudGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAnWC1TdGFpbmxlc3MtT1MnOiAnVW5rbm93bicsXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IGBvdGhlcjoke0VkZ2VSdW50aW1lfWAsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdlZGdlJyxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgfTtcbiAgfVxuICAvLyBDaGVjayBpZiBOb2RlLmpzXG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gcHJvY2VzcyA6IDApID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAnWC1TdGFpbmxlc3MtT1MnOiBub3JtYWxpemVQbGF0Zm9ybShwcm9jZXNzLnBsYXRmb3JtKSxcbiAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogbm9ybWFsaXplQXJjaChwcm9jZXNzLmFyY2gpLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnbm9kZScsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogcHJvY2Vzcy52ZXJzaW9uLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBicm93c2VySW5mbyA9IGdldEJyb3dzZXJJbmZvKCk7XG4gIGlmIChicm93c2VySW5mbykge1xuICAgIHJldHVybiB7XG4gICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiBgYnJvd3Nlcjoke2Jyb3dzZXJJbmZvLmJyb3dzZXJ9YCxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBicm93c2VySW5mby52ZXJzaW9uLFxuICAgIH07XG4gIH1cblxuICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBDbG91ZGZsYXJlIHdvcmtlcnMsIGV0Yy5cbiAgcmV0dXJuIHtcbiAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiAndW5rbm93bicsXG4gIH07XG59O1xuXG50eXBlIEJyb3dzZXJJbmZvID0ge1xuICBicm93c2VyOiBCcm93c2VyO1xuICB2ZXJzaW9uOiBzdHJpbmc7XG59O1xuXG5kZWNsYXJlIGNvbnN0IG5hdmlnYXRvcjogeyB1c2VyQWdlbnQ6IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xuXG4vLyBOb3RlOiBtb2RpZmllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9KUy1EZXZUb29scy9ob3N0LWVudmlyb25tZW50L2Jsb2IvYjFhYjc5ZWNkZTM3ZGI1ZDZlMTYzYzA1MGU1NGZlN2QyODdkN2M5Mi9zcmMvaXNvbW9ycGhpYy5icm93c2VyLnRzXG5mdW5jdGlvbiBnZXRCcm93c2VySW5mbygpOiBCcm93c2VySW5mbyB8IG51bGwge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIW5hdmlnYXRvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gTk9URTogVGhlIG9yZGVyIG1hdHRlcnMgaGVyZSFcbiAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgIHsga2V5OiAnZWRnZScgYXMgY29uc3QsIHBhdHRlcm46IC9FZGdlKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScgYXMgY29uc3QsIHBhdHRlcm46IC9NU0lFKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScgYXMgY29uc3QsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdjaHJvbWUnIGFzIGNvbnN0LCBwYXR0ZXJuOiAvQ2hyb21lKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdmaXJlZm94JyBhcyBjb25zdCwgcGF0dGVybjogL0ZpcmVmb3goPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ3NhZmFyaScgYXMgY29uc3QsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgXTtcblxuICAvLyBGaW5kIHRoZSBGSVJTVCBtYXRjaGluZyBicm93c2VyXG4gIGZvciAoY29uc3QgeyBrZXksIHBhdHRlcm4gfSBvZiBicm93c2VyUGF0dGVybnMpIHtcbiAgICBjb25zdCBtYXRjaCA9IHBhdHRlcm4uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IG1ham9yID0gbWF0Y2hbMV0gfHwgMDtcbiAgICAgIGNvbnN0IG1pbm9yID0gbWF0Y2hbMl0gfHwgMDtcbiAgICAgIGNvbnN0IHBhdGNoID0gbWF0Y2hbM10gfHwgMDtcblxuICAgICAgcmV0dXJuIHsgYnJvd3Nlcjoga2V5LCB2ZXJzaW9uOiBgJHttYWpvcn0uJHttaW5vcn0uJHtwYXRjaH1gIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IG5vcm1hbGl6ZUFyY2ggPSAoYXJjaDogc3RyaW5nKTogQXJjaCA9PiB7XG4gIC8vIE5vZGUgZG9jczpcbiAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzYXJjaFxuICAvLyBEZW5vIGRvY3M6XG4gIC8vIC0gaHR0cHM6Ly9kb2MuZGVuby5sYW5kL2Rlbm8vc3RhYmxlL34vRGVuby5idWlsZFxuICBpZiAoYXJjaCA9PT0gJ3gzMicpIHJldHVybiAneDMyJztcbiAgaWYgKGFyY2ggPT09ICd4ODZfNjQnIHx8IGFyY2ggPT09ICd4NjQnKSByZXR1cm4gJ3g2NCc7XG4gIGlmIChhcmNoID09PSAnYXJtJykgcmV0dXJuICdhcm0nO1xuICBpZiAoYXJjaCA9PT0gJ2FhcmNoNjQnIHx8IGFyY2ggPT09ICdhcm02NCcpIHJldHVybiAnYXJtNjQnO1xuICBpZiAoYXJjaCkgcmV0dXJuIGBvdGhlcjoke2FyY2h9YDtcbiAgcmV0dXJuICd1bmtub3duJztcbn07XG5cbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtOiBzdHJpbmcpOiBQbGF0Zm9ybU5hbWUgPT4ge1xuICAvLyBOb2RlIHBsYXRmb3JtczpcbiAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzcGxhdGZvcm1cbiAgLy8gRGVubyBwbGF0Zm9ybXM6XG4gIC8vIC0gaHR0cHM6Ly9kb2MuZGVuby5sYW5kL2Rlbm8vc3RhYmxlL34vRGVuby5idWlsZFxuICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9kZW5vbGFuZC9kZW5vL2lzc3Vlcy8xNDc5OVxuXG4gIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcblxuICAvLyBOT1RFOiB0aGlzIGlPUyBjaGVjayBpcyB1bnRlc3RlZCBhbmQgbWF5IG5vdCB3b3JrXG4gIC8vIE5vZGUgZG9lcyBub3Qgd29yayBuYXRpdmVseSBvbiBJT1MsIHRoZXJlIGlzIGEgZm9yayBhdFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzLW1vYmlsZS9ub2RlanMtbW9iaWxlXG4gIC8vIGhvd2V2ZXIgaXQgaXMgdW5rbm93biBhdCB0aGUgdGltZSBvZiB3cml0aW5nIGhvdyB0byBkZXRlY3QgaWYgaXQgaXMgcnVubmluZ1xuICBpZiAocGxhdGZvcm0uaW5jbHVkZXMoJ2lvcycpKSByZXR1cm4gJ2lPUyc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnKSByZXR1cm4gJ0FuZHJvaWQnO1xuICBpZiAocGxhdGZvcm0gPT09ICdkYXJ3aW4nKSByZXR1cm4gJ01hY09TJztcbiAgaWYgKHBsYXRmb3JtID09PSAnd2luMzInKSByZXR1cm4gJ1dpbmRvd3MnO1xuICBpZiAocGxhdGZvcm0gPT09ICdmcmVlYnNkJykgcmV0dXJuICdGcmVlQlNEJztcbiAgaWYgKHBsYXRmb3JtID09PSAnb3BlbmJzZCcpIHJldHVybiAnT3BlbkJTRCc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2xpbnV4JykgcmV0dXJuICdMaW51eCc7XG4gIGlmIChwbGF0Zm9ybSkgcmV0dXJuIGBPdGhlcjoke3BsYXRmb3JtfWA7XG4gIHJldHVybiAnVW5rbm93bic7XG59O1xuXG5sZXQgX3BsYXRmb3JtSGVhZGVyczogUGxhdGZvcm1Qcm9wZXJ0aWVzO1xuY29uc3QgZ2V0UGxhdGZvcm1IZWFkZXJzID0gKCkgPT4ge1xuICByZXR1cm4gKF9wbGF0Zm9ybUhlYWRlcnMgPz89IGdldFBsYXRmb3JtUHJvcGVydGllcygpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYWZlSlNPTiA9ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE5NzA5ODQ2XG5jb25zdCBzdGFydHNXaXRoU2NoZW1lUmVnZXhwID0gbmV3IFJlZ0V4cCgnXig/OlthLXpdKzopPy8vJywgJ2knKTtcbmNvbnN0IGlzQWJzb2x1dGVVUkwgPSAodXJsOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAudGVzdCh1cmwpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5cbmNvbnN0IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyID0gKG5hbWU6IHN0cmluZywgbjogdW5rbm93bik6IG51bWJlciA9PiB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyYCk7XG4gIH1cbiAgaWYgKG4gPCAwKSB7XG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuXG5leHBvcnQgY29uc3QgY2FzdFRvRXJyb3IgPSAoZXJyOiBhbnkpOiBFcnJvciA9PiB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGVycjtcbiAgcmV0dXJuIG5ldyBFcnJvcihlcnIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuc3VyZVByZXNlbnQgPSA8VD4odmFsdWU6IFQgfCBudWxsIHwgdW5kZWZpbmVkKTogVCA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEV4cGVjdGVkIGEgdmFsdWUgdG8gYmUgZ2l2ZW4gYnV0IHJlY2VpdmVkICR7dmFsdWV9IGluc3RlYWQuYCk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogUmVhZCBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZS5cbiAqXG4gKiBUcmltcyBiZWdpbm5pbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuXG4gKlxuICogV2lsbCByZXR1cm4gdW5kZWZpbmVkIGlmIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBkb2Vzbid0IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRFbnYgPSAoZW52OiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Py5bZW52XT8udHJpbSgpID8/IHVuZGVmaW5lZDtcbiAgfVxuICBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIERlbm8uZW52Py5nZXQ/LihlbnYpPy50cmltKCk7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb2VyY2VJbnRlZ2VyID0gKHZhbHVlOiB1bmtub3duKTogbnVtYmVyID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuXG4gIHRocm93IG5ldyBPcGVuQUlFcnJvcihgQ291bGQgbm90IGNvZXJjZSAke3ZhbHVlfSAodHlwZTogJHt0eXBlb2YgdmFsdWV9KSBpbnRvIGEgbnVtYmVyYCk7XG59O1xuXG5leHBvcnQgY29uc3QgY29lcmNlRmxvYXQgPSAodmFsdWU6IHVua25vd24pOiBudW1iZXIgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgcmV0dXJuIHZhbHVlO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuXG4gIHRocm93IG5ldyBPcGVuQUlFcnJvcihgQ291bGQgbm90IGNvZXJjZSAke3ZhbHVlfSAodHlwZTogJHt0eXBlb2YgdmFsdWV9KSBpbnRvIGEgbnVtYmVyYCk7XG59O1xuXG5leHBvcnQgY29uc3QgY29lcmNlQm9vbGVhbiA9ICh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VJbnRlZ2VyID0gKHZhbHVlOiB1bmtub3duKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VJbnRlZ2VyKHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlOiB1bmtub3duKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VGbG9hdCh2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VCb29sZWFuID0gKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29lcmNlQm9vbGVhbih2YWx1ZSk7XG59O1xuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ0OTEyODdcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iajogT2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICBpZiAoIW9iaikgcmV0dXJuIHRydWU7XG4gIGZvciAoY29uc3QgX2sgaW4gb2JqKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBodHRwczovL2VzbGludC5vcmcvZG9jcy9sYXRlc3QvcnVsZXMvbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duKG9iajogT2JqZWN0LCBrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgaGVhZGVycyBmcm9tIFwibmV3SGVhZGVyc1wiIG9udG8gXCJ0YXJnZXRIZWFkZXJzXCIsXG4gKiB1c2luZyBsb3dlci1jYXNlIGZvciBhbGwgcHJvcGVydGllcyxcbiAqIGlnbm9yaW5nIGFueSBrZXlzIHdpdGggdW5kZWZpbmVkIHZhbHVlcyxcbiAqIGFuZCBkZWxldGluZyBhbnkga2V5cyB3aXRoIG51bGwgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBhcHBseUhlYWRlcnNNdXQodGFyZ2V0SGVhZGVyczogSGVhZGVycywgbmV3SGVhZGVyczogSGVhZGVycyk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGsgaW4gbmV3SGVhZGVycykge1xuICAgIGlmICghaGFzT3duKG5ld0hlYWRlcnMsIGspKSBjb250aW51ZTtcbiAgICBjb25zdCBsb3dlcktleSA9IGsudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIWxvd2VyS2V5KSBjb250aW51ZTtcblxuICAgIGNvbnN0IHZhbCA9IG5ld0hlYWRlcnNba107XG5cbiAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICBkZWxldGUgdGFyZ2V0SGVhZGVyc1tsb3dlcktleV07XG4gICAgfSBlbHNlIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0SGVhZGVyc1tsb3dlcktleV0gPSB2YWw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb246IHN0cmluZywgLi4uYXJnczogYW55W10pIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudlsnREVCVUcnXSA9PT0gJ3RydWUnKSB7XG4gICAgY29uc29sZS5sb2coYE9wZW5BSTpERUJVRzoke2FjdGlvbn1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG4vKipcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXG4gKi9cbmNvbnN0IHV1aWQ0ID0gKCkgPT4ge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgIGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDA7XG4gICAgY29uc3QgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1J1bm5pbmdJbkJyb3dzZXIgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnXG4gICk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRlcnNQcm90b2NvbCB7XG4gIGdldDogKGhlYWRlcjogc3RyaW5nKSA9PiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xufVxuZXhwb3J0IHR5cGUgSGVhZGVyc0xpa2UgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZD4gfCBIZWFkZXJzUHJvdG9jb2w7XG5cbmV4cG9ydCBjb25zdCBpc0hlYWRlcnNQcm90b2NvbCA9IChoZWFkZXJzOiBhbnkpOiBoZWFkZXJzIGlzIEhlYWRlcnNQcm90b2NvbCA9PiB7XG4gIHJldHVybiB0eXBlb2YgaGVhZGVycz8uZ2V0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlcXVpcmVkSGVhZGVyID0gKGhlYWRlcnM6IEhlYWRlcnNMaWtlLCBoZWFkZXI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGxvd2VyQ2FzZWRIZWFkZXIgPSBoZWFkZXIudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGlzSGVhZGVyc1Byb3RvY29sKGhlYWRlcnMpKSB7XG4gICAgLy8gdG8gZGVhbCB3aXRoIHRoZSBjYXNlIHdoZXJlIHRoZSBoZWFkZXIgbG9va3MgbGlrZSBTdGFpbmxlc3MtRXZlbnQtSWRcbiAgICBjb25zdCBpbnRlcmNhcHNIZWFkZXIgPVxuICAgICAgaGVhZGVyWzBdPy50b1VwcGVyQ2FzZSgpICtcbiAgICAgIGhlYWRlci5zdWJzdHJpbmcoMSkucmVwbGFjZSgvKFteXFx3XSkoXFx3KS9nLCAoX20sIGcxLCBnMikgPT4gZzEgKyBnMi50b1VwcGVyQ2FzZSgpKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbaGVhZGVyLCBsb3dlckNhc2VkSGVhZGVyLCBoZWFkZXIudG9VcHBlckNhc2UoKSwgaW50ZXJjYXBzSGVhZGVyXSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBoZWFkZXJzLmdldChrZXkpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSkge1xuICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJDYXNlZEhlYWRlcikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gMSkgcmV0dXJuIHZhbHVlWzBdO1xuICAgICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkICR7dmFsdWUubGVuZ3RofSBlbnRyaWVzIGZvciB0aGUgJHtoZWFkZXJ9IGhlYWRlciwgdXNpbmcgdGhlIGZpcnN0IGVudHJ5LmApO1xuICAgICAgICByZXR1cm4gdmFsdWVbMF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCAke2hlYWRlcn0gaGVhZGVyYCk7XG59O1xuXG4vKipcbiAqIEVuY29kZXMgYSBzdHJpbmcgdG8gQmFzZTY0IGZvcm1hdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKHN0cjogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCk6IHN0cmluZyA9PiB7XG4gIGlmICghc3RyKSByZXR1cm4gJyc7XG4gIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShzdHIpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gYnRvYShzdHIpO1xuICB9XG5cbiAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdDYW5ub3QgZ2VuZXJhdGUgYjY0IHN0cmluZzsgRXhwZWN0ZWQgYEJ1ZmZlcmAgb3IgYGJ0b2FgIHRvIGJlIGRlZmluZWQnKTtcbn07XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0IHsgQWJzdHJhY3RQYWdlLCBSZXNwb25zZSwgQVBJQ2xpZW50LCBGaW5hbFJlcXVlc3RPcHRpb25zLCBQYWdlSW5mbyB9IGZyb20gJy4vY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnZVJlc3BvbnNlPEl0ZW0+IHtcbiAgZGF0YTogQXJyYXk8SXRlbT47XG5cbiAgb2JqZWN0OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgUGFnZTxJdGVtPiBleHRlbmRzIEFic3RyYWN0UGFnZTxJdGVtPiBpbXBsZW1lbnRzIFBhZ2VSZXNwb25zZTxJdGVtPiB7XG4gIGRhdGE6IEFycmF5PEl0ZW0+O1xuXG4gIG9iamVjdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogQVBJQ2xpZW50LCByZXNwb25zZTogUmVzcG9uc2UsIGJvZHk6IFBhZ2VSZXNwb25zZTxJdGVtPiwgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucykge1xuICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICAgIHRoaXMub2JqZWN0ID0gYm9keS5vYmplY3Q7XG4gIH1cblxuICBnZXRQYWdpbmF0ZWRJdGVtcygpOiBJdGVtW10ge1xuICAgIHJldHVybiB0aGlzLmRhdGEgPz8gW107XG4gIH1cblxuICAvLyBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXh0UGFnZUluZm8oKWAgaW5zdGVhZFxuICAvKipcbiAgICogVGhpcyBwYWdlIHJlcHJlc2VudHMgYSByZXNwb25zZSB0aGF0IGlzbid0IGFjdHVhbGx5IHBhZ2luYXRlZCBhdCB0aGUgQVBJIGxldmVsXG4gICAqIHNvIHRoZXJlIHdpbGwgbmV2ZXIgYmUgYW55IG5leHQgcGFnZSBwYXJhbXMuXG4gICAqL1xuICBuZXh0UGFnZVBhcmFtcygpOiBudWxsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG5leHRQYWdlSW5mbygpOiBudWxsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnNvclBhZ2VSZXNwb25zZTxJdGVtPiB7XG4gIGRhdGE6IEFycmF5PEl0ZW0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnNvclBhZ2VQYXJhbXMge1xuICBhZnRlcj86IHN0cmluZztcblxuICBsaW1pdD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEN1cnNvclBhZ2U8SXRlbSBleHRlbmRzIHsgaWQ6IHN0cmluZyB9PlxuICBleHRlbmRzIEFic3RyYWN0UGFnZTxJdGVtPlxuICBpbXBsZW1lbnRzIEN1cnNvclBhZ2VSZXNwb25zZTxJdGVtPlxue1xuICBkYXRhOiBBcnJheTxJdGVtPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjbGllbnQ6IEFQSUNsaWVudCxcbiAgICByZXNwb25zZTogUmVzcG9uc2UsXG4gICAgYm9keTogQ3Vyc29yUGFnZVJlc3BvbnNlPEl0ZW0+LFxuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMsXG4gICkge1xuICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICB9XG5cbiAgZ2V0UGFnaW5hdGVkSXRlbXMoKTogSXRlbVtdIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICB9XG5cbiAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgbmV4dFBhZ2VQYXJhbXMoKTogUGFydGlhbDxDdXJzb3JQYWdlUGFyYW1zPiB8IG51bGwge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLm5leHRQYWdlSW5mbygpO1xuICAgIGlmICghaW5mbykgcmV0dXJuIG51bGw7XG4gICAgaWYgKCdwYXJhbXMnIGluIGluZm8pIHJldHVybiBpbmZvLnBhcmFtcztcbiAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuZnJvbUVudHJpZXMoaW5mby51cmwuc2VhcmNoUGFyYW1zKTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgbmV4dFBhZ2VJbmZvKCk6IFBhZ2VJbmZvIHwgbnVsbCB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXT8uaWQ7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcGFyYW1zOiB7IGFmdGVyOiBpZCB9IH07XG4gIH1cbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuXG5pbXBvcnQgdHlwZSB7IE9wZW5BSSB9IGZyb20gJy4vaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICBwcm90ZWN0ZWQgX2NsaWVudDogT3BlbkFJO1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogT3BlbkFJKSB7XG4gICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuICB9XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gXCIuLi8uLi9jb3JlXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0ICogYXMgQ2hhdENvbXBsZXRpb25zQVBJIGZyb20gXCIuL2NvbXBsZXRpb25zXCI7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tIFwiLi4vY29tcGxldGlvbnNcIjtcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tIFwiLi4vc2hhcmVkXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi4vLi4vc3RyZWFtaW5nXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21wbGV0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBtb2RlbCByZXNwb25zZSBmb3IgdGhlIGdpdmVuIGNoYXQgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPENoYXRDb21wbGV0aW9uPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxDaGF0Q29tcGxldGlvbkNodW5rPj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2UsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPENoYXRDb21wbGV0aW9uQ2h1bms+IHwgQ2hhdENvbXBsZXRpb24+O1xuICBjcmVhdGUoXG4gICAgYm9keTogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8Q2hhdENvbXBsZXRpb24+IHwgQVBJUHJvbWlzZTxTdHJlYW08Q2hhdENvbXBsZXRpb25DaHVuaz4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9jaGF0L2NvbXBsZXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zLCBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlIH0pIGFzXG4gICAgICB8IEFQSVByb21pc2U8Q2hhdENvbXBsZXRpb24+XG4gICAgICB8IEFQSVByb21pc2U8U3RyZWFtPENoYXRDb21wbGV0aW9uQ2h1bms+PjtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjaGF0IGNvbXBsZXRpb24gcmVzcG9uc2UgcmV0dXJuZWQgYnkgbW9kZWwsIGJhc2VkIG9uIHRoZSBwcm92aWRlZFxuICogaW5wdXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb24ge1xuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNoYXQgY29tcGxldGlvbi5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjaGF0IGNvbXBsZXRpb24gY2hvaWNlcy4gQ2FuIGJlIG1vcmUgdGhhbiBvbmUgaWYgYG5gIGlzIGdyZWF0ZXJcbiAgICogdGhhbiAxLlxuICAgKi9cbiAgY2hvaWNlczogQXJyYXk8Q2hhdENvbXBsZXRpb24uQ2hvaWNlPjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBvZiB3aGVuIHRoZSBjaGF0IGNvbXBsZXRpb24gd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB1c2VkIGZvciB0aGUgY2hhdCBjb21wbGV0aW9uLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYGNoYXQuY29tcGxldGlvbmAuXG4gICAqL1xuICBvYmplY3Q6ICdjaGF0LmNvbXBsZXRpb24nO1xuXG4gIC8qKlxuICAgKiBUaGlzIGZpbmdlcnByaW50IHJlcHJlc2VudHMgdGhlIGJhY2tlbmQgY29uZmlndXJhdGlvbiB0aGF0IHRoZSBtb2RlbCBydW5zIHdpdGguXG4gICAqXG4gICAqIENhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGBzZWVkYCByZXF1ZXN0IHBhcmFtZXRlciB0byB1bmRlcnN0YW5kIHdoZW5cbiAgICogYmFja2VuZCBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIHRoYXQgbWlnaHQgaW1wYWN0IGRldGVybWluaXNtLlxuICAgKi9cbiAgc3lzdGVtX2ZpbmdlcnByaW50Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBVc2FnZSBzdGF0aXN0aWNzIGZvciB0aGUgY29tcGxldGlvbiByZXF1ZXN0LlxuICAgKi9cbiAgdXNhZ2U/OiBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uVXNhZ2U7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb24ge1xuICBleHBvcnQgaW50ZXJmYWNlIENob2ljZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy4gVGhpcyB3aWxsIGJlIGBzdG9wYCBpZiB0aGUgbW9kZWxcbiAgICAgKiBoaXQgYSBuYXR1cmFsIHN0b3AgcG9pbnQgb3IgYSBwcm92aWRlZCBzdG9wIHNlcXVlbmNlLCBgbGVuZ3RoYCBpZiB0aGUgbWF4aW11bVxuICAgICAqIG51bWJlciBvZiB0b2tlbnMgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IHdhcyByZWFjaGVkLCBgY29udGVudF9maWx0ZXJgIGlmXG4gICAgICogY29udGVudCB3YXMgb21pdHRlZCBkdWUgdG8gYSBmbGFnIGZyb20gb3VyIGNvbnRlbnQgZmlsdGVycywgYHRvb2xfY2FsbHNgIGlmIHRoZVxuICAgICAqIG1vZGVsIGNhbGxlZCBhIHRvb2wsIG9yIGBmdW5jdGlvbl9jYWxsYCAoZGVwcmVjYXRlZCkgaWYgdGhlIG1vZGVsIGNhbGxlZCBhXG4gICAgICogZnVuY3Rpb24uXG4gICAgICovXG4gICAgZmluaXNoX3JlYXNvbjogJ3N0b3AnIHwgJ2xlbmd0aCcgfCAndG9vbF9jYWxscycgfCAnY29udGVudF9maWx0ZXInIHwgJ2Z1bmN0aW9uX2NhbGwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjaG9pY2UgaW4gdGhlIGxpc3Qgb2YgY2hvaWNlcy5cbiAgICAgKi9cbiAgICBpbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uIGZvciB0aGUgY2hvaWNlLlxuICAgICAqL1xuICAgIGxvZ3Byb2JzOiBDaG9pY2UuTG9ncHJvYnMgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBjaGF0IGNvbXBsZXRpb24gbWVzc2FnZSBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbk1lc3NhZ2U7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIENob2ljZSB7XG4gICAgLyoqXG4gICAgICogTG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uIGZvciB0aGUgY2hvaWNlLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgTG9ncHJvYnMge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgbWVzc2FnZSBjb250ZW50IHRva2VucyB3aXRoIGxvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbi5cbiAgICAgICAqL1xuICAgICAgY29udGVudDogQXJyYXk8Q2hhdENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iPiB8IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2VzIGF1dGhvciwgaW4gdGhpcyBjYXNlIGBhc3Npc3RhbnRgLlxuICAgKi9cbiAgcm9sZTogJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgYXNzaXN0YW50IG1lc3NhZ2UuIFJlcXVpcmVkIHVubGVzcyBgdG9vbF9jYWxsc2Agb3JcbiAgICogYGZ1bmN0aW9uX2NhbGxgIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIGNvbnRlbnQ/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYSBmdW5jdGlvblxuICAgKiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBmdW5jdGlvbl9jYWxsPzogQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0uRnVuY3Rpb25DYWxsO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBuYW1lIGZvciB0aGUgcGFydGljaXBhbnQuIFByb3ZpZGVzIHRoZSBtb2RlbCBpbmZvcm1hdGlvbiB0b1xuICAgKiBkaWZmZXJlbnRpYXRlIGJldHdlZW4gcGFydGljaXBhbnRzIG9mIHRoZSBzYW1lIHJvbGUuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdG9vbCBjYWxscyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLCBzdWNoIGFzIGZ1bmN0aW9uIGNhbGxzLlxuICAgKi9cbiAgdG9vbF9jYWxscz86IEFycmF5PENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsPjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSB7XG4gIC8qKlxuICAgKiBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYSBmdW5jdGlvblxuICAgKiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIEpTT05cbiAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgKiBhcmd1bWVudHMgaW4geW91ciBjb2RlIGJlZm9yZSBjYWxsaW5nIHlvdXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc3RyZWFtZWQgY2h1bmsgb2YgYSBjaGF0IGNvbXBsZXRpb24gcmVzcG9uc2UgcmV0dXJuZWQgYnkgbW9kZWwsXG4gKiBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25DaHVuayB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2hhdCBjb21wbGV0aW9uLiBFYWNoIGNodW5rIGhhcyB0aGUgc2FtZSBJRC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjaGF0IGNvbXBsZXRpb24gY2hvaWNlcy4gQ2FuIGJlIG1vcmUgdGhhbiBvbmUgaWYgYG5gIGlzIGdyZWF0ZXJcbiAgICogdGhhbiAxLlxuICAgKi9cbiAgY2hvaWNlczogQXJyYXk8Q2hhdENvbXBsZXRpb25DaHVuay5DaG9pY2U+O1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIG9mIHdoZW4gdGhlIGNoYXQgY29tcGxldGlvbiB3YXMgY3JlYXRlZC4gRWFjaFxuICAgKiBjaHVuayBoYXMgdGhlIHNhbWUgdGltZXN0YW1wLlxuICAgKi9cbiAgY3JlYXRlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwgdG8gZ2VuZXJhdGUgdGhlIGNvbXBsZXRpb24uXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgY2hhdC5jb21wbGV0aW9uLmNodW5rYC5cbiAgICovXG4gIG9iamVjdDogJ2NoYXQuY29tcGxldGlvbi5jaHVuayc7XG5cbiAgLyoqXG4gICAqIFRoaXMgZmluZ2VycHJpbnQgcmVwcmVzZW50cyB0aGUgYmFja2VuZCBjb25maWd1cmF0aW9uIHRoYXQgdGhlIG1vZGVsIHJ1bnMgd2l0aC5cbiAgICogQ2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgYHNlZWRgIHJlcXVlc3QgcGFyYW1ldGVyIHRvIHVuZGVyc3RhbmQgd2hlblxuICAgKiBiYWNrZW5kIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGUgdGhhdCBtaWdodCBpbXBhY3QgZGV0ZXJtaW5pc20uXG4gICAqL1xuICBzeXN0ZW1fZmluZ2VycHJpbnQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25DaHVuayB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2hvaWNlIHtcbiAgICAvKipcbiAgICAgKiBBIGNoYXQgY29tcGxldGlvbiBkZWx0YSBnZW5lcmF0ZWQgYnkgc3RyZWFtZWQgbW9kZWwgcmVzcG9uc2VzLlxuICAgICAqL1xuICAgIGRlbHRhOiBDaG9pY2UuRGVsdGE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVhc29uIHRoZSBtb2RlbCBzdG9wcGVkIGdlbmVyYXRpbmcgdG9rZW5zLiBUaGlzIHdpbGwgYmUgYHN0b3BgIGlmIHRoZSBtb2RlbFxuICAgICAqIGhpdCBhIG5hdHVyYWwgc3RvcCBwb2ludCBvciBhIHByb3ZpZGVkIHN0b3Agc2VxdWVuY2UsIGBsZW5ndGhgIGlmIHRoZSBtYXhpbXVtXG4gICAgICogbnVtYmVyIG9mIHRva2VucyBzcGVjaWZpZWQgaW4gdGhlIHJlcXVlc3Qgd2FzIHJlYWNoZWQsIGBjb250ZW50X2ZpbHRlcmAgaWZcbiAgICAgKiBjb250ZW50IHdhcyBvbWl0dGVkIGR1ZSB0byBhIGZsYWcgZnJvbSBvdXIgY29udGVudCBmaWx0ZXJzLCBgdG9vbF9jYWxsc2AgaWYgdGhlXG4gICAgICogbW9kZWwgY2FsbGVkIGEgdG9vbCwgb3IgYGZ1bmN0aW9uX2NhbGxgIChkZXByZWNhdGVkKSBpZiB0aGUgbW9kZWwgY2FsbGVkIGFcbiAgICAgKiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmaW5pc2hfcmVhc29uOiAnc3RvcCcgfCAnbGVuZ3RoJyB8ICd0b29sX2NhbGxzJyB8ICdjb250ZW50X2ZpbHRlcicgfCAnZnVuY3Rpb25fY2FsbCcgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjaG9pY2UgaW4gdGhlIGxpc3Qgb2YgY2hvaWNlcy5cbiAgICAgKi9cbiAgICBpbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uIGZvciB0aGUgY2hvaWNlLlxuICAgICAqL1xuICAgIGxvZ3Byb2JzPzogQ2hvaWNlLkxvZ3Byb2JzIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQ2hvaWNlIHtcbiAgICAvKipcbiAgICAgKiBBIGNoYXQgY29tcGxldGlvbiBkZWx0YSBnZW5lcmF0ZWQgYnkgc3RyZWFtZWQgbW9kZWwgcmVzcG9uc2VzLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgRGVsdGEge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY29udGVudHMgb2YgdGhlIGNodW5rIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ/OiBzdHJpbmcgfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlcHJlY2F0ZWQgYW5kIHJlcGxhY2VkIGJ5IGB0b29sX2NhbGxzYC4gVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhIGZ1bmN0aW9uXG4gICAgICAgKiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uX2NhbGw/OiBEZWx0YS5GdW5jdGlvbkNhbGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHJvbGUgb2YgdGhlIGF1dGhvciBvZiB0aGlzIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIHJvbGU/OiAnc3lzdGVtJyB8ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3Rvb2wnO1xuXG4gICAgICB0b29sX2NhbGxzPzogQXJyYXk8RGVsdGEuVG9vbENhbGw+O1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRGVsdGEge1xuICAgICAgLyoqXG4gICAgICAgKiBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYSBmdW5jdGlvblxuICAgICAgICogdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgICAgICogaGFsbHVjaW5hdGUgcGFyYW1ldGVycyBub3QgZGVmaW5lZCBieSB5b3VyIGZ1bmN0aW9uIHNjaGVtYS4gVmFsaWRhdGUgdGhlXG4gICAgICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGFyZ3VtZW50cz86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIFRvb2xDYWxsIHtcbiAgICAgICAgaW5kZXg6IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgICBpZD86IHN0cmluZztcblxuICAgICAgICBmdW5jdGlvbj86IFRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC4gQ3VycmVudGx5LCBvbmx5IGBmdW5jdGlvbmAgaXMgc3VwcG9ydGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdHlwZT86ICdmdW5jdGlvbic7XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgVG9vbENhbGwge1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAgICAgICAqIGZvcm1hdC4gTm90ZSB0aGF0IHRoZSBtb2RlbCBkb2VzIG5vdCBhbHdheXMgZ2VuZXJhdGUgdmFsaWQgSlNPTiwgYW5kIG1heVxuICAgICAgICAgICAqIGhhbGx1Y2luYXRlIHBhcmFtZXRlcnMgbm90IGRlZmluZWQgYnkgeW91ciBmdW5jdGlvbiBzY2hlbWEuIFZhbGlkYXRlIHRoZVxuICAgICAgICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhcmd1bWVudHM/OiBzdHJpbmc7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uIGZvciB0aGUgY2hvaWNlLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgTG9ncHJvYnMge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgbWVzc2FnZSBjb250ZW50IHRva2VucyB3aXRoIGxvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbi5cbiAgICAgICAqL1xuICAgICAgY29udGVudDogQXJyYXk8Q2hhdENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iPiB8IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQgPSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dCB8IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZTtcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2Uge1xuICBpbWFnZV91cmw6IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZS5JbWFnZVVSTDtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNvbnRlbnQgcGFydC5cbiAgICovXG4gIHR5cGU6ICdpbWFnZV91cmwnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VVUkwge1xuICAgIC8qKlxuICAgICAqIEVpdGhlciBhIFVSTCBvZiB0aGUgaW1hZ2Ugb3IgdGhlIGJhc2U2NCBlbmNvZGVkIGltYWdlIGRhdGEuXG4gICAgICovXG4gICAgdXJsOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGRldGFpbCBsZXZlbCBvZiB0aGUgaW1hZ2UuIExlYXJuIG1vcmUgaW4gdGhlXG4gICAgICogW1Zpc2lvbiBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Zpc2lvbi9sb3ctb3ItaGlnaC1maWRlbGl0eS1pbWFnZS11bmRlcnN0YW5kaW5nKS5cbiAgICAgKi9cbiAgICBkZXRhaWw/OiAnYXV0bycgfCAnbG93JyB8ICdoaWdoJztcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0IHtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjb250ZW50IHBhcnQuXG4gICAqL1xuICB0eXBlOiAndGV4dCc7XG59XG5cbi8qKlxuICogU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgZnVuY3Rpb24gdmlhIGB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn1gIGZvcmNlcyB0aGUgbW9kZWxcbiAqIHRvIGNhbGwgdGhhdCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbiB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgZnVuY3Rpb24gbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgbWVzc2FnZXMgYXV0aG9yLCBpbiB0aGlzIGNhc2UgYGZ1bmN0aW9uYC5cbiAgICovXG4gIHJvbGU6ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQSBjaGF0IGNvbXBsZXRpb24gbWVzc2FnZSBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uTWVzc2FnZSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgYXV0aG9yIG9mIHRoaXMgbWVzc2FnZS5cbiAgICovXG4gIHJvbGU6ICdhc3Npc3RhbnQnO1xuXG4gIC8qKlxuICAgKiBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYSBmdW5jdGlvblxuICAgKiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBmdW5jdGlvbl9jYWxsPzogQ2hhdENvbXBsZXRpb25NZXNzYWdlLkZ1bmN0aW9uQ2FsbDtcblxuICAvKipcbiAgICogVGhlIHRvb2wgY2FsbHMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCwgc3VjaCBhcyBmdW5jdGlvbiBjYWxscy5cbiAgICovXG4gIHRvb2xfY2FsbHM/OiBBcnJheTxDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbD47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHtcbiAgLyoqXG4gICAqIERlcHJlY2F0ZWQgYW5kIHJlcGxhY2VkIGJ5IGB0b29sX2NhbGxzYC4gVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhIGZ1bmN0aW9uXG4gICAqIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25DYWxsIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAqIGZvcm1hdC4gTm90ZSB0aGF0IHRoZSBtb2RlbCBkb2VzIG5vdCBhbHdheXMgZ2VuZXJhdGUgdmFsaWQgSlNPTiwgYW5kIG1heVxuICAgICAqIGhhbGx1Y2luYXRlIHBhcmFtZXRlcnMgbm90IGRlZmluZWQgYnkgeW91ciBmdW5jdGlvbiBzY2hlbWEuIFZhbGlkYXRlIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSA9XG4gIHwgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW1cbiAgfCBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW1cbiAgfCBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbVxuICB8IENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbVxuICB8IENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gdGhhdCB0aGUgbW9kZWwgY2FsbGVkLlxuICAgKi9cbiAgZnVuY3Rpb246IENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC4gQ3VycmVudGx5LCBvbmx5IGBmdW5jdGlvbmAgaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gdGhhdCB0aGUgbW9kZWwgY2FsbGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIEpTT05cbiAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgKiBhcmd1bWVudHMgaW4geW91ciBjb2RlIGJlZm9yZSBjYWxsaW5nIHlvdXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBTcGVjaWZpZXMgYSB0b29sIHRoZSBtb2RlbCBzaG91bGQgdXNlLiBVc2UgdG8gZm9yY2UgdGhlIG1vZGVsIHRvIGNhbGwgYSBzcGVjaWZpY1xuICogZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2Uge1xuICBmdW5jdGlvbjogQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UuRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLiBDdXJyZW50bHksIG9ubHkgYGZ1bmN0aW9uYCBpcyBzdXBwb3J0ZWQuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHJvbGUgb2YgdGhlIGF1dGhvciBvZiBhIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25Sb2xlID0gJ3N5c3RlbScgfCAndXNlcicgfCAnYXNzaXN0YW50JyB8ICd0b29sJyB8ICdmdW5jdGlvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBzeXN0ZW0gbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2VzIGF1dGhvciwgaW4gdGhpcyBjYXNlIGBzeXN0ZW1gLlxuICAgKi9cbiAgcm9sZTogJ3N5c3RlbSc7XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIG5hbWUgZm9yIHRoZSBwYXJ0aWNpcGFudC4gUHJvdmlkZXMgdGhlIG1vZGVsIGluZm9ybWF0aW9uIHRvXG4gICAqIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBwYXJ0aWNpcGFudHMgb2YgdGhlIHNhbWUgcm9sZS5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2Ige1xuICAvKipcbiAgICogVGhlIHRva2VuLlxuICAgKi9cbiAgdG9rZW46IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGludGVnZXJzIHJlcHJlc2VudGluZyB0aGUgVVRGLTggYnl0ZXMgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRva2VuLlxuICAgKiBVc2VmdWwgaW4gaW5zdGFuY2VzIHdoZXJlIGNoYXJhY3RlcnMgYXJlIHJlcHJlc2VudGVkIGJ5IG11bHRpcGxlIHRva2VucyBhbmRcbiAgICogdGhlaXIgYnl0ZSByZXByZXNlbnRhdGlvbnMgbXVzdCBiZSBjb21iaW5lZCB0byBnZW5lcmF0ZSB0aGUgY29ycmVjdCB0ZXh0XG4gICAqIHJlcHJlc2VudGF0aW9uLiBDYW4gYmUgYG51bGxgIGlmIHRoZXJlIGlzIG5vIGJ5dGVzIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgdG9rZW4uXG4gICAqL1xuICBieXRlczogQXJyYXk8bnVtYmVyPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBsb2cgcHJvYmFiaWxpdHkgb2YgdGhpcyB0b2tlbi5cbiAgICovXG4gIGxvZ3Byb2I6IG51bWJlcjtcblxuICAvKipcbiAgICogTGlzdCBvZiB0aGUgbW9zdCBsaWtlbHkgdG9rZW5zIGFuZCB0aGVpciBsb2cgcHJvYmFiaWxpdHksIGF0IHRoaXMgdG9rZW5cbiAgICogcG9zaXRpb24uIEluIHJhcmUgY2FzZXMsIHRoZXJlIG1heSBiZSBmZXdlciB0aGFuIHRoZSBudW1iZXIgb2YgcmVxdWVzdGVkXG4gICAqIGB0b3BfbG9ncHJvYnNgIHJldHVybmVkLlxuICAgKi9cbiAgdG9wX2xvZ3Byb2JzOiBBcnJheTxDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYi5Ub3BMb2dwcm9iPjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9wTG9ncHJvYiB7XG4gICAgLyoqXG4gICAgICogVGhlIHRva2VuLlxuICAgICAqL1xuICAgIHRva2VuOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgaW50ZWdlcnMgcmVwcmVzZW50aW5nIHRoZSBVVEYtOCBieXRlcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdG9rZW4uXG4gICAgICogVXNlZnVsIGluIGluc3RhbmNlcyB3aGVyZSBjaGFyYWN0ZXJzIGFyZSByZXByZXNlbnRlZCBieSBtdWx0aXBsZSB0b2tlbnMgYW5kXG4gICAgICogdGhlaXIgYnl0ZSByZXByZXNlbnRhdGlvbnMgbXVzdCBiZSBjb21iaW5lZCB0byBnZW5lcmF0ZSB0aGUgY29ycmVjdCB0ZXh0XG4gICAgICogcmVwcmVzZW50YXRpb24uIENhbiBiZSBgbnVsbGAgaWYgdGhlcmUgaXMgbm8gYnl0ZXMgcmVwcmVzZW50YXRpb24gZm9yIHRoZSB0b2tlbi5cbiAgICAgKi9cbiAgICBieXRlczogQXJyYXk8bnVtYmVyPiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9nIHByb2JhYmlsaXR5IG9mIHRoaXMgdG9rZW4uXG4gICAgICovXG4gICAgbG9ncHJvYjogbnVtYmVyO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Ub29sIHtcbiAgZnVuY3Rpb246IFNoYXJlZC5GdW5jdGlvbkRlZmluaXRpb247XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLiBDdXJyZW50bHksIG9ubHkgYGZ1bmN0aW9uYCBpcyBzdXBwb3J0ZWQuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFucyB0aGUgbW9kZWxcbiAqIHdpbGwgbm90IGNhbGwgYSBmdW5jdGlvbiBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgbWVhbnMgdGhlIG1vZGVsXG4gKiBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgYSBmdW5jdGlvbi4gU3BlY2lmeWluZyBhXG4gKiBwYXJ0aWN1bGFyIGZ1bmN0aW9uIHZpYVxuICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAqIGNhbGwgdGhhdCBmdW5jdGlvbi5cbiAqXG4gKiBgbm9uZWAgaXMgdGhlIGRlZmF1bHQgd2hlbiBubyBmdW5jdGlvbnMgYXJlIHByZXNlbnQuIGBhdXRvYCBpcyB0aGUgZGVmYXVsdCBpZlxuICogZnVuY3Rpb25zIGFyZSBwcmVzZW50LlxuICovXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24gPSAnbm9uZScgfCAnYXV0bycgfCBDaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZTtcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblRvb2xNZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSB0b29sIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlcyBhdXRob3IsIGluIHRoaXMgY2FzZSBgdG9vbGAuXG4gICAqL1xuICByb2xlOiAndG9vbCc7XG5cbiAgLyoqXG4gICAqIFRvb2wgY2FsbCB0aGF0IHRoaXMgbWVzc2FnZSBpcyByZXNwb25kaW5nIHRvLlxuICAgKi9cbiAgdG9vbF9jYWxsX2lkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgdXNlciBtZXNzYWdlLlxuICAgKi9cbiAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8Q2hhdENvbXBsZXRpb25Db250ZW50UGFydD47XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlcyBhdXRob3IsIGluIHRoaXMgY2FzZSBgdXNlcmAuXG4gICAqL1xuICByb2xlOiAndXNlcic7XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIG5hbWUgZm9yIHRoZSBwYXJ0aWNpcGFudC4gUHJvdmlkZXMgdGhlIG1vZGVsIGluZm9ybWF0aW9uIHRvXG4gICAqIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBwYXJ0aWNpcGFudHMgb2YgdGhlIHNhbWUgcm9sZS5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gc2hvdWxkIGJlIHVzZWQgaW5zdGVhZFxuICovXG5leHBvcnQgdHlwZSBDcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlID0gQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW07XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zID1cbiAgfCBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZ1xuICB8IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgbWVzc2FnZXMgY29tcHJpc2luZyB0aGUgY29udmVyc2F0aW9uIHNvIGZhci5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fZm9ybWF0X2lucHV0c190b19jaGF0Z3B0X21vZGVscykuXG4gICAqL1xuICBtZXNzYWdlczogQXJyYXk8Q2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0+O1xuXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBTZWUgdGhlXG4gICAqIFttb2RlbCBlbmRwb2ludCBjb21wYXRpYmlsaXR5XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvbW9kZWwtZW5kcG9pbnQtY29tcGF0aWJpbGl0eSlcbiAgICogdGFibGUgZm9yIGRldGFpbHMgb24gd2hpY2ggbW9kZWxzIHdvcmsgd2l0aCB0aGUgQ2hhdCBBUEkuXG4gICAqL1xuICBtb2RlbDpcbiAgICB8IChzdHJpbmcgJiB7fSlcbiAgICB8ICdncHQtNC0xMTA2LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdmlzaW9uLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQnXG4gICAgfCAnZ3B0LTQtMDMxNCdcbiAgICB8ICdncHQtNC0wNjEzJ1xuICAgIHwgJ2dwdC00LTMyaydcbiAgICB8ICdncHQtNC0zMmstMDMxNCdcbiAgICB8ICdncHQtNC0zMmstMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDMwMSdcbiAgICB8ICdncHQtMy41LXR1cmJvLTA2MTMnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xMTA2J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrLTA2MTMnO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgYmV0d2VlbiAtMi4wIGFuZCAyLjAuIFBvc2l0aXZlIHZhbHVlcyBwZW5hbGl6ZSBuZXcgdG9rZW5zIGJhc2VkIG9uIHRoZWlyXG4gICAqIGV4aXN0aW5nIGZyZXF1ZW5jeSBpbiB0aGUgdGV4dCBzbyBmYXIsIGRlY3JlYXNpbmcgdGhlIG1vZGVsJ3MgbGlrZWxpaG9vZCB0b1xuICAgKiByZXBlYXQgdGhlIHNhbWUgbGluZSB2ZXJiYXRpbS5cbiAgICpcbiAgICogW1NlZSBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGZyZXF1ZW5jeSBhbmQgcHJlc2VuY2UgcGVuYWx0aWVzLl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQtZ2VuZXJhdGlvbi9wYXJhbWV0ZXItZGV0YWlscylcbiAgICovXG4gIGZyZXF1ZW5jeV9wZW5hbHR5PzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBgdG9vbF9jaG9pY2VgLlxuICAgKlxuICAgKiBDb250cm9scyB3aGljaCAoaWYgYW55KSBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsXG4gICAqIHdpbGwgbm90IGNhbGwgYSBmdW5jdGlvbiBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgbWVhbnMgdGhlIG1vZGVsXG4gICAqIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBhIGZ1bmN0aW9uLiBTcGVjaWZ5aW5nIGFcbiAgICogcGFydGljdWxhciBmdW5jdGlvbiB2aWEgYHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifWAgZm9yY2VzIHRoZSBtb2RlbCB0byBjYWxsIHRoYXRcbiAgICogZnVuY3Rpb24uXG4gICAqXG4gICAqIGBub25lYCBpcyB0aGUgZGVmYXVsdCB3aGVuIG5vIGZ1bmN0aW9ucyBhcmUgcHJlc2VudC4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IGlmXG4gICAqIGZ1bmN0aW9ucyBhcmUgcHJlc2VudC5cbiAgICovXG4gIGZ1bmN0aW9uX2NhbGw/OiAnbm9uZScgfCAnYXV0bycgfCBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbjtcblxuICAvKipcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBgdG9vbHNgLlxuICAgKlxuICAgKiBBIGxpc3Qgb2YgZnVuY3Rpb25zIHRoZSBtb2RlbCBtYXkgZ2VuZXJhdGUgSlNPTiBpbnB1dHMgZm9yLlxuICAgKi9cbiAgZnVuY3Rpb25zPzogQXJyYXk8Q2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMuRnVuY3Rpb24+O1xuXG4gIC8qKlxuICAgKiBNb2RpZnkgdGhlIGxpa2VsaWhvb2Qgb2Ygc3BlY2lmaWVkIHRva2VucyBhcHBlYXJpbmcgaW4gdGhlIGNvbXBsZXRpb24uXG4gICAqXG4gICAqIEFjY2VwdHMgYSBKU09OIG9iamVjdCB0aGF0IG1hcHMgdG9rZW5zIChzcGVjaWZpZWQgYnkgdGhlaXIgdG9rZW4gSUQgaW4gdGhlXG4gICAqIHRva2VuaXplcikgdG8gYW4gYXNzb2NpYXRlZCBiaWFzIHZhbHVlIGZyb20gLTEwMCB0byAxMDAuIE1hdGhlbWF0aWNhbGx5LCB0aGVcbiAgICogYmlhcyBpcyBhZGRlZCB0byB0aGUgbG9naXRzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgcHJpb3IgdG8gc2FtcGxpbmcuIFRoZSBleGFjdFxuICAgKiBlZmZlY3Qgd2lsbCB2YXJ5IHBlciBtb2RlbCwgYnV0IHZhbHVlcyBiZXR3ZWVuIC0xIGFuZCAxIHNob3VsZCBkZWNyZWFzZSBvclxuICAgKiBpbmNyZWFzZSBsaWtlbGlob29kIG9mIHNlbGVjdGlvbjsgdmFsdWVzIGxpa2UgLTEwMCBvciAxMDAgc2hvdWxkIHJlc3VsdCBpbiBhIGJhblxuICAgKiBvciBleGNsdXNpdmUgc2VsZWN0aW9uIG9mIHRoZSByZWxldmFudCB0b2tlbi5cbiAgICovXG4gIGxvZ2l0X2JpYXM/OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IHwgbnVsbDtcblxuICAvKipcbiAgICogV2hldGhlciB0byByZXR1cm4gbG9nIHByb2JhYmlsaXRpZXMgb2YgdGhlIG91dHB1dCB0b2tlbnMgb3Igbm90LiBJZiB0cnVlLFxuICAgKiByZXR1cm5zIHRoZSBsb2cgcHJvYmFiaWxpdGllcyBvZiBlYWNoIG91dHB1dCB0b2tlbiByZXR1cm5lZCBpbiB0aGUgYGNvbnRlbnRgIG9mXG4gICAqIGBtZXNzYWdlYC4gVGhpcyBvcHRpb24gaXMgY3VycmVudGx5IG5vdCBhdmFpbGFibGUgb24gdGhlIGBncHQtNC12aXNpb24tcHJldmlld2BcbiAgICogbW9kZWwuXG4gICAqL1xuICBsb2dwcm9icz86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgW3Rva2Vuc10oL3Rva2VuaXplcikgdGhhdCBjYW4gYmUgZ2VuZXJhdGVkIGluIHRoZSBjaGF0XG4gICAqIGNvbXBsZXRpb24uXG4gICAqXG4gICAqIFRoZSB0b3RhbCBsZW5ndGggb2YgaW5wdXQgdG9rZW5zIGFuZCBnZW5lcmF0ZWQgdG9rZW5zIGlzIGxpbWl0ZWQgYnkgdGhlIG1vZGVsJ3NcbiAgICogY29udGV4dCBsZW5ndGguXG4gICAqIFtFeGFtcGxlIFB5dGhvbiBjb2RlXShodHRwczovL2Nvb2tib29rLm9wZW5haS5jb20vZXhhbXBsZXMvaG93X3RvX2NvdW50X3Rva2Vuc193aXRoX3Rpa3Rva2VuKVxuICAgKiBmb3IgY291bnRpbmcgdG9rZW5zLlxuICAgKi9cbiAgbWF4X3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEhvdyBtYW55IGNoYXQgY29tcGxldGlvbiBjaG9pY2VzIHRvIGdlbmVyYXRlIGZvciBlYWNoIGlucHV0IG1lc3NhZ2UuIE5vdGUgdGhhdFxuICAgKiB5b3Ugd2lsbCBiZSBjaGFyZ2VkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgZ2VuZXJhdGVkIHRva2VucyBhY3Jvc3MgYWxsIG9mIHRoZVxuICAgKiBjaG9pY2VzLiBLZWVwIGBuYCBhcyBgMWAgdG8gbWluaW1pemUgY29zdHMuXG4gICAqL1xuICBuPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogTnVtYmVyIGJldHdlZW4gLTIuMCBhbmQgMi4wLiBQb3NpdGl2ZSB2YWx1ZXMgcGVuYWxpemUgbmV3IHRva2VucyBiYXNlZCBvblxuICAgKiB3aGV0aGVyIHRoZXkgYXBwZWFyIGluIHRoZSB0ZXh0IHNvIGZhciwgaW5jcmVhc2luZyB0aGUgbW9kZWwncyBsaWtlbGlob29kIHRvXG4gICAqIHRhbGsgYWJvdXQgbmV3IHRvcGljcy5cbiAgICpcbiAgICogW1NlZSBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGZyZXF1ZW5jeSBhbmQgcHJlc2VuY2UgcGVuYWx0aWVzLl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQtZ2VuZXJhdGlvbi9wYXJhbWV0ZXItZGV0YWlscylcbiAgICovXG4gIHByZXNlbmNlX3BlbmFsdHk/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogYGdwdC00LTExMDYtcHJldmlld2AgYW5kIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGd1YXJhbnRlZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcy5SZXNwb25zZUZvcm1hdDtcblxuICAvKipcbiAgICogVGhpcyBmZWF0dXJlIGlzIGluIEJldGEuIElmIHNwZWNpZmllZCwgb3VyIHN5c3RlbSB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0b1xuICAgKiBzYW1wbGUgZGV0ZXJtaW5pc3RpY2FsbHksIHN1Y2ggdGhhdCByZXBlYXRlZCByZXF1ZXN0cyB3aXRoIHRoZSBzYW1lIGBzZWVkYCBhbmRcbiAgICogcGFyYW1ldGVycyBzaG91bGQgcmV0dXJuIHRoZSBzYW1lIHJlc3VsdC4gRGV0ZXJtaW5pc20gaXMgbm90IGd1YXJhbnRlZWQsIGFuZCB5b3VcbiAgICogc2hvdWxkIHJlZmVyIHRvIHRoZSBgc3lzdGVtX2ZpbmdlcnByaW50YCByZXNwb25zZSBwYXJhbWV0ZXIgdG8gbW9uaXRvciBjaGFuZ2VzXG4gICAqIGluIHRoZSBiYWNrZW5kLlxuICAgKi9cbiAgc2VlZD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFVwIHRvIDQgc2VxdWVuY2VzIHdoZXJlIHRoZSBBUEkgd2lsbCBzdG9wIGdlbmVyYXRpbmcgZnVydGhlciB0b2tlbnMuXG4gICAqL1xuICBzdG9wPzogc3RyaW5nIHwgbnVsbCB8IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIElmIHNldCwgcGFydGlhbCBtZXNzYWdlIGRlbHRhcyB3aWxsIGJlIHNlbnQsIGxpa2UgaW4gQ2hhdEdQVC4gVG9rZW5zIHdpbGwgYmVcbiAgICogc2VudCBhcyBkYXRhLW9ubHlcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdClcbiAgICogYXMgdGhleSBiZWNvbWUgYXZhaWxhYmxlLCB3aXRoIHRoZSBzdHJlYW0gdGVybWluYXRlZCBieSBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqIFtFeGFtcGxlIFB5dGhvbiBjb2RlXShodHRwczovL2Nvb2tib29rLm9wZW5haS5jb20vZXhhbXBsZXMvaG93X3RvX3N0cmVhbV9jb21wbGV0aW9ucykuXG4gICAqL1xuICBzdHJlYW0/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciBgdG9wX3BgIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbFxuICAgKiB3aWxsIG5vdCBjYWxsIGEgZnVuY3Rpb24gYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIG1lYW5zIHRoZSBtb2RlbFxuICAgKiBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgYSBmdW5jdGlvbi4gU3BlY2lmeWluZyBhXG4gICAqIHBhcnRpY3VsYXIgZnVuY3Rpb24gdmlhXG4gICAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gICAqIGNhbGwgdGhhdCBmdW5jdGlvbi5cbiAgICpcbiAgICogYG5vbmVgIGlzIHRoZSBkZWZhdWx0IHdoZW4gbm8gZnVuY3Rpb25zIGFyZSBwcmVzZW50LiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgaWZcbiAgICogZnVuY3Rpb25zIGFyZSBwcmVzZW50LlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb247XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29scyB0aGUgbW9kZWwgbWF5IGNhbGwuIEN1cnJlbnRseSwgb25seSBmdW5jdGlvbnMgYXJlIHN1cHBvcnRlZCBhcyBhXG4gICAqIHRvb2wuIFVzZSB0aGlzIHRvIHByb3ZpZGUgYSBsaXN0IG9mIGZ1bmN0aW9ucyB0aGUgbW9kZWwgbWF5IGdlbmVyYXRlIEpTT04gaW5wdXRzXG4gICAqIGZvci5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub29sPjtcblxuICAvKipcbiAgICogQW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDUgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIG1vc3QgbGlrZWx5IHRva2VucyB0byByZXR1cm5cbiAgICogYXQgZWFjaCB0b2tlbiBwb3NpdGlvbiwgZWFjaCB3aXRoIGFuIGFzc29jaWF0ZWQgbG9nIHByb2JhYmlsaXR5LiBgbG9ncHJvYnNgIG11c3RcbiAgICogYmUgc2V0IHRvIGB0cnVlYCBpZiB0aGlzIHBhcmFtZXRlciBpcyB1c2VkLlxuICAgKi9cbiAgdG9wX2xvZ3Byb2JzPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgYHRlbXBlcmF0dXJlYCBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzL2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHtcbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC4gTXVzdCBiZSBhLXosIEEtWiwgMC05LCBvciBjb250YWluXG4gICAgICogdW5kZXJzY29yZXMgYW5kIGRhc2hlcywgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0LlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgZnVuY3Rpb24gZG9lcywgdXNlZCBieSB0aGUgbW9kZWwgdG8gY2hvb3NlIHdoZW4gYW5kXG4gICAgICogaG93IHRvIGNhbGwgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcmFtZXRlcnMgdGhlIGZ1bmN0aW9ucyBhY2NlcHRzLCBkZXNjcmliZWQgYXMgYSBKU09OIFNjaGVtYSBvYmplY3QuIFNlZSB0aGVcbiAgICAgKiBbZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0LWdlbmVyYXRpb24vZnVuY3Rpb24tY2FsbGluZylcbiAgICAgKiBmb3IgZXhhbXBsZXMsIGFuZCB0aGVcbiAgICAgKiBbSlNPTiBTY2hlbWEgcmVmZXJlbmNlXShodHRwczovL2pzb24tc2NoZW1hLm9yZy91bmRlcnN0YW5kaW5nLWpzb24tc2NoZW1hLykgZm9yXG4gICAgICogZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgZm9ybWF0LlxuICAgICAqXG4gICAgICogT21pdHRpbmcgYHBhcmFtZXRlcnNgIGRlZmluZXMgYSBmdW5jdGlvbiB3aXRoIGFuIGVtcHR5IHBhcmFtZXRlciBsaXN0LlxuICAgICAqL1xuICAgIHBhcmFtZXRlcnM/OiBTaGFyZWQuRnVuY3Rpb25QYXJhbWV0ZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBgZ3B0LTQtMTEwNi1wcmV2aWV3YCBhbmQgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZ3VhcmFudGVlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGb3JtYXQge1xuICAgIC8qKlxuICAgICAqIE11c3QgYmUgb25lIG9mIGB0ZXh0YCBvciBganNvbl9vYmplY3RgLlxuICAgICAqL1xuICAgIHR5cGU/OiAndGV4dCcgfCAnanNvbl9vYmplY3QnO1xuICB9XG5cbiAgZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgPVxuICAgIENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcbiAgZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIGluc3RlYWRcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyA9IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIHNldCwgcGFydGlhbCBtZXNzYWdlIGRlbHRhcyB3aWxsIGJlIHNlbnQsIGxpa2UgaW4gQ2hhdEdQVC4gVG9rZW5zIHdpbGwgYmVcbiAgICogc2VudCBhcyBkYXRhLW9ubHlcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdClcbiAgICogYXMgdGhleSBiZWNvbWUgYXZhaWxhYmxlLCB3aXRoIHRoZSBzdHJlYW0gdGVybWluYXRlZCBieSBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqIFtFeGFtcGxlIFB5dGhvbiBjb2RlXShodHRwczovL2Nvb2tib29rLm9wZW5haS5jb20vZXhhbXBsZXMvaG93X3RvX3N0cmVhbV9jb21wbGV0aW9ucykuXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZSB8IG51bGw7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGluc3RlYWRcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyA9IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIHNldCwgcGFydGlhbCBtZXNzYWdlIGRlbHRhcyB3aWxsIGJlIHNlbnQsIGxpa2UgaW4gQ2hhdEdQVC4gVG9rZW5zIHdpbGwgYmVcbiAgICogc2VudCBhcyBkYXRhLW9ubHlcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdClcbiAgICogYXMgdGhleSBiZWNvbWUgYXZhaWxhYmxlLCB3aXRoIHRoZSBzdHJlYW0gdGVybWluYXRlZCBieSBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqIFtFeGFtcGxlIFB5dGhvbiBjb2RlXShodHRwczovL2Nvb2tib29rLm9wZW5haS5jb20vZXhhbXBsZXMvaG93X3RvX3N0cmVhbV9jb21wbGV0aW9ucykuXG4gICAqL1xuICBzdHJlYW06IHRydWU7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGluc3RlYWRcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgbmFtZXNwYWNlIENvbXBsZXRpb25zIHtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbiA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbjtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkNodW5rID0gQ2hhdENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uQ2h1bms7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0O1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQgPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQ7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24gPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb247XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uTWVzc2FnZSA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbk1lc3NhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW07XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwgPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGw7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UgPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Sb2xlID0gQ2hhdENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uUm9sZTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYjtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblRvb2wgPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Ub29sO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbiA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb247XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtID0gQ2hhdENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0gPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gc2hvdWxkIGJlIHVzZWQgaW5zdGVhZFxuICAgKi9cbiAgZXhwb3J0IGltcG9ydCBDcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlID0gQ2hhdENvbXBsZXRpb25zQVBJLkNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMgPSBDaGF0Q29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyA9IENoYXRDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nID0gQ2hhdENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgPSBDaGF0Q29tcGxldGlvbnNBUEkuQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9IENoYXRDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZztcbiAgZXhwb3J0IGltcG9ydCBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nID0gQ2hhdENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQVBJIGZyb20gXCIuL2NvbXBsZXRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGF0IGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjb21wbGV0aW9uczogQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnModGhpcy5fY2xpZW50KTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0IHtcbiAgZXhwb3J0IGltcG9ydCBDb21wbGV0aW9ucyA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uID0gQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb247XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0gPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkNodW5rID0gQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25DaHVuaztcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0ID0gQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Db250ZW50UGFydDtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2UgPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQgPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dDtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbiA9IENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uRnVuY3Rpb25DYWxsT3B0aW9uO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0gPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uTWVzc2FnZSA9IENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uTWVzc2FnZTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSA9IENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsID0gQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGw7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UgPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblJvbGUgPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblJvbGU7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0gPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiA9IENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uVG9vbCA9IENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9vbDtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24gPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb247XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtID0gQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSA9IENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbTtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcbiAgICovXG4gIGV4cG9ydCBpbXBvcnQgQ3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZSA9IENvbXBsZXRpb25zQVBJLkNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMgPSBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zID0gQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbkNyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyA9IENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nID0gQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7IHR5cGUgUmVzcG9uc2UgfSBmcm9tIFwiLi4vLi4vX3NoaW1zL2luZGV4XCI7XG5pbXBvcnQgKiBhcyBTcGVlY2hBUEkgZnJvbSBcIi4vc3BlZWNoXCI7XG5cbmV4cG9ydCBjbGFzcyBTcGVlY2ggZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYXVkaW8gZnJvbSB0aGUgaW5wdXQgdGV4dC5cbiAgICovXG4gIGNyZWF0ZShib2R5OiBTcGVlY2hDcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvYXVkaW8vc3BlZWNoJywgeyBib2R5LCAuLi5vcHRpb25zLCBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlIH0pO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3BlZWNoQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRvIGdlbmVyYXRlIGF1ZGlvIGZvci4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDQwOTYgY2hhcmFjdGVycy5cbiAgICovXG4gIGlucHV0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE9uZSBvZiB0aGUgYXZhaWxhYmxlIFtUVFMgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvdHRzKTpcbiAgICogYHR0cy0xYCBvciBgdHRzLTEtaGRgXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8ICd0dHMtMScgfCAndHRzLTEtaGQnO1xuXG4gIC8qKlxuICAgKiBUaGUgdm9pY2UgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZyB0aGUgYXVkaW8uIFN1cHBvcnRlZCB2b2ljZXMgYXJlIGBhbGxveWAsXG4gICAqIGBlY2hvYCwgYGZhYmxlYCwgYG9ueXhgLCBgbm92YWAsIGFuZCBgc2hpbW1lcmAuIFByZXZpZXdzIG9mIHRoZSB2b2ljZXMgYXJlXG4gICAqIGF2YWlsYWJsZSBpbiB0aGVcbiAgICogW1RleHQgdG8gc3BlZWNoIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dC10by1zcGVlY2gvdm9pY2Utb3B0aW9ucykuXG4gICAqL1xuICB2b2ljZTogJ2FsbG95JyB8ICdlY2hvJyB8ICdmYWJsZScgfCAnb255eCcgfCAnbm92YScgfCAnc2hpbW1lcic7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgdG8gYXVkaW8gaW4uIFN1cHBvcnRlZCBmb3JtYXRzIGFyZSBgbXAzYCwgYG9wdXNgLCBgYWFjYCwgYW5kIGBmbGFjYC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86ICdtcDMnIHwgJ29wdXMnIHwgJ2FhYycgfCAnZmxhYyc7XG5cbiAgLyoqXG4gICAqIFRoZSBzcGVlZCBvZiB0aGUgZ2VuZXJhdGVkIGF1ZGlvLiBTZWxlY3QgYSB2YWx1ZSBmcm9tIGAwLjI1YCB0byBgNC4wYC4gYDEuMGAgaXNcbiAgICogdGhlIGRlZmF1bHQuXG4gICAqL1xuICBzcGVlZD86IG51bWJlcjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBTcGVlY2gge1xuICBleHBvcnQgaW1wb3J0IFNwZWVjaENyZWF0ZVBhcmFtcyA9IFNwZWVjaEFQSS5TcGVlY2hDcmVhdGVQYXJhbXM7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCAqIGFzIFRyYW5zY3JpcHRpb25zQVBJIGZyb20gXCIuL3RyYW5zY3JpcHRpb25zXCI7XG5pbXBvcnQgeyB0eXBlIFVwbG9hZGFibGUsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFRyYW5zY3JpYmVzIGF1ZGlvIGludG8gdGhlIGlucHV0IGxhbmd1YWdlLlxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRyYW5zY3JpcHRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hdWRpby90cmFuc2NyaXB0aW9ucycsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvbiB7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBhdWRpbyBmaWxlIG9iamVjdCAobm90IGZpbGUgbmFtZSkgdG8gdHJhbnNjcmliZSwgaW4gb25lIG9mIHRoZXNlIGZvcm1hdHM6XG4gICAqIGZsYWMsIG1wMywgbXA0LCBtcGVnLCBtcGdhLCBtNGEsIG9nZywgd2F2LCBvciB3ZWJtLlxuICAgKi9cbiAgZmlsZTogVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gT25seSBgd2hpc3Blci0xYCBpcyBjdXJyZW50bHkgYXZhaWxhYmxlLlxuICAgKi9cbiAgbW9kZWw6IChzdHJpbmcgJiB7fSkgfCAnd2hpc3Blci0xJztcblxuICAvKipcbiAgICogVGhlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCBhdWRpby4gU3VwcGx5aW5nIHRoZSBpbnB1dCBsYW5ndWFnZSBpblxuICAgKiBbSVNPLTYzOS0xXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0lTT182MzktMV9jb2RlcykgZm9ybWF0IHdpbGxcbiAgICogaW1wcm92ZSBhY2N1cmFjeSBhbmQgbGF0ZW5jeS5cbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbCdzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW9cbiAgICogc2VnbWVudC4gVGhlXG4gICAqIFtwcm9tcHRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dC9wcm9tcHRpbmcpXG4gICAqIHNob3VsZCBtYXRjaCB0aGUgYXVkaW8gbGFuZ3VhZ2UuXG4gICAqL1xuICBwcm9tcHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2YgdGhlIHRyYW5zY3JpcHQgb3V0cHV0LCBpbiBvbmUgb2YgdGhlc2Ugb3B0aW9uczogYGpzb25gLCBgdGV4dGAsXG4gICAqIGBzcnRgLCBgdmVyYm9zZV9qc29uYCwgb3IgYHZ0dGAuXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiAnanNvbicgfCAndGV4dCcgfCAnc3J0JyB8ICd2ZXJib3NlX2pzb24nIHwgJ3Z0dCc7XG5cbiAgLyoqXG4gICAqIFRoZSBzYW1wbGluZyB0ZW1wZXJhdHVyZSwgYmV0d2VlbiAwIGFuZCAxLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGwgbWFrZSB0aGVcbiAgICogb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmUgZm9jdXNlZCBhbmRcbiAgICogZGV0ZXJtaW5pc3RpYy4gSWYgc2V0IHRvIDAsIHRoZSBtb2RlbCB3aWxsIHVzZVxuICAgKiBbbG9nIHByb2JhYmlsaXR5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb2dfcHJvYmFiaWxpdHkpIHRvXG4gICAqIGF1dG9tYXRpY2FsbHkgaW5jcmVhc2UgdGhlIHRlbXBlcmF0dXJlIHVudGlsIGNlcnRhaW4gdGhyZXNob2xkcyBhcmUgaGl0LlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVHJhbnNjcmlwdGlvbnMge1xuICBleHBvcnQgaW1wb3J0IFRyYW5zY3JpcHRpb24gPSBUcmFuc2NyaXB0aW9uc0FQSS5UcmFuc2NyaXB0aW9uO1xuICBleHBvcnQgaW1wb3J0IFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXMgPSBUcmFuc2NyaXB0aW9uc0FQSS5UcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uL2NvcmVcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBUcmFuc2xhdGlvbnNBUEkgZnJvbSBcIi4vdHJhbnNsYXRpb25zXCI7XG5pbXBvcnQgeyB0eXBlIFVwbG9hZGFibGUsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2xhdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBUcmFuc2xhdGVzIGF1ZGlvIGludG8gRW5nbGlzaC5cbiAgICovXG4gIGNyZWF0ZShib2R5OiBUcmFuc2xhdGlvbkNyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VHJhbnNsYXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hdWRpby90cmFuc2xhdGlvbnMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zbGF0aW9uIHtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBhdWRpbyBmaWxlIG9iamVjdCAobm90IGZpbGUgbmFtZSkgdHJhbnNsYXRlLCBpbiBvbmUgb2YgdGhlc2UgZm9ybWF0czogZmxhYyxcbiAgICogbXAzLCBtcDQsIG1wZWcsIG1wZ2EsIG00YSwgb2dnLCB3YXYsIG9yIHdlYm0uXG4gICAqL1xuICBmaWxlOiBVcGxvYWRhYmxlO1xuXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBPbmx5IGB3aGlzcGVyLTFgIGlzIGN1cnJlbnRseSBhdmFpbGFibGUuXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8ICd3aGlzcGVyLTEnO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbCdzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW9cbiAgICogc2VnbWVudC4gVGhlXG4gICAqIFtwcm9tcHRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dC9wcm9tcHRpbmcpXG4gICAqIHNob3VsZCBiZSBpbiBFbmdsaXNoLlxuICAgKi9cbiAgcHJvbXB0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIHRoZSB0cmFuc2NyaXB0IG91dHB1dCwgaW4gb25lIG9mIHRoZXNlIG9wdGlvbnM6IGBqc29uYCwgYHRleHRgLFxuICAgKiBgc3J0YCwgYHZlcmJvc2VfanNvbmAsIG9yIGB2dHRgLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlXG4gICAqIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kXG4gICAqIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2VcbiAgICogW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0b1xuICAgKiBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFRyYW5zbGF0aW9ucyB7XG4gIGV4cG9ydCBpbXBvcnQgVHJhbnNsYXRpb24gPSBUcmFuc2xhdGlvbnNBUEkuVHJhbnNsYXRpb247XG4gIGV4cG9ydCBpbXBvcnQgVHJhbnNsYXRpb25DcmVhdGVQYXJhbXMgPSBUcmFuc2xhdGlvbnNBUEkuVHJhbnNsYXRpb25DcmVhdGVQYXJhbXM7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCAqIGFzIFNwZWVjaEFQSSBmcm9tIFwiLi9zcGVlY2hcIjtcbmltcG9ydCAqIGFzIFRyYW5zY3JpcHRpb25zQVBJIGZyb20gXCIuL3RyYW5zY3JpcHRpb25zXCI7XG5pbXBvcnQgKiBhcyBUcmFuc2xhdGlvbnNBUEkgZnJvbSBcIi4vdHJhbnNsYXRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBBdWRpbyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgdHJhbnNjcmlwdGlvbnM6IFRyYW5zY3JpcHRpb25zQVBJLlRyYW5zY3JpcHRpb25zID0gbmV3IFRyYW5zY3JpcHRpb25zQVBJLlRyYW5zY3JpcHRpb25zKHRoaXMuX2NsaWVudCk7XG4gIHRyYW5zbGF0aW9uczogVHJhbnNsYXRpb25zQVBJLlRyYW5zbGF0aW9ucyA9IG5ldyBUcmFuc2xhdGlvbnNBUEkuVHJhbnNsYXRpb25zKHRoaXMuX2NsaWVudCk7XG4gIHNwZWVjaDogU3BlZWNoQVBJLlNwZWVjaCA9IG5ldyBTcGVlY2hBUEkuU3BlZWNoKHRoaXMuX2NsaWVudCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQXVkaW8ge1xuICBleHBvcnQgaW1wb3J0IFRyYW5zY3JpcHRpb25zID0gVHJhbnNjcmlwdGlvbnNBUEkuVHJhbnNjcmlwdGlvbnM7XG4gIGV4cG9ydCBpbXBvcnQgVHJhbnNjcmlwdGlvbiA9IFRyYW5zY3JpcHRpb25zQVBJLlRyYW5zY3JpcHRpb247XG4gIGV4cG9ydCBpbXBvcnQgVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtcyA9IFRyYW5zY3JpcHRpb25zQVBJLlRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgVHJhbnNsYXRpb25zID0gVHJhbnNsYXRpb25zQVBJLlRyYW5zbGF0aW9ucztcbiAgZXhwb3J0IGltcG9ydCBUcmFuc2xhdGlvbiA9IFRyYW5zbGF0aW9uc0FQSS5UcmFuc2xhdGlvbjtcbiAgZXhwb3J0IGltcG9ydCBUcmFuc2xhdGlvbkNyZWF0ZVBhcmFtcyA9IFRyYW5zbGF0aW9uc0FQSS5UcmFuc2xhdGlvbkNyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBTcGVlY2ggPSBTcGVlY2hBUEkuU3BlZWNoO1xuICBleHBvcnQgaW1wb3J0IFNwZWVjaENyZWF0ZVBhcmFtcyA9IFNwZWVjaEFQSS5TcGVlY2hDcmVhdGVQYXJhbXM7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZVwiO1xuaW1wb3J0ICogYXMgRmlsZXNBUEkgZnJvbSBcIi4vZmlsZXNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBhc3Npc3RhbnQgZmlsZSBieSBhdHRhY2hpbmcgYVxuICAgKiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgdG8gYW5cbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKS5cbiAgICovXG4gIGNyZWF0ZShcbiAgICBhc3Npc3RhbnRJZDogc3RyaW5nLFxuICAgIGJvZHk6IEZpbGVDcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnRGaWxlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfS9maWxlc2AsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYW4gQXNzaXN0YW50RmlsZS5cbiAgICovXG4gIHJldHJpZXZlKFxuICAgIGFzc2lzdGFudElkOiBzdHJpbmcsXG4gICAgZmlsZUlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnRGaWxlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9L2ZpbGVzLyR7ZmlsZUlkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYxJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGFzc2lzdGFudCBmaWxlcy5cbiAgICovXG4gIGxpc3QoXG4gICAgYXNzaXN0YW50SWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IEZpbGVMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEFzc2lzdGFudEZpbGVzUGFnZSwgQXNzaXN0YW50RmlsZT47XG4gIGxpc3QoXG4gICAgYXNzaXN0YW50SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxBc3Npc3RhbnRGaWxlc1BhZ2UsIEFzc2lzdGFudEZpbGU+O1xuICBsaXN0KFxuICAgIGFzc2lzdGFudElkOiBzdHJpbmcsXG4gICAgcXVlcnk6IEZpbGVMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEFzc2lzdGFudEZpbGVzUGFnZSwgQXNzaXN0YW50RmlsZT4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdChhc3Npc3RhbnRJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfS9maWxlc2AsIEFzc2lzdGFudEZpbGVzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYW4gYXNzaXN0YW50IGZpbGUuXG4gICAqL1xuICBkZWwoXG4gICAgYXNzaXN0YW50SWQ6IHN0cmluZyxcbiAgICBmaWxlSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPEZpbGVEZWxldGVSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfS9maWxlcy8ke2ZpbGVJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXNzaXN0YW50RmlsZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxBc3Npc3RhbnRGaWxlPiB7fVxuXG4vKipcbiAqIEEgbGlzdCBvZiBbRmlsZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIGF0dGFjaGVkXG4gKiB0byBhbiBgYXNzaXN0YW50YC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRGaWxlIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGFzc2lzdGFudCBJRCB0aGF0IHRoZSBmaWxlIGlzIGF0dGFjaGVkIHRvLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGFzc2lzdGFudCBmaWxlIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgYXNzaXN0YW50LmZpbGVgLlxuICAgKi9cbiAgb2JqZWN0OiAnYXNzaXN0YW50LmZpbGUnO1xufVxuXG4vKipcbiAqIERlbGV0ZXMgdGhlIGFzc29jaWF0aW9uIGJldHdlZW4gdGhlIGFzc2lzdGFudCBhbmQgdGhlIGZpbGUsIGJ1dCBkb2VzIG5vdCBkZWxldGVcbiAqIHRoZSBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgb2JqZWN0IGl0c2VsZi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlRGVsZXRlUmVzcG9uc2Uge1xuICBpZDogc3RyaW5nO1xuXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgb2JqZWN0OiAnYXNzaXN0YW50LmZpbGUuZGVsZXRlZCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRCAod2l0aFxuICAgKiBgcHVycG9zZT1cImFzc2lzdGFudHNcImApIHRoYXQgdGhlIGFzc2lzdGFudCBzaG91bGQgdXNlLiBVc2VmdWwgZm9yIHRvb2xzIGxpa2VcbiAgICogYHJldHJpZXZhbGAgYW5kIGBjb2RlX2ludGVycHJldGVyYCB0aGF0IGNhbiBhY2Nlc3MgZmlsZXMuXG4gICAqL1xuICBmaWxlX2lkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUxpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgY3Vyc29yIGZvciB1c2UgaW4gcGFnaW5hdGlvbi4gYGJlZm9yZWAgaXMgYW4gb2JqZWN0IElEIHRoYXQgZGVmaW5lcyB5b3VyIHBsYWNlXG4gICAqIGluIHRoZSBsaXN0LiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBtYWtlIGEgbGlzdCByZXF1ZXN0IGFuZCByZWNlaXZlIDEwMCBvYmplY3RzLFxuICAgKiBlbmRpbmcgd2l0aCBvYmpfZm9vLCB5b3VyIHN1YnNlcXVlbnQgY2FsbCBjYW4gaW5jbHVkZSBiZWZvcmU9b2JqX2ZvbyBpbiBvcmRlciB0b1xuICAgKiBmZXRjaCB0aGUgcHJldmlvdXMgcGFnZSBvZiB0aGUgbGlzdC5cbiAgICovXG4gIGJlZm9yZT86IHN0cmluZztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlcyB7XG4gIGV4cG9ydCBpbXBvcnQgQXNzaXN0YW50RmlsZSA9IEZpbGVzQVBJLkFzc2lzdGFudEZpbGU7XG4gIGV4cG9ydCBpbXBvcnQgRmlsZURlbGV0ZVJlc3BvbnNlID0gRmlsZXNBUEkuRmlsZURlbGV0ZVJlc3BvbnNlO1xuICBleHBvcnQgaW1wb3J0IEFzc2lzdGFudEZpbGVzUGFnZSA9IEZpbGVzQVBJLkFzc2lzdGFudEZpbGVzUGFnZTtcbiAgZXhwb3J0IGltcG9ydCBGaWxlQ3JlYXRlUGFyYW1zID0gRmlsZXNBUEkuRmlsZUNyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBGaWxlTGlzdFBhcmFtcyA9IEZpbGVzQVBJLkZpbGVMaXN0UGFyYW1zO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uLy4uL2NvcmVcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmVcIjtcbmltcG9ydCAqIGFzIEFzc2lzdGFudHNBUEkgZnJvbSBcIi4vYXNzaXN0YW50c1wiO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gXCIuLi8uLi9zaGFyZWRcIjtcbmltcG9ydCAqIGFzIEZpbGVzQVBJIGZyb20gXCIuL2ZpbGVzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tIFwiLi4vLi4vLi4vcGFnaW5hdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQXNzaXN0YW50cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgZmlsZXM6IEZpbGVzQVBJLkZpbGVzID0gbmV3IEZpbGVzQVBJLkZpbGVzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBhc3Npc3RhbnQgd2l0aCBhIG1vZGVsIGFuZCBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBjcmVhdGUoYm9keTogQXNzaXN0YW50Q3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hc3Npc3RhbnRzJywge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYxJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhbiBhc3Npc3RhbnQuXG4gICAqL1xuICByZXRyaWV2ZShhc3Npc3RhbnRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RpZmllcyBhbiBhc3Npc3RhbnQuXG4gICAqL1xuICB1cGRhdGUoXG4gICAgYXNzaXN0YW50SWQ6IHN0cmluZyxcbiAgICBib2R5OiBBc3Npc3RhbnRVcGRhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYxJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGFzc2lzdGFudHMuXG4gICAqL1xuICBsaXN0KFxuICAgIHF1ZXJ5PzogQXNzaXN0YW50TGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxBc3Npc3RhbnRzUGFnZSwgQXNzaXN0YW50PjtcbiAgbGlzdChvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8QXNzaXN0YW50c1BhZ2UsIEFzc2lzdGFudD47XG4gIGxpc3QoXG4gICAgcXVlcnk6IEFzc2lzdGFudExpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8QXNzaXN0YW50c1BhZ2UsIEFzc2lzdGFudD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9hc3Npc3RhbnRzJywgQXNzaXN0YW50c1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGFuIGFzc2lzdGFudC5cbiAgICovXG4gIGRlbChhc3Npc3RhbnRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnREZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFzc2lzdGFudHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxBc3Npc3RhbnQ+IHt9XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBgYXNzaXN0YW50YCB0aGF0IGNhbiBjYWxsIHRoZSBtb2RlbCBhbmQgdXNlIHRvb2xzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudCB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGFzc2lzdGFudCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBhc3Npc3RhbnQuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEc1xuICAgKiBhdHRhY2hlZCB0byB0aGlzIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlcyBhdHRhY2hlZCB0byB0aGVcbiAgICogYXNzaXN0YW50LiBGaWxlcyBhcmUgb3JkZXJlZCBieSB0aGVpciBjcmVhdGlvbiBkYXRlIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICovXG4gIGZpbGVfaWRzOiBBcnJheTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIGluc3RydWN0aW9ucyB0aGF0IHRoZSBhc3Npc3RhbnQgdXNlcy4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDMyNzY4XG4gICAqIGNoYXJhY3RlcnMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhOiB1bmtub3duIHwgbnVsbDtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL292ZXJ2aWV3KSBmb3JcbiAgICogZGVzY3JpcHRpb25zIG9mIHRoZW0uXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgYXNzaXN0YW50LiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMjU2IGNoYXJhY3RlcnMuXG4gICAqL1xuICBuYW1lOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgYXNzaXN0YW50YC5cbiAgICovXG4gIG9iamVjdDogJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29sIGVuYWJsZWQgb24gdGhlIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMjggdG9vbHMgcGVyXG4gICAqIGFzc2lzdGFudC4gVG9vbHMgY2FuIGJlIG9mIHR5cGVzIGBjb2RlX2ludGVycHJldGVyYCwgYHJldHJpZXZhbGAsIG9yIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0b29sczogQXJyYXk8QXNzaXN0YW50LkNvZGVJbnRlcnByZXRlciB8IEFzc2lzdGFudC5SZXRyaWV2YWwgfCBBc3Npc3RhbnQuRnVuY3Rpb24+O1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEFzc2lzdGFudCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBjb2RlX2ludGVycHJldGVyYFxuICAgICAqL1xuICAgIHR5cGU6ICdjb2RlX2ludGVycHJldGVyJztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmV0cmlldmFsIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGByZXRyaWV2YWxgXG4gICAgICovXG4gICAgdHlwZTogJ3JldHJpZXZhbCc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uIHtcbiAgICBmdW5jdGlvbjogU2hhcmVkLkZ1bmN0aW9uRGVmaW5pdGlvbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZ1bmN0aW9uYFxuICAgICAqL1xuICAgIHR5cGU6ICdmdW5jdGlvbic7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnREZWxldGVkIHtcbiAgaWQ6IHN0cmluZztcblxuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIG9iamVjdDogJ2Fzc2lzdGFudC5kZWxldGVkJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL292ZXJ2aWV3KSBmb3JcbiAgICogZGVzY3JpcHRpb25zIG9mIHRoZW0uXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGFzc2lzdGFudC4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEc1xuICAgKiBhdHRhY2hlZCB0byB0aGlzIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlcyBhdHRhY2hlZCB0byB0aGVcbiAgICogYXNzaXN0YW50LiBGaWxlcyBhcmUgb3JkZXJlZCBieSB0aGVpciBjcmVhdGlvbiBkYXRlIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICovXG4gIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogVGhlIHN5c3RlbSBpbnN0cnVjdGlvbnMgdGhhdCB0aGUgYXNzaXN0YW50IHVzZXMuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAzMjc2OFxuICAgKiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGFzc2lzdGFudC4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDI1NiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29sIGVuYWJsZWQgb24gdGhlIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMjggdG9vbHMgcGVyXG4gICAqIGFzc2lzdGFudC4gVG9vbHMgY2FuIGJlIG9mIHR5cGVzIGBjb2RlX2ludGVycHJldGVyYCwgYHJldHJpZXZhbGAsIG9yIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0b29scz86IEFycmF5PFxuICAgIHwgQXNzaXN0YW50Q3JlYXRlUGFyYW1zLkFzc2lzdGFudFRvb2xzQ29kZVxuICAgIHwgQXNzaXN0YW50Q3JlYXRlUGFyYW1zLkFzc2lzdGFudFRvb2xzUmV0cmlldmFsXG4gICAgfCBBc3Npc3RhbnRDcmVhdGVQYXJhbXMuQXNzaXN0YW50VG9vbHNGdW5jdGlvblxuICA+O1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEFzc2lzdGFudENyZWF0ZVBhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNDb2RlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBjb2RlX2ludGVycHJldGVyYFxuICAgICAqL1xuICAgIHR5cGU6ICdjb2RlX2ludGVycHJldGVyJztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNSZXRyaWV2YWwge1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYHJldHJpZXZhbGBcbiAgICAgKi9cbiAgICB0eXBlOiAncmV0cmlldmFsJztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNGdW5jdGlvbiB7XG4gICAgZnVuY3Rpb246IFNoYXJlZC5GdW5jdGlvbkRlZmluaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBmdW5jdGlvbmBcbiAgICAgKi9cbiAgICB0eXBlOiAnZnVuY3Rpb24nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VXBkYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYXNzaXN0YW50LiBUaGUgbWF4aW11bSBsZW5ndGggaXMgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzXG4gICAqIGF0dGFjaGVkIHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzIGF0dGFjaGVkIHRvIHRoZVxuICAgKiBhc3Npc3RhbnQuIEZpbGVzIGFyZSBvcmRlcmVkIGJ5IHRoZWlyIGNyZWF0aW9uIGRhdGUgaW4gYXNjZW5kaW5nIG9yZGVyLiBJZiBhXG4gICAqIGZpbGUgd2FzIHByZXZpb3VzbHkgYXR0YWNoZWQgdG8gdGhlIGxpc3QgYnV0IGRvZXMgbm90IHNob3cgdXAgaW4gdGhlIGxpc3QsIGl0XG4gICAqIHdpbGwgYmUgZGVsZXRlZCBmcm9tIHRoZSBhc3Npc3RhbnQuXG4gICAqL1xuICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIHRoYXQgdGhlIGFzc2lzdGFudCB1c2VzLiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMzI3NjhcbiAgICogY2hhcmFjdGVycy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIFlvdSBjYW4gdXNlIHRoZVxuICAgKiBbTGlzdCBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzL2xpc3QpIEFQSSB0b1xuICAgKiBzZWUgYWxsIG9mIHlvdXIgYXZhaWxhYmxlIG1vZGVscywgb3Igc2VlIG91clxuICAgKiBbTW9kZWwgb3ZlcnZpZXddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9vdmVydmlldykgZm9yXG4gICAqIGRlc2NyaXB0aW9ucyBvZiB0aGVtLlxuICAgKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBhc3Npc3RhbnQuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAyNTYgY2hhcmFjdGVycy5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdG9vbCBlbmFibGVkIG9uIHRoZSBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTI4IHRvb2xzIHBlclxuICAgKiBhc3Npc3RhbnQuIFRvb2xzIGNhbiBiZSBvZiB0eXBlcyBgY29kZV9pbnRlcnByZXRlcmAsIGByZXRyaWV2YWxgLCBvciBgZnVuY3Rpb25gLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxcbiAgICB8IEFzc2lzdGFudFVwZGF0ZVBhcmFtcy5Bc3Npc3RhbnRUb29sc0NvZGVcbiAgICB8IEFzc2lzdGFudFVwZGF0ZVBhcmFtcy5Bc3Npc3RhbnRUb29sc1JldHJpZXZhbFxuICAgIHwgQXNzaXN0YW50VXBkYXRlUGFyYW1zLkFzc2lzdGFudFRvb2xzRnVuY3Rpb25cbiAgPjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBBc3Npc3RhbnRVcGRhdGVQYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudFRvb2xzQ29kZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdG9vbCBiZWluZyBkZWZpbmVkOiBgY29kZV9pbnRlcnByZXRlcmBcbiAgICAgKi9cbiAgICB0eXBlOiAnY29kZV9pbnRlcnByZXRlcic7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudFRvb2xzUmV0cmlldmFsIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGByZXRyaWV2YWxgXG4gICAgICovXG4gICAgdHlwZTogJ3JldHJpZXZhbCc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudFRvb2xzRnVuY3Rpb24ge1xuICAgIGZ1bmN0aW9uOiBTaGFyZWQuRnVuY3Rpb25EZWZpbml0aW9uO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdG9vbCBiZWluZyBkZWZpbmVkOiBgZnVuY3Rpb25gXG4gICAgICovXG4gICAgdHlwZTogJ2Z1bmN0aW9uJztcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudExpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgY3Vyc29yIGZvciB1c2UgaW4gcGFnaW5hdGlvbi4gYGJlZm9yZWAgaXMgYW4gb2JqZWN0IElEIHRoYXQgZGVmaW5lcyB5b3VyIHBsYWNlXG4gICAqIGluIHRoZSBsaXN0LiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBtYWtlIGEgbGlzdCByZXF1ZXN0IGFuZCByZWNlaXZlIDEwMCBvYmplY3RzLFxuICAgKiBlbmRpbmcgd2l0aCBvYmpfZm9vLCB5b3VyIHN1YnNlcXVlbnQgY2FsbCBjYW4gaW5jbHVkZSBiZWZvcmU9b2JqX2ZvbyBpbiBvcmRlciB0b1xuICAgKiBmZXRjaCB0aGUgcHJldmlvdXMgcGFnZSBvZiB0aGUgbGlzdC5cbiAgICovXG4gIGJlZm9yZT86IHN0cmluZztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBBc3Npc3RhbnRzIHtcbiAgZXhwb3J0IGltcG9ydCBBc3Npc3RhbnQgPSBBc3Npc3RhbnRzQVBJLkFzc2lzdGFudDtcbiAgZXhwb3J0IGltcG9ydCBBc3Npc3RhbnREZWxldGVkID0gQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnREZWxldGVkO1xuICBleHBvcnQgaW1wb3J0IEFzc2lzdGFudHNQYWdlID0gQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRzUGFnZTtcbiAgZXhwb3J0IGltcG9ydCBBc3Npc3RhbnRDcmVhdGVQYXJhbXMgPSBBc3Npc3RhbnRzQVBJLkFzc2lzdGFudENyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBBc3Npc3RhbnRVcGRhdGVQYXJhbXMgPSBBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFVwZGF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBBc3Npc3RhbnRMaXN0UGFyYW1zID0gQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRMaXN0UGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IEZpbGVzID0gRmlsZXNBUEkuRmlsZXM7XG4gIGV4cG9ydCBpbXBvcnQgQXNzaXN0YW50RmlsZSA9IEZpbGVzQVBJLkFzc2lzdGFudEZpbGU7XG4gIGV4cG9ydCBpbXBvcnQgRmlsZURlbGV0ZVJlc3BvbnNlID0gRmlsZXNBUEkuRmlsZURlbGV0ZVJlc3BvbnNlO1xuICBleHBvcnQgaW1wb3J0IEFzc2lzdGFudEZpbGVzUGFnZSA9IEZpbGVzQVBJLkFzc2lzdGFudEZpbGVzUGFnZTtcbiAgZXhwb3J0IGltcG9ydCBGaWxlQ3JlYXRlUGFyYW1zID0gRmlsZXNBUEkuRmlsZUNyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBGaWxlTGlzdFBhcmFtcyA9IEZpbGVzQVBJLkZpbGVMaXN0UGFyYW1zO1xufVxuIiwgImltcG9ydCB7IHR5cGUgQ2hhdENvbXBsZXRpb25SdW5uZXIgfSBmcm9tICcuL0NoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIgfSBmcm9tICcuL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyJztcbmltcG9ydCB7IEpTT05TY2hlbWEgfSBmcm9tICcuL2pzb25zY2hlbWEnO1xuXG50eXBlIFByb21pc2VPclZhbHVlPFQ+ID0gVCB8IFByb21pc2U8VD47XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncyBleHRlbmRzIG9iamVjdD4gPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXJncyB0aGUgcmV0dXJuIHZhbHVlIGZyb20gYHBhcnNlYC5cbiAgICogQHBhcmFtIHJ1bm5lciB0aGUgcnVubmVyIGV2YWx1YXRpbmcgdGhpcyBjYWxsYmFjay5cbiAgICogQHJldHVybnMgYSBzdHJpbmcgdG8gc2VuZCBiYWNrIHRvIE9wZW5BSS5cbiAgICovXG4gIGZ1bmN0aW9uOiAoXG4gICAgYXJnczogQXJncyxcbiAgICBydW5uZXI6IENoYXRDb21wbGV0aW9uUnVubmVyIHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIsXG4gICkgPT4gUHJvbWlzZU9yVmFsdWU8dW5rbm93bj47XG4gIC8qKlxuICAgKiBAcGFyYW0gaW5wdXQgdGhlIHJhdyBhcmdzIGZyb20gdGhlIE9wZW5BSSBmdW5jdGlvbiBjYWxsLlxuICAgKiBAcmV0dXJucyB0aGUgcGFyc2VkIGFyZ3VtZW50cyB0byBwYXNzIHRvIGBmdW5jdGlvbmBcbiAgICovXG4gIHBhcnNlOiAoaW5wdXQ6IHN0cmluZykgPT4gUHJvbWlzZU9yVmFsdWU8QXJncz47XG4gIC8qKlxuICAgKiBUaGUgcGFyYW1ldGVycyB0aGUgZnVuY3Rpb24gYWNjZXB0cywgZGVzY3JpYmVzIGFzIGEgSlNPTiBTY2hlbWEgb2JqZWN0LlxuICAgKi9cbiAgcGFyYW1ldGVyczogSlNPTlNjaGVtYTtcbiAgLyoqXG4gICAqIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgZnVuY3Rpb24gZG9lcywgdXNlZCBieSB0aGUgbW9kZWwgdG8gY2hvb3NlIHdoZW4gYW5kIGhvdyB0byBjYWxsIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLiBXaWxsIGRlZmF1bHQgdG8gZnVuY3Rpb24ubmFtZSBpZiBvbWl0dGVkLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25XaXRob3V0UGFyc2UgPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXJncyB0aGUgcmF3IGFyZ3MgZnJvbSB0aGUgT3BlbkFJIGZ1bmN0aW9uIGNhbGwuXG4gICAqIEByZXR1cm5zIGEgc3RyaW5nIHRvIHNlbmQgYmFjayB0byBPcGVuQUlcbiAgICovXG4gIGZ1bmN0aW9uOiAoXG4gICAgYXJnczogc3RyaW5nLFxuICAgIHJ1bm5lcjogQ2hhdENvbXBsZXRpb25SdW5uZXIgfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcixcbiAgKSA9PiBQcm9taXNlT3JWYWx1ZTx1bmtub3duPjtcbiAgLyoqXG4gICAqIFRoZSBwYXJhbWV0ZXJzIHRoZSBmdW5jdGlvbiBhY2NlcHRzLCBkZXNjcmliZXMgYXMgYSBKU09OIFNjaGVtYSBvYmplY3QuXG4gICAqL1xuICBwYXJhbWV0ZXJzOiBKU09OU2NoZW1hO1xuICAvKipcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoZSBmdW5jdGlvbiBkb2VzLCB1c2VkIGJ5IHRoZSBtb2RlbCB0byBjaG9vc2Ugd2hlbiBhbmQgaG93IHRvIGNhbGwgdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQuIFdpbGwgZGVmYXVsdCB0byBmdW5jdGlvbi5uYW1lIGlmIG9taXR0ZWQuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgUnVubmFibGVGdW5jdGlvbjxBcmdzIGV4dGVuZHMgb2JqZWN0IHwgc3RyaW5nPiA9XG4gIEFyZ3MgZXh0ZW5kcyBzdHJpbmcgPyBSdW5uYWJsZUZ1bmN0aW9uV2l0aG91dFBhcnNlXG4gIDogQXJncyBleHRlbmRzIG9iamVjdCA/IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5cbiAgOiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgUnVubmFibGVUb29sRnVuY3Rpb248QXJncyBleHRlbmRzIG9iamVjdCB8IHN0cmluZz4gPVxuICBBcmdzIGV4dGVuZHMgc3RyaW5nID8gUnVubmFibGVUb29sRnVuY3Rpb25XaXRob3V0UGFyc2VcbiAgOiBBcmdzIGV4dGVuZHMgb2JqZWN0ID8gUnVubmFibGVUb29sRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5cbiAgOiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgUnVubmFibGVUb29sRnVuY3Rpb25XaXRob3V0UGFyc2UgPSB7XG4gIHR5cGU6ICdmdW5jdGlvbic7XG4gIGZ1bmN0aW9uOiBSdW5uYWJsZUZ1bmN0aW9uV2l0aG91dFBhcnNlO1xufTtcbmV4cG9ydCB0eXBlIFJ1bm5hYmxlVG9vbEZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3MgZXh0ZW5kcyBvYmplY3Q+ID0ge1xuICB0eXBlOiAnZnVuY3Rpb24nO1xuICBmdW5jdGlvbjogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncyBleHRlbmRzIG9iamVjdD4oXG4gIGZuOiBhbnksXG4pOiBmbiBpcyBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+IHtcbiAgcmV0dXJuIHR5cGVvZiAoZm4gYXMgYW55KS5wYXJzZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IHR5cGUgQmFzZUZ1bmN0aW9uc0FyZ3MgPSByZWFkb25seSAob2JqZWN0IHwgc3RyaW5nKVtdO1xuXG5leHBvcnQgdHlwZSBSdW5uYWJsZUZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+ID1cbiAgW2FueVtdXSBleHRlbmRzIFtGdW5jdGlvbnNBcmdzXSA/IHJlYWRvbmx5IFJ1bm5hYmxlRnVuY3Rpb248YW55PltdXG4gIDoge1xuICAgICAgW0luZGV4IGluIGtleW9mIEZ1bmN0aW9uc0FyZ3NdOiBJbmRleCBleHRlbmRzIG51bWJlciA/IFJ1bm5hYmxlRnVuY3Rpb248RnVuY3Rpb25zQXJnc1tJbmRleF0+XG4gICAgICA6IEZ1bmN0aW9uc0FyZ3NbSW5kZXhdO1xuICAgIH07XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlVG9vbHM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9XG4gIFthbnlbXV0gZXh0ZW5kcyBbRnVuY3Rpb25zQXJnc10gPyByZWFkb25seSBSdW5uYWJsZVRvb2xGdW5jdGlvbjxhbnk+W11cbiAgOiB7XG4gICAgICBbSW5kZXggaW4ga2V5b2YgRnVuY3Rpb25zQXJnc106IEluZGV4IGV4dGVuZHMgbnVtYmVyID8gUnVubmFibGVUb29sRnVuY3Rpb248RnVuY3Rpb25zQXJnc1tJbmRleF0+XG4gICAgICA6IEZ1bmN0aW9uc0FyZ3NbSW5kZXhdO1xuICAgIH07XG5cbi8qKlxuICogVGhpcyBpcyBoZWxwZXIgY2xhc3MgZm9yIHBhc3NpbmcgYSBgZnVuY3Rpb25gIGFuZCBgcGFyc2VgIHdoZXJlIHRoZSBgZnVuY3Rpb25gXG4gKiBhcmd1bWVudCB0eXBlIG1hdGNoZXMgdGhlIGBwYXJzZWAgcmV0dXJuIHR5cGUuXG4gKlxuICogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIFBhcnNpbmdUb29sRnVuY3Rpb24gaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNpbmdGdW5jdGlvbjxBcmdzIGV4dGVuZHMgb2JqZWN0PiB7XG4gIGZ1bmN0aW9uOiBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+WydmdW5jdGlvbiddO1xuICBwYXJzZTogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPlsncGFyc2UnXTtcbiAgcGFyYW1ldGVyczogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPlsncGFyYW1ldGVycyddO1xuICBkZXNjcmlwdGlvbjogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPlsnZGVzY3JpcHRpb24nXTtcbiAgbmFtZT86IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5bJ25hbWUnXTtcblxuICBjb25zdHJ1Y3RvcihpbnB1dDogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPikge1xuICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dC5mdW5jdGlvbjtcbiAgICB0aGlzLnBhcnNlID0gaW5wdXQucGFyc2U7XG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gaW5wdXQucGFyYW1ldGVycztcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gaW5wdXQuZGVzY3JpcHRpb247XG4gICAgdGhpcy5uYW1lID0gaW5wdXQubmFtZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgaGVscGVyIGNsYXNzIGZvciBwYXNzaW5nIGEgYGZ1bmN0aW9uYCBhbmQgYHBhcnNlYCB3aGVyZSB0aGUgYGZ1bmN0aW9uYFxuICogYXJndW1lbnQgdHlwZSBtYXRjaGVzIHRoZSBgcGFyc2VgIHJldHVybiB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgUGFyc2luZ1Rvb2xGdW5jdGlvbjxBcmdzIGV4dGVuZHMgb2JqZWN0PiB7XG4gIHR5cGU6ICdmdW5jdGlvbic7XG4gIGZ1bmN0aW9uOiBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+O1xuXG4gIGNvbnN0cnVjdG9yKGlucHV0OiBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+KSB7XG4gICAgdGhpcy50eXBlID0gJ2Z1bmN0aW9uJztcbiAgICB0aGlzLmZ1bmN0aW9uID0gaW5wdXQ7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICB0eXBlIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtLFxuICB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtLFxufSBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBjb25zdCBpc0Fzc2lzdGFudE1lc3NhZ2UgPSAoXG4gIG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIHwgbnVsbCB8IHVuZGVmaW5lZCxcbik6IG1lc3NhZ2UgaXMgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0gPT4ge1xuICByZXR1cm4gbWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCc7XG59O1xuXG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbk1lc3NhZ2UgPSAoXG4gIG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIHwgbnVsbCB8IHVuZGVmaW5lZCxcbik6IG1lc3NhZ2UgaXMgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSA9PiB7XG4gIHJldHVybiBtZXNzYWdlPy5yb2xlID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVG9vbE1lc3NhZ2UgPSAoXG4gIG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIHwgbnVsbCB8IHVuZGVmaW5lZCxcbik6IG1lc3NhZ2UgaXMgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtID0+IHtcbiAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICd0b29sJztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZXNlbnQ8VD4ob2JqOiBUIHwgbnVsbCB8IHVuZGVmaW5lZCk6IG9iaiBpcyBUIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsO1xufVxuIiwgImltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IHR5cGUgQ29tcGxldGlvblVzYWdlIH0gZnJvbSBcIi4uL3Jlc291cmNlcy9jb21wbGV0aW9uc1wiO1xuaW1wb3J0IHtcbiAgdHlwZSBDb21wbGV0aW9ucyxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbixcbiAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sLFxufSBmcm9tIFwiLi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnNcIjtcbmltcG9ydCB7IEFQSVVzZXJBYm9ydEVycm9yLCBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi9lcnJvclwiO1xuaW1wb3J0IHtcbiAgdHlwZSBSdW5uYWJsZUZ1bmN0aW9uLFxuICBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UsXG4gIHR5cGUgQmFzZUZ1bmN0aW9uc0FyZ3MsXG59IGZyb20gJy4vUnVubmFibGVGdW5jdGlvbic7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zLCBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXMgfSBmcm9tICcuL0NoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7XG4gIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXMsXG4gIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtcyxcbn0gZnJvbSAnLi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcic7XG5pbXBvcnQgeyBpc0Fzc2lzdGFudE1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlLCBpc1Rvb2xNZXNzYWdlIH0gZnJvbSAnLi9jaGF0Q29tcGxldGlvblV0aWxzJztcblxuY29uc3QgREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyA9IDEwO1xuZXhwb3J0IGludGVyZmFjZSBSdW5uZXJPcHRpb25zIGV4dGVuZHMgQ29yZS5SZXF1ZXN0T3B0aW9ucyB7XG4gIC8qKiBIb3cgbWFueSByZXF1ZXN0cyB0byBtYWtlIGJlZm9yZSBjYW5jZWxpbmcuIERlZmF1bHQgMTAuICovXG4gIG1heENoYXRDb21wbGV0aW9ucz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXI8XG4gIEV2ZW50cyBleHRlbmRzIEN1c3RvbUV2ZW50czxhbnk+ID0gQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyxcbj4ge1xuICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgI2Nvbm5lY3RlZFByb21pc2U6IFByb21pc2U8dm9pZD47XG4gICNyZXNvbHZlQ29ubmVjdGVkUHJvbWlzZTogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAjcmVqZWN0Q29ubmVjdGVkUHJvbWlzZTogKGVycm9yOiBPcGVuQUlFcnJvcikgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gICNlbmRQcm9taXNlOiBQcm9taXNlPHZvaWQ+O1xuICAjcmVzb2x2ZUVuZFByb21pc2U6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgI3JlamVjdEVuZFByb21pc2U6IChlcnJvcjogT3BlbkFJRXJyb3IpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAjbGlzdGVuZXJzOiB7IFtFdmVudCBpbiBrZXlvZiBFdmVudHNdPzogTGlzdGVuZXJzRm9yRXZlbnQ8RXZlbnRzLCBFdmVudD4gfSA9IHt9O1xuXG4gIHByb3RlY3RlZCBfY2hhdENvbXBsZXRpb25zOiBDaGF0Q29tcGxldGlvbltdID0gW107XG4gIG1lc3NhZ2VzOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbVtdID0gW107XG5cbiAgI2VuZGVkID0gZmFsc2U7XG4gICNlcnJvcmVkID0gZmFsc2U7XG4gICNhYm9ydGVkID0gZmFsc2U7XG4gICNjYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy4jY29ubmVjdGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuI3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMuI3JlamVjdENvbm5lY3RlZFByb21pc2UgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICB0aGlzLiNlbmRQcm9taXNlID0gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy4jcmVzb2x2ZUVuZFByb21pc2UgPSByZXNvbHZlO1xuICAgICAgdGhpcy4jcmVqZWN0RW5kUHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIC8vIERvbid0IGxldCB0aGVzZSBwcm9taXNlcyBjYXVzZSB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9ycy5cbiAgICAvLyB3ZSB3aWxsIG1hbnVhbGx5IGNhdXNlIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3IgbGF0ZXJcbiAgICAvLyBpZiB0aGUgdXNlciBoYXNuJ3QgcmVnaXN0ZXJlZCBhbnkgZXJyb3IgbGlzdGVuZXIgb3IgY2FsbGVkXG4gICAgLy8gYW55IHByb21pc2UtcmV0dXJuaW5nIG1ldGhvZC5cbiAgICB0aGlzLiNjb25uZWN0ZWRQcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcbiAgICB0aGlzLiNlbmRQcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfcnVuKGV4ZWN1dG9yOiAoKSA9PiBQcm9taXNlPGFueT4pIHtcbiAgICAvLyBVbmZvcnR1bmF0ZWx5IGlmIHdlIGNhbGwgYGV4ZWN1dG9yKClgIGltbWVkaWF0ZWx5IHdlIGdldCBydW50aW1lIGVycm9ycyBhYm91dFxuICAgIC8vIHJlZmVyZW5jZXMgdG8gYHRoaXNgIGJlZm9yZSB0aGUgYHN1cGVyKClgIGNvbnN0cnVjdG9yIGNhbGwgcmV0dXJucy5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGV4ZWN1dG9yKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuX2VtaXRGaW5hbCgpO1xuICAgICAgICB0aGlzLl9lbWl0KCdlbmQnKTtcbiAgICAgIH0sIHRoaXMuI2hhbmRsZUVycm9yKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfYWRkQ2hhdENvbXBsZXRpb24oY2hhdENvbXBsZXRpb246IENoYXRDb21wbGV0aW9uKTogQ2hhdENvbXBsZXRpb24ge1xuICAgIHRoaXMuX2NoYXRDb21wbGV0aW9ucy5wdXNoKGNoYXRDb21wbGV0aW9uKTtcbiAgICB0aGlzLl9lbWl0KCdjaGF0Q29tcGxldGlvbicsIGNoYXRDb21wbGV0aW9uKTtcbiAgICBjb25zdCBtZXNzYWdlID0gY2hhdENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICBpZiAobWVzc2FnZSkgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlIGFzIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtKTtcbiAgICByZXR1cm4gY2hhdENvbXBsZXRpb247XG4gIH1cblxuICBwcm90ZWN0ZWQgX2FkZE1lc3NhZ2UobWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sIGVtaXQgPSB0cnVlKSB7XG4gICAgaWYgKCEoJ2NvbnRlbnQnIGluIG1lc3NhZ2UpKSBtZXNzYWdlLmNvbnRlbnQgPSBudWxsO1xuXG4gICAgdGhpcy5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuXG4gICAgaWYgKGVtaXQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcbiAgICAgIGlmICgoaXNGdW5jdGlvbk1lc3NhZ2UobWVzc2FnZSkgfHwgaXNUb29sTWVzc2FnZShtZXNzYWdlKSkgJiYgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgIC8vIE5vdGUsIHRoaXMgYXNzdW1lcyB0aGF0IHtyb2xlOiAndG9vbCcsIGNvbnRlbnQ6IFx1MjAyNn0gaXMgYWx3YXlzIHRoZSByZXN1bHQgb2YgYSBjYWxsIG9mIHRvb2wgb2YgdHlwZT1mdW5jdGlvbi5cbiAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25DYWxsUmVzdWx0JywgbWVzc2FnZS5jb250ZW50IGFzIHN0cmluZyk7XG4gICAgICB9IGVsc2UgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25DYWxsJywgbWVzc2FnZS5mdW5jdGlvbl9jYWxsKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UudG9vbF9jYWxscykge1xuICAgICAgICBmb3IgKGNvbnN0IHRvb2xfY2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICBpZiAodG9vbF9jYWxsLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2Z1bmN0aW9uQ2FsbCcsIHRvb2xfY2FsbC5mdW5jdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIF9jb25uZWN0ZWQoKSB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHJldHVybjtcbiAgICB0aGlzLiNyZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSgpO1xuICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3QnKTtcbiAgfVxuXG4gIGdldCBlbmRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jZW5kZWQ7XG4gIH1cblxuICBnZXQgZXJyb3JlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jZXJyb3JlZDtcbiAgfVxuXG4gIGdldCBhYm9ydGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiNhYm9ydGVkO1xuICB9XG5cbiAgYWJvcnQoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgbGlzdGVuZXJzIGFycmF5IGZvciB0aGUgZXZlbnQuXG4gICAqIE5vIGNoZWNrcyBhcmUgbWFkZSB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQuIE11bHRpcGxlIGNhbGxzIHBhc3NpbmdcbiAgICogdGhlIHNhbWUgY29tYmluYXRpb24gb2YgZXZlbnQgYW5kIGxpc3RlbmVyIHdpbGwgcmVzdWx0IGluIHRoZSBsaXN0ZW5lciBiZWluZyBhZGRlZCwgYW5kXG4gICAqIGNhbGxlZCwgbXVsdGlwbGUgdGltZXMuXG4gICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICovXG4gIG9uPEV2ZW50IGV4dGVuZHMga2V5b2YgRXZlbnRzPihldmVudDogRXZlbnQsIGxpc3RlbmVyOiBMaXN0ZW5lckZvckV2ZW50PEV2ZW50cywgRXZlbnQ+KTogdGhpcyB7XG4gICAgY29uc3QgbGlzdGVuZXJzOiBMaXN0ZW5lcnNGb3JFdmVudDxFdmVudHMsIEV2ZW50PiA9XG4gICAgICB0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdIHx8ICh0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdID0gW10pO1xuICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGxpc3RlbmVyIGZyb20gdGhlIGxpc3RlbmVyIGFycmF5IGZvciB0aGUgZXZlbnQuXG4gICAqIG9mZigpIHdpbGwgcmVtb3ZlLCBhdCBtb3N0LCBvbmUgaW5zdGFuY2Ugb2YgYSBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheS4gSWYgYW55IHNpbmdsZVxuICAgKiBsaXN0ZW5lciBoYXMgYmVlbiBhZGRlZCBtdWx0aXBsZSB0aW1lcyB0byB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQsIHRoZW5cbiAgICogb2ZmKCkgbXVzdCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgdG8gcmVtb3ZlIGVhY2ggaW5zdGFuY2UuXG4gICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICovXG4gIG9mZjxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50cz4oZXZlbnQ6IEV2ZW50LCBsaXN0ZW5lcjogTGlzdGVuZXJGb3JFdmVudDxFdmVudHMsIEV2ZW50Pik6IHRoaXMge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuI2xpc3RlbmVyc1tldmVudF07XG4gICAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiB0aGlzO1xuICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmZpbmRJbmRleCgobCkgPT4gbC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCA+PSAwKSBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgb25lLXRpbWUgbGlzdGVuZXIgZnVuY3Rpb24gZm9yIHRoZSBldmVudC4gVGhlIG5leHQgdGltZSB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgKiB0aGlzIGxpc3RlbmVyIGlzIHJlbW92ZWQgYW5kIHRoZW4gaW52b2tlZC5cbiAgICogQHJldHVybnMgdGhpcyBDaGF0Q29tcGxldGlvblN0cmVhbSwgc28gdGhhdCBjYWxscyBjYW4gYmUgY2hhaW5lZFxuICAgKi9cbiAgb25jZTxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50cz4oZXZlbnQ6IEV2ZW50LCBsaXN0ZW5lcjogTGlzdGVuZXJGb3JFdmVudDxFdmVudHMsIEV2ZW50Pik6IHRoaXMge1xuICAgIGNvbnN0IGxpc3RlbmVyczogTGlzdGVuZXJzRm9yRXZlbnQ8RXZlbnRzLCBFdmVudD4gPVxuICAgICAgdGhpcy4jbGlzdGVuZXJzW2V2ZW50XSB8fCAodGhpcy4jbGlzdGVuZXJzW2V2ZW50XSA9IFtdKTtcbiAgICBsaXN0ZW5lcnMucHVzaCh7IGxpc3RlbmVyLCBvbmNlOiB0cnVlIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgc2ltaWxhciB0byBgLm9uY2UoKWAsIGJ1dCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWVcbiAgICogdGhlIGV2ZW50IGlzIHRyaWdnZXJlZCwgaW5zdGVhZCBvZiBjYWxsaW5nIGEgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWUgZ2l2ZW4gZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgKiBvciByZWplY3RzIGlmIGFuIGVycm9yIGlzIGVtaXR0ZWQuICAoSWYgeW91IHJlcXVlc3QgdGhlICdlcnJvcicgZXZlbnQsXG4gICAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZXJyb3IpLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBzdHJlYW0uZW1pdHRlZCgnbWVzc2FnZScpIC8vIHJlamVjdHMgaWYgdGhlIHN0cmVhbSBlcnJvcnNcbiAgICovXG4gIGVtaXR0ZWQ8RXZlbnQgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KFxuICAgIGV2ZW50OiBFdmVudCxcbiAgKTogUHJvbWlzZTxcbiAgICBFdmVudFBhcmFtZXRlcnM8RXZlbnRzLCBFdmVudD4gZXh0ZW5kcyBbaW5mZXIgUGFyYW1dID8gUGFyYW1cbiAgICA6IEV2ZW50UGFyYW1ldGVyczxFdmVudHMsIEV2ZW50PiBleHRlbmRzIFtdID8gdm9pZFxuICAgIDogRXZlbnRQYXJhbWV0ZXJzPEV2ZW50cywgRXZlbnQ+XG4gID4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLiNjYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gdHJ1ZTtcbiAgICAgIGlmIChldmVudCAhPT0gJ2Vycm9yJykgdGhpcy5vbmNlKCdlcnJvcicsIHJlamVjdCk7XG4gICAgICB0aGlzLm9uY2UoZXZlbnQsIHJlc29sdmUgYXMgYW55KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGRvbmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy4jY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCA9IHRydWU7XG4gICAgYXdhaXQgdGhpcy4jZW5kUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBmaW5hbCBDaGF0Q29tcGxldGlvbiwgb3IgcmVqZWN0c1xuICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24uXG4gICAqL1xuICBhc3luYyBmaW5hbENoYXRDb21wbGV0aW9uKCk6IFByb21pc2U8Q2hhdENvbXBsZXRpb24+IHtcbiAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICBjb25zdCBjb21wbGV0aW9uID0gdGhpcy5fY2hhdENvbXBsZXRpb25zW3RoaXMuX2NoYXRDb21wbGV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWNvbXBsZXRpb24pIHRocm93IG5ldyBPcGVuQUlFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24nKTtcbiAgICByZXR1cm4gY29tcGxldGlvbjtcbiAgfVxuXG4gICNnZXRGaW5hbENvbnRlbnQoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuI2dldEZpbmFsTWVzc2FnZSgpLmNvbnRlbnQgPz8gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBmaW5hbCBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsIG9yIHJlamVjdHNcbiAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICovXG4gIGFzeW5jIGZpbmFsQ29udGVudCgpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICByZXR1cm4gdGhpcy4jZ2V0RmluYWxDb250ZW50KCk7XG4gIH1cblxuICAjZ2V0RmluYWxNZXNzYWdlKCk6IENoYXRDb21wbGV0aW9uTWVzc2FnZSB7XG4gICAgbGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXNbaV07XG4gICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiB7IC4uLm1lc3NhZ2UsIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCA/PyBudWxsIH07XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHdpdGggcm9sZT1hc3Npc3RhbnQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB0aGUgZmluYWwgYXNzaXN0YW50IENoYXRDb21wbGV0aW9uTWVzc2FnZSByZXNwb25zZSxcbiAgICogb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgKi9cbiAgYXN5bmMgZmluYWxNZXNzYWdlKCk6IFByb21pc2U8Q2hhdENvbXBsZXRpb25NZXNzYWdlPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgcmV0dXJuIHRoaXMuI2dldEZpbmFsTWVzc2FnZSgpO1xuICB9XG5cbiAgI2dldEZpbmFsRnVuY3Rpb25DYWxsKCk6IENoYXRDb21wbGV0aW9uTWVzc2FnZS5GdW5jdGlvbkNhbGwgfCB1bmRlZmluZWQge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1tpXTtcbiAgICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZT8uZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlPy50b29sX2NhbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudG9vbF9jYWxscy5hdCgtMSk/LmZ1bmN0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBmaW5hbCBGdW5jdGlvbkNhbGwsIG9yIHJlamVjdHNcbiAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICovXG4gIGFzeW5jIGZpbmFsRnVuY3Rpb25DYWxsKCk6IFByb21pc2U8Q2hhdENvbXBsZXRpb25NZXNzYWdlLkZ1bmN0aW9uQ2FsbCB8IHVuZGVmaW5lZD4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIHJldHVybiB0aGlzLiNnZXRGaW5hbEZ1bmN0aW9uQ2FsbCgpO1xuICB9XG5cbiAgI2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgaWYgKGlzRnVuY3Rpb25NZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGlzVG9vbE1lc3NhZ2UobWVzc2FnZSkgJiZcbiAgICAgICAgbWVzc2FnZS5jb250ZW50ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5tZXNzYWdlcy5zb21lKFxuICAgICAgICAgICh4KSA9PlxuICAgICAgICAgICAgeC5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgeC50b29sX2NhbGxzPy5zb21lKCh5KSA9PiB5LnR5cGUgPT09ICdmdW5jdGlvbicgJiYgeS5pZCA9PT0gbWVzc2FnZS50b29sX2NhbGxfaWQpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY29udGVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBhc3luYyBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIHJldHVybiB0aGlzLiNnZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCgpO1xuICB9XG5cbiAgI2NhbGN1bGF0ZVRvdGFsVXNhZ2UoKTogQ29tcGxldGlvblVzYWdlIHtcbiAgICBjb25zdCB0b3RhbDogQ29tcGxldGlvblVzYWdlID0ge1xuICAgICAgY29tcGxldGlvbl90b2tlbnM6IDAsXG4gICAgICBwcm9tcHRfdG9rZW5zOiAwLFxuICAgICAgdG90YWxfdG9rZW5zOiAwLFxuICAgIH07XG4gICAgZm9yIChjb25zdCB7IHVzYWdlIH0gb2YgdGhpcy5fY2hhdENvbXBsZXRpb25zKSB7XG4gICAgICBpZiAodXNhZ2UpIHtcbiAgICAgICAgdG90YWwuY29tcGxldGlvbl90b2tlbnMgKz0gdXNhZ2UuY29tcGxldGlvbl90b2tlbnM7XG4gICAgICAgIHRvdGFsLnByb21wdF90b2tlbnMgKz0gdXNhZ2UucHJvbXB0X3Rva2VucztcbiAgICAgICAgdG90YWwudG90YWxfdG9rZW5zICs9IHVzYWdlLnRvdGFsX3Rva2VucztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG5cbiAgYXN5bmMgdG90YWxVc2FnZSgpOiBQcm9taXNlPENvbXBsZXRpb25Vc2FnZT4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIHJldHVybiB0aGlzLiNjYWxjdWxhdGVUb3RhbFVzYWdlKCk7XG4gIH1cblxuICBhbGxDaGF0Q29tcGxldGlvbnMoKTogQ2hhdENvbXBsZXRpb25bXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl9jaGF0Q29tcGxldGlvbnNdO1xuICB9XG5cbiAgI2hhbmRsZUVycm9yID0gKGVycm9yOiB1bmtub3duKSA9PiB7XG4gICAgdGhpcy4jZXJyb3JlZCA9IHRydWU7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICBlcnJvciA9IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBUElVc2VyQWJvcnRFcnJvcikge1xuICAgICAgdGhpcy4jYWJvcnRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5fZW1pdCgnYWJvcnQnLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE9wZW5BSUVycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBjb25zdCBvcGVuQUlFcnJvcjogT3BlbkFJRXJyb3IgPSBuZXcgT3BlbkFJRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBvcGVuQUlFcnJvci5jYXVzZSA9IGVycm9yO1xuICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Vycm9yJywgb3BlbkFJRXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgT3BlbkFJRXJyb3IoU3RyaW5nKGVycm9yKSkpO1xuICB9O1xuXG4gIHByb3RlY3RlZCBfZW1pdDxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50cz4oZXZlbnQ6IEV2ZW50LCAuLi5hcmdzOiBFdmVudFBhcmFtZXRlcnM8RXZlbnRzLCBFdmVudD4pIHtcbiAgICAvLyBtYWtlIHN1cmUgd2UgZG9uJ3QgZW1pdCBhbnkgZXZlbnRzIGFmdGVyIGVuZFxuICAgIGlmICh0aGlzLiNlbmRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudCA9PT0gJ2VuZCcpIHtcbiAgICAgIHRoaXMuI2VuZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuI3Jlc29sdmVFbmRQcm9taXNlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzOiBMaXN0ZW5lcnNGb3JFdmVudDxFdmVudHMsIEV2ZW50PiB8IHVuZGVmaW5lZCA9IHRoaXMuI2xpc3RlbmVyc1tldmVudF07XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgdGhpcy4jbGlzdGVuZXJzW2V2ZW50XSA9IGxpc3RlbmVycy5maWx0ZXIoKGwpID0+ICFsLm9uY2UpIGFzIGFueTtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKCh7IGxpc3RlbmVyIH06IGFueSkgPT4gbGlzdGVuZXIoLi4uYXJncykpO1xuICAgIH1cblxuICAgIGlmIChldmVudCA9PT0gJ2Fib3J0Jykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhcmdzWzBdIGFzIEFQSVVzZXJBYm9ydEVycm9yO1xuICAgICAgaWYgKCF0aGlzLiNjYXRjaGluZ1Byb21pc2VDcmVhdGVkICYmICFsaXN0ZW5lcnM/Lmxlbmd0aCkge1xuICAgICAgICBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgICB0aGlzLiNyZWplY3RDb25uZWN0ZWRQcm9taXNlKGVycm9yKTtcbiAgICAgIHRoaXMuI3JlamVjdEVuZFByb21pc2UoZXJyb3IpO1xuICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50ID09PSAnZXJyb3InKSB7XG4gICAgICAvLyBOT1RFOiBfZW1pdCgnZXJyb3InLCBlcnJvcikgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZyb20gI2hhbmRsZUVycm9yKCkuXG5cbiAgICAgIGNvbnN0IGVycm9yID0gYXJnc1swXSBhcyBPcGVuQUlFcnJvcjtcbiAgICAgIGlmICghdGhpcy4jY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCAmJiAhbGlzdGVuZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgLy8gVHJpZ2dlciBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGlmIHRoZSB1c2VyIGhhc24ndCByZWdpc3RlcmVkIGFueSBlcnJvciBoYW5kbGVycy5cbiAgICAgICAgLy8gSWYgeW91IGFyZSBzZWVpbmcgc3RhY2sgdHJhY2VzIGhlcmUsIG1ha2Ugc3VyZSB0byBoYW5kbGUgZXJyb3JzIHZpYSBlaXRoZXI6XG4gICAgICAgIC8vIC0gcnVubmVyLm9uKCdlcnJvcicsICgpID0+IC4uLilcbiAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZG9uZSgpXG4gICAgICAgIC8vIC0gYXdhaXQgcnVubmVyLmZpbmFsQ2hhdENvbXBsZXRpb24oKVxuICAgICAgICAvLyAtIGV0Yy5cbiAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhpcy4jcmVqZWN0Q29ubmVjdGVkUHJvbWlzZShlcnJvcik7XG4gICAgICB0aGlzLiNyZWplY3RFbmRQcm9taXNlKGVycm9yKTtcbiAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfZW1pdEZpbmFsKCkge1xuICAgIGNvbnN0IGNvbXBsZXRpb24gPSB0aGlzLl9jaGF0Q29tcGxldGlvbnNbdGhpcy5fY2hhdENvbXBsZXRpb25zLmxlbmd0aCAtIDFdO1xuICAgIGlmIChjb21wbGV0aW9uKSB0aGlzLl9lbWl0KCdmaW5hbENoYXRDb21wbGV0aW9uJywgY29tcGxldGlvbik7XG4gICAgY29uc3QgZmluYWxNZXNzYWdlID0gdGhpcy4jZ2V0RmluYWxNZXNzYWdlKCk7XG4gICAgaWYgKGZpbmFsTWVzc2FnZSkgdGhpcy5fZW1pdCgnZmluYWxNZXNzYWdlJywgZmluYWxNZXNzYWdlKTtcbiAgICBjb25zdCBmaW5hbENvbnRlbnQgPSB0aGlzLiNnZXRGaW5hbENvbnRlbnQoKTtcbiAgICBpZiAoZmluYWxDb250ZW50KSB0aGlzLl9lbWl0KCdmaW5hbENvbnRlbnQnLCBmaW5hbENvbnRlbnQpO1xuXG4gICAgY29uc3QgZmluYWxGdW5jdGlvbkNhbGwgPSB0aGlzLiNnZXRGaW5hbEZ1bmN0aW9uQ2FsbCgpO1xuICAgIGlmIChmaW5hbEZ1bmN0aW9uQ2FsbCkgdGhpcy5fZW1pdCgnZmluYWxGdW5jdGlvbkNhbGwnLCBmaW5hbEZ1bmN0aW9uQ2FsbCk7XG5cbiAgICBjb25zdCBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCA9IHRoaXMuI2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KCk7XG4gICAgaWYgKGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0ICE9IG51bGwpIHRoaXMuX2VtaXQoJ2ZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0JywgZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQpO1xuXG4gICAgaWYgKHRoaXMuX2NoYXRDb21wbGV0aW9ucy5zb21lKChjKSA9PiBjLnVzYWdlKSkge1xuICAgICAgdGhpcy5fZW1pdCgndG90YWxVc2FnZScsIHRoaXMuI2NhbGN1bGF0ZVRvdGFsVXNhZ2UoKSk7XG4gICAgfVxuICB9XG5cbiAgI3ZhbGlkYXRlUGFyYW1zKHBhcmFtczogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMpOiB2b2lkIHtcbiAgICBpZiAocGFyYW1zLm4gIT0gbnVsbCAmJiBwYXJhbXMubiA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgJ0NoYXRDb21wbGV0aW9uIGNvbnZlbmllbmNlIGhlbHBlcnMgb25seSBzdXBwb3J0IG49MSBhdCB0aGlzIHRpbWUuIFRvIHVzZSBuPjEsIHBsZWFzZSB1c2UgY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoKSBkaXJlY3RseS4nLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX2NyZWF0ZUNoYXRDb21wbGV0aW9uKFxuICAgIGNvbXBsZXRpb25zOiBDb21wbGV0aW9ucyxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPENoYXRDb21wbGV0aW9uPiB7XG4gICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgfVxuICAgIHRoaXMuI3ZhbGlkYXRlUGFyYW1zKHBhcmFtcyk7XG5cbiAgICBjb25zdCBjaGF0Q29tcGxldGlvbiA9IGF3YWl0IGNvbXBsZXRpb25zLmNyZWF0ZShcbiAgICAgIHsgLi4ucGFyYW1zLCBzdHJlYW06IGZhbHNlIH0sXG4gICAgICB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9LFxuICAgICk7XG4gICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoYXRDb21wbGV0aW9uKGNoYXRDb21wbGV0aW9uKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfcnVuQ2hhdENvbXBsZXRpb24oXG4gICAgY29tcGxldGlvbnM6IENvbXBsZXRpb25zLFxuICAgIHBhcmFtczogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8Q2hhdENvbXBsZXRpb24+IHtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcGFyYW1zLm1lc3NhZ2VzKSB7XG4gICAgICB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NyZWF0ZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb25zLCBwYXJhbXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9ydW5GdW5jdGlvbnM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBjb21wbGV0aW9uczogQ29tcGxldGlvbnMsXG4gICAgcGFyYW1zOlxuICAgICAgfCBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+XG4gICAgICB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMsXG4gICkge1xuICAgIGNvbnN0IHJvbGUgPSAnZnVuY3Rpb24nIGFzIGNvbnN0O1xuICAgIGNvbnN0IHsgZnVuY3Rpb25fY2FsbCA9ICdhdXRvJywgc3RyZWFtLCAuLi5yZXN0UGFyYW1zIH0gPSBwYXJhbXM7XG4gICAgY29uc3Qgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgPSB0eXBlb2YgZnVuY3Rpb25fY2FsbCAhPT0gJ3N0cmluZycgJiYgZnVuY3Rpb25fY2FsbD8ubmFtZTtcbiAgICBjb25zdCB7IG1heENoYXRDb21wbGV0aW9ucyA9IERFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICBjb25zdCBmdW5jdGlvbnNCeU5hbWU6IFJlY29yZDxzdHJpbmcsIFJ1bm5hYmxlRnVuY3Rpb248YW55Pj4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGYgb2YgcGFyYW1zLmZ1bmN0aW9ucykge1xuICAgICAgZnVuY3Rpb25zQnlOYW1lW2YubmFtZSB8fCBmLmZ1bmN0aW9uLm5hbWVdID0gZjtcbiAgICB9XG5cbiAgICBjb25zdCBmdW5jdGlvbnM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLkZ1bmN0aW9uW10gPSBwYXJhbXMuZnVuY3Rpb25zLm1hcChcbiAgICAgIChmKTogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMuRnVuY3Rpb24gPT4gKHtcbiAgICAgICAgbmFtZTogZi5uYW1lIHx8IGYuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgcGFyYW1ldGVyczogZi5wYXJhbWV0ZXJzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICBkZXNjcmlwdGlvbjogZi5kZXNjcmlwdGlvbixcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcGFyYW1zLm1lc3NhZ2VzKSB7XG4gICAgICB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENoYXRDb21wbGV0aW9uczsgKytpKSB7XG4gICAgICBjb25zdCBjaGF0Q29tcGxldGlvbjogQ2hhdENvbXBsZXRpb24gPSBhd2FpdCB0aGlzLl9jcmVhdGVDaGF0Q29tcGxldGlvbihcbiAgICAgICAgY29tcGxldGlvbnMsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5yZXN0UGFyYW1zLFxuICAgICAgICAgIGZ1bmN0aW9uX2NhbGwsXG4gICAgICAgICAgZnVuY3Rpb25zLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbLi4udGhpcy5tZXNzYWdlc10sXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG1lc3NhZ2UgaW4gQ2hhdENvbXBsZXRpb24gcmVzcG9uc2VgKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWVzc2FnZS5mdW5jdGlvbl9jYWxsKSByZXR1cm47XG4gICAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncyB9ID0gbWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgY29uc3QgZm4gPSBmdW5jdGlvbnNCeU5hbWVbbmFtZV07XG4gICAgICBpZiAoIWZuKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCBmdW5jdGlvbl9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gQXZhaWxhYmxlIG9wdGlvbnMgYXJlOiAke2Z1bmN0aW9uc1xuICAgICAgICAgIC5tYXAoKGYpID0+IEpTT04uc3RyaW5naWZ5KGYubmFtZSkpXG4gICAgICAgICAgLmpvaW4oJywgJyl9LiBQbGVhc2UgdHJ5IGFnYWluYDtcblxuICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsICYmIHNpbmdsZUZ1bmN0aW9uVG9DYWxsICE9PSBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCBmdW5jdGlvbl9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBzaW5nbGVGdW5jdGlvblRvQ2FsbCxcbiAgICAgICAgKX0gcmVxdWVzdGVkLiBQbGVhc2UgdHJ5IGFnYWluYDtcblxuICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBwYXJzZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJzZWQgPSBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UoZm4pID8gYXdhaXQgZm4ucGFyc2UoYXJncykgOiBhcmdzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7XG4gICAgICAgICAgcm9sZSxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGNvbnRlbnQ6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGl0IGNhbid0IHJ1bGUgb3V0IGBuZXZlcmAgdHlwZS5cbiAgICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBhd2FpdCBmbi5mdW5jdGlvbihwYXJzZWQsIHRoaXMpO1xuICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuI3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdChyYXdDb250ZW50KTtcblxuICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIG5hbWUsIGNvbnRlbnQgfSk7XG5cbiAgICAgIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCkgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfcnVuVG9vbHM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBjb21wbGV0aW9uczogQ29tcGxldGlvbnMsXG4gICAgcGFyYW1zOlxuICAgICAgfCBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz5cbiAgICAgIHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+LFxuICAgIG9wdGlvbnM/OiBSdW5uZXJPcHRpb25zLFxuICApIHtcbiAgICBjb25zdCByb2xlID0gJ3Rvb2wnIGFzIGNvbnN0O1xuICAgIGNvbnN0IHsgdG9vbF9jaG9pY2UgPSAnYXV0bycsIHN0cmVhbSwgLi4ucmVzdFBhcmFtcyB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHNpbmdsZUZ1bmN0aW9uVG9DYWxsID0gdHlwZW9mIHRvb2xfY2hvaWNlICE9PSAnc3RyaW5nJyAmJiB0b29sX2Nob2ljZT8uZnVuY3Rpb24/Lm5hbWU7XG4gICAgY29uc3QgeyBtYXhDaGF0Q29tcGxldGlvbnMgPSBERUZBVUxUX01BWF9DSEFUX0NPTVBMRVRJT05TIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgY29uc3QgZnVuY3Rpb25zQnlOYW1lOiBSZWNvcmQ8c3RyaW5nLCBSdW5uYWJsZUZ1bmN0aW9uPGFueT4+ID0ge307XG4gICAgZm9yIChjb25zdCBmIG9mIHBhcmFtcy50b29scykge1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmdW5jdGlvbnNCeU5hbWVbZi5mdW5jdGlvbi5uYW1lIHx8IGYuZnVuY3Rpb24uZnVuY3Rpb24ubmFtZV0gPSBmLmZ1bmN0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRvb2xzOiBDaGF0Q29tcGxldGlvblRvb2xbXSA9XG4gICAgICAndG9vbHMnIGluIHBhcmFtcyA/XG4gICAgICAgIHBhcmFtcy50b29scy5tYXAoKHQpID0+XG4gICAgICAgICAgdC50eXBlID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0LmZ1bmN0aW9uLm5hbWUgfHwgdC5mdW5jdGlvbi5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHQuZnVuY3Rpb24ucGFyYW1ldGVycyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdC5mdW5jdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6ICh0IGFzIHVua25vd24gYXMgQ2hhdENvbXBsZXRpb25Ub29sKSxcbiAgICAgICAgKVxuICAgICAgOiAodW5kZWZpbmVkIGFzIGFueSk7XG5cbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcGFyYW1zLm1lc3NhZ2VzKSB7XG4gICAgICB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENoYXRDb21wbGV0aW9uczsgKytpKSB7XG4gICAgICBjb25zdCBjaGF0Q29tcGxldGlvbjogQ2hhdENvbXBsZXRpb24gPSBhd2FpdCB0aGlzLl9jcmVhdGVDaGF0Q29tcGxldGlvbihcbiAgICAgICAgY29tcGxldGlvbnMsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5yZXN0UGFyYW1zLFxuICAgICAgICAgIHRvb2xfY2hvaWNlLFxuICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbLi4udGhpcy5tZXNzYWdlc10sXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG1lc3NhZ2UgaW4gQ2hhdENvbXBsZXRpb24gcmVzcG9uc2VgKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCB0b29sX2NhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgIGlmICh0b29sX2NhbGwudHlwZSAhPT0gJ2Z1bmN0aW9uJykgY29udGludWU7XG4gICAgICAgIGNvbnN0IHRvb2xfY2FsbF9pZCA9IHRvb2xfY2FsbC5pZDtcbiAgICAgICAgY29uc3QgeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSA9IHRvb2xfY2FsbC5mdW5jdGlvbjtcbiAgICAgICAgY29uc3QgZm4gPSBmdW5jdGlvbnNCeU5hbWVbbmFtZV07XG5cbiAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCB0b29sX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiBBdmFpbGFibGUgb3B0aW9ucyBhcmU6ICR7dG9vbHNcbiAgICAgICAgICAgIC5tYXAoKGYpID0+IEpTT04uc3RyaW5naWZ5KGYuZnVuY3Rpb24ubmFtZSkpXG4gICAgICAgICAgICAuam9pbignLCAnKX0uIFBsZWFzZSB0cnkgYWdhaW5gO1xuXG4gICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCAmJiBzaW5nbGVGdW5jdGlvblRvQ2FsbCAhPT0gbmFtZSkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCB0b29sX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgc2luZ2xlRnVuY3Rpb25Ub0NhbGwsXG4gICAgICAgICAgKX0gcmVxdWVzdGVkLiBQbGVhc2UgdHJ5IGFnYWluYDtcblxuICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcnNlZCA9IGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikgPyBhd2FpdCBmbi5wYXJzZShhcmdzKSA6IGFyZ3M7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpdCBjYW4ndCBydWxlIG91dCBgbmV2ZXJgIHR5cGUuXG4gICAgICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBhd2FpdCBmbi5mdW5jdGlvbihwYXJzZWQsIHRoaXMpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy4jc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0KHJhd0NvbnRlbnQpO1xuICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuXG4gICAgICAgIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gICNzdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQocmF3Q29udGVudDogdW5rbm93bik6IHN0cmluZyB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiByYXdDb250ZW50ID09PSAnc3RyaW5nJyA/IHJhd0NvbnRlbnRcbiAgICAgIDogcmF3Q29udGVudCA9PT0gdW5kZWZpbmVkID8gJ3VuZGVmaW5lZCdcbiAgICAgIDogSlNPTi5zdHJpbmdpZnkocmF3Q29udGVudClcbiAgICApO1xuICB9XG59XG5cbnR5cGUgQ3VzdG9tRXZlbnRzPEV2ZW50IGV4dGVuZHMgc3RyaW5nPiA9IHtcbiAgW2sgaW4gRXZlbnRdOiBrIGV4dGVuZHMga2V5b2YgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyA/IEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHNba11cbiAgOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG59O1xuXG50eXBlIExpc3RlbmVyRm9yRXZlbnQ8RXZlbnRzIGV4dGVuZHMgQ3VzdG9tRXZlbnRzPGFueT4sIEV2ZW50IGV4dGVuZHMga2V5b2YgRXZlbnRzPiA9IEV2ZW50IGV4dGVuZHMgKFxuICBrZXlvZiBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzXG4pID9cbiAgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50c1tFdmVudF1cbjogRXZlbnRzW0V2ZW50XTtcblxudHlwZSBMaXN0ZW5lcnNGb3JFdmVudDxFdmVudHMgZXh0ZW5kcyBDdXN0b21FdmVudHM8YW55PiwgRXZlbnQgZXh0ZW5kcyBrZXlvZiBFdmVudHM+ID0gQXJyYXk8e1xuICBsaXN0ZW5lcjogTGlzdGVuZXJGb3JFdmVudDxFdmVudHMsIEV2ZW50PjtcbiAgb25jZT86IGJvb2xlYW47XG59PjtcbnR5cGUgRXZlbnRQYXJhbWV0ZXJzPEV2ZW50cyBleHRlbmRzIEN1c3RvbUV2ZW50czxhbnk+LCBFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50cz4gPSBQYXJhbWV0ZXJzPFxuICBMaXN0ZW5lckZvckV2ZW50PEV2ZW50cywgRXZlbnQ+XG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMge1xuICBjb25uZWN0OiAoKSA9PiB2b2lkO1xuICBmdW5jdGlvbkNhbGw6IChmdW5jdGlvbkNhbGw6IENoYXRDb21wbGV0aW9uTWVzc2FnZS5GdW5jdGlvbkNhbGwpID0+IHZvaWQ7XG4gIG1lc3NhZ2U6IChtZXNzYWdlOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSkgPT4gdm9pZDtcbiAgY2hhdENvbXBsZXRpb246IChjb21wbGV0aW9uOiBDaGF0Q29tcGxldGlvbikgPT4gdm9pZDtcbiAgZmluYWxDb250ZW50OiAoY29udGVudFNuYXBzaG90OiBzdHJpbmcpID0+IHZvaWQ7XG4gIGZpbmFsTWVzc2FnZTogKG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtKSA9PiB2b2lkO1xuICBmaW5hbENoYXRDb21wbGV0aW9uOiAoY29tcGxldGlvbjogQ2hhdENvbXBsZXRpb24pID0+IHZvaWQ7XG4gIGZpbmFsRnVuY3Rpb25DYWxsOiAoZnVuY3Rpb25DYWxsOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuRnVuY3Rpb25DYWxsKSA9PiB2b2lkO1xuICBmdW5jdGlvbkNhbGxSZXN1bHQ6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWQ7XG4gIGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0OiAoY29udGVudDogc3RyaW5nKSA9PiB2b2lkO1xuICBlcnJvcjogKGVycm9yOiBPcGVuQUlFcnJvcikgPT4gdm9pZDtcbiAgYWJvcnQ6IChlcnJvcjogQVBJVXNlckFib3J0RXJyb3IpID0+IHZvaWQ7XG4gIGVuZDogKCkgPT4gdm9pZDtcbiAgdG90YWxVc2FnZTogKHVzYWdlOiBDb21wbGV0aW9uVXNhZ2UpID0+IHZvaWQ7XG59XG4iLCAiaW1wb3J0IHtcbiAgdHlwZSBDb21wbGV0aW9ucyxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbn0gZnJvbSBcIi4uL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zXCI7XG5pbXBvcnQgeyB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25zLCB0eXBlIEJhc2VGdW5jdGlvbnNBcmdzLCBSdW5uYWJsZVRvb2xzIH0gZnJvbSAnLi9SdW5uYWJsZUZ1bmN0aW9uJztcbmltcG9ydCB7XG4gIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIsXG4gIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMsXG4gIFJ1bm5lck9wdGlvbnMsXG59IGZyb20gJy4vQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcic7XG5pbXBvcnQgeyBpc0Fzc2lzdGFudE1lc3NhZ2UgfSBmcm9tICcuL2NoYXRDb21wbGV0aW9uVXRpbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyB7XG4gIGNvbnRlbnQ6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9IE9taXQ8XG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAnZnVuY3Rpb25zJ1xuPiAmIHtcbiAgZnVuY3Rpb25zOiBSdW5uYWJsZUZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzPjtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+ID0gT21pdDxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICd0b29scydcbj4gJiB7XG4gIHRvb2xzOiBSdW5uYWJsZVRvb2xzPEZ1bmN0aW9uc0FyZ3M+O1xufTtcblxuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uUnVubmVyIGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcjxDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cz4ge1xuICAvKiogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIGBydW5Ub29sc2AgaW5zdGVhZC4gKi9cbiAgc3RhdGljIHJ1bkZ1bmN0aW9ucyhcbiAgICBjb21wbGV0aW9uczogQ29tcGxldGlvbnMsXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zPGFueVtdPixcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25SdW5uZXIge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblJ1bm5lcigpO1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdydW5GdW5jdGlvbnMnIH0sXG4gICAgfTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1bkZ1bmN0aW9ucyhjb21wbGV0aW9ucywgcGFyYW1zLCBvcHRzKSk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIHN0YXRpYyBydW5Ub29scyhcbiAgICBjb21wbGV0aW9uczogQ29tcGxldGlvbnMsXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8YW55W10+LFxuICAgIG9wdGlvbnM/OiBSdW5uZXJPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblJ1bm5lciB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uUnVubmVyKCk7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1blRvb2xzJyB9LFxuICAgIH07XG4gICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5Ub29scyhjb21wbGV0aW9ucywgcGFyYW1zLCBvcHRzKSk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIG92ZXJyaWRlIF9hZGRNZXNzYWdlKG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtKSB7XG4gICAgc3VwZXIuX2FkZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ2NvbnRlbnQnLCBtZXNzYWdlLmNvbnRlbnQgYXMgc3RyaW5nKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgeyBPcGVuQUlFcnJvciwgQVBJVXNlckFib3J0RXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JcIjtcbmltcG9ydCB7XG4gIENvbXBsZXRpb25zLFxuICB0eXBlIENoYXRDb21wbGV0aW9uLFxuICB0eXBlIENoYXRDb21wbGV0aW9uQ2h1bmssXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlLFxufSBmcm9tIFwiLi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnNcIjtcbmltcG9ydCB7XG4gIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIsXG4gIHR5cGUgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyxcbn0gZnJvbSAnLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IHR5cGUgUmVhZGFibGVTdHJlYW0gfSBmcm9tIFwiLi4vX3NoaW1zL2luZGV4XCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi4vc3RyZWFtaW5nXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25TdHJlYW1FdmVudHMgZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIHtcbiAgY29udGVudDogKGNvbnRlbnREZWx0YTogc3RyaW5nLCBjb250ZW50U25hcHNob3Q6IHN0cmluZykgPT4gdm9pZDtcbiAgY2h1bms6IChjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuaywgc25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtUGFyYW1zID0gT21pdDxDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2UsICdzdHJlYW0nPiAmIHtcbiAgc3RyZWFtPzogdHJ1ZTtcbn07XG5cbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblN0cmVhbVxuICBleHRlbmRzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXI8Q2hhdENvbXBsZXRpb25TdHJlYW1FdmVudHM+XG4gIGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZTxDaGF0Q29tcGxldGlvbkNodW5rPlxue1xuICAjY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QgfCB1bmRlZmluZWQ7XG5cbiAgZ2V0IGN1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90KCk6IENoYXRDb21wbGV0aW9uU25hcHNob3QgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLiNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlbmRlZCBmb3IgdXNlIG9uIHRoZSBmcm9udGVuZCwgY29uc3VtaW5nIGEgc3RyZWFtIHByb2R1Y2VkIHdpdGhcbiAgICogYC50b1JlYWRhYmxlU3RyZWFtKClgIG9uIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgbWVzc2FnZXMgc2VudCB0byB0aGUgbW9kZWwgZG8gbm90IGFwcGVhciBpbiBgLm9uKCdtZXNzYWdlJylgXG4gICAqIGluIHRoaXMgY29udGV4dC5cbiAgICovXG4gIHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSk6IENoYXRDb21wbGV0aW9uU3RyZWFtIHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW0oKTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUNoYXRDb21wbGV0aW9uKFxuICAgIGNvbXBsZXRpb25zOiBDb21wbGV0aW9ucyxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uU3RyZWFtUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblN0cmVhbSB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtKCk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT5cbiAgICAgIHJ1bm5lci5fcnVuQ2hhdENvbXBsZXRpb24oXG4gICAgICAgIGNvbXBsZXRpb25zLFxuICAgICAgICB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sXG4gICAgICAgIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0gfSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgI2JlZ2luUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5lbmRlZCkgcmV0dXJuO1xuICAgIHRoaXMuI2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICB9XG4gICNhZGRDaHVuayhjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuaykge1xuICAgIGlmICh0aGlzLmVuZGVkKSByZXR1cm47XG4gICAgY29uc3QgY29tcGxldGlvbiA9IHRoaXMuI2FjY3VtdWxhdGVDaGF0Q29tcGxldGlvbihjaHVuayk7XG4gICAgdGhpcy5fZW1pdCgnY2h1bmsnLCBjaHVuaywgY29tcGxldGlvbik7XG4gICAgY29uc3QgZGVsdGEgPSBjaHVuay5jaG9pY2VzWzBdPy5kZWx0YT8uY29udGVudDtcbiAgICBjb25zdCBzbmFwc2hvdCA9IGNvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICBpZiAoZGVsdGEgIT0gbnVsbCAmJiBzbmFwc2hvdD8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgc25hcHNob3Q/LmNvbnRlbnQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ2NvbnRlbnQnLCBkZWx0YSwgc25hcHNob3QuY29udGVudCk7XG4gICAgfVxuICB9XG4gICNlbmRSZXF1ZXN0KCk6IENoYXRDb21wbGV0aW9uIHtcbiAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICB9XG4gICAgY29uc3Qgc25hcHNob3QgPSB0aGlzLiNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdDtcbiAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBjaHVua3NgKTtcbiAgICB9XG4gICAgdGhpcy4jY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGZpbmFsaXplQ2hhdENvbXBsZXRpb24oc25hcHNob3QpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGFzeW5jIF9jcmVhdGVDaGF0Q29tcGxldGlvbihcbiAgICBjb21wbGV0aW9uczogQ29tcGxldGlvbnMsXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxDaGF0Q29tcGxldGlvbj4ge1xuICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgIH1cbiAgICB0aGlzLiNiZWdpblJlcXVlc3QoKTtcbiAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBjb21wbGV0aW9ucy5jcmVhdGUoXG4gICAgICB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sXG4gICAgICB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9LFxuICAgICk7XG4gICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgIHRoaXMuI2FkZENodW5rKGNodW5rKTtcbiAgICB9XG4gICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbih0aGlzLiNlbmRSZXF1ZXN0KCkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9mcm9tUmVhZGFibGVTdHJlYW0oXG4gICAgcmVhZGFibGVTdHJlYW06IFJlYWRhYmxlU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPENoYXRDb21wbGV0aW9uPiB7XG4gICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgfVxuICAgIHRoaXMuI2JlZ2luUmVxdWVzdCgpO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgIGNvbnN0IHN0cmVhbSA9IFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW08Q2hhdENvbXBsZXRpb25DaHVuaz4ocmVhZGFibGVTdHJlYW0sIHRoaXMuY29udHJvbGxlcik7XG4gICAgbGV0IGNoYXRJZDtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgaWYgKGNoYXRJZCAmJiBjaGF0SWQgIT09IGNodW5rLmlkKSB7XG4gICAgICAgIC8vIEEgbmV3IHJlcXVlc3QgaGFzIGJlZW4gbWFkZS5cbiAgICAgICAgdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4jYWRkQ2h1bmsoY2h1bmspO1xuICAgICAgY2hhdElkID0gY2h1bmsuaWQ7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgfVxuXG4gICNhY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24oY2h1bms6IENoYXRDb21wbGV0aW9uQ2h1bmspOiBDaGF0Q29tcGxldGlvblNuYXBzaG90IHtcbiAgICBsZXQgc25hcHNob3QgPSB0aGlzLiNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdDtcbiAgICBjb25zdCB7IGNob2ljZXMsIC4uLnJlc3QgfSA9IGNodW5rO1xuICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgIHNuYXBzaG90ID0gdGhpcy4jY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIGNob2ljZXM6IFtdLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmFzc2lnbihzbmFwc2hvdCwgcmVzdCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB7IGRlbHRhLCBmaW5pc2hfcmVhc29uLCBpbmRleCwgbG9ncHJvYnMgPSBudWxsLCAuLi5vdGhlciB9IG9mIGNodW5rLmNob2ljZXMpIHtcbiAgICAgIGxldCBjaG9pY2UgPSBzbmFwc2hvdC5jaG9pY2VzW2luZGV4XTtcbiAgICAgIGlmICghY2hvaWNlKSB7XG4gICAgICAgIHNuYXBzaG90LmNob2ljZXNbaW5kZXhdID0geyBmaW5pc2hfcmVhc29uLCBpbmRleCwgbWVzc2FnZTogZGVsdGEsIGxvZ3Byb2JzLCAuLi5vdGhlciB9O1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvZ3Byb2JzKSB7XG4gICAgICAgIGlmICghY2hvaWNlLmxvZ3Byb2JzKSB7XG4gICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzID0gbG9ncHJvYnM7XG4gICAgICAgIH0gZWxzZSBpZiAobG9ncHJvYnMuY29udGVudCkge1xuICAgICAgICAgIGNob2ljZS5sb2dwcm9icy5jb250ZW50ID8/PSBbXTtcbiAgICAgICAgICBjaG9pY2UubG9ncHJvYnMuY29udGVudC5wdXNoKC4uLmxvZ3Byb2JzLmNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5pc2hfcmVhc29uKSBjaG9pY2UuZmluaXNoX3JlYXNvbiA9IGZpbmlzaF9yZWFzb247XG4gICAgICBPYmplY3QuYXNzaWduKGNob2ljZSwgb3RoZXIpO1xuXG4gICAgICBpZiAoIWRlbHRhKSBjb250aW51ZTsgLy8gU2hvdWxkbid0IGhhcHBlbjsganVzdCBpbiBjYXNlLlxuICAgICAgY29uc3QgeyBjb250ZW50LCBmdW5jdGlvbl9jYWxsLCByb2xlLCB0b29sX2NhbGxzIH0gPSBkZWx0YTtcblxuICAgICAgaWYgKGNvbnRlbnQpIGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgPSAoY2hvaWNlLm1lc3NhZ2UuY29udGVudCB8fCAnJykgKyBjb250ZW50O1xuICAgICAgaWYgKHJvbGUpIGNob2ljZS5tZXNzYWdlLnJvbGUgPSByb2xlO1xuICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgaWYgKCFjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbCA9IGZ1bmN0aW9uX2NhbGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwubmFtZSkgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5uYW1lID0gZnVuY3Rpb25fY2FsbC5uYW1lO1xuICAgICAgICAgIGlmIChmdW5jdGlvbl9jYWxsLmFyZ3VtZW50cykge1xuICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgPz89ICcnO1xuICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgKz0gZnVuY3Rpb25fY2FsbC5hcmd1bWVudHM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpIGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB7IGluZGV4LCBpZCwgdHlwZSwgZnVuY3Rpb246IGZuIH0gb2YgdG9vbF9jYWxscykge1xuICAgICAgICAgIGNvbnN0IHRvb2xfY2FsbCA9IChjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzW2luZGV4XSA/Pz0ge30pO1xuICAgICAgICAgIGlmIChpZCkgdG9vbF9jYWxsLmlkID0gaWQ7XG4gICAgICAgICAgaWYgKHR5cGUpIHRvb2xfY2FsbC50eXBlID0gdHlwZTtcbiAgICAgICAgICBpZiAoZm4pIHRvb2xfY2FsbC5mdW5jdGlvbiA/Pz0geyBhcmd1bWVudHM6ICcnIH07XG4gICAgICAgICAgaWYgKGZuPy5uYW1lKSB0b29sX2NhbGwuZnVuY3Rpb24hLm5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgIGlmIChmbj8uYXJndW1lbnRzKSB0b29sX2NhbGwuZnVuY3Rpb24hLmFyZ3VtZW50cyArPSBmbi5hcmd1bWVudHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNuYXBzaG90O1xuICB9XG5cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhdG9yPENoYXRDb21wbGV0aW9uQ2h1bms+IHtcbiAgICBjb25zdCBwdXNoUXVldWU6IENoYXRDb21wbGV0aW9uQ2h1bmtbXSA9IFtdO1xuICAgIGNvbnN0IHJlYWRRdWV1ZTogKChjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuayB8IHVuZGVmaW5lZCkgPT4gdm9pZClbXSA9IFtdO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG5cbiAgICB0aGlzLm9uKCdjaHVuaycsIChjaHVuaykgPT4ge1xuICAgICAgY29uc3QgcmVhZGVyID0gcmVhZFF1ZXVlLnNoaWZ0KCk7XG4gICAgICBpZiAocmVhZGVyKSB7XG4gICAgICAgIHJlYWRlcihjaHVuayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwdXNoUXVldWUucHVzaChjaHVuayk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICByZWFkZXIodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGFzeW5jICgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PENoYXRDb21wbGV0aW9uQ2h1bms+PiA9PiB7XG4gICAgICAgIGlmICghcHVzaFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxDaGF0Q29tcGxldGlvbkNodW5rIHwgdW5kZWZpbmVkPigocmVzb2x2ZSkgPT4gcmVhZFF1ZXVlLnB1c2gocmVzb2x2ZSkpLnRoZW4oXG4gICAgICAgICAgICAoY2h1bmspID0+IChjaHVuayA/IHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9IDogeyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2h1bmsgPSBwdXNoUXVldWUuc2hpZnQoKSE7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHRvUmVhZGFibGVTdHJlYW0oKTogUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0odGhpc1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0uYmluZCh0aGlzKSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICByZXR1cm4gc3RyZWFtLnRvUmVhZGFibGVTdHJlYW0oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5hbGl6ZUNoYXRDb21wbGV0aW9uKHNuYXBzaG90OiBDaGF0Q29tcGxldGlvblNuYXBzaG90KTogQ2hhdENvbXBsZXRpb24ge1xuICBjb25zdCB7IGlkLCBjaG9pY2VzLCBjcmVhdGVkLCBtb2RlbCB9ID0gc25hcHNob3Q7XG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgY2hvaWNlczogY2hvaWNlcy5tYXAoKHsgbWVzc2FnZSwgZmluaXNoX3JlYXNvbiwgaW5kZXgsIGxvZ3Byb2JzIH0pOiBDaGF0Q29tcGxldGlvbi5DaG9pY2UgPT4ge1xuICAgICAgaWYgKCFmaW5pc2hfcmVhc29uKSB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgZmluaXNoX3JlYXNvbiBmb3IgY2hvaWNlICR7aW5kZXh9YCk7XG4gICAgICBjb25zdCB7IGNvbnRlbnQgPSBudWxsLCBmdW5jdGlvbl9jYWxsLCB0b29sX2NhbGxzIH0gPSBtZXNzYWdlO1xuICAgICAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZSBhcyAnYXNzaXN0YW50JzsgLy8gdGhpcyBpcyB3aGF0IHdlIGV4cGVjdDsgaW4gdGhlb3J5IGl0IGNvdWxkIGJlIGRpZmZlcmVudCB3aGljaCB3b3VsZCBtYWtlIG91ciB0eXBlcyBhIHNsaWdodCBsaWUgYnV0IHdvdWxkIGJlIGZpbmUuXG4gICAgICBpZiAoIXJvbGUpIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyByb2xlIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIGNvbnN0IHsgYXJndW1lbnRzOiBhcmdzLCBuYW1lIH0gPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICBpZiAoYXJncyA9PSBudWxsKSB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICBpZiAoIW5hbWUpIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmdW5jdGlvbl9jYWxsLm5hbWUgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lc3NhZ2U6IHsgY29udGVudCwgZnVuY3Rpb25fY2FsbDogeyBhcmd1bWVudHM6IGFyZ3MsIG5hbWUgfSwgcm9sZSB9LFxuICAgICAgICAgIGZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgbG9ncHJvYnMsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIGZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgbG9ncHJvYnMsXG4gICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgcm9sZSxcbiAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB0b29sX2NhbGxzOiB0b29sX2NhbGxzLm1hcCgodG9vbF9jYWxsLCBpKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgZnVuY3Rpb246IGZuLCB0eXBlLCBpZCB9ID0gdG9vbF9jYWxsO1xuICAgICAgICAgICAgICBjb25zdCB7IGFyZ3VtZW50czogYXJncywgbmFtZSB9ID0gZm4gfHwge307XG4gICAgICAgICAgICAgIGlmIChpZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmlkXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLnR5cGVcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgIGlmIChuYW1lID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICAgICAgICAgICAgYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS5mdW5jdGlvbi5uYW1lXFxuJHtzdHIoc25hcHNob3QpfWAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKGFyZ3MgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICAgICAgICAgICBgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmZ1bmN0aW9uLmFyZ3VtZW50c1xcbiR7c3RyKHNuYXBzaG90KX1gLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHsgaWQsIHR5cGUsIGZ1bmN0aW9uOiB7IG5hbWUsIGFyZ3VtZW50czogYXJncyB9IH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgbWVzc2FnZTogeyBjb250ZW50OiBjb250ZW50LCByb2xlIH0sIGZpbmlzaF9yZWFzb24sIGluZGV4LCBsb2dwcm9icyB9O1xuICAgIH0pLFxuICAgIGNyZWF0ZWQsXG4gICAgbW9kZWwsXG4gICAgb2JqZWN0OiAnY2hhdC5jb21wbGV0aW9uJyxcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3RyKHg6IHVua25vd24pIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHgpO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBzdHJlYW1lZCBjaHVuayBvZiBhIGNoYXQgY29tcGxldGlvbiByZXNwb25zZSByZXR1cm5lZCBieSBtb2RlbCxcbiAqIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBpbnB1dC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblNuYXBzaG90IHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjaGF0IGNvbXBsZXRpb24uXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgY2hhdCBjb21wbGV0aW9uIGNob2ljZXMuIENhbiBiZSBtb3JlIHRoYW4gb25lIGlmIGBuYCBpcyBncmVhdGVyXG4gICAqIHRoYW4gMS5cbiAgICovXG4gIGNob2ljZXM6IEFycmF5PENoYXRDb21wbGV0aW9uU25hcHNob3QuQ2hvaWNlPjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBvZiB3aGVuIHRoZSBjaGF0IGNvbXBsZXRpb24gd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB0byBnZW5lcmF0ZSB0aGUgY29tcGxldGlvbi5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25TbmFwc2hvdCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2hvaWNlIHtcbiAgICAvKipcbiAgICAgKiBBIGNoYXQgY29tcGxldGlvbiBkZWx0YSBnZW5lcmF0ZWQgYnkgc3RyZWFtZWQgbW9kZWwgcmVzcG9uc2VzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IENob2ljZS5NZXNzYWdlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy4gVGhpcyB3aWxsIGJlIGBzdG9wYCBpZiB0aGUgbW9kZWxcbiAgICAgKiBoaXQgYSBuYXR1cmFsIHN0b3AgcG9pbnQgb3IgYSBwcm92aWRlZCBzdG9wIHNlcXVlbmNlLCBgbGVuZ3RoYCBpZiB0aGUgbWF4aW11bVxuICAgICAqIG51bWJlciBvZiB0b2tlbnMgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IHdhcyByZWFjaGVkLCBgY29udGVudF9maWx0ZXJgIGlmXG4gICAgICogY29udGVudCB3YXMgb21pdHRlZCBkdWUgdG8gYSBmbGFnIGZyb20gb3VyIGNvbnRlbnQgZmlsdGVycywgb3IgYGZ1bmN0aW9uX2NhbGxgXG4gICAgICogaWYgdGhlIG1vZGVsIGNhbGxlZCBhIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZpbmlzaF9yZWFzb246IENoYXRDb21wbGV0aW9uLkNob2ljZVsnZmluaXNoX3JlYXNvbiddIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIExvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNob2ljZS5cbiAgICAgKi9cbiAgICBsb2dwcm9iczogQ2hhdENvbXBsZXRpb24uQ2hvaWNlLkxvZ3Byb2JzIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY2hvaWNlIGluIHRoZSBsaXN0IG9mIGNob2ljZXMuXG4gICAgICovXG4gICAgaW5kZXg6IG51bWJlcjtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQ2hvaWNlIHtcbiAgICAvKipcbiAgICAgKiBBIGNoYXQgY29tcGxldGlvbiBkZWx0YSBnZW5lcmF0ZWQgYnkgc3RyZWFtZWQgbW9kZWwgcmVzcG9uc2VzLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjb250ZW50cyBvZiB0aGUgY2h1bmsgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgY29udGVudD86IHN0cmluZyB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZVxuICAgICAgICogbW9kZWwuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uX2NhbGw/OiBNZXNzYWdlLkZ1bmN0aW9uQ2FsbDtcblxuICAgICAgdG9vbF9jYWxscz86IEFycmF5PE1lc3NhZ2UuVG9vbENhbGw+O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSByb2xlIG9mIHRoZSBhdXRob3Igb2YgdGhpcyBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICByb2xlPzogJ3N5c3RlbScgfCAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdmdW5jdGlvbicgfCAndG9vbCc7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgVG9vbENhbGwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgICBpZD86IHN0cmluZztcblxuICAgICAgICBmdW5jdGlvbj86IFRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC5cbiAgICAgICAgICovXG4gICAgICAgIHR5cGU/OiAnZnVuY3Rpb24nO1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgbmFtZXNwYWNlIFRvb2xDYWxsIHtcbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVGhlIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIEpTT05cbiAgICAgICAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgICAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgICAgICAgKiBhcmd1bWVudHMgaW4geW91ciBjb2RlIGJlZm9yZSBjYWxsaW5nIHlvdXIgZnVuY3Rpb24uXG4gICAgICAgICAgICovXG4gICAgICAgICAgYXJndW1lbnRzPzogc3RyaW5nO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICAgICAgICovXG4gICAgICAgICAgbmFtZT86IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGVcbiAgICAgICAqIG1vZGVsLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgICAgICogaGFsbHVjaW5hdGUgcGFyYW1ldGVycyBub3QgZGVmaW5lZCBieSB5b3VyIGZ1bmN0aW9uIHNjaGVtYS4gVmFsaWRhdGUgdGhlXG4gICAgICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGFyZ3VtZW50cz86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIENvbXBsZXRpb25zLFxuICB0eXBlIENoYXRDb21wbGV0aW9uQ2h1bmssXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG59IGZyb20gXCIuLi9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9uc1wiO1xuaW1wb3J0IHsgUnVubmVyT3B0aW9ucywgdHlwZSBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIH0gZnJvbSAnLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IHR5cGUgUmVhZGFibGVTdHJlYW0gfSBmcm9tIFwiLi4vX3NoaW1zL2luZGV4XCI7XG5pbXBvcnQgeyBSdW5uYWJsZVRvb2xzLCB0eXBlIEJhc2VGdW5jdGlvbnNBcmdzLCB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25zIH0gZnJvbSAnLi9SdW5uYWJsZUZ1bmN0aW9uJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU25hcHNob3QsIENoYXRDb21wbGV0aW9uU3RyZWFtIH0gZnJvbSAnLi9DaGF0Q29tcGxldGlvblN0cmVhbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25TdHJlYW1FdmVudHMgZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIHtcbiAgY29udGVudDogKGNvbnRlbnREZWx0YTogc3RyaW5nLCBjb250ZW50U25hcHNob3Q6IHN0cmluZykgPT4gdm9pZDtcbiAgY2h1bms6IChjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuaywgc25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9IE9taXQ8XG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAnZnVuY3Rpb25zJ1xuPiAmIHtcbiAgZnVuY3Rpb25zOiBSdW5uYWJsZUZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzPjtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+ID0gT21pdDxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICd0b29scydcbj4gJiB7XG4gIHRvb2xzOiBSdW5uYWJsZVRvb2xzPEZ1bmN0aW9uc0FyZ3M+O1xufTtcblxuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyXG4gIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25TdHJlYW1cbiAgaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPENoYXRDb21wbGV0aW9uQ2h1bms+XG57XG4gIHN0YXRpYyBvdmVycmlkZSBmcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSk6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyIHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIoKTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgLyoqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBgcnVuVG9vbHNgIGluc3RlYWQuICovXG4gIHN0YXRpYyBydW5GdW5jdGlvbnM8VCBleHRlbmRzIChzdHJpbmcgfCBvYmplY3QpW10+KFxuICAgIGNvbXBsZXRpb25zOiBDb21wbGV0aW9ucyxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXM8VD4sXG4gICAgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyIHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIoKTtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAncnVuRnVuY3Rpb25zJyB9LFxuICAgIH07XG4gICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY29tcGxldGlvbnMsIHBhcmFtcywgb3B0cykpO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cblxuICBzdGF0aWMgcnVuVG9vbHM8VCBleHRlbmRzIChzdHJpbmcgfCBvYmplY3QpW10+KFxuICAgIGNvbXBsZXRpb25zOiBDb21wbGV0aW9ucyxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxUPixcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcigpO1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdydW5Ub29scycgfSxcbiAgICB9O1xuICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuVG9vbHMoY29tcGxldGlvbnMsIHBhcmFtcywgb3B0cykpO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuXG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi8uLi8uLi9jb3JlXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25SdW5uZXIsIENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXMgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uUnVubmVyXCI7XG5leHBvcnQgeyBDaGF0Q29tcGxldGlvblJ1bm5lciwgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtcyB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25SdW5uZXJcIjtcbmltcG9ydCB7XG4gIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLFxuICBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zLFxufSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyXCI7XG5leHBvcnQge1xuICBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcixcbiAgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtcyxcbn0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lclwiO1xuaW1wb3J0IHsgQmFzZUZ1bmN0aW9uc0FyZ3MgfSBmcm9tIFwiLi4vLi4vLi4vbGliL1J1bm5hYmxlRnVuY3Rpb25cIjtcbmV4cG9ydCB7XG4gIFJ1bm5hYmxlRnVuY3Rpb24sXG4gIFJ1bm5hYmxlRnVuY3Rpb25zLFxuICBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlLFxuICBSdW5uYWJsZUZ1bmN0aW9uV2l0aG91dFBhcnNlLFxuICBQYXJzaW5nRnVuY3Rpb24sXG4gIFBhcnNpbmdUb29sRnVuY3Rpb24sXG59IGZyb20gXCIuLi8uLi8uLi9saWIvUnVubmFibGVGdW5jdGlvblwiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lclwiO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lclwiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lclwiO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lclwiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1QYXJhbXMgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtXCI7XG5leHBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbSwgdHlwZSBDaGF0Q29tcGxldGlvblN0cmVhbVBhcmFtcyB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1cIjtcblxuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgLSB1c2UgYHJ1blRvb2xzYCBpbnN0ZWFkLlxuICAgKi9cbiAgcnVuRnVuY3Rpb25zPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4oXG4gICAgYm9keTogQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25SdW5uZXI7XG4gIHJ1bkZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+KFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyO1xuICBydW5GdW5jdGlvbnM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBib2R5OlxuICAgICAgfCBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+XG4gICAgICB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uUnVubmVyIHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIge1xuICAgIGlmIChib2R5LnN0cmVhbSkge1xuICAgICAgcmV0dXJuIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLnJ1bkZ1bmN0aW9ucyhcbiAgICAgICAgdGhpcy5fY2xpZW50LmNoYXQuY29tcGxldGlvbnMsXG4gICAgICAgIGJvZHkgYXMgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBDaGF0Q29tcGxldGlvblJ1bm5lci5ydW5GdW5jdGlvbnMoXG4gICAgICB0aGlzLl9jbGllbnQuY2hhdC5jb21wbGV0aW9ucyxcbiAgICAgIGJvZHkgYXMgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGNvbnZlbmllbmNlIGhlbHBlciBmb3IgdXNpbmcgdG9vbCBjYWxscyB3aXRoIHRoZSAvY2hhdC9jb21wbGV0aW9ucyBlbmRwb2ludFxuICAgKiB3aGljaCBhdXRvbWF0aWNhbGx5IGNhbGxzIHRoZSBKYXZhU2NyaXB0IGZ1bmN0aW9ucyB5b3UgcHJvdmlkZSBhbmQgc2VuZHMgdGhlaXJcbiAgICogcmVzdWx0cyBiYWNrIHRvIHRoZSAvY2hhdC9jb21wbGV0aW9ucyBlbmRwb2ludCwgbG9vcGluZyBhcyBsb25nIGFzIHRoZSBtb2RlbFxuICAgKiByZXF1ZXN0cyBmdW5jdGlvbiBjYWxscy5cbiAgICpcbiAgICogRm9yIG1vcmUgZGV0YWlscyBhbmQgZXhhbXBsZXMsIHNlZVxuICAgKiBbdGhlIGRvY3NdKGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLW5vZGUjYXV0b21hdGVkLWZ1bmN0aW9uLWNhbGxzKVxuICAgKi9cbiAgcnVuVG9vbHM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uUnVubmVyO1xuICBydW5Ub29sczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+KFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI7XG4gIHJ1blRvb2xzPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4oXG4gICAgYm9keTpcbiAgICAgIHwgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+XG4gICAgICB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25SdW5uZXIgfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciB7XG4gICAgaWYgKGJvZHkuc3RyZWFtKSB7XG4gICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIucnVuVG9vbHMoXG4gICAgICAgIHRoaXMuX2NsaWVudC5jaGF0LmNvbXBsZXRpb25zLFxuICAgICAgICBib2R5IGFzIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBDaGF0Q29tcGxldGlvblJ1bm5lci5ydW5Ub29scyhcbiAgICAgIHRoaXMuX2NsaWVudC5jaGF0LmNvbXBsZXRpb25zLFxuICAgICAgYm9keSBhcyBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgICBvcHRpb25zLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNoYXQgY29tcGxldGlvbiBzdHJlYW1cbiAgICovXG4gIHN0cmVhbShib2R5OiBDaGF0Q29tcGxldGlvblN0cmVhbVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDaGF0Q29tcGxldGlvblN0cmVhbSB7XG4gICAgcmV0dXJuIENoYXRDb21wbGV0aW9uU3RyZWFtLmNyZWF0ZUNoYXRDb21wbGV0aW9uKHRoaXMuX2NsaWVudC5jaGF0LmNvbXBsZXRpb25zLCBib2R5LCBvcHRpb25zKTtcbiAgfVxufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tIFwiLi9jb21wbGV0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2hhdCBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY29tcGxldGlvbnM6IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zID0gbmV3IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zKHRoaXMuX2NsaWVudCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdCB7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvbnMgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9ucztcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuXG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlXCI7XG5pbXBvcnQgKiBhcyBGaWxlc0FQSSBmcm9tIFwiLi9maWxlc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3BhZ2luYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEZpbGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogUmV0cmlldmVzIGEgbWVzc2FnZSBmaWxlLlxuICAgKi9cbiAgcmV0cmlldmUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBtZXNzYWdlSWQ6IHN0cmluZyxcbiAgICBmaWxlSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPE1lc3NhZ2VGaWxlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfS9maWxlcy8ke2ZpbGVJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBtZXNzYWdlIGZpbGVzLlxuICAgKi9cbiAgbGlzdChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIG1lc3NhZ2VJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogRmlsZUxpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8TWVzc2FnZUZpbGVzUGFnZSwgTWVzc2FnZUZpbGU+O1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8TWVzc2FnZUZpbGVzUGFnZSwgTWVzc2FnZUZpbGU+O1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gICAgcXVlcnk6IEZpbGVMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPE1lc3NhZ2VGaWxlc1BhZ2UsIE1lc3NhZ2VGaWxlPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KHRocmVhZElkLCBtZXNzYWdlSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXMvJHttZXNzYWdlSWR9L2ZpbGVzYCwgTWVzc2FnZUZpbGVzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWVzc2FnZUZpbGVzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8TWVzc2FnZUZpbGU+IHt9XG5cbi8qKlxuICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIGEgYG1lc3NhZ2VgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VGaWxlIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgbWVzc2FnZSBmaWxlIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFttZXNzYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzKVxuICAgKiB0aGF0IHRoZSBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgaXNcbiAgICogYXR0YWNoZWQgdG8uXG4gICAqL1xuICBtZXNzYWdlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB0aHJlYWQubWVzc2FnZS5maWxlYC5cbiAgICovXG4gIG9iamVjdDogJ3RocmVhZC5tZXNzYWdlLmZpbGUnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGN1cnNvciBmb3IgdXNlIGluIHBhZ2luYXRpb24uIGBiZWZvcmVgIGlzIGFuIG9iamVjdCBJRCB0aGF0IGRlZmluZXMgeW91ciBwbGFjZVxuICAgKiBpbiB0aGUgbGlzdC4gRm9yIGluc3RhbmNlLCBpZiB5b3UgbWFrZSBhIGxpc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSAxMDAgb2JqZWN0cyxcbiAgICogZW5kaW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXIgdG9cbiAgICogZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNvcnQgb3JkZXIgYnkgdGhlIGBjcmVhdGVkX2F0YCB0aW1lc3RhbXAgb2YgdGhlIG9iamVjdHMuIGBhc2NgIGZvciBhc2NlbmRpbmdcbiAgICogb3JkZXIgYW5kIGBkZXNjYCBmb3IgZGVzY2VuZGluZyBvcmRlci5cbiAgICovXG4gIG9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRmlsZXMge1xuICBleHBvcnQgaW1wb3J0IE1lc3NhZ2VGaWxlID0gRmlsZXNBUEkuTWVzc2FnZUZpbGU7XG4gIGV4cG9ydCBpbXBvcnQgTWVzc2FnZUZpbGVzUGFnZSA9IEZpbGVzQVBJLk1lc3NhZ2VGaWxlc1BhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgRmlsZUxpc3RQYXJhbXMgPSBGaWxlc0FQSS5GaWxlTGlzdFBhcmFtcztcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuXG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlXCI7XG5pbXBvcnQgKiBhcyBNZXNzYWdlc0FQSSBmcm9tIFwiLi9tZXNzYWdlc1wiO1xuaW1wb3J0ICogYXMgRmlsZXNBUEkgZnJvbSBcIi4vZmlsZXNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gXCIuLi8uLi8uLi8uLi9wYWdpbmF0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgZmlsZXM6IEZpbGVzQVBJLkZpbGVzID0gbmV3IEZpbGVzQVBJLkZpbGVzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG1lc3NhZ2UuXG4gICAqL1xuICBjcmVhdGUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBib2R5OiBNZXNzYWdlQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VGhyZWFkTWVzc2FnZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXNgLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYSBtZXNzYWdlLlxuICAgKi9cbiAgcmV0cmlldmUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBtZXNzYWdlSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFRocmVhZE1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXMvJHttZXNzYWdlSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTW9kaWZpZXMgYSBtZXNzYWdlLlxuICAgKi9cbiAgdXBkYXRlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gICAgYm9keTogTWVzc2FnZVVwZGF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFRocmVhZE1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBtZXNzYWdlcyBmb3IgYSBnaXZlbiB0aHJlYWQuXG4gICAqL1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBNZXNzYWdlTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxUaHJlYWRNZXNzYWdlc1BhZ2UsIFRocmVhZE1lc3NhZ2U+O1xuICBsaXN0KHRocmVhZElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxUaHJlYWRNZXNzYWdlc1BhZ2UsIFRocmVhZE1lc3NhZ2U+O1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcXVlcnk6IE1lc3NhZ2VMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFRocmVhZE1lc3NhZ2VzUGFnZSwgVGhyZWFkTWVzc2FnZT4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlc2AsIFRocmVhZE1lc3NhZ2VzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGhyZWFkTWVzc2FnZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxUaHJlYWRNZXNzYWdlPiB7fVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpXG4gKiBpbiB0aGUgY29udGVudCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZUNvbnRlbnRJbWFnZUZpbGUge1xuICBpbWFnZV9maWxlOiBNZXNzYWdlQ29udGVudEltYWdlRmlsZS5JbWFnZUZpbGU7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgaW1hZ2VfZmlsZWAuXG4gICAqL1xuICB0eXBlOiAnaW1hZ2VfZmlsZSc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZUNvbnRlbnRJbWFnZUZpbGUge1xuICBleHBvcnQgaW50ZXJmYWNlIEltYWdlRmlsZSB7XG4gICAgLyoqXG4gICAgICogVGhlIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRCBvZiB0aGUgaW1hZ2VcbiAgICAgKiBpbiB0aGUgbWVzc2FnZSBjb250ZW50LlxuICAgICAqL1xuICAgIGZpbGVfaWQ6IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB0ZXh0IGNvbnRlbnQgdGhhdCBpcyBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlQ29udGVudFRleHQge1xuICB0ZXh0OiBNZXNzYWdlQ29udGVudFRleHQuVGV4dDtcblxuICAvKipcbiAgICogQWx3YXlzIGB0ZXh0YC5cbiAgICovXG4gIHR5cGU6ICd0ZXh0Jztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlQ29udGVudFRleHQge1xuICBleHBvcnQgaW50ZXJmYWNlIFRleHQge1xuICAgIGFubm90YXRpb25zOiBBcnJheTxUZXh0LkZpbGVDaXRhdGlvbiB8IFRleHQuRmlsZVBhdGg+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgdGhhdCBtYWtlcyB1cCB0aGUgdGV4dC5cbiAgICAgKi9cbiAgICB2YWx1ZTogc3RyaW5nO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUZXh0IHtcbiAgICAvKipcbiAgICAgKiBBIGNpdGF0aW9uIHdpdGhpbiB0aGUgbWVzc2FnZSB0aGF0IHBvaW50cyB0byBhIHNwZWNpZmljIHF1b3RlIGZyb20gYSBzcGVjaWZpY1xuICAgICAqIEZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQgb3IgdGhlIG1lc3NhZ2UuIEdlbmVyYXRlZCB3aGVuIHRoZSBhc3Npc3RhbnRcbiAgICAgKiB1c2VzIHRoZSBcInJldHJpZXZhbFwiIHRvb2wgdG8gc2VhcmNoIGZpbGVzLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZUNpdGF0aW9uIHtcbiAgICAgIGVuZF9pbmRleDogbnVtYmVyO1xuXG4gICAgICBmaWxlX2NpdGF0aW9uOiBGaWxlQ2l0YXRpb24uRmlsZUNpdGF0aW9uO1xuXG4gICAgICBzdGFydF9pbmRleDogbnVtYmVyO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0ZXh0IGluIHRoZSBtZXNzYWdlIGNvbnRlbnQgdGhhdCBuZWVkcyB0byBiZSByZXBsYWNlZC5cbiAgICAgICAqL1xuICAgICAgdGV4dDogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIEFsd2F5cyBgZmlsZV9jaXRhdGlvbmAuXG4gICAgICAgKi9cbiAgICAgIHR5cGU6ICdmaWxlX2NpdGF0aW9uJztcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIEZpbGVDaXRhdGlvbiB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVDaXRhdGlvbiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIHNwZWNpZmljIEZpbGUgdGhlIGNpdGF0aW9uIGlzIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBmaWxlX2lkOiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVjaWZpYyBxdW90ZSBpbiB0aGUgZmlsZS5cbiAgICAgICAgICovXG4gICAgICAgIHF1b3RlOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBVUkwgZm9yIHRoZSBmaWxlIHRoYXQncyBnZW5lcmF0ZWQgd2hlbiB0aGUgYXNzaXN0YW50IHVzZWQgdGhlXG4gICAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgdG8gZ2VuZXJhdGUgYSBmaWxlLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVBhdGgge1xuICAgICAgZW5kX2luZGV4OiBudW1iZXI7XG5cbiAgICAgIGZpbGVfcGF0aDogRmlsZVBhdGguRmlsZVBhdGg7XG5cbiAgICAgIHN0YXJ0X2luZGV4OiBudW1iZXI7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRleHQgaW4gdGhlIG1lc3NhZ2UgY29udGVudCB0aGF0IG5lZWRzIHRvIGJlIHJlcGxhY2VkLlxuICAgICAgICovXG4gICAgICB0ZXh0OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogQWx3YXlzIGBmaWxlX3BhdGhgLlxuICAgICAgICovXG4gICAgICB0eXBlOiAnZmlsZV9wYXRoJztcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIEZpbGVQYXRoIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVBhdGgge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRoYXQgd2FzIGdlbmVyYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWQ6IHN0cmluZztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRNZXNzYWdlIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogSWYgYXBwbGljYWJsZSwgdGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHRoYXRcbiAgICogYXV0aG9yZWQgdGhpcyBtZXNzYWdlLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZSBpbiBhcnJheSBvZiB0ZXh0IGFuZC9vciBpbWFnZXMuXG4gICAqL1xuICBjb250ZW50OiBBcnJheTxNZXNzYWdlQ29udGVudEltYWdlRmlsZSB8IE1lc3NhZ2VDb250ZW50VGV4dD47XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIG1lc3NhZ2Ugd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRoYXRcbiAgICogdGhlIGFzc2lzdGFudCBzaG91bGQgdXNlLiBVc2VmdWwgZm9yIHRvb2xzIGxpa2UgcmV0cmlldmFsIGFuZCBjb2RlX2ludGVycHJldGVyXG4gICAqIHRoYXQgY2FuIGFjY2VzcyBmaWxlcy4gQSBtYXhpbXVtIG9mIDEwIGZpbGVzIGNhbiBiZSBhdHRhY2hlZCB0byBhIG1lc3NhZ2UuXG4gICAqL1xuICBmaWxlX2lkczogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE6IHVua25vd24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkLm1lc3NhZ2VgLlxuICAgKi9cbiAgb2JqZWN0OiAndGhyZWFkLm1lc3NhZ2UnO1xuXG4gIC8qKlxuICAgKiBUaGUgZW50aXR5IHRoYXQgcHJvZHVjZWQgdGhlIG1lc3NhZ2UuIE9uZSBvZiBgdXNlcmAgb3IgYGFzc2lzdGFudGAuXG4gICAqL1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAvKipcbiAgICogSWYgYXBwbGljYWJsZSwgdGhlIElEIG9mIHRoZVxuICAgKiBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMpIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICogYXV0aG9yaW5nIG9mIHRoaXMgbWVzc2FnZS5cbiAgICovXG4gIHJ1bl9pZDogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykgSUQgdGhhdFxuICAgKiB0aGlzIG1lc3NhZ2UgYmVsb25ncyB0by5cbiAgICovXG4gIHRocmVhZF9pZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VEZWxldGVkIHtcbiAgaWQ6IHN0cmluZztcblxuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIG9iamVjdDogJ3RocmVhZC5tZXNzYWdlLmRlbGV0ZWQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBjcmVhdGluZyB0aGUgbWVzc2FnZS4gQ3VycmVudGx5IG9ubHkgYHVzZXJgIGlzXG4gICAqIHN1cHBvcnRlZC5cbiAgICovXG4gIHJvbGU6ICd1c2VyJztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBzaG91bGQgdXNlLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEwIGZpbGVzIGF0dGFjaGVkIHRvIGFcbiAgICogbWVzc2FnZS4gVXNlZnVsIGZvciB0b29scyBsaWtlIGByZXRyaWV2YWxgIGFuZCBgY29kZV9pbnRlcnByZXRlcmAgdGhhdCBjYW5cbiAgICogYWNjZXNzIGFuZCB1c2UgZmlsZXMuXG4gICAqL1xuICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZVVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAqL1xuICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGN1cnNvciBmb3IgdXNlIGluIHBhZ2luYXRpb24uIGBiZWZvcmVgIGlzIGFuIG9iamVjdCBJRCB0aGF0IGRlZmluZXMgeW91ciBwbGFjZVxuICAgKiBpbiB0aGUgbGlzdC4gRm9yIGluc3RhbmNlLCBpZiB5b3UgbWFrZSBhIGxpc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSAxMDAgb2JqZWN0cyxcbiAgICogZW5kaW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXIgdG9cbiAgICogZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNvcnQgb3JkZXIgYnkgdGhlIGBjcmVhdGVkX2F0YCB0aW1lc3RhbXAgb2YgdGhlIG9iamVjdHMuIGBhc2NgIGZvciBhc2NlbmRpbmdcbiAgICogb3JkZXIgYW5kIGBkZXNjYCBmb3IgZGVzY2VuZGluZyBvcmRlci5cbiAgICovXG4gIG9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZXMge1xuICBleHBvcnQgaW1wb3J0IE1lc3NhZ2VDb250ZW50SW1hZ2VGaWxlID0gTWVzc2FnZXNBUEkuTWVzc2FnZUNvbnRlbnRJbWFnZUZpbGU7XG4gIGV4cG9ydCBpbXBvcnQgTWVzc2FnZUNvbnRlbnRUZXh0ID0gTWVzc2FnZXNBUEkuTWVzc2FnZUNvbnRlbnRUZXh0O1xuICBleHBvcnQgaW1wb3J0IFRocmVhZE1lc3NhZ2UgPSBNZXNzYWdlc0FQSS5UaHJlYWRNZXNzYWdlO1xuICBleHBvcnQgaW1wb3J0IFRocmVhZE1lc3NhZ2VEZWxldGVkID0gTWVzc2FnZXNBUEkuVGhyZWFkTWVzc2FnZURlbGV0ZWQ7XG4gIGV4cG9ydCBpbXBvcnQgVGhyZWFkTWVzc2FnZXNQYWdlID0gTWVzc2FnZXNBUEkuVGhyZWFkTWVzc2FnZXNQYWdlO1xuICBleHBvcnQgaW1wb3J0IE1lc3NhZ2VDcmVhdGVQYXJhbXMgPSBNZXNzYWdlc0FQSS5NZXNzYWdlQ3JlYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IE1lc3NhZ2VVcGRhdGVQYXJhbXMgPSBNZXNzYWdlc0FQSS5NZXNzYWdlVXBkYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IE1lc3NhZ2VMaXN0UGFyYW1zID0gTWVzc2FnZXNBUEkuTWVzc2FnZUxpc3RQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgRmlsZXMgPSBGaWxlc0FQSS5GaWxlcztcbiAgZXhwb3J0IGltcG9ydCBNZXNzYWdlRmlsZSA9IEZpbGVzQVBJLk1lc3NhZ2VGaWxlO1xuICBleHBvcnQgaW1wb3J0IE1lc3NhZ2VGaWxlc1BhZ2UgPSBGaWxlc0FQSS5NZXNzYWdlRmlsZXNQYWdlO1xuICBleHBvcnQgaW1wb3J0IEZpbGVMaXN0UGFyYW1zID0gRmlsZXNBUEkuRmlsZUxpc3RQYXJhbXM7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZVwiO1xuaW1wb3J0ICogYXMgU3RlcHNBUEkgZnJvbSBcIi4vc3RlcHNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gXCIuLi8uLi8uLi8uLi9wYWdpbmF0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGVwcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHJ1biBzdGVwLlxuICAgKi9cbiAgcmV0cmlldmUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHN0ZXBJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UnVuU3RlcD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L3N0ZXBzLyR7c3RlcElkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYxJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHJ1biBzdGVwcyBiZWxvbmdpbmcgdG8gYSBydW4uXG4gICAqL1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IFN0ZXBMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFJ1blN0ZXBzUGFnZSwgUnVuU3RlcD47XG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFJ1blN0ZXBzUGFnZSwgUnVuU3RlcD47XG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHF1ZXJ5OiBTdGVwTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSdW5TdGVwc1BhZ2UsIFJ1blN0ZXA+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3QodGhyZWFkSWQsIHJ1bklkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vc3RlcHNgLCBSdW5TdGVwc1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJ1blN0ZXBzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8UnVuU3RlcD4ge31cblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCB0aGUgcnVuIHN0ZXAgd2FzIGludm9sdmVkIGluLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvZGVUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCBkZWZpbml0aW9uLlxuICAgKi9cbiAgY29kZV9pbnRlcnByZXRlcjogQ29kZVRvb2xDYWxsLkNvZGVJbnRlcnByZXRlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdG9vbCBjYWxsLiBUaGlzIGlzIGFsd2F5cyBnb2luZyB0byBiZSBgY29kZV9pbnRlcnByZXRlcmAgZm9yIHRoaXNcbiAgICogdHlwZSBvZiB0b29sIGNhbGwuXG4gICAqL1xuICB0eXBlOiAnY29kZV9pbnRlcnByZXRlcic7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29kZVRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCBkZWZpbml0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnB1dCB0byB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwuXG4gICAgICovXG4gICAgaW5wdXQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBvdXRwdXRzIGZyb20gdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsLiBDb2RlIEludGVycHJldGVyIGNhbiBvdXRwdXQgb25lXG4gICAgICogb3IgbW9yZSBpdGVtcywgaW5jbHVkaW5nIHRleHQgKGBsb2dzYCkgb3IgaW1hZ2VzIChgaW1hZ2VgKS4gRWFjaCBvZiB0aGVzZSBhcmVcbiAgICAgKiByZXByZXNlbnRlZCBieSBhIGRpZmZlcmVudCBvYmplY3QgdHlwZS5cbiAgICAgKi9cbiAgICBvdXRwdXRzOiBBcnJheTxDb2RlSW50ZXJwcmV0ZXIuTG9ncyB8IENvZGVJbnRlcnByZXRlci5JbWFnZT47XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgLyoqXG4gICAgICogVGV4dCBvdXRwdXQgZnJvbSB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgYXMgcGFydCBvZiBhIHJ1biBzdGVwLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgTG9ncyB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0ZXh0IG91dHB1dCBmcm9tIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbC5cbiAgICAgICAqL1xuICAgICAgbG9nczogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIEFsd2F5cyBgbG9nc2AuXG4gICAgICAgKi9cbiAgICAgIHR5cGU6ICdsb2dzJztcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIEltYWdlIHtcbiAgICAgIGltYWdlOiBJbWFnZS5JbWFnZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBBbHdheXMgYGltYWdlYC5cbiAgICAgICAqL1xuICAgICAgdHlwZTogJ2ltYWdlJztcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIEltYWdlIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgSW1hZ2Uge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRCBvZiB0aGVcbiAgICAgICAgICogaW1hZ2UuXG4gICAgICAgICAqL1xuICAgICAgICBmaWxlX2lkOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25Ub29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCBvYmplY3QuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmaW5pdGlvbiBvZiB0aGUgZnVuY3Rpb24gdGhhdCB3YXMgY2FsbGVkLlxuICAgKi9cbiAgZnVuY3Rpb246IEZ1bmN0aW9uVG9vbENhbGwuRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRvb2wgY2FsbC4gVGhpcyBpcyBhbHdheXMgZ29pbmcgdG8gYmUgYGZ1bmN0aW9uYCBmb3IgdGhpcyB0eXBlIG9mXG4gICAqIHRvb2wgY2FsbC5cbiAgICovXG4gIHR5cGU6ICdmdW5jdGlvbic7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRnVuY3Rpb25Ub29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgZGVmaW5pdGlvbiBvZiB0aGUgZnVuY3Rpb24gdGhhdCB3YXMgY2FsbGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBvdXRwdXQgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIHdpbGwgYmUgYG51bGxgIGlmIHRoZSBvdXRwdXRzIGhhdmUgbm90IGJlZW5cbiAgICAgKiBbc3VibWl0dGVkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvc3VibWl0VG9vbE91dHB1dHMpXG4gICAgICogeWV0LlxuICAgICAqL1xuICAgIG91dHB1dDogc3RyaW5nIHwgbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIERldGFpbHMgb2YgdGhlIG1lc3NhZ2UgY3JlYXRpb24gYnkgdGhlIHJ1biBzdGVwLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzIHtcbiAgbWVzc2FnZV9jcmVhdGlvbjogTWVzc2FnZUNyZWF0aW9uU3RlcERldGFpbHMuTWVzc2FnZUNyZWF0aW9uO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYG1lc3NhZ2VfY3JlYXRpb25gLlxuICAgKi9cbiAgdHlwZTogJ21lc3NhZ2VfY3JlYXRpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzIHtcbiAgZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlQ3JlYXRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgbWVzc2FnZSB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoaXMgcnVuIHN0ZXAuXG4gICAgICovXG4gICAgbWVzc2FnZV9pZDogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV0cmlldmFsVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwgb2JqZWN0LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogRm9yIG5vdywgdGhpcyBpcyBhbHdheXMgZ29pbmcgdG8gYmUgYW4gZW1wdHkgb2JqZWN0LlxuICAgKi9cbiAgcmV0cmlldmFsOiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwuIFRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGByZXRyaWV2YWxgIGZvciB0aGlzIHR5cGUgb2ZcbiAgICogdG9vbCBjYWxsLlxuICAgKi9cbiAgdHlwZTogJ3JldHJpZXZhbCc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN0ZXAge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHJ1biBzdGVwLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgcnVuIHN0ZXAuXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgd2FzIGNhbmNlbGxlZC5cbiAgICovXG4gIGNhbmNlbGxlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgY29tcGxldGVkLlxuICAgKi9cbiAgY29tcGxldGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gc3RlcCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgZXhwaXJlZC4gQSBzdGVwIGlzXG4gICAqIGNvbnNpZGVyZWQgZXhwaXJlZCBpZiB0aGUgcGFyZW50IHJ1biBpcyBleHBpcmVkLlxuICAgKi9cbiAgZXhwaXJlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgZmFpbGVkLlxuICAgKi9cbiAgZmFpbGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4gc3RlcC4gV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vXG4gICAqIGVycm9ycy5cbiAgICovXG4gIGxhc3RfZXJyb3I6IFJ1blN0ZXAuTGFzdEVycm9yIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE6IHVua25vd24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkLnJ1bi5zdGVwYC5cbiAgICovXG4gIG9iamVjdDogJ3RocmVhZC5ydW4uc3RlcCc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zKSB0aGF0XG4gICAqIHRoaXMgcnVuIHN0ZXAgaXMgYSBwYXJ0IG9mLlxuICAgKi9cbiAgcnVuX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIHJ1biBzdGVwLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBpbl9wcm9ncmVzc2AsIGBjYW5jZWxsZWRgLFxuICAgKiBgZmFpbGVkYCwgYGNvbXBsZXRlZGAsIG9yIGBleHBpcmVkYC5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdjYW5jZWxsZWQnIHwgJ2ZhaWxlZCcgfCAnY29tcGxldGVkJyB8ICdleHBpcmVkJztcblxuICAvKipcbiAgICogVGhlIGRldGFpbHMgb2YgdGhlIHJ1biBzdGVwLlxuICAgKi9cbiAgc3RlcF9kZXRhaWxzOiBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyB8IFRvb2xDYWxsc1N0ZXBEZXRhaWxzO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcylcbiAgICogdGhhdCB3YXMgcnVuLlxuICAgKi9cbiAgdGhyZWFkX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHJ1biBzdGVwLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBtZXNzYWdlX2NyZWF0aW9uYCBvciBgdG9vbF9jYWxsc2AuXG4gICAqL1xuICB0eXBlOiAnbWVzc2FnZV9jcmVhdGlvbicgfCAndG9vbF9jYWxscyc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3RlcCB7XG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4gc3RlcC4gV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vXG4gICAqIGVycm9ycy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTGFzdEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBPbmUgb2YgYHNlcnZlcl9lcnJvcmAgb3IgYHJhdGVfbGltaXRfZXhjZWVkZWRgLlxuICAgICAqL1xuICAgIGNvZGU6ICdzZXJ2ZXJfZXJyb3InIHwgJ3JhdGVfbGltaXRfZXhjZWVkZWQnO1xuXG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3IuXG4gICAgICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogRGV0YWlscyBvZiB0aGUgdG9vbCBjYWxsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xDYWxsc1N0ZXBEZXRhaWxzIHtcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHRvb2wgY2FsbHMgdGhlIHJ1biBzdGVwIHdhcyBpbnZvbHZlZCBpbi4gVGhlc2UgY2FuIGJlIGFzc29jaWF0ZWRcbiAgICogd2l0aCBvbmUgb2YgdGhyZWUgdHlwZXMgb2YgdG9vbHM6IGBjb2RlX2ludGVycHJldGVyYCwgYHJldHJpZXZhbGAsIG9yXG4gICAqIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0b29sX2NhbGxzOiBBcnJheTxDb2RlVG9vbENhbGwgfCBSZXRyaWV2YWxUb29sQ2FsbCB8IEZ1bmN0aW9uVG9vbENhbGw+O1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYHRvb2xfY2FsbHNgLlxuICAgKi9cbiAgdHlwZTogJ3Rvb2xfY2FsbHMnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0ZXBMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGN1cnNvciBmb3IgdXNlIGluIHBhZ2luYXRpb24uIGBiZWZvcmVgIGlzIGFuIG9iamVjdCBJRCB0aGF0IGRlZmluZXMgeW91ciBwbGFjZVxuICAgKiBpbiB0aGUgbGlzdC4gRm9yIGluc3RhbmNlLCBpZiB5b3UgbWFrZSBhIGxpc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSAxMDAgb2JqZWN0cyxcbiAgICogZW5kaW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXIgdG9cbiAgICogZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNvcnQgb3JkZXIgYnkgdGhlIGBjcmVhdGVkX2F0YCB0aW1lc3RhbXAgb2YgdGhlIG9iamVjdHMuIGBhc2NgIGZvciBhc2NlbmRpbmdcbiAgICogb3JkZXIgYW5kIGBkZXNjYCBmb3IgZGVzY2VuZGluZyBvcmRlci5cbiAgICovXG4gIG9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU3RlcHMge1xuICBleHBvcnQgaW1wb3J0IENvZGVUb29sQ2FsbCA9IFN0ZXBzQVBJLkNvZGVUb29sQ2FsbDtcbiAgZXhwb3J0IGltcG9ydCBGdW5jdGlvblRvb2xDYWxsID0gU3RlcHNBUEkuRnVuY3Rpb25Ub29sQ2FsbDtcbiAgZXhwb3J0IGltcG9ydCBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyA9IFN0ZXBzQVBJLk1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzO1xuICBleHBvcnQgaW1wb3J0IFJldHJpZXZhbFRvb2xDYWxsID0gU3RlcHNBUEkuUmV0cmlldmFsVG9vbENhbGw7XG4gIGV4cG9ydCBpbXBvcnQgUnVuU3RlcCA9IFN0ZXBzQVBJLlJ1blN0ZXA7XG4gIGV4cG9ydCBpbXBvcnQgVG9vbENhbGxzU3RlcERldGFpbHMgPSBTdGVwc0FQSS5Ub29sQ2FsbHNTdGVwRGV0YWlscztcbiAgZXhwb3J0IGltcG9ydCBSdW5TdGVwc1BhZ2UgPSBTdGVwc0FQSS5SdW5TdGVwc1BhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgU3RlcExpc3RQYXJhbXMgPSBTdGVwc0FQSS5TdGVwTGlzdFBhcmFtcztcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuXG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlXCI7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gXCIuL3J1bnNcIjtcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBTdGVwc0FQSSBmcm9tIFwiLi9zdGVwc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3BhZ2luYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIFJ1bnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIHN0ZXBzOiBTdGVwc0FQSS5TdGVwcyA9IG5ldyBTdGVwc0FQSS5TdGVwcyh0aGlzLl9jbGllbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBydW4uXG4gICAqL1xuICBjcmVhdGUodGhyZWFkSWQ6IHN0cmluZywgYm9keTogUnVuQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxSdW4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgcnVuLlxuICAgKi9cbiAgcmV0cmlldmUodGhyZWFkSWQ6IHN0cmluZywgcnVuSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8UnVuPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RpZmllcyBhIHJ1bi5cbiAgICovXG4gIHVwZGF0ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgYm9keTogUnVuVXBkYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UnVuPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9YCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYxJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHJ1bnMgYmVsb25naW5nIHRvIGEgdGhyZWFkLlxuICAgKi9cbiAgbGlzdChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogUnVuTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSdW5zUGFnZSwgUnVuPjtcbiAgbGlzdCh0aHJlYWRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8UnVuc1BhZ2UsIFJ1bj47XG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogUnVuTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSdW5zUGFnZSwgUnVuPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KHRocmVhZElkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCBSdW5zUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcnVuIHRoYXQgaXMgYGluX3Byb2dyZXNzYC5cbiAgICovXG4gIGNhbmNlbCh0aHJlYWRJZDogc3RyaW5nLCBydW5JZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxSdW4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vY2FuY2VsYCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogV2hlbiBhIHJ1biBoYXMgdGhlIGBzdGF0dXM6IFwicmVxdWlyZXNfYWN0aW9uXCJgIGFuZCBgcmVxdWlyZWRfYWN0aW9uLnR5cGVgIGlzXG4gICAqIGBzdWJtaXRfdG9vbF9vdXRwdXRzYCwgdGhpcyBlbmRwb2ludCBjYW4gYmUgdXNlZCB0byBzdWJtaXQgdGhlIG91dHB1dHMgZnJvbSB0aGVcbiAgICogdG9vbCBjYWxscyBvbmNlIHRoZXkncmUgYWxsIGNvbXBsZXRlZC4gQWxsIG91dHB1dHMgbXVzdCBiZSBzdWJtaXR0ZWQgaW4gYSBzaW5nbGVcbiAgICogcmVxdWVzdC5cbiAgICovXG4gIHN1Ym1pdFRvb2xPdXRwdXRzKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBib2R5OiBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFJ1bj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9zdWJtaXRfdG9vbF9vdXRwdXRzYCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYxJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSdW5zUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8UnVuPiB7fVxuXG4vKipcbiAqIFRvb2wgY2FsbCBvYmplY3RzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLiBUaGlzIElEIG11c3QgYmUgcmVmZXJlbmNlZCB3aGVuIHlvdSBzdWJtaXQgdGhlIHRvb2xcbiAgICogb3V0cHV0cyBpbiB1c2luZyB0aGVcbiAgICogW1N1Ym1pdCB0b29sIG91dHB1dHMgdG8gcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvc3VibWl0VG9vbE91dHB1dHMpXG4gICAqIGVuZHBvaW50LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGZ1bmN0aW9uIGRlZmluaXRpb24uXG4gICAqL1xuICBmdW5jdGlvbjogUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwgdGhlIG91dHB1dCBpcyByZXF1aXJlZCBmb3IuIEZvciBub3csIHRoaXMgaXMgYWx3YXlzXG4gICAqIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gZGVmaW5pdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgdGhhdCB0aGUgbW9kZWwgZXhwZWN0cyB5b3UgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUnVuIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHVzZWQgZm9yXG4gICAqIGV4ZWN1dGlvbiBvZiB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gd2FzIGNhbmNlbGxlZC5cbiAgICovXG4gIGNhbmNlbGxlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHdhcyBjb21wbGV0ZWQuXG4gICAqL1xuICBjb21wbGV0ZWRfYXQ6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHJ1biB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHdpbGwgZXhwaXJlLlxuICAgKi9cbiAgZXhwaXJlc19hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gZmFpbGVkLlxuICAgKi9cbiAgZmFpbGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHVzZWQgZm9yXG4gICAqIHRoaXMgcnVuLlxuICAgKi9cbiAgZmlsZV9pZHM6IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBpbnN0cnVjdGlvbnMgdGhhdCB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB1c2VkIGZvclxuICAgKiB0aGlzIHJ1bi5cbiAgICovXG4gIGluc3RydWN0aW9uczogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4uIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGFyZSBubyBlcnJvcnMuXG4gICAqL1xuICBsYXN0X2Vycm9yOiBSdW4uTGFzdEVycm9yIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE6IHVua25vd24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwgdGhhdCB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB1c2VkIGZvclxuICAgKiB0aGlzIHJ1bi5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB0aHJlYWQucnVuYC5cbiAgICovXG4gIG9iamVjdDogJ3RocmVhZC5ydW4nO1xuXG4gIC8qKlxuICAgKiBEZXRhaWxzIG9uIHRoZSBhY3Rpb24gcmVxdWlyZWQgdG8gY29udGludWUgdGhlIHJ1bi4gV2lsbCBiZSBgbnVsbGAgaWYgbm8gYWN0aW9uXG4gICAqIGlzIHJlcXVpcmVkLlxuICAgKi9cbiAgcmVxdWlyZWRfYWN0aW9uOiBSdW4uUmVxdWlyZWRBY3Rpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gd2FzIHN0YXJ0ZWQuXG4gICAqL1xuICBzdGFydGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBydW4sIHdoaWNoIGNhbiBiZSBlaXRoZXIgYHF1ZXVlZGAsIGBpbl9wcm9ncmVzc2AsXG4gICAqIGByZXF1aXJlc19hY3Rpb25gLCBgY2FuY2VsbGluZ2AsIGBjYW5jZWxsZWRgLCBgZmFpbGVkYCwgYGNvbXBsZXRlZGAsIG9yXG4gICAqIGBleHBpcmVkYC5cbiAgICovXG4gIHN0YXR1czpcbiAgICB8ICdxdWV1ZWQnXG4gICAgfCAnaW5fcHJvZ3Jlc3MnXG4gICAgfCAncmVxdWlyZXNfYWN0aW9uJ1xuICAgIHwgJ2NhbmNlbGxpbmcnXG4gICAgfCAnY2FuY2VsbGVkJ1xuICAgIHwgJ2ZhaWxlZCdcbiAgICB8ICdjb21wbGV0ZWQnXG4gICAgfCAnZXhwaXJlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKVxuICAgKiB0aGF0IHdhcyBleGVjdXRlZCBvbiBhcyBhIHBhcnQgb2YgdGhpcyBydW4uXG4gICAqL1xuICB0aHJlYWRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgdG9vbHMgdGhhdCB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB1c2VkIGZvclxuICAgKiB0aGlzIHJ1bi5cbiAgICovXG4gIHRvb2xzOiBBcnJheTxSdW4uQXNzaXN0YW50VG9vbHNDb2RlIHwgUnVuLkFzc2lzdGFudFRvb2xzUmV0cmlldmFsIHwgUnVuLkFzc2lzdGFudFRvb2xzRnVuY3Rpb24+O1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1biB7XG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4uIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGFyZSBubyBlcnJvcnMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIExhc3RFcnJvciB7XG4gICAgLyoqXG4gICAgICogT25lIG9mIGBzZXJ2ZXJfZXJyb3JgIG9yIGByYXRlX2xpbWl0X2V4Y2VlZGVkYC5cbiAgICAgKi9cbiAgICBjb2RlOiAnc2VydmVyX2Vycm9yJyB8ICdyYXRlX2xpbWl0X2V4Y2VlZGVkJztcblxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRhaWxzIG9uIHRoZSBhY3Rpb24gcmVxdWlyZWQgdG8gY29udGludWUgdGhlIHJ1bi4gV2lsbCBiZSBgbnVsbGAgaWYgbm8gYWN0aW9uXG4gICAqIGlzIHJlcXVpcmVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBSZXF1aXJlZEFjdGlvbiB7XG4gICAgLyoqXG4gICAgICogRGV0YWlscyBvbiB0aGUgdG9vbCBvdXRwdXRzIG5lZWRlZCBmb3IgdGhpcyBydW4gdG8gY29udGludWUuXG4gICAgICovXG4gICAgc3VibWl0X3Rvb2xfb3V0cHV0czogUmVxdWlyZWRBY3Rpb24uU3VibWl0VG9vbE91dHB1dHM7XG5cbiAgICAvKipcbiAgICAgKiBGb3Igbm93LCB0aGlzIGlzIGFsd2F5cyBgc3VibWl0X3Rvb2xfb3V0cHV0c2AuXG4gICAgICovXG4gICAgdHlwZTogJ3N1Ym1pdF90b29sX291dHB1dHMnO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBSZXF1aXJlZEFjdGlvbiB7XG4gICAgLyoqXG4gICAgICogRGV0YWlscyBvbiB0aGUgdG9vbCBvdXRwdXRzIG5lZWRlZCBmb3IgdGhpcyBydW4gdG8gY29udGludWUuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBTdWJtaXRUb29sT3V0cHV0cyB7XG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiB0aGUgcmVsZXZhbnQgdG9vbCBjYWxscy5cbiAgICAgICAqL1xuICAgICAgdG9vbF9jYWxsczogQXJyYXk8UnVuc0FQSS5SZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGw+O1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNDb2RlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBjb2RlX2ludGVycHJldGVyYFxuICAgICAqL1xuICAgIHR5cGU6ICdjb2RlX2ludGVycHJldGVyJztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNSZXRyaWV2YWwge1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYHJldHJpZXZhbGBcbiAgICAgKi9cbiAgICB0eXBlOiAncmV0cmlldmFsJztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNGdW5jdGlvbiB7XG4gICAgZnVuY3Rpb246IFNoYXJlZC5GdW5jdGlvbkRlZmluaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBmdW5jdGlvbmBcbiAgICAgKi9cbiAgICB0eXBlOiAnZnVuY3Rpb24nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB0byB1c2UgdG9cbiAgICogZXhlY3V0ZSB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBcHBlbmRzIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIGF0IHRoZSBlbmQgb2YgdGhlIGluc3RydWN0aW9ucyBmb3IgdGhlIHJ1bi4gVGhpc1xuICAgKiBpcyB1c2VmdWwgZm9yIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzIHdpdGhvdXQgb3ZlcnJpZGluZyBvdGhlclxuICAgKiBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBhZGRpdGlvbmFsX2luc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGVcbiAgICogW2luc3RydWN0aW9uc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzL2NyZWF0ZUFzc2lzdGFudClcbiAgICogb2YgdGhlIGFzc2lzdGFudC4gVGhpcyBpcyB1c2VmdWwgZm9yIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbTW9kZWxdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzKSB0b1xuICAgKiBiZSB1c2VkIHRvIGV4ZWN1dGUgdGhpcyBydW4uIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgaGVyZSwgaXQgd2lsbCBvdmVycmlkZSB0aGVcbiAgICogbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQuIElmIG5vdCwgdGhlIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICogYXNzaXN0YW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIG1vZGVsPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIHRvb2xzIHRoZSBhc3Npc3RhbnQgY2FuIHVzZSBmb3IgdGhpcyBydW4uIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8XG4gICAgfCBSdW5DcmVhdGVQYXJhbXMuQXNzaXN0YW50VG9vbHNDb2RlXG4gICAgfCBSdW5DcmVhdGVQYXJhbXMuQXNzaXN0YW50VG9vbHNSZXRyaWV2YWxcbiAgICB8IFJ1bkNyZWF0ZVBhcmFtcy5Bc3Npc3RhbnRUb29sc0Z1bmN0aW9uXG4gID4gfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1bkNyZWF0ZVBhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNDb2RlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBjb2RlX2ludGVycHJldGVyYFxuICAgICAqL1xuICAgIHR5cGU6ICdjb2RlX2ludGVycHJldGVyJztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNSZXRyaWV2YWwge1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYHJldHJpZXZhbGBcbiAgICAgKi9cbiAgICB0eXBlOiAncmV0cmlldmFsJztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNGdW5jdGlvbiB7XG4gICAgZnVuY3Rpb246IFNoYXJlZC5GdW5jdGlvbkRlZmluaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBmdW5jdGlvbmBcbiAgICAgKi9cbiAgICB0eXBlOiAnZnVuY3Rpb24nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuVXBkYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQSBjdXJzb3IgZm9yIHVzZSBpbiBwYWdpbmF0aW9uLiBgYmVmb3JlYCBpcyBhbiBvYmplY3QgSUQgdGhhdCBkZWZpbmVzIHlvdXIgcGxhY2VcbiAgICogaW4gdGhlIGxpc3QuIEZvciBpbnN0YW5jZSwgaWYgeW91IG1ha2UgYSBsaXN0IHJlcXVlc3QgYW5kIHJlY2VpdmUgMTAwIG9iamVjdHMsXG4gICAqIGVuZGluZyB3aXRoIG9ial9mb28sIHlvdXIgc3Vic2VxdWVudCBjYWxsIGNhbiBpbmNsdWRlIGJlZm9yZT1vYmpfZm9vIGluIG9yZGVyIHRvXG4gICAqIGZldGNoIHRoZSBwcmV2aW91cyBwYWdlIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgYmVmb3JlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGJ5IHRoZSBgY3JlYXRlZF9hdGAgdGltZXN0YW1wIG9mIHRoZSBvYmplY3RzLiBgYXNjYCBmb3IgYXNjZW5kaW5nXG4gICAqIG9yZGVyIGFuZCBgZGVzY2AgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29scyBmb3Igd2hpY2ggdGhlIG91dHB1dHMgYXJlIGJlaW5nIHN1Ym1pdHRlZC5cbiAgICovXG4gIHRvb2xfb3V0cHV0czogQXJyYXk8UnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMuVG9vbE91dHB1dD47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xPdXRwdXQge1xuICAgIC8qKlxuICAgICAqIFRoZSBvdXRwdXQgb2YgdGhlIHRvb2wgY2FsbCB0byBiZSBzdWJtaXR0ZWQgdG8gY29udGludWUgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBvdXRwdXQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCBpbiB0aGUgYHJlcXVpcmVkX2FjdGlvbmAgb2JqZWN0IHdpdGhpbiB0aGUgcnVuIG9iamVjdFxuICAgICAqIHRoZSBvdXRwdXQgaXMgYmVpbmcgc3VibWl0dGVkIGZvci5cbiAgICAgKi9cbiAgICB0b29sX2NhbGxfaWQ/OiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5zIHtcbiAgZXhwb3J0IGltcG9ydCBSZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGwgPSBSdW5zQVBJLlJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbDtcbiAgZXhwb3J0IGltcG9ydCBSdW4gPSBSdW5zQVBJLlJ1bjtcbiAgZXhwb3J0IGltcG9ydCBSdW5zUGFnZSA9IFJ1bnNBUEkuUnVuc1BhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgUnVuQ3JlYXRlUGFyYW1zID0gUnVuc0FQSS5SdW5DcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgUnVuVXBkYXRlUGFyYW1zID0gUnVuc0FQSS5SdW5VcGRhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgUnVuTGlzdFBhcmFtcyA9IFJ1bnNBUEkuUnVuTGlzdFBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyA9IFJ1bnNBUEkuUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgU3RlcHMgPSBTdGVwc0FQSS5TdGVwcztcbiAgZXhwb3J0IGltcG9ydCBDb2RlVG9vbENhbGwgPSBTdGVwc0FQSS5Db2RlVG9vbENhbGw7XG4gIGV4cG9ydCBpbXBvcnQgRnVuY3Rpb25Ub29sQ2FsbCA9IFN0ZXBzQVBJLkZ1bmN0aW9uVG9vbENhbGw7XG4gIGV4cG9ydCBpbXBvcnQgTWVzc2FnZUNyZWF0aW9uU3RlcERldGFpbHMgPSBTdGVwc0FQSS5NZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscztcbiAgZXhwb3J0IGltcG9ydCBSZXRyaWV2YWxUb29sQ2FsbCA9IFN0ZXBzQVBJLlJldHJpZXZhbFRvb2xDYWxsO1xuICBleHBvcnQgaW1wb3J0IFJ1blN0ZXAgPSBTdGVwc0FQSS5SdW5TdGVwO1xuICBleHBvcnQgaW1wb3J0IFRvb2xDYWxsc1N0ZXBEZXRhaWxzID0gU3RlcHNBUEkuVG9vbENhbGxzU3RlcERldGFpbHM7XG4gIGV4cG9ydCBpbXBvcnQgUnVuU3RlcHNQYWdlID0gU3RlcHNBUEkuUnVuU3RlcHNQYWdlO1xuICBleHBvcnQgaW1wb3J0IFN0ZXBMaXN0UGFyYW1zID0gU3RlcHNBUEkuU3RlcExpc3RQYXJhbXM7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZVwiO1xuaW1wb3J0ICogYXMgVGhyZWFkc0FQSSBmcm9tIFwiLi90aHJlYWRzXCI7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSBcIi4uLy4uL3NoYXJlZFwiO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSBcIi4vbWVzc2FnZXMvbWVzc2FnZXNcIjtcbmltcG9ydCAqIGFzIFJ1bnNBUEkgZnJvbSBcIi4vcnVucy9ydW5zXCI7XG5cbmV4cG9ydCBjbGFzcyBUaHJlYWRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBydW5zOiBSdW5zQVBJLlJ1bnMgPSBuZXcgUnVuc0FQSS5SdW5zKHRoaXMuX2NsaWVudCk7XG4gIG1lc3NhZ2VzOiBNZXNzYWdlc0FQSS5NZXNzYWdlcyA9IG5ldyBNZXNzYWdlc0FQSS5NZXNzYWdlcyh0aGlzLl9jbGllbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0aHJlYWQuXG4gICAqL1xuICBjcmVhdGUoYm9keT86IFRocmVhZENyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VGhyZWFkPjtcbiAgY3JlYXRlKG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRocmVhZD47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBUaHJlYWRDcmVhdGVQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxUaHJlYWQ+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhib2R5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHt9LCBib2R5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdGhyZWFkcycsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSB0aHJlYWQuXG4gICAqL1xuICByZXRyaWV2ZSh0aHJlYWRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxUaHJlYWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RpZmllcyBhIHRocmVhZC5cbiAgICovXG4gIHVwZGF0ZSh0aHJlYWRJZDogc3RyaW5nLCBib2R5OiBUaHJlYWRVcGRhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRocmVhZD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djEnLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgdGhyZWFkLlxuICAgKi9cbiAgZGVsKHRocmVhZElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRocmVhZERlbGV0ZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0aHJlYWQgYW5kIHJ1biBpdCBpbiBvbmUgcmVxdWVzdC5cbiAgICovXG4gIGNyZWF0ZUFuZFJ1bihib2R5OiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFJ1bnNBUEkuUnVuPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdGhyZWFkcy9ydW5zJywge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYxJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHRocmVhZCB0aGF0IGNvbnRhaW5zXG4gKiBbbWVzc2FnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZCB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHRocmVhZCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE6IHVua25vd24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkYC5cbiAgICovXG4gIG9iamVjdDogJ3RocmVhZCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkRGVsZXRlZCB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgZGVsZXRlZDogYm9vbGVhbjtcblxuICBvYmplY3Q6ICd0aHJlYWQuZGVsZXRlZCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBbbWVzc2FnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMpIHRvXG4gICAqIHN0YXJ0IHRoZSB0aHJlYWQgd2l0aC5cbiAgICovXG4gIG1lc3NhZ2VzPzogQXJyYXk8VGhyZWFkQ3JlYXRlUGFyYW1zLk1lc3NhZ2U+O1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAqL1xuICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFRocmVhZENyZWF0ZVBhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvbGUgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGNyZWF0aW5nIHRoZSBtZXNzYWdlLiBDdXJyZW50bHkgb25seSBgdXNlcmAgaXNcbiAgICAgKiBzdXBwb3J0ZWQuXG4gICAgICovXG4gICAgcm9sZTogJ3VzZXInO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgdGhhdFxuICAgICAqIHRoZSBtZXNzYWdlIHNob3VsZCB1c2UuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTAgZmlsZXMgYXR0YWNoZWQgdG8gYVxuICAgICAqIG1lc3NhZ2UuIFVzZWZ1bCBmb3IgdG9vbHMgbGlrZSBgcmV0cmlldmFsYCBhbmQgYGNvZGVfaW50ZXJwcmV0ZXJgIHRoYXQgY2FuXG4gICAgICogYWNjZXNzIGFuZCB1c2UgZmlsZXMuXG4gICAgICovXG4gICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICogY2hhcmFjdGVycyBsb25nLlxuICAgICAqL1xuICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRVcGRhdGVQYXJhbXMge1xuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHRvIHVzZSB0b1xuICAgKiBleGVjdXRlIHRoaXMgcnVuLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IHN5c3RlbSBtZXNzYWdlIG9mIHRoZSBhc3Npc3RhbnQuIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW01vZGVsXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscykgdG9cbiAgICogYmUgdXNlZCB0byBleGVjdXRlIHRoaXMgcnVuLiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkIGhlcmUsIGl0IHdpbGwgb3ZlcnJpZGUgdGhlXG4gICAqIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXNzaXN0YW50LiBJZiBub3QsIHRoZSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAqIGFzc2lzdGFudCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBtb2RlbD86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElmIG5vIHRocmVhZCBpcyBwcm92aWRlZCwgYW4gZW1wdHkgdGhyZWFkIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIHRocmVhZD86IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcy5UaHJlYWQ7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSB0b29scyB0aGUgYXNzaXN0YW50IGNhbiB1c2UgZm9yIHRoaXMgcnVuLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICB0b29scz86IEFycmF5PFxuICAgIHwgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zLkFzc2lzdGFudFRvb2xzQ29kZVxuICAgIHwgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zLkFzc2lzdGFudFRvb2xzUmV0cmlldmFsXG4gICAgfCBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMuQXNzaXN0YW50VG9vbHNGdW5jdGlvblxuICA+IHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMge1xuICAvKipcbiAgICogSWYgbm8gdGhyZWFkIGlzIHByb3ZpZGVkLCBhbiBlbXB0eSB0aHJlYWQgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWQge1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBbbWVzc2FnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMpIHRvXG4gICAgICogc3RhcnQgdGhlIHRocmVhZCB3aXRoLlxuICAgICAqL1xuICAgIG1lc3NhZ2VzPzogQXJyYXk8VGhyZWFkLk1lc3NhZ2U+O1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICogY2hhcmFjdGVycyBsb25nLlxuICAgICAqL1xuICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRocmVhZCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgcm9sZSBvZiB0aGUgZW50aXR5IHRoYXQgaXMgY3JlYXRpbmcgdGhlIG1lc3NhZ2UuIEN1cnJlbnRseSBvbmx5IGB1c2VyYCBpc1xuICAgICAgICogc3VwcG9ydGVkLlxuICAgICAgICovXG4gICAgICByb2xlOiAndXNlcic7XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgdGhhdFxuICAgICAgICogdGhlIG1lc3NhZ2Ugc2hvdWxkIHVzZS4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMCBmaWxlcyBhdHRhY2hlZCB0byBhXG4gICAgICAgKiBtZXNzYWdlLiBVc2VmdWwgZm9yIHRvb2xzIGxpa2UgYHJldHJpZXZhbGAgYW5kIGBjb2RlX2ludGVycHJldGVyYCB0aGF0IGNhblxuICAgICAgICogYWNjZXNzIGFuZCB1c2UgZmlsZXMuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAgICAgKi9cbiAgICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRUb29sc0NvZGUge1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGNvZGVfaW50ZXJwcmV0ZXJgXG4gICAgICovXG4gICAgdHlwZTogJ2NvZGVfaW50ZXJwcmV0ZXInO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRUb29sc1JldHJpZXZhbCB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdG9vbCBiZWluZyBkZWZpbmVkOiBgcmV0cmlldmFsYFxuICAgICAqL1xuICAgIHR5cGU6ICdyZXRyaWV2YWwnO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRUb29sc0Z1bmN0aW9uIHtcbiAgICBmdW5jdGlvbjogU2hhcmVkLkZ1bmN0aW9uRGVmaW5pdGlvbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZ1bmN0aW9uYFxuICAgICAqL1xuICAgIHR5cGU6ICdmdW5jdGlvbic7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRzIHtcbiAgZXhwb3J0IGltcG9ydCBUaHJlYWQgPSBUaHJlYWRzQVBJLlRocmVhZDtcbiAgZXhwb3J0IGltcG9ydCBUaHJlYWREZWxldGVkID0gVGhyZWFkc0FQSS5UaHJlYWREZWxldGVkO1xuICBleHBvcnQgaW1wb3J0IFRocmVhZENyZWF0ZVBhcmFtcyA9IFRocmVhZHNBUEkuVGhyZWFkQ3JlYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IFRocmVhZFVwZGF0ZVBhcmFtcyA9IFRocmVhZHNBUEkuVGhyZWFkVXBkYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcyA9IFRocmVhZHNBUEkuVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IFJ1bnMgPSBSdW5zQVBJLlJ1bnM7XG4gIGV4cG9ydCBpbXBvcnQgUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsID0gUnVuc0FQSS5SZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGw7XG4gIGV4cG9ydCBpbXBvcnQgUnVuID0gUnVuc0FQSS5SdW47XG4gIGV4cG9ydCBpbXBvcnQgUnVuc1BhZ2UgPSBSdW5zQVBJLlJ1bnNQYWdlO1xuICBleHBvcnQgaW1wb3J0IFJ1bkNyZWF0ZVBhcmFtcyA9IFJ1bnNBUEkuUnVuQ3JlYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IFJ1blVwZGF0ZVBhcmFtcyA9IFJ1bnNBUEkuUnVuVXBkYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IFJ1bkxpc3RQYXJhbXMgPSBSdW5zQVBJLlJ1bkxpc3RQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMgPSBSdW5zQVBJLlJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IE1lc3NhZ2VzID0gTWVzc2FnZXNBUEkuTWVzc2FnZXM7XG4gIGV4cG9ydCBpbXBvcnQgTWVzc2FnZUNvbnRlbnRJbWFnZUZpbGUgPSBNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudEltYWdlRmlsZTtcbiAgZXhwb3J0IGltcG9ydCBNZXNzYWdlQ29udGVudFRleHQgPSBNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudFRleHQ7XG4gIGV4cG9ydCBpbXBvcnQgVGhyZWFkTWVzc2FnZSA9IE1lc3NhZ2VzQVBJLlRocmVhZE1lc3NhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgVGhyZWFkTWVzc2FnZURlbGV0ZWQgPSBNZXNzYWdlc0FQSS5UaHJlYWRNZXNzYWdlRGVsZXRlZDtcbiAgZXhwb3J0IGltcG9ydCBUaHJlYWRNZXNzYWdlc1BhZ2UgPSBNZXNzYWdlc0FQSS5UaHJlYWRNZXNzYWdlc1BhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgTWVzc2FnZUNyZWF0ZVBhcmFtcyA9IE1lc3NhZ2VzQVBJLk1lc3NhZ2VDcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgTWVzc2FnZVVwZGF0ZVBhcmFtcyA9IE1lc3NhZ2VzQVBJLk1lc3NhZ2VVcGRhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgTWVzc2FnZUxpc3RQYXJhbXMgPSBNZXNzYWdlc0FQSS5NZXNzYWdlTGlzdFBhcmFtcztcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0ICogYXMgQXNzaXN0YW50c0FQSSBmcm9tIFwiLi9hc3Npc3RhbnRzL2Fzc2lzdGFudHNcIjtcbmltcG9ydCAqIGFzIENoYXRBUEkgZnJvbSBcIi4vY2hhdC9jaGF0XCI7XG5pbXBvcnQgKiBhcyBUaHJlYWRzQVBJIGZyb20gXCIuL3RocmVhZHMvdGhyZWFkc1wiO1xuXG5leHBvcnQgY2xhc3MgQmV0YSBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY2hhdDogQ2hhdEFQSS5DaGF0ID0gbmV3IENoYXRBUEkuQ2hhdCh0aGlzLl9jbGllbnQpO1xuICBhc3Npc3RhbnRzOiBBc3Npc3RhbnRzQVBJLkFzc2lzdGFudHMgPSBuZXcgQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRzKHRoaXMuX2NsaWVudCk7XG4gIHRocmVhZHM6IFRocmVhZHNBUEkuVGhyZWFkcyA9IG5ldyBUaHJlYWRzQVBJLlRocmVhZHModGhpcy5fY2xpZW50KTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBCZXRhIHtcbiAgZXhwb3J0IGltcG9ydCBDaGF0ID0gQ2hhdEFQSS5DaGF0O1xuICBleHBvcnQgaW1wb3J0IEFzc2lzdGFudHMgPSBBc3Npc3RhbnRzQVBJLkFzc2lzdGFudHM7XG4gIGV4cG9ydCBpbXBvcnQgQXNzaXN0YW50ID0gQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnQ7XG4gIGV4cG9ydCBpbXBvcnQgQXNzaXN0YW50RGVsZXRlZCA9IEFzc2lzdGFudHNBUEkuQXNzaXN0YW50RGVsZXRlZDtcbiAgZXhwb3J0IGltcG9ydCBBc3Npc3RhbnRzUGFnZSA9IEFzc2lzdGFudHNBUEkuQXNzaXN0YW50c1BhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQXNzaXN0YW50Q3JlYXRlUGFyYW1zID0gQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRDcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgQXNzaXN0YW50VXBkYXRlUGFyYW1zID0gQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRVcGRhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgQXNzaXN0YW50TGlzdFBhcmFtcyA9IEFzc2lzdGFudHNBUEkuQXNzaXN0YW50TGlzdFBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBUaHJlYWRzID0gVGhyZWFkc0FQSS5UaHJlYWRzO1xuICBleHBvcnQgaW1wb3J0IFRocmVhZCA9IFRocmVhZHNBUEkuVGhyZWFkO1xuICBleHBvcnQgaW1wb3J0IFRocmVhZERlbGV0ZWQgPSBUaHJlYWRzQVBJLlRocmVhZERlbGV0ZWQ7XG4gIGV4cG9ydCBpbXBvcnQgVGhyZWFkQ3JlYXRlUGFyYW1zID0gVGhyZWFkc0FQSS5UaHJlYWRDcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgVGhyZWFkVXBkYXRlUGFyYW1zID0gVGhyZWFkc0FQSS5UaHJlYWRVcGRhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zID0gVGhyZWFkc0FQSS5UaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXM7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNBUEkgZnJvbSBcIi4vY29tcGxldGlvbnNcIjtcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuLi9zdHJlYW1pbmdcIjtcblxuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIGNvbXBsZXRpb24gZm9yIHRoZSBwcm92aWRlZCBwcm9tcHQgYW5kIHBhcmFtZXRlcnMuXG4gICAqL1xuICBjcmVhdGUoYm9keTogQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBBUElQcm9taXNlPENvbXBsZXRpb24+O1xuICBjcmVhdGUoXG4gICAgYm9keTogQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08Q29tcGxldGlvbj4+O1xuICBjcmVhdGUoXG4gICAgYm9keTogQ29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2UsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPENvbXBsZXRpb24+IHwgQ29tcGxldGlvbj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPENvbXBsZXRpb24+IHwgQVBJUHJvbWlzZTxTdHJlYW08Q29tcGxldGlvbj4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KSBhc1xuICAgICAgfCBBUElQcm9taXNlPENvbXBsZXRpb24+XG4gICAgICB8IEFQSVByb21pc2U8U3RyZWFtPENvbXBsZXRpb24+PjtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb21wbGV0aW9uIHJlc3BvbnNlIGZyb20gdGhlIEFQSS4gTm90ZTogYm90aCB0aGUgc3RyZWFtZWQgYW5kXG4gKiBub24tc3RyZWFtZWQgcmVzcG9uc2Ugb2JqZWN0cyBzaGFyZSB0aGUgc2FtZSBzaGFwZSAodW5saWtlIHRoZSBjaGF0IGVuZHBvaW50KS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uIHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb21wbGV0aW9uLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgY29tcGxldGlvbiBjaG9pY2VzIHRoZSBtb2RlbCBnZW5lcmF0ZWQgZm9yIHRoZSBpbnB1dCBwcm9tcHQuXG4gICAqL1xuICBjaG9pY2VzOiBBcnJheTxDb21wbGV0aW9uQ2hvaWNlPjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBvZiB3aGVuIHRoZSBjb21wbGV0aW9uIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwgdXNlZCBmb3IgY29tcGxldGlvbi5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIFwidGV4dF9jb21wbGV0aW9uXCJcbiAgICovXG4gIG9iamVjdDogJ3RleHRfY29tcGxldGlvbic7XG5cbiAgLyoqXG4gICAqIFRoaXMgZmluZ2VycHJpbnQgcmVwcmVzZW50cyB0aGUgYmFja2VuZCBjb25maWd1cmF0aW9uIHRoYXQgdGhlIG1vZGVsIHJ1bnMgd2l0aC5cbiAgICpcbiAgICogQ2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgYHNlZWRgIHJlcXVlc3QgcGFyYW1ldGVyIHRvIHVuZGVyc3RhbmQgd2hlblxuICAgKiBiYWNrZW5kIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGUgdGhhdCBtaWdodCBpbXBhY3QgZGV0ZXJtaW5pc20uXG4gICAqL1xuICBzeXN0ZW1fZmluZ2VycHJpbnQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFVzYWdlIHN0YXRpc3RpY3MgZm9yIHRoZSBjb21wbGV0aW9uIHJlcXVlc3QuXG4gICAqL1xuICB1c2FnZT86IENvbXBsZXRpb25Vc2FnZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uQ2hvaWNlIHtcbiAgLyoqXG4gICAqIFRoZSByZWFzb24gdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuIFRoaXMgd2lsbCBiZSBgc3RvcGAgaWYgdGhlIG1vZGVsXG4gICAqIGhpdCBhIG5hdHVyYWwgc3RvcCBwb2ludCBvciBhIHByb3ZpZGVkIHN0b3Agc2VxdWVuY2UsIGBsZW5ndGhgIGlmIHRoZSBtYXhpbXVtXG4gICAqIG51bWJlciBvZiB0b2tlbnMgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IHdhcyByZWFjaGVkLCBvciBgY29udGVudF9maWx0ZXJgIGlmXG4gICAqIGNvbnRlbnQgd2FzIG9taXR0ZWQgZHVlIHRvIGEgZmxhZyBmcm9tIG91ciBjb250ZW50IGZpbHRlcnMuXG4gICAqL1xuICBmaW5pc2hfcmVhc29uOiAnc3RvcCcgfCAnbGVuZ3RoJyB8ICdjb250ZW50X2ZpbHRlcic7XG5cbiAgaW5kZXg6IG51bWJlcjtcblxuICBsb2dwcm9iczogQ29tcGxldGlvbkNob2ljZS5Mb2dwcm9icyB8IG51bGw7XG5cbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvbXBsZXRpb25DaG9pY2Uge1xuICBleHBvcnQgaW50ZXJmYWNlIExvZ3Byb2JzIHtcbiAgICB0ZXh0X29mZnNldD86IEFycmF5PG51bWJlcj47XG5cbiAgICB0b2tlbl9sb2dwcm9icz86IEFycmF5PG51bWJlcj47XG5cbiAgICB0b2tlbnM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgdG9wX2xvZ3Byb2JzPzogQXJyYXk8UmVjb3JkPHN0cmluZywgbnVtYmVyPj47XG4gIH1cbn1cblxuLyoqXG4gKiBVc2FnZSBzdGF0aXN0aWNzIGZvciB0aGUgY29tcGxldGlvbiByZXF1ZXN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25Vc2FnZSB7XG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBnZW5lcmF0ZWQgY29tcGxldGlvbi5cbiAgICovXG4gIGNvbXBsZXRpb25fdG9rZW5zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHByb21wdC5cbiAgICovXG4gIHByb21wdF90b2tlbnM6IG51bWJlcjtcblxuICAvKipcbiAgICogVG90YWwgbnVtYmVyIG9mIHRva2VucyB1c2VkIGluIHRoZSByZXF1ZXN0IChwcm9tcHQgKyBjb21wbGV0aW9uKS5cbiAgICovXG4gIHRvdGFsX3Rva2VuczogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zID0gQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyB8IENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL292ZXJ2aWV3KSBmb3JcbiAgICogZGVzY3JpcHRpb25zIG9mIHRoZW0uXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8ICdncHQtMy41LXR1cmJvLWluc3RydWN0JyB8ICdkYXZpbmNpLTAwMicgfCAnYmFiYmFnZS0wMDInO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvbXB0KHMpIHRvIGdlbmVyYXRlIGNvbXBsZXRpb25zIGZvciwgZW5jb2RlZCBhcyBhIHN0cmluZywgYXJyYXkgb2ZcbiAgICogc3RyaW5ncywgYXJyYXkgb2YgdG9rZW5zLCBvciBhcnJheSBvZiB0b2tlbiBhcnJheXMuXG4gICAqXG4gICAqIE5vdGUgdGhhdCA8fGVuZG9mdGV4dHw+IGlzIHRoZSBkb2N1bWVudCBzZXBhcmF0b3IgdGhhdCB0aGUgbW9kZWwgc2VlcyBkdXJpbmdcbiAgICogdHJhaW5pbmcsIHNvIGlmIGEgcHJvbXB0IGlzIG5vdCBzcGVjaWZpZWQgdGhlIG1vZGVsIHdpbGwgZ2VuZXJhdGUgYXMgaWYgZnJvbSB0aGVcbiAgICogYmVnaW5uaW5nIG9mIGEgbmV3IGRvY3VtZW50LlxuICAgKi9cbiAgcHJvbXB0OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+IHwgQXJyYXk8bnVtYmVyPiB8IEFycmF5PEFycmF5PG51bWJlcj4+IHwgbnVsbDtcblxuICAvKipcbiAgICogR2VuZXJhdGVzIGBiZXN0X29mYCBjb21wbGV0aW9ucyBzZXJ2ZXItc2lkZSBhbmQgcmV0dXJucyB0aGUgXCJiZXN0XCIgKHRoZSBvbmUgd2l0aFxuICAgKiB0aGUgaGlnaGVzdCBsb2cgcHJvYmFiaWxpdHkgcGVyIHRva2VuKS4gUmVzdWx0cyBjYW5ub3QgYmUgc3RyZWFtZWQuXG4gICAqXG4gICAqIFdoZW4gdXNlZCB3aXRoIGBuYCwgYGJlc3Rfb2ZgIGNvbnRyb2xzIHRoZSBudW1iZXIgb2YgY2FuZGlkYXRlIGNvbXBsZXRpb25zIGFuZFxuICAgKiBgbmAgc3BlY2lmaWVzIGhvdyBtYW55IHRvIHJldHVybiBcdTIwMTMgYGJlc3Rfb2ZgIG11c3QgYmUgZ3JlYXRlciB0aGFuIGBuYC5cbiAgICpcbiAgICogKipOb3RlOioqIEJlY2F1c2UgdGhpcyBwYXJhbWV0ZXIgZ2VuZXJhdGVzIG1hbnkgY29tcGxldGlvbnMsIGl0IGNhbiBxdWlja2x5XG4gICAqIGNvbnN1bWUgeW91ciB0b2tlbiBxdW90YS4gVXNlIGNhcmVmdWxseSBhbmQgZW5zdXJlIHRoYXQgeW91IGhhdmUgcmVhc29uYWJsZVxuICAgKiBzZXR0aW5ncyBmb3IgYG1heF90b2tlbnNgIGFuZCBgc3RvcGAuXG4gICAqL1xuICBiZXN0X29mPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogRWNobyBiYWNrIHRoZSBwcm9tcHQgaW4gYWRkaXRpb24gdG8gdGhlIGNvbXBsZXRpb25cbiAgICovXG4gIGVjaG8/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogTnVtYmVyIGJldHdlZW4gLTIuMCBhbmQgMi4wLiBQb3NpdGl2ZSB2YWx1ZXMgcGVuYWxpemUgbmV3IHRva2VucyBiYXNlZCBvbiB0aGVpclxuICAgKiBleGlzdGluZyBmcmVxdWVuY3kgaW4gdGhlIHRleHQgc28gZmFyLCBkZWNyZWFzaW5nIHRoZSBtb2RlbCdzIGxpa2VsaWhvb2QgdG9cbiAgICogcmVwZWF0IHRoZSBzYW1lIGxpbmUgdmVyYmF0aW0uXG4gICAqXG4gICAqIFtTZWUgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBmcmVxdWVuY3kgYW5kIHByZXNlbmNlIHBlbmFsdGllcy5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0LWdlbmVyYXRpb24vcGFyYW1ldGVyLWRldGFpbHMpXG4gICAqL1xuICBmcmVxdWVuY3lfcGVuYWx0eT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE1vZGlmeSB0aGUgbGlrZWxpaG9vZCBvZiBzcGVjaWZpZWQgdG9rZW5zIGFwcGVhcmluZyBpbiB0aGUgY29tcGxldGlvbi5cbiAgICpcbiAgICogQWNjZXB0cyBhIEpTT04gb2JqZWN0IHRoYXQgbWFwcyB0b2tlbnMgKHNwZWNpZmllZCBieSB0aGVpciB0b2tlbiBJRCBpbiB0aGUgR1BUXG4gICAqIHRva2VuaXplcikgdG8gYW4gYXNzb2NpYXRlZCBiaWFzIHZhbHVlIGZyb20gLTEwMCB0byAxMDAuIFlvdSBjYW4gdXNlIHRoaXNcbiAgICogW3Rva2VuaXplciB0b29sXSgvdG9rZW5pemVyP3ZpZXc9YnBlKSB0byBjb252ZXJ0IHRleHQgdG8gdG9rZW4gSURzLlxuICAgKiBNYXRoZW1hdGljYWxseSwgdGhlIGJpYXMgaXMgYWRkZWQgdG8gdGhlIGxvZ2l0cyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIHByaW9yIHRvXG4gICAqIHNhbXBsaW5nLiBUaGUgZXhhY3QgZWZmZWN0IHdpbGwgdmFyeSBwZXIgbW9kZWwsIGJ1dCB2YWx1ZXMgYmV0d2VlbiAtMSBhbmQgMVxuICAgKiBzaG91bGQgZGVjcmVhc2Ugb3IgaW5jcmVhc2UgbGlrZWxpaG9vZCBvZiBzZWxlY3Rpb247IHZhbHVlcyBsaWtlIC0xMDAgb3IgMTAwXG4gICAqIHNob3VsZCByZXN1bHQgaW4gYSBiYW4gb3IgZXhjbHVzaXZlIHNlbGVjdGlvbiBvZiB0aGUgcmVsZXZhbnQgdG9rZW4uXG4gICAqXG4gICAqIEFzIGFuIGV4YW1wbGUsIHlvdSBjYW4gcGFzcyBge1wiNTAyNTZcIjogLTEwMH1gIHRvIHByZXZlbnQgdGhlIDx8ZW5kb2Z0ZXh0fD4gdG9rZW5cbiAgICogZnJvbSBiZWluZyBnZW5lcmF0ZWQuXG4gICAqL1xuICBsb2dpdF9iaWFzPzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEluY2x1ZGUgdGhlIGxvZyBwcm9iYWJpbGl0aWVzIG9uIHRoZSBgbG9ncHJvYnNgIG1vc3QgbGlrZWx5IG91dHB1dCB0b2tlbnMsIGFzXG4gICAqIHdlbGwgdGhlIGNob3NlbiB0b2tlbnMuIEZvciBleGFtcGxlLCBpZiBgbG9ncHJvYnNgIGlzIDUsIHRoZSBBUEkgd2lsbCByZXR1cm4gYVxuICAgKiBsaXN0IG9mIHRoZSA1IG1vc3QgbGlrZWx5IHRva2Vucy4gVGhlIEFQSSB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIGBsb2dwcm9iYCBvZlxuICAgKiB0aGUgc2FtcGxlZCB0b2tlbiwgc28gdGhlcmUgbWF5IGJlIHVwIHRvIGBsb2dwcm9icysxYCBlbGVtZW50cyBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIFRoZSBtYXhpbXVtIHZhbHVlIGZvciBgbG9ncHJvYnNgIGlzIDUuXG4gICAqL1xuICBsb2dwcm9icz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBbdG9rZW5zXSgvdG9rZW5pemVyKSB0aGF0IGNhbiBiZSBnZW5lcmF0ZWQgaW4gdGhlXG4gICAqIGNvbXBsZXRpb24uXG4gICAqXG4gICAqIFRoZSB0b2tlbiBjb3VudCBvZiB5b3VyIHByb21wdCBwbHVzIGBtYXhfdG9rZW5zYCBjYW5ub3QgZXhjZWVkIHRoZSBtb2RlbCdzXG4gICAqIGNvbnRleHQgbGVuZ3RoLlxuICAgKiBbRXhhbXBsZSBQeXRob24gY29kZV0oaHR0cHM6Ly9jb29rYm9vay5vcGVuYWkuY29tL2V4YW1wbGVzL2hvd190b19jb3VudF90b2tlbnNfd2l0aF90aWt0b2tlbilcbiAgICogZm9yIGNvdW50aW5nIHRva2Vucy5cbiAgICovXG4gIG1heF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBIb3cgbWFueSBjb21wbGV0aW9ucyB0byBnZW5lcmF0ZSBmb3IgZWFjaCBwcm9tcHQuXG4gICAqXG4gICAqICoqTm90ZToqKiBCZWNhdXNlIHRoaXMgcGFyYW1ldGVyIGdlbmVyYXRlcyBtYW55IGNvbXBsZXRpb25zLCBpdCBjYW4gcXVpY2tseVxuICAgKiBjb25zdW1lIHlvdXIgdG9rZW4gcXVvdGEuIFVzZSBjYXJlZnVsbHkgYW5kIGVuc3VyZSB0aGF0IHlvdSBoYXZlIHJlYXNvbmFibGVcbiAgICogc2V0dGluZ3MgZm9yIGBtYXhfdG9rZW5zYCBhbmQgYHN0b3BgLlxuICAgKi9cbiAgbj86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE51bWJlciBiZXR3ZWVuIC0yLjAgYW5kIDIuMC4gUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIG5ldyB0b2tlbnMgYmFzZWQgb25cbiAgICogd2hldGhlciB0aGV5IGFwcGVhciBpbiB0aGUgdGV4dCBzbyBmYXIsIGluY3JlYXNpbmcgdGhlIG1vZGVsJ3MgbGlrZWxpaG9vZCB0b1xuICAgKiB0YWxrIGFib3V0IG5ldyB0b3BpY3MuXG4gICAqXG4gICAqIFtTZWUgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBmcmVxdWVuY3kgYW5kIHByZXNlbmNlIHBlbmFsdGllcy5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0LWdlbmVyYXRpb24vcGFyYW1ldGVyLWRldGFpbHMpXG4gICAqL1xuICBwcmVzZW5jZV9wZW5hbHR5PzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogSWYgc3BlY2lmaWVkLCBvdXIgc3lzdGVtIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHNhbXBsZSBkZXRlcm1pbmlzdGljYWxseSxcbiAgICogc3VjaCB0aGF0IHJlcGVhdGVkIHJlcXVlc3RzIHdpdGggdGhlIHNhbWUgYHNlZWRgIGFuZCBwYXJhbWV0ZXJzIHNob3VsZCByZXR1cm5cbiAgICogdGhlIHNhbWUgcmVzdWx0LlxuICAgKlxuICAgKiBEZXRlcm1pbmlzbSBpcyBub3QgZ3VhcmFudGVlZCwgYW5kIHlvdSBzaG91bGQgcmVmZXIgdG8gdGhlIGBzeXN0ZW1fZmluZ2VycHJpbnRgXG4gICAqIHJlc3BvbnNlIHBhcmFtZXRlciB0byBtb25pdG9yIGNoYW5nZXMgaW4gdGhlIGJhY2tlbmQuXG4gICAqL1xuICBzZWVkPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVXAgdG8gNCBzZXF1ZW5jZXMgd2hlcmUgdGhlIEFQSSB3aWxsIHN0b3AgZ2VuZXJhdGluZyBmdXJ0aGVyIHRva2Vucy4gVGhlXG4gICAqIHJldHVybmVkIHRleHQgd2lsbCBub3QgY29udGFpbiB0aGUgc3RvcCBzZXF1ZW5jZS5cbiAgICovXG4gIHN0b3A/OiBzdHJpbmcgfCBudWxsIHwgQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBzdHJlYW0gYmFjayBwYXJ0aWFsIHByb2dyZXNzLiBJZiBzZXQsIHRva2VucyB3aWxsIGJlIHNlbnQgYXNcbiAgICogZGF0YS1vbmx5XG4gICAqIFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpXG4gICAqIGFzIHRoZXkgYmVjb21lIGF2YWlsYWJsZSwgd2l0aCB0aGUgc3RyZWFtIHRlcm1pbmF0ZWQgYnkgYSBgZGF0YTogW0RPTkVdYFxuICAgKiBtZXNzYWdlLlxuICAgKiBbRXhhbXBsZSBQeXRob24gY29kZV0oaHR0cHM6Ly9jb29rYm9vay5vcGVuYWkuY29tL2V4YW1wbGVzL2hvd190b19zdHJlYW1fY29tcGxldGlvbnMpLlxuICAgKi9cbiAgc3RyZWFtPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzdWZmaXggdGhhdCBjb21lcyBhZnRlciBhIGNvbXBsZXRpb24gb2YgaW5zZXJ0ZWQgdGV4dC5cbiAgICovXG4gIHN1ZmZpeD86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbFxuICAgKiBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZVxuICAgKiBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgYHRvcF9wYCBidXQgbm90IGJvdGguXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0ZW1wZXJhdHVyZWAgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHtcbiAgZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmc7XG4gIGV4cG9ydCB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgZXh0ZW5kcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN0cmVhbSBiYWNrIHBhcnRpYWwgcHJvZ3Jlc3MuIElmIHNldCwgdG9rZW5zIHdpbGwgYmUgc2VudCBhc1xuICAgKiBkYXRhLW9ubHlcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdClcbiAgICogYXMgdGhleSBiZWNvbWUgYXZhaWxhYmxlLCB3aXRoIHRoZSBzdHJlYW0gdGVybWluYXRlZCBieSBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqIFtFeGFtcGxlIFB5dGhvbiBjb2RlXShodHRwczovL2Nvb2tib29rLm9wZW5haS5jb20vZXhhbXBsZXMvaG93X3RvX3N0cmVhbV9jb21wbGV0aW9ucykuXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZSB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBleHRlbmRzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3RyZWFtIGJhY2sgcGFydGlhbCBwcm9ncmVzcy4gSWYgc2V0LCB0b2tlbnMgd2lsbCBiZSBzZW50IGFzXG4gICAqIGRhdGEtb25seVxuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KVxuICAgKiBhcyB0aGV5IGJlY29tZSBhdmFpbGFibGUsIHdpdGggdGhlIHN0cmVhbSB0ZXJtaW5hdGVkIGJ5IGEgYGRhdGE6IFtET05FXWBcbiAgICogbWVzc2FnZS5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fc3RyZWFtX2NvbXBsZXRpb25zKS5cbiAgICovXG4gIHN0cmVhbTogdHJ1ZTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb21wbGV0aW9ucyB7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvbiA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb247XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvbkNob2ljZSA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25DaG9pY2U7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvblVzYWdlID0gQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvblVzYWdlO1xuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb25DcmVhdGVQYXJhbXMgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBFbWJlZGRpbmdzQVBJIGZyb20gXCIuL2VtYmVkZGluZ3NcIjtcblxuZXhwb3J0IGNsYXNzIEVtYmVkZGluZ3MgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVtYmVkZGluZyB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBpbnB1dCB0ZXh0LlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIGJvZHk6IEVtYmVkZGluZ0NyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZW1iZWRkaW5ncycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGVtYmVkZGluZ3MgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIGRhdGE6IEFycmF5PEVtYmVkZGluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBtb2RlbCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBlbWJlZGRpbmcuXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBcImxpc3RcIi5cbiAgICovXG4gIG9iamVjdDogJ2xpc3QnO1xuXG4gIC8qKlxuICAgKiBUaGUgdXNhZ2UgaW5mb3JtYXRpb24gZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgdXNhZ2U6IENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlLlVzYWdlO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFRoZSB1c2FnZSBpbmZvcm1hdGlvbiBmb3IgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFVzYWdlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHRva2VucyB1c2VkIGJ5IHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgcHJvbXB0X3Rva2VuczogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiB0b2tlbnMgdXNlZCBieSB0aGUgcmVxdWVzdC5cbiAgICAgKi9cbiAgICB0b3RhbF90b2tlbnM6IG51bWJlcjtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZW1iZWRkaW5nIHZlY3RvciByZXR1cm5lZCBieSBlbWJlZGRpbmcgZW5kcG9pbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRW1iZWRkaW5nIHtcbiAgLyoqXG4gICAqIFRoZSBlbWJlZGRpbmcgdmVjdG9yLCB3aGljaCBpcyBhIGxpc3Qgb2YgZmxvYXRzLiBUaGUgbGVuZ3RoIG9mIHZlY3RvciBkZXBlbmRzIG9uXG4gICAqIHRoZSBtb2RlbCBhcyBsaXN0ZWQgaW4gdGhlXG4gICAqIFtlbWJlZGRpbmcgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9lbWJlZGRpbmdzKS5cbiAgICovXG4gIGVtYmVkZGluZzogQXJyYXk8bnVtYmVyPjtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBlbWJlZGRpbmcgaW4gdGhlIGxpc3Qgb2YgZW1iZWRkaW5ncy5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIFwiZW1iZWRkaW5nXCIuXG4gICAqL1xuICBvYmplY3Q6ICdlbWJlZGRpbmcnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtYmVkZGluZ0NyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBJbnB1dCB0ZXh0IHRvIGVtYmVkLCBlbmNvZGVkIGFzIGEgc3RyaW5nIG9yIGFycmF5IG9mIHRva2Vucy4gVG8gZW1iZWQgbXVsdGlwbGVcbiAgICogaW5wdXRzIGluIGEgc2luZ2xlIHJlcXVlc3QsIHBhc3MgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBhcnJheSBvZiB0b2tlbiBhcnJheXMuXG4gICAqIFRoZSBpbnB1dCBtdXN0IG5vdCBleGNlZWQgdGhlIG1heCBpbnB1dCB0b2tlbnMgZm9yIHRoZSBtb2RlbCAoODE5MiB0b2tlbnMgZm9yXG4gICAqIGB0ZXh0LWVtYmVkZGluZy1hZGEtMDAyYCksIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcsIGFuZCBhbnkgYXJyYXkgbXVzdCBiZSAyMDQ4XG4gICAqIGRpbWVuc2lvbnMgb3IgbGVzcy5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fY291bnRfdG9rZW5zX3dpdGhfdGlrdG9rZW4pXG4gICAqIGZvciBjb3VudGluZyB0b2tlbnMuXG4gICAqL1xuICBpbnB1dDogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPiB8IEFycmF5PG51bWJlcj4gfCBBcnJheTxBcnJheTxudW1iZXI+PjtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL292ZXJ2aWV3KSBmb3JcbiAgICogZGVzY3JpcHRpb25zIG9mIHRoZW0uXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8ICd0ZXh0LWVtYmVkZGluZy1hZGEtMDAyJztcblxuICAvKipcbiAgICogVGhlIGZvcm1hdCB0byByZXR1cm4gdGhlIGVtYmVkZGluZ3MgaW4uIENhbiBiZSBlaXRoZXIgYGZsb2F0YCBvclxuICAgKiBbYGJhc2U2NGBdKGh0dHBzOi8vcHlwaS5vcmcvcHJvamVjdC9weWJhc2U2NC8pLlxuICAgKi9cbiAgZW5jb2RpbmdfZm9ybWF0PzogJ2Zsb2F0JyB8ICdiYXNlNjQnO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBFbWJlZGRpbmdzIHtcbiAgZXhwb3J0IGltcG9ydCBDcmVhdGVFbWJlZGRpbmdSZXNwb25zZSA9IEVtYmVkZGluZ3NBUEkuQ3JlYXRlRW1iZWRkaW5nUmVzcG9uc2U7XG4gIGV4cG9ydCBpbXBvcnQgRW1iZWRkaW5nID0gRW1iZWRkaW5nc0FQSS5FbWJlZGRpbmc7XG4gIGV4cG9ydCBpbXBvcnQgRW1iZWRkaW5nQ3JlYXRlUGFyYW1zID0gRW1iZWRkaW5nc0FQSS5FbWJlZGRpbmdDcmVhdGVQYXJhbXM7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cblxuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vY29yZVwiO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vY29yZVwiO1xuaW1wb3J0IHsgdHlwZSBSZXNwb25zZSB9IGZyb20gXCIuLi9fc2hpbXMvaW5kZXhcIjtcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JcIjtcbmltcG9ydCAqIGFzIEZpbGVzQVBJIGZyb20gXCIuL2ZpbGVzXCI7XG5pbXBvcnQgeyB0eXBlIFVwbG9hZGFibGUsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSBcIi4uL3BhZ2luYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEZpbGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogVXBsb2FkIGEgZmlsZSB0aGF0IGNhbiBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzIGVuZHBvaW50cy4gVGhlIHNpemUgb2YgYWxsIHRoZVxuICAgKiBmaWxlcyB1cGxvYWRlZCBieSBvbmUgb3JnYW5pemF0aW9uIGNhbiBiZSB1cCB0byAxMDAgR0IuXG4gICAqXG4gICAqIFRoZSBzaXplIG9mIGluZGl2aWR1YWwgZmlsZXMgY2FuIGJlIGEgbWF4aW11bSBvZiA1MTIgTUIgb3IgMiBtaWxsaW9uIHRva2VucyBmb3JcbiAgICogQXNzaXN0YW50cy4gU2VlIHRoZVxuICAgKiBbQXNzaXN0YW50cyBUb29scyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scykgdG9cbiAgICogbGVhcm4gbW9yZSBhYm91dCB0aGUgdHlwZXMgb2YgZmlsZXMgc3VwcG9ydGVkLiBUaGUgRmluZS10dW5pbmcgQVBJIG9ubHkgc3VwcG9ydHNcbiAgICogYC5qc29ubGAgZmlsZXMuXG4gICAqXG4gICAqIFBsZWFzZSBbY29udGFjdCB1c10oaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vKSBpZiB5b3UgbmVlZCB0byBpbmNyZWFzZSB0aGVzZVxuICAgKiBzdG9yYWdlIGxpbWl0cy5cbiAgICovXG4gIGNyZWF0ZShib2R5OiBGaWxlQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaWxlT2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZmlsZXMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGEgc3BlY2lmaWMgZmlsZS5cbiAgICovXG4gIHJldHJpZXZlKGZpbGVJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaWxlT2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maWxlcy8ke2ZpbGVJZH1gLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBmaWxlcyB0aGF0IGJlbG9uZyB0byB0aGUgdXNlcidzIG9yZ2FuaXphdGlvbi5cbiAgICovXG4gIGxpc3QocXVlcnk/OiBGaWxlTGlzdFBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLlBhZ2VQcm9taXNlPEZpbGVPYmplY3RzUGFnZSwgRmlsZU9iamVjdD47XG4gIGxpc3Qob3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLlBhZ2VQcm9taXNlPEZpbGVPYmplY3RzUGFnZSwgRmlsZU9iamVjdD47XG4gIGxpc3QoXG4gICAgcXVlcnk6IEZpbGVMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbGVPYmplY3RzUGFnZSwgRmlsZU9iamVjdD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9maWxlcycsIEZpbGVPYmplY3RzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKi9cbiAgZGVsKGZpbGVJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaWxlRGVsZXRlZD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvZmlsZXMvJHtmaWxlSWR9YCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29udGVudHMgb2YgdGhlIHNwZWNpZmllZCBmaWxlLlxuICAgKi9cbiAgY29udGVudChmaWxlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8UmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCwgeyAuLi5vcHRpb25zLCBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZS5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVGhlIGAuY29udGVudCgpYCBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZFxuICAgKi9cbiAgcmV0cmlldmVDb250ZW50KGZpbGVJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0cyBmb3IgdGhlIGdpdmVuIGZpbGUgdG8gYmUgcHJvY2Vzc2VkLCBkZWZhdWx0IHRpbWVvdXQgaXMgMzAgbWlucy5cbiAgICovXG4gIGFzeW5jIHdhaXRGb3JQcm9jZXNzaW5nKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgeyBwb2xsSW50ZXJ2YWwgPSA1MDAwLCBtYXhXYWl0ID0gMzAgKiA2MCAqIDEwMDAgfTogeyBwb2xsSW50ZXJ2YWw/OiBudW1iZXI7IG1heFdhaXQ/OiBudW1iZXIgfSA9IHt9LFxuICApOiBQcm9taXNlPEZpbGVPYmplY3Q+IHtcbiAgICBjb25zdCBURVJNSU5BTF9TVEFURVMgPSBuZXcgU2V0KFsncHJvY2Vzc2VkJywgJ2Vycm9yJywgJ2RlbGV0ZWQnXSk7XG5cbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgbGV0IGZpbGUgPSBhd2FpdCB0aGlzLnJldHJpZXZlKGlkKTtcblxuICAgIHdoaWxlICghZmlsZS5zdGF0dXMgfHwgIVRFUk1JTkFMX1NUQVRFUy5oYXMoZmlsZS5zdGF0dXMpKSB7XG4gICAgICBhd2FpdCBzbGVlcChwb2xsSW50ZXJ2YWwpO1xuXG4gICAgICBmaWxlID0gYXdhaXQgdGhpcy5yZXRyaWV2ZShpZCk7XG4gICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gbWF4V2FpdCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYEdpdmluZyB1cCBvbiB3YWl0aW5nIGZvciBmaWxlICR7aWR9IHRvIGZpbmlzaCBwcm9jZXNzaW5nIGFmdGVyICR7bWF4V2FpdH0gbWlsbGlzZWNvbmRzLmAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaWxlO1xuICB9XG59XG5cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgRmlsZU9iamVjdHNQYWdlIGV4dGVuZHMgUGFnZTxGaWxlT2JqZWN0PiB7fVxuXG5leHBvcnQgdHlwZSBGaWxlQ29udGVudCA9IHN0cmluZztcblxuZXhwb3J0IGludGVyZmFjZSBGaWxlRGVsZXRlZCB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgZGVsZXRlZDogYm9vbGVhbjtcblxuICBvYmplY3Q6ICdmaWxlJztcbn1cblxuLyoqXG4gKiBUaGUgYEZpbGVgIG9iamVjdCByZXByZXNlbnRzIGEgZG9jdW1lbnQgdGhhdCBoYXMgYmVlbiB1cGxvYWRlZCB0byBPcGVuQUkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZU9iamVjdCB7XG4gIC8qKlxuICAgKiBUaGUgZmlsZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiB0aGUgQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBmaWxlLCBpbiBieXRlcy5cbiAgICovXG4gIGJ5dGVzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGZpbGUgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmaWxlLlxuICAgKi9cbiAgZmlsZW5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYGZpbGVgLlxuICAgKi9cbiAgb2JqZWN0OiAnZmlsZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnRlbmRlZCBwdXJwb3NlIG9mIHRoZSBmaWxlLiBTdXBwb3J0ZWQgdmFsdWVzIGFyZSBgZmluZS10dW5lYCxcbiAgICogYGZpbmUtdHVuZS1yZXN1bHRzYCwgYGFzc2lzdGFudHNgLCBhbmQgYGFzc2lzdGFudHNfb3V0cHV0YC5cbiAgICovXG4gIHB1cnBvc2U6ICdmaW5lLXR1bmUnIHwgJ2ZpbmUtdHVuZS1yZXN1bHRzJyB8ICdhc3Npc3RhbnRzJyB8ICdhc3Npc3RhbnRzX291dHB1dCc7XG5cbiAgLyoqXG4gICAqIERlcHJlY2F0ZWQuIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgZmlsZSwgd2hpY2ggY2FuIGJlIGVpdGhlciBgdXBsb2FkZWRgLFxuICAgKiBgcHJvY2Vzc2VkYCwgb3IgYGVycm9yYC5cbiAgICovXG4gIHN0YXR1czogJ3VwbG9hZGVkJyB8ICdwcm9jZXNzZWQnIHwgJ2Vycm9yJztcblxuICAvKipcbiAgICogRGVwcmVjYXRlZC4gRm9yIGRldGFpbHMgb24gd2h5IGEgZmluZS10dW5pbmcgdHJhaW5pbmcgZmlsZSBmYWlsZWQgdmFsaWRhdGlvbixcbiAgICogc2VlIHRoZSBgZXJyb3JgIGZpZWxkIG9uIGBmaW5lX3R1bmluZy5qb2JgLlxuICAgKi9cbiAgc3RhdHVzX2RldGFpbHM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgRmlsZSBvYmplY3QgKG5vdCBmaWxlIG5hbWUpIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cbiAgZmlsZTogVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogVGhlIGludGVuZGVkIHB1cnBvc2Ugb2YgdGhlIHVwbG9hZGVkIGZpbGUuXG4gICAqXG4gICAqIFVzZSBcImZpbmUtdHVuZVwiIGZvclxuICAgKiBbRmluZS10dW5pbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcpIGFuZFxuICAgKiBcImFzc2lzdGFudHNcIiBmb3JcbiAgICogW0Fzc2lzdGFudHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgYW5kXG4gICAqIFtNZXNzYWdlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcykuIFRoaXMgYWxsb3dzXG4gICAqIHVzIHRvIHZhbGlkYXRlIHRoZSBmb3JtYXQgb2YgdGhlIHVwbG9hZGVkIGZpbGUgaXMgY29ycmVjdCBmb3IgZmluZS10dW5pbmcuXG4gICAqL1xuICBwdXJwb3NlOiAnZmluZS10dW5lJyB8ICdhc3Npc3RhbnRzJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlTGlzdFBhcmFtcyB7XG4gIC8qKlxuICAgKiBPbmx5IHJldHVybiBmaWxlcyB3aXRoIHRoZSBnaXZlbiBwdXJwb3NlLlxuICAgKi9cbiAgcHVycG9zZT86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlcyB7XG4gIGV4cG9ydCBpbXBvcnQgRmlsZUNvbnRlbnQgPSBGaWxlc0FQSS5GaWxlQ29udGVudDtcbiAgZXhwb3J0IGltcG9ydCBGaWxlRGVsZXRlZCA9IEZpbGVzQVBJLkZpbGVEZWxldGVkO1xuICBleHBvcnQgaW1wb3J0IEZpbGVPYmplY3QgPSBGaWxlc0FQSS5GaWxlT2JqZWN0O1xuICBleHBvcnQgaW1wb3J0IEZpbGVPYmplY3RzUGFnZSA9IEZpbGVzQVBJLkZpbGVPYmplY3RzUGFnZTtcbiAgZXhwb3J0IGltcG9ydCBGaWxlQ3JlYXRlUGFyYW1zID0gRmlsZXNBUEkuRmlsZUNyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBGaWxlTGlzdFBhcmFtcyA9IEZpbGVzQVBJLkZpbGVMaXN0UGFyYW1zO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uL2NvcmVcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uL2NvcmVcIjtcbmltcG9ydCAqIGFzIEpvYnNBUEkgZnJvbSBcIi4vam9ic1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSBcIi4uLy4uL3BhZ2luYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEpvYnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZmluZS10dW5pbmcgam9iIHdoaWNoIGJlZ2lucyB0aGUgcHJvY2VzcyBvZiBjcmVhdGluZyBhIG5ldyBtb2RlbCBmcm9tXG4gICAqIGEgZ2l2ZW4gZGF0YXNldC5cbiAgICpcbiAgICogUmVzcG9uc2UgaW5jbHVkZXMgZGV0YWlscyBvZiB0aGUgZW5xdWV1ZWQgam9iIGluY2x1ZGluZyBqb2Igc3RhdHVzIGFuZCB0aGUgbmFtZVxuICAgKiBvZiB0aGUgZmluZS10dW5lZCBtb2RlbHMgb25jZSBjb21wbGV0ZS5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICovXG4gIGNyZWF0ZShib2R5OiBKb2JDcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEZpbmVUdW5pbmdKb2I+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9maW5lX3R1bmluZy9qb2JzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBpbmZvIGFib3V0IGEgZmluZS10dW5pbmcgam9iLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKi9cbiAgcmV0cmlldmUoZmluZVR1bmluZ0pvYklkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEZpbmVUdW5pbmdKb2I+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9YCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdCB5b3VyIG9yZ2FuaXphdGlvbidzIGZpbmUtdHVuaW5nIGpvYnNcbiAgICovXG4gIGxpc3QoXG4gICAgcXVlcnk/OiBKb2JMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JzUGFnZSwgRmluZVR1bmluZ0pvYj47XG4gIGxpc3Qob3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JzUGFnZSwgRmluZVR1bmluZ0pvYj47XG4gIGxpc3QoXG4gICAgcXVlcnk6IEpvYkxpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYnNQYWdlLCBGaW5lVHVuaW5nSm9iPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCBGaW5lVHVuaW5nSm9ic1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW1tZWRpYXRlbHkgY2FuY2VsIGEgZmluZS10dW5lIGpvYi5cbiAgICovXG4gIGNhbmNlbChmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8RmluZVR1bmluZ0pvYj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzdGF0dXMgdXBkYXRlcyBmb3IgYSBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBsaXN0RXZlbnRzKFxuICAgIGZpbmVUdW5pbmdKb2JJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogSm9iTGlzdEV2ZW50c1BhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSwgRmluZVR1bmluZ0pvYkV2ZW50PjtcbiAgbGlzdEV2ZW50cyhcbiAgICBmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSwgRmluZVR1bmluZ0pvYkV2ZW50PjtcbiAgbGlzdEV2ZW50cyhcbiAgICBmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogSm9iTGlzdEV2ZW50c1BhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSwgRmluZVR1bmluZ0pvYkV2ZW50PiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0RXZlbnRzKGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH0vZXZlbnRzYCwgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYnNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxGaW5lVHVuaW5nSm9iPiB7fVxuXG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPEZpbmVUdW5pbmdKb2JFdmVudD4ge31cblxuLyoqXG4gKiBUaGUgYGZpbmVfdHVuaW5nLmpvYmAgb2JqZWN0IHJlcHJlc2VudHMgYSBmaW5lLXR1bmluZyBqb2IgdGhhdCBoYXMgYmVlbiBjcmVhdGVkXG4gKiB0aHJvdWdoIHRoZSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmluZVR1bmluZ0pvYiB7XG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIHRoZSBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgZmluZS10dW5pbmcgam9iIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBGb3IgZmluZS10dW5pbmcgam9icyB0aGF0IGhhdmUgYGZhaWxlZGAsIHRoaXMgd2lsbCBjb250YWluIG1vcmUgaW5mb3JtYXRpb24gb25cbiAgICogdGhlIGNhdXNlIG9mIHRoZSBmYWlsdXJlLlxuICAgKi9cbiAgZXJyb3I6IEZpbmVUdW5pbmdKb2IuRXJyb3IgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZmluZS10dW5lZCBtb2RlbCB0aGF0IGlzIGJlaW5nIGNyZWF0ZWQuIFRoZSB2YWx1ZSB3aWxsIGJlIG51bGxcbiAgICogaWYgdGhlIGZpbmUtdHVuaW5nIGpvYiBpcyBzdGlsbCBydW5uaW5nLlxuICAgKi9cbiAgZmluZV90dW5lZF9tb2RlbDogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgZmluZS10dW5pbmcgam9iIHdhcyBmaW5pc2hlZC4gVGhlXG4gICAqIHZhbHVlIHdpbGwgYmUgbnVsbCBpZiB0aGUgZmluZS10dW5pbmcgam9iIGlzIHN0aWxsIHJ1bm5pbmcuXG4gICAqL1xuICBmaW5pc2hlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLiBTZWUgdGhlXG4gICAqIFtmaW5lLXR1bmluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKSBmb3JcbiAgICogbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgaHlwZXJwYXJhbWV0ZXJzOiBGaW5lVHVuaW5nSm9iLkh5cGVycGFyYW1ldGVycztcblxuICAvKipcbiAgICogVGhlIGJhc2UgbW9kZWwgdGhhdCBpcyBiZWluZyBmaW5lLXR1bmVkLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJmaW5lX3R1bmluZy5qb2JcIi5cbiAgICovXG4gIG9iamVjdDogJ2ZpbmVfdHVuaW5nLmpvYic7XG5cbiAgLyoqXG4gICAqIFRoZSBvcmdhbml6YXRpb24gdGhhdCBvd25zIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBvcmdhbml6YXRpb25faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbXBpbGVkIHJlc3VsdHMgZmlsZSBJRChzKSBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi4gWW91IGNhbiByZXRyaWV2ZSB0aGVcbiAgICogcmVzdWx0cyB3aXRoIHRoZVxuICAgKiBbRmlsZXMgQVBJXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL3JldHJpZXZlLWNvbnRlbnRzKS5cbiAgICovXG4gIHJlc3VsdF9maWxlczogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBmaW5lLXR1bmluZyBqb2IsIHdoaWNoIGNhbiBiZSBlaXRoZXJcbiAgICogYHZhbGlkYXRpbmdfZmlsZXNgLCBgcXVldWVkYCwgYHJ1bm5pbmdgLCBgc3VjY2VlZGVkYCwgYGZhaWxlZGAsIG9yIGBjYW5jZWxsZWRgLlxuICAgKi9cbiAgc3RhdHVzOiAndmFsaWRhdGluZ19maWxlcycgfCAncXVldWVkJyB8ICdydW5uaW5nJyB8ICdzdWNjZWVkZWQnIHwgJ2ZhaWxlZCcgfCAnY2FuY2VsbGVkJztcblxuICAvKipcbiAgICogVGhlIHRvdGFsIG51bWJlciBvZiBiaWxsYWJsZSB0b2tlbnMgcHJvY2Vzc2VkIGJ5IHRoaXMgZmluZS10dW5pbmcgam9iLiBUaGUgdmFsdWVcbiAgICogd2lsbCBiZSBudWxsIGlmIHRoZSBmaW5lLXR1bmluZyBqb2IgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIHRyYWluZWRfdG9rZW5zOiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgZmlsZSBJRCB1c2VkIGZvciB0cmFpbmluZy4gWW91IGNhbiByZXRyaWV2ZSB0aGUgdHJhaW5pbmcgZGF0YSB3aXRoIHRoZVxuICAgKiBbRmlsZXMgQVBJXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL3JldHJpZXZlLWNvbnRlbnRzKS5cbiAgICovXG4gIHRyYWluaW5nX2ZpbGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGZpbGUgSUQgdXNlZCBmb3IgdmFsaWRhdGlvbi4gWW91IGNhbiByZXRyaWV2ZSB0aGUgdmFsaWRhdGlvbiByZXN1bHRzIHdpdGhcbiAgICogdGhlXG4gICAqIFtGaWxlcyBBUEldKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvcmV0cmlldmUtY29udGVudHMpLlxuICAgKi9cbiAgdmFsaWRhdGlvbl9maWxlOiBzdHJpbmcgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZpbmVUdW5pbmdKb2Ige1xuICAvKipcbiAgICogRm9yIGZpbmUtdHVuaW5nIGpvYnMgdGhhdCBoYXZlIGBmYWlsZWRgLCB0aGlzIHdpbGwgY29udGFpbiBtb3JlIGluZm9ybWF0aW9uIG9uXG4gICAqIHRoZSBjYXVzZSBvZiB0aGUgZmFpbHVyZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIEEgbWFjaGluZS1yZWFkYWJsZSBlcnJvciBjb2RlLlxuICAgICAqL1xuICAgIGNvZGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZXJyb3IgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFyYW1ldGVyIHRoYXQgd2FzIGludmFsaWQsIHVzdWFsbHkgYHRyYWluaW5nX2ZpbGVgIG9yIGB2YWxpZGF0aW9uX2ZpbGVgLlxuICAgICAqIFRoaXMgZmllbGQgd2lsbCBiZSBudWxsIGlmIHRoZSBmYWlsdXJlIHdhcyBub3QgcGFyYW1ldGVyLXNwZWNpZmljLlxuICAgICAqL1xuICAgIHBhcmFtOiBzdHJpbmcgfCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi4gU2VlIHRoZVxuICAgKiBbZmluZS10dW5pbmcgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9maW5lLXR1bmluZykgZm9yXG4gICAqIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSHlwZXJwYXJhbWV0ZXJzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGVwb2NocyB0byB0cmFpbiB0aGUgbW9kZWwgZm9yLiBBbiBlcG9jaCByZWZlcnMgdG8gb25lIGZ1bGwgY3ljbGVcbiAgICAgKiB0aHJvdWdoIHRoZSB0cmFpbmluZyBkYXRhc2V0LiBcImF1dG9cIiBkZWNpZGVzIHRoZSBvcHRpbWFsIG51bWJlciBvZiBlcG9jaHMgYmFzZWRcbiAgICAgKiBvbiB0aGUgc2l6ZSBvZiB0aGUgZGF0YXNldC4gSWYgc2V0dGluZyB0aGUgbnVtYmVyIG1hbnVhbGx5LCB3ZSBzdXBwb3J0IGFueVxuICAgICAqIG51bWJlciBiZXR3ZWVuIDEgYW5kIDUwIGVwb2Nocy5cbiAgICAgKi9cbiAgICBuX2Vwb2NoczogJ2F1dG8nIHwgbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogRmluZS10dW5pbmcgam9iIGV2ZW50IG9iamVjdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbmVUdW5pbmdKb2JFdmVudCB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIGxldmVsOiAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InO1xuXG4gIG1lc3NhZ2U6IHN0cmluZztcblxuICBvYmplY3Q6ICdmaW5lX3R1bmluZy5qb2IuZXZlbnQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEpvYkNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgdG8gZmluZS10dW5lLiBZb3UgY2FuIHNlbGVjdCBvbmUgb2YgdGhlXG4gICAqIFtzdXBwb3J0ZWQgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZmluZS10dW5pbmcvd2hhdC1tb2RlbHMtY2FuLWJlLWZpbmUtdHVuZWQpLlxuICAgKi9cbiAgbW9kZWw6IChzdHJpbmcgJiB7fSkgfCAnYmFiYmFnZS0wMDInIHwgJ2RhdmluY2ktMDAyJyB8ICdncHQtMy41LXR1cmJvJztcblxuICAvKipcbiAgICogVGhlIElEIG9mIGFuIHVwbG9hZGVkIGZpbGUgdGhhdCBjb250YWlucyB0cmFpbmluZyBkYXRhLlxuICAgKlxuICAgKiBTZWUgW3VwbG9hZCBmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL3VwbG9hZClcbiAgICogZm9yIGhvdyB0byB1cGxvYWQgYSBmaWxlLlxuICAgKlxuICAgKiBZb3VyIGRhdGFzZXQgbXVzdCBiZSBmb3JtYXR0ZWQgYXMgYSBKU09OTCBmaWxlLiBBZGRpdGlvbmFsbHksIHlvdSBtdXN0IHVwbG9hZFxuICAgKiB5b3VyIGZpbGUgd2l0aCB0aGUgcHVycG9zZSBgZmluZS10dW5lYC5cbiAgICpcbiAgICogU2VlIHRoZSBbZmluZS10dW5pbmcgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIHRyYWluaW5nX2ZpbGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgKi9cbiAgaHlwZXJwYXJhbWV0ZXJzPzogSm9iQ3JlYXRlUGFyYW1zLkh5cGVycGFyYW1ldGVycztcblxuICAvKipcbiAgICogQSBzdHJpbmcgb2YgdXAgdG8gMTggY2hhcmFjdGVycyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8geW91ciBmaW5lLXR1bmVkIG1vZGVsXG4gICAqIG5hbWUuXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCBhIGBzdWZmaXhgIG9mIFwiY3VzdG9tLW1vZGVsLW5hbWVcIiB3b3VsZCBwcm9kdWNlIGEgbW9kZWwgbmFtZSBsaWtlXG4gICAqIGBmdDpncHQtMy41LXR1cmJvOm9wZW5haTpjdXN0b20tbW9kZWwtbmFtZTo3cDRsVVJlbGAuXG4gICAqL1xuICBzdWZmaXg/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgYW4gdXBsb2FkZWQgZmlsZSB0aGF0IGNvbnRhaW5zIHZhbGlkYXRpb24gZGF0YS5cbiAgICpcbiAgICogSWYgeW91IHByb3ZpZGUgdGhpcyBmaWxlLCB0aGUgZGF0YSBpcyB1c2VkIHRvIGdlbmVyYXRlIHZhbGlkYXRpb24gbWV0cmljc1xuICAgKiBwZXJpb2RpY2FsbHkgZHVyaW5nIGZpbmUtdHVuaW5nLiBUaGVzZSBtZXRyaWNzIGNhbiBiZSB2aWV3ZWQgaW4gdGhlIGZpbmUtdHVuaW5nXG4gICAqIHJlc3VsdHMgZmlsZS4gVGhlIHNhbWUgZGF0YSBzaG91bGQgbm90IGJlIHByZXNlbnQgaW4gYm90aCB0cmFpbiBhbmQgdmFsaWRhdGlvblxuICAgKiBmaWxlcy5cbiAgICpcbiAgICogWW91ciBkYXRhc2V0IG11c3QgYmUgZm9ybWF0dGVkIGFzIGEgSlNPTkwgZmlsZS4gWW91IG11c3QgdXBsb2FkIHlvdXIgZmlsZSB3aXRoXG4gICAqIHRoZSBwdXJwb3NlIGBmaW5lLXR1bmVgLlxuICAgKlxuICAgKiBTZWUgdGhlIFtmaW5lLXR1bmluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgdmFsaWRhdGlvbl9maWxlPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBKb2JDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBIeXBlcnBhcmFtZXRlcnMge1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBleGFtcGxlcyBpbiBlYWNoIGJhdGNoLiBBIGxhcmdlciBiYXRjaCBzaXplIG1lYW5zIHRoYXQgbW9kZWxcbiAgICAgKiBwYXJhbWV0ZXJzIGFyZSB1cGRhdGVkIGxlc3MgZnJlcXVlbnRseSwgYnV0IHdpdGggbG93ZXIgdmFyaWFuY2UuXG4gICAgICovXG4gICAgYmF0Y2hfc2l6ZT86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFNjYWxpbmcgZmFjdG9yIGZvciB0aGUgbGVhcm5pbmcgcmF0ZS4gQSBzbWFsbGVyIGxlYXJuaW5nIHJhdGUgbWF5IGJlIHVzZWZ1bCB0b1xuICAgICAqIGF2b2lkIG92ZXJmaXR0aW5nLlxuICAgICAqL1xuICAgIGxlYXJuaW5nX3JhdGVfbXVsdGlwbGllcj86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZXBvY2hzIHRvIHRyYWluIHRoZSBtb2RlbCBmb3IuIEFuIGVwb2NoIHJlZmVycyB0byBvbmUgZnVsbCBjeWNsZVxuICAgICAqIHRocm91Z2ggdGhlIHRyYWluaW5nIGRhdGFzZXQuXG4gICAgICovXG4gICAgbl9lcG9jaHM/OiAnYXV0bycgfCBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBKb2JMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEpvYkxpc3RFdmVudHNQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHt9XG5cbmV4cG9ydCBuYW1lc3BhY2UgSm9icyB7XG4gIGV4cG9ydCBpbXBvcnQgRmluZVR1bmluZ0pvYiA9IEpvYnNBUEkuRmluZVR1bmluZ0pvYjtcbiAgZXhwb3J0IGltcG9ydCBGaW5lVHVuaW5nSm9iRXZlbnQgPSBKb2JzQVBJLkZpbmVUdW5pbmdKb2JFdmVudDtcbiAgZXhwb3J0IGltcG9ydCBGaW5lVHVuaW5nSm9ic1BhZ2UgPSBKb2JzQVBJLkZpbmVUdW5pbmdKb2JzUGFnZTtcbiAgZXhwb3J0IGltcG9ydCBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSA9IEpvYnNBUEkuRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgSm9iQ3JlYXRlUGFyYW1zID0gSm9ic0FQSS5Kb2JDcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgSm9iTGlzdFBhcmFtcyA9IEpvYnNBUEkuSm9iTGlzdFBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBKb2JMaXN0RXZlbnRzUGFyYW1zID0gSm9ic0FQSS5Kb2JMaXN0RXZlbnRzUGFyYW1zO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBKb2JzQVBJIGZyb20gXCIuL2pvYnNcIjtcblxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmcgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGpvYnM6IEpvYnNBUEkuSm9icyA9IG5ldyBKb2JzQVBJLkpvYnModGhpcy5fY2xpZW50KTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaW5lVHVuaW5nIHtcbiAgZXhwb3J0IGltcG9ydCBKb2JzID0gSm9ic0FQSS5Kb2JzO1xuICBleHBvcnQgaW1wb3J0IEZpbmVUdW5pbmdKb2IgPSBKb2JzQVBJLkZpbmVUdW5pbmdKb2I7XG4gIGV4cG9ydCBpbXBvcnQgRmluZVR1bmluZ0pvYkV2ZW50ID0gSm9ic0FQSS5GaW5lVHVuaW5nSm9iRXZlbnQ7XG4gIGV4cG9ydCBpbXBvcnQgRmluZVR1bmluZ0pvYnNQYWdlID0gSm9ic0FQSS5GaW5lVHVuaW5nSm9ic1BhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgPSBKb2JzQVBJLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xuICBleHBvcnQgaW1wb3J0IEpvYkNyZWF0ZVBhcmFtcyA9IEpvYnNBUEkuSm9iQ3JlYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IEpvYkxpc3RQYXJhbXMgPSBKb2JzQVBJLkpvYkxpc3RQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgSm9iTGlzdEV2ZW50c1BhcmFtcyA9IEpvYnNBUEkuSm9iTGlzdEV2ZW50c1BhcmFtcztcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuXG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0ICogYXMgSW1hZ2VzQVBJIGZyb20gXCIuL2ltYWdlc1wiO1xuaW1wb3J0IHsgdHlwZSBVcGxvYWRhYmxlLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vY29yZVwiO1xuXG5leHBvcnQgY2xhc3MgSW1hZ2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIHZhcmlhdGlvbiBvZiBhIGdpdmVuIGltYWdlLlxuICAgKi9cbiAgY3JlYXRlVmFyaWF0aW9uKFxuICAgIGJvZHk6IEltYWdlQ3JlYXRlVmFyaWF0aW9uUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8SW1hZ2VzUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9pbWFnZXMvdmFyaWF0aW9ucycsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICovXG4gIGVkaXQoYm9keTogSW1hZ2VFZGl0UGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxJbWFnZXNSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ltYWdlcy9lZGl0cycsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW1hZ2UgZ2l2ZW4gYSBwcm9tcHQuXG4gICAqL1xuICBnZW5lcmF0ZShib2R5OiBJbWFnZUdlbmVyYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxJbWFnZXNSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ltYWdlcy9nZW5lcmF0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVybCBvciB0aGUgY29udGVudCBvZiBhbiBpbWFnZSBnZW5lcmF0ZWQgYnkgdGhlIE9wZW5BSSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2Uge1xuICAvKipcbiAgICogVGhlIGJhc2U2NC1lbmNvZGVkIEpTT04gb2YgdGhlIGdlbmVyYXRlZCBpbWFnZSwgaWYgYHJlc3BvbnNlX2Zvcm1hdGAgaXNcbiAgICogYGI2NF9qc29uYC5cbiAgICovXG4gIGI2NF9qc29uPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvbXB0IHRoYXQgd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGltYWdlLCBpZiB0aGVyZSB3YXMgYW55IHJldmlzaW9uIHRvIHRoZVxuICAgKiBwcm9tcHQuXG4gICAqL1xuICByZXZpc2VkX3Byb21wdD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlLCBpZiBgcmVzcG9uc2VfZm9ybWF0YCBpcyBgdXJsYCAoZGVmYXVsdCkuXG4gICAqL1xuICB1cmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VzUmVzcG9uc2Uge1xuICBjcmVhdGVkOiBudW1iZXI7XG5cbiAgZGF0YTogQXJyYXk8SW1hZ2U+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlQ3JlYXRlVmFyaWF0aW9uUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBpbWFnZSB0byB1c2UgYXMgdGhlIGJhc2lzIGZvciB0aGUgdmFyaWF0aW9uKHMpLiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsXG4gICAqIGxlc3MgdGhhbiA0TUIsIGFuZCBzcXVhcmUuXG4gICAqL1xuICBpbWFnZTogVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgaW1hZ2UgZ2VuZXJhdGlvbi4gT25seSBgZGFsbC1lLTJgIGlzIHN1cHBvcnRlZCBhdCB0aGlzXG4gICAqIHRpbWUuXG4gICAqL1xuICBtb2RlbD86IChzdHJpbmcgJiB7fSkgfCAnZGFsbC1lLTInIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC4gRm9yIGBkYWxsLWUtM2AsIG9ubHlcbiAgICogYG49MWAgaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgbj86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgaW4gd2hpY2ggdGhlIGdlbmVyYXRlZCBpbWFnZXMgYXJlIHJldHVybmVkLiBNdXN0IGJlIG9uZSBvZiBgdXJsYCBvclxuICAgKiBgYjY0X2pzb25gLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogJ3VybCcgfCAnYjY0X2pzb24nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mIGAyNTZ4MjU2YCwgYDUxMng1MTJgLCBvclxuICAgKiBgMTAyNHgxMDI0YC5cbiAgICovXG4gIHNpemU/OiAnMjU2eDI1NicgfCAnNTEyeDUxMicgfCAnMTAyNHgxMDI0JyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzL2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlRWRpdFBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgaW1hZ2UgdG8gZWRpdC4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW4gNE1CLCBhbmQgc3F1YXJlLiBJZiBtYXNrXG4gICAqIGlzIG5vdCBwcm92aWRlZCwgaW1hZ2UgbXVzdCBoYXZlIHRyYW5zcGFyZW5jeSwgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIHRoZSBtYXNrLlxuICAgKi9cbiAgaW1hZ2U6IFVwbG9hZGFibGU7XG5cbiAgLyoqXG4gICAqIEEgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgZGVzaXJlZCBpbWFnZShzKS4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDEwMDBcbiAgICogY2hhcmFjdGVycy5cbiAgICovXG4gIHByb21wdDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbiBhZGRpdGlvbmFsIGltYWdlIHdob3NlIGZ1bGx5IHRyYW5zcGFyZW50IGFyZWFzIChlLmcuIHdoZXJlIGFscGhhIGlzIHplcm8pXG4gICAqIGluZGljYXRlIHdoZXJlIGBpbWFnZWAgc2hvdWxkIGJlIGVkaXRlZC4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW5cbiAgICogNE1CLCBhbmQgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25zIGFzIGBpbWFnZWAuXG4gICAqL1xuICBtYXNrPzogVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgaW1hZ2UgZ2VuZXJhdGlvbi4gT25seSBgZGFsbC1lLTJgIGlzIHN1cHBvcnRlZCBhdCB0aGlzXG4gICAqIHRpbWUuXG4gICAqL1xuICBtb2RlbD86IChzdHJpbmcgJiB7fSkgfCAnZGFsbC1lLTInIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC5cbiAgICovXG4gIG4/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgYHVybGAgb3JcbiAgICogYGI2NF9qc29uYC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86ICd1cmwnIHwgJ2I2NF9qc29uJyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLiBNdXN0IGJlIG9uZSBvZiBgMjU2eDI1NmAsIGA1MTJ4NTEyYCwgb3JcbiAgICogYDEwMjR4MTAyNGAuXG4gICAqL1xuICBzaXplPzogJzI1NngyNTYnIHwgJzUxMng1MTInIHwgJzEwMjR4MTAyNCcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbWFnZUdlbmVyYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgZGVzaXJlZCBpbWFnZShzKS4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDEwMDBcbiAgICogY2hhcmFjdGVycyBmb3IgYGRhbGwtZS0yYCBhbmQgNDAwMCBjaGFyYWN0ZXJzIGZvciBgZGFsbC1lLTNgLlxuICAgKi9cbiAgcHJvbXB0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB0byB1c2UgZm9yIGltYWdlIGdlbmVyYXRpb24uXG4gICAqL1xuICBtb2RlbD86IChzdHJpbmcgJiB7fSkgfCAnZGFsbC1lLTInIHwgJ2RhbGwtZS0zJyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAuIEZvciBgZGFsbC1lLTNgLCBvbmx5XG4gICAqIGBuPTFgIGlzIHN1cHBvcnRlZC5cbiAgICovXG4gIG4/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgcXVhbGl0eSBvZiB0aGUgaW1hZ2UgdGhhdCB3aWxsIGJlIGdlbmVyYXRlZC4gYGhkYCBjcmVhdGVzIGltYWdlcyB3aXRoIGZpbmVyXG4gICAqIGRldGFpbHMgYW5kIGdyZWF0ZXIgY29uc2lzdGVuY3kgYWNyb3NzIHRoZSBpbWFnZS4gVGhpcyBwYXJhbSBpcyBvbmx5IHN1cHBvcnRlZFxuICAgKiBmb3IgYGRhbGwtZS0zYC5cbiAgICovXG4gIHF1YWxpdHk/OiAnc3RhbmRhcmQnIHwgJ2hkJztcblxuICAvKipcbiAgICogVGhlIGZvcm1hdCBpbiB3aGljaCB0aGUgZ2VuZXJhdGVkIGltYWdlcyBhcmUgcmV0dXJuZWQuIE11c3QgYmUgb25lIG9mIGB1cmxgIG9yXG4gICAqIGBiNjRfanNvbmAuXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiAndXJsJyB8ICdiNjRfanNvbicgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc2l6ZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gTXVzdCBiZSBvbmUgb2YgYDI1NngyNTZgLCBgNTEyeDUxMmAsIG9yXG4gICAqIGAxMDI0eDEwMjRgIGZvciBgZGFsbC1lLTJgLiBNdXN0IGJlIG9uZSBvZiBgMTAyNHgxMDI0YCwgYDE3OTJ4MTAyNGAsIG9yXG4gICAqIGAxMDI0eDE3OTJgIGZvciBgZGFsbC1lLTNgIG1vZGVscy5cbiAgICovXG4gIHNpemU/OiAnMjU2eDI1NicgfCAnNTEyeDUxMicgfCAnMTAyNHgxMDI0JyB8ICcxNzkyeDEwMjQnIHwgJzEwMjR4MTc5MicgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mIGB2aXZpZGAgb3IgYG5hdHVyYWxgLiBWaXZpZFxuICAgKiBjYXVzZXMgdGhlIG1vZGVsIHRvIGxlYW4gdG93YXJkcyBnZW5lcmF0aW5nIGh5cGVyLXJlYWwgYW5kIGRyYW1hdGljIGltYWdlcy5cbiAgICogTmF0dXJhbCBjYXVzZXMgdGhlIG1vZGVsIHRvIHByb2R1Y2UgbW9yZSBuYXR1cmFsLCBsZXNzIGh5cGVyLXJlYWwgbG9va2luZ1xuICAgKiBpbWFnZXMuIFRoaXMgcGFyYW0gaXMgb25seSBzdXBwb3J0ZWQgZm9yIGBkYWxsLWUtM2AuXG4gICAqL1xuICBzdHlsZT86ICd2aXZpZCcgfCAnbmF0dXJhbCcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBJbWFnZXMge1xuICBleHBvcnQgaW1wb3J0IEltYWdlID0gSW1hZ2VzQVBJLkltYWdlO1xuICBleHBvcnQgaW1wb3J0IEltYWdlc1Jlc3BvbnNlID0gSW1hZ2VzQVBJLkltYWdlc1Jlc3BvbnNlO1xuICBleHBvcnQgaW1wb3J0IEltYWdlQ3JlYXRlVmFyaWF0aW9uUGFyYW1zID0gSW1hZ2VzQVBJLkltYWdlQ3JlYXRlVmFyaWF0aW9uUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IEltYWdlRWRpdFBhcmFtcyA9IEltYWdlc0FQSS5JbWFnZUVkaXRQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgSW1hZ2VHZW5lcmF0ZVBhcmFtcyA9IEltYWdlc0FQSS5JbWFnZUdlbmVyYXRlUGFyYW1zO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBNb2RlbHNBUEkgZnJvbSBcIi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSBcIi4uL3BhZ2luYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIE1vZGVscyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIG1vZGVsIGluc3RhbmNlLCBwcm92aWRpbmcgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsIHN1Y2ggYXNcbiAgICogdGhlIG93bmVyIGFuZCBwZXJtaXNzaW9uaW5nLlxuICAgKi9cbiAgcmV0cmlldmUobW9kZWw6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8TW9kZWw+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL21vZGVscy8ke21vZGVsfWAsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2hcbiAgICogb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAqL1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxNb2RlbHNQYWdlLCBNb2RlbD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL21vZGVscycsIE1vZGVsc1BhZ2UsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24gdG9cbiAgICogZGVsZXRlIGEgbW9kZWwuXG4gICAqL1xuICBkZWwobW9kZWw6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8TW9kZWxEZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgfVxufVxuXG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsc1BhZ2UgZXh0ZW5kcyBQYWdlPE1vZGVsPiB7fVxuXG4vKipcbiAqIERlc2NyaWJlcyBhbiBPcGVuQUkgbW9kZWwgb2ZmZXJpbmcgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHRoZSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZWwge1xuICAvKipcbiAgICogVGhlIG1vZGVsIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIHRoZSBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSB3aGVuIHRoZSBtb2RlbCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJtb2RlbFwiLlxuICAgKi9cbiAgb2JqZWN0OiAnbW9kZWwnO1xuXG4gIC8qKlxuICAgKiBUaGUgb3JnYW5pemF0aW9uIHRoYXQgb3ducyB0aGUgbW9kZWwuXG4gICAqL1xuICBvd25lZF9ieTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsRGVsZXRlZCB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgZGVsZXRlZDogYm9vbGVhbjtcblxuICBvYmplY3Q6IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNb2RlbHMge1xuICBleHBvcnQgaW1wb3J0IE1vZGVsID0gTW9kZWxzQVBJLk1vZGVsO1xuICBleHBvcnQgaW1wb3J0IE1vZGVsRGVsZXRlZCA9IE1vZGVsc0FQSS5Nb2RlbERlbGV0ZWQ7XG4gIGV4cG9ydCBpbXBvcnQgTW9kZWxzUGFnZSA9IE1vZGVsc0FQSS5Nb2RlbHNQYWdlO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBNb2RlcmF0aW9uc0FQSSBmcm9tIFwiLi9tb2RlcmF0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDbGFzc2lmaWVzIGlmIHRleHQgdmlvbGF0ZXMgT3BlbkFJJ3MgQ29udGVudCBQb2xpY3lcbiAgICovXG4gIGNyZWF0ZShcbiAgICBib2R5OiBNb2RlcmF0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8TW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvbW9kZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlcmF0aW9uIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcywgYW5kIHdoZXRoZXIgdGhleSBhcmUgZmxhZ2dlZCBvciBub3QuXG4gICAqL1xuICBjYXRlZ29yaWVzOiBNb2RlcmF0aW9uLkNhdGVnb3JpZXM7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcyBhbG9uZyB3aXRoIHRoZWlyIHNjb3JlcyBhcyBwcmVkaWN0ZWQgYnkgbW9kZWwuXG4gICAqL1xuICBjYXRlZ29yeV9zY29yZXM6IE1vZGVyYXRpb24uQ2F0ZWdvcnlTY29yZXM7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGNvbnRlbnQgdmlvbGF0ZXNcbiAgICogW09wZW5BSSdzIHVzYWdlIHBvbGljaWVzXSgvcG9saWNpZXMvdXNhZ2UtcG9saWNpZXMpLlxuICAgKi9cbiAgZmxhZ2dlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNb2RlcmF0aW9uIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcywgYW5kIHdoZXRoZXIgdGhleSBhcmUgZmxhZ2dlZCBvciBub3QuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENhdGVnb3JpZXMge1xuICAgIC8qKlxuICAgICAqIENvbnRlbnQgdGhhdCBleHByZXNzZXMsIGluY2l0ZXMsIG9yIHByb21vdGVzIGhhcmFzc2luZyBsYW5ndWFnZSB0b3dhcmRzIGFueVxuICAgICAqIHRhcmdldC5cbiAgICAgKi9cbiAgICBoYXJhc3NtZW50OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogSGFyYXNzbWVudCBjb250ZW50IHRoYXQgYWxzbyBpbmNsdWRlcyB2aW9sZW5jZSBvciBzZXJpb3VzIGhhcm0gdG93YXJkcyBhbnlcbiAgICAgKiB0YXJnZXQuXG4gICAgICovXG4gICAgJ2hhcmFzc21lbnQvdGhyZWF0ZW5pbmcnOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IGV4cHJlc3NlcywgaW5jaXRlcywgb3IgcHJvbW90ZXMgaGF0ZSBiYXNlZCBvbiByYWNlLCBnZW5kZXIsXG4gICAgICogZXRobmljaXR5LCByZWxpZ2lvbiwgbmF0aW9uYWxpdHksIHNleHVhbCBvcmllbnRhdGlvbiwgZGlzYWJpbGl0eSBzdGF0dXMsIG9yXG4gICAgICogY2FzdGUuIEhhdGVmdWwgY29udGVudCBhaW1lZCBhdCBub24tcHJvdGVjdGVkIGdyb3VwcyAoZS5nLiwgY2hlc3MgcGxheWVycykgaXNcbiAgICAgKiBoYXJhc3NtZW50LlxuICAgICAqL1xuICAgIGhhdGU6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBIYXRlZnVsIGNvbnRlbnQgdGhhdCBhbHNvIGluY2x1ZGVzIHZpb2xlbmNlIG9yIHNlcmlvdXMgaGFybSB0b3dhcmRzIHRoZSB0YXJnZXRlZFxuICAgICAqIGdyb3VwIGJhc2VkIG9uIHJhY2UsIGdlbmRlciwgZXRobmljaXR5LCByZWxpZ2lvbiwgbmF0aW9uYWxpdHksIHNleHVhbFxuICAgICAqIG9yaWVudGF0aW9uLCBkaXNhYmlsaXR5IHN0YXR1cywgb3IgY2FzdGUuXG4gICAgICovXG4gICAgJ2hhdGUvdGhyZWF0ZW5pbmcnOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IHByb21vdGVzLCBlbmNvdXJhZ2VzLCBvciBkZXBpY3RzIGFjdHMgb2Ygc2VsZi1oYXJtLCBzdWNoIGFzXG4gICAgICogc3VpY2lkZSwgY3V0dGluZywgYW5kIGVhdGluZyBkaXNvcmRlcnMuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybSc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZW50IHRoYXQgZW5jb3VyYWdlcyBwZXJmb3JtaW5nIGFjdHMgb2Ygc2VsZi1oYXJtLCBzdWNoIGFzIHN1aWNpZGUsIGN1dHRpbmcsXG4gICAgICogYW5kIGVhdGluZyBkaXNvcmRlcnMsIG9yIHRoYXQgZ2l2ZXMgaW5zdHJ1Y3Rpb25zIG9yIGFkdmljZSBvbiBob3cgdG8gY29tbWl0IHN1Y2hcbiAgICAgKiBhY3RzLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW5zdHJ1Y3Rpb25zJzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgd2hlcmUgdGhlIHNwZWFrZXIgZXhwcmVzc2VzIHRoYXQgdGhleSBhcmUgZW5nYWdpbmcgb3IgaW50ZW5kIHRvIGVuZ2FnZVxuICAgICAqIGluIGFjdHMgb2Ygc2VsZi1oYXJtLCBzdWNoIGFzIHN1aWNpZGUsIGN1dHRpbmcsIGFuZCBlYXRpbmcgZGlzb3JkZXJzLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW50ZW50JzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgbWVhbnQgdG8gYXJvdXNlIHNleHVhbCBleGNpdGVtZW50LCBzdWNoIGFzIHRoZSBkZXNjcmlwdGlvbiBvZiBzZXh1YWxcbiAgICAgKiBhY3Rpdml0eSwgb3IgdGhhdCBwcm9tb3RlcyBzZXh1YWwgc2VydmljZXMgKGV4Y2x1ZGluZyBzZXggZWR1Y2F0aW9uIGFuZFxuICAgICAqIHdlbGxuZXNzKS5cbiAgICAgKi9cbiAgICBzZXh1YWw6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBTZXh1YWwgY29udGVudCB0aGF0IGluY2x1ZGVzIGFuIGluZGl2aWR1YWwgd2hvIGlzIHVuZGVyIDE4IHllYXJzIG9sZC5cbiAgICAgKi9cbiAgICAnc2V4dWFsL21pbm9ycyc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZW50IHRoYXQgZGVwaWN0cyBkZWF0aCwgdmlvbGVuY2UsIG9yIHBoeXNpY2FsIGluanVyeS5cbiAgICAgKi9cbiAgICB2aW9sZW5jZTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgdGhhdCBkZXBpY3RzIGRlYXRoLCB2aW9sZW5jZSwgb3IgcGh5c2ljYWwgaW5qdXJ5IGluIGdyYXBoaWMgZGV0YWlsLlxuICAgICAqL1xuICAgICd2aW9sZW5jZS9ncmFwaGljJzogYm9vbGVhbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdGhlIGNhdGVnb3JpZXMgYWxvbmcgd2l0aCB0aGVpciBzY29yZXMgYXMgcHJlZGljdGVkIGJ5IG1vZGVsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeVNjb3JlcyB7XG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ2hhcmFzc21lbnQnLlxuICAgICAqL1xuICAgIGhhcmFzc21lbnQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdoYXJhc3NtZW50L3RocmVhdGVuaW5nJy5cbiAgICAgKi9cbiAgICAnaGFyYXNzbWVudC90aHJlYXRlbmluZyc6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdoYXRlJy5cbiAgICAgKi9cbiAgICBoYXRlOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnaGF0ZS90aHJlYXRlbmluZycuXG4gICAgICovXG4gICAgJ2hhdGUvdGhyZWF0ZW5pbmcnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnc2VsZi1oYXJtJy5cbiAgICAgKi9cbiAgICAnc2VsZi1oYXJtJzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ3NlbGYtaGFybS9pbnN0cnVjdGlvbnMnLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW5zdHJ1Y3Rpb25zJzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ3NlbGYtaGFybS9pbnRlbnQnLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW50ZW50JzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ3NleHVhbCcuXG4gICAgICovXG4gICAgc2V4dWFsOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnc2V4dWFsL21pbm9ycycuXG4gICAgICovXG4gICAgJ3NleHVhbC9taW5vcnMnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAndmlvbGVuY2UnLlxuICAgICAqL1xuICAgIHZpb2xlbmNlOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAndmlvbGVuY2UvZ3JhcGhpYycuXG4gICAgICovXG4gICAgJ3Zpb2xlbmNlL2dyYXBoaWMnOiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHBvbGljeSBjb21wbGlhbmNlIHJlcG9ydCBieSBPcGVuQUkncyBjb250ZW50IG1vZGVyYXRpb24gbW9kZWwgYWdhaW5zdFxuICogYSBnaXZlbiBpbnB1dC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNb2RlcmF0aW9uQ3JlYXRlUmVzcG9uc2Uge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbW9kZXJhdGlvbiByZXF1ZXN0LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIG1vZGVyYXRpb24gcmVzdWx0cy5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBtb2RlcmF0aW9uIG9iamVjdHMuXG4gICAqL1xuICByZXN1bHRzOiBBcnJheTxNb2RlcmF0aW9uPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlcmF0aW9uQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBpbnB1dCB0ZXh0IHRvIGNsYXNzaWZ5XG4gICAqL1xuICBpbnB1dDogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogVHdvIGNvbnRlbnQgbW9kZXJhdGlvbnMgbW9kZWxzIGFyZSBhdmFpbGFibGU6IGB0ZXh0LW1vZGVyYXRpb24tc3RhYmxlYCBhbmRcbiAgICogYHRleHQtbW9kZXJhdGlvbi1sYXRlc3RgLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBpcyBgdGV4dC1tb2RlcmF0aW9uLWxhdGVzdGAgd2hpY2ggd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHVwZ3JhZGVkXG4gICAqIG92ZXIgdGltZS4gVGhpcyBlbnN1cmVzIHlvdSBhcmUgYWx3YXlzIHVzaW5nIG91ciBtb3N0IGFjY3VyYXRlIG1vZGVsLiBJZiB5b3UgdXNlXG4gICAqIGB0ZXh0LW1vZGVyYXRpb24tc3RhYmxlYCwgd2Ugd2lsbCBwcm92aWRlIGFkdmFuY2VkIG5vdGljZSBiZWZvcmUgdXBkYXRpbmcgdGhlXG4gICAqIG1vZGVsLiBBY2N1cmFjeSBvZiBgdGV4dC1tb2RlcmF0aW9uLXN0YWJsZWAgbWF5IGJlIHNsaWdodGx5IGxvd2VyIHRoYW4gZm9yXG4gICAqIGB0ZXh0LW1vZGVyYXRpb24tbGF0ZXN0YC5cbiAgICovXG4gIG1vZGVsPzogKHN0cmluZyAmIHt9KSB8ICd0ZXh0LW1vZGVyYXRpb24tbGF0ZXN0JyB8ICd0ZXh0LW1vZGVyYXRpb24tc3RhYmxlJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNb2RlcmF0aW9ucyB7XG4gIGV4cG9ydCBpbXBvcnQgTW9kZXJhdGlvbiA9IE1vZGVyYXRpb25zQVBJLk1vZGVyYXRpb247XG4gIGV4cG9ydCBpbXBvcnQgTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlID0gTW9kZXJhdGlvbnNBUEkuTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlO1xuICBleHBvcnQgaW1wb3J0IE1vZGVyYXRpb25DcmVhdGVQYXJhbXMgPSBNb2RlcmF0aW9uc0FQSS5Nb2RlcmF0aW9uQ3JlYXRlUGFyYW1zO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi9jb3JlJztcbmltcG9ydCAqIGFzIFBhZ2luYXRpb24gZnJvbSAnLi9wYWdpbmF0aW9uJztcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tICcuL2Vycm9yJztcbmltcG9ydCB7IHR5cGUgQWdlbnQgfSBmcm9tICcuL19zaGltcy9pbmRleCc7XG5pbXBvcnQgKiBhcyBVcGxvYWRzIGZyb20gJy4vdXBsb2Fkcyc7XG5pbXBvcnQgKiBhcyBBUEkgZnJvbSBcIi4vcmVzb3VyY2VzL2luZGV4XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9LRVknXS5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZztcblxuICAvKipcbiAgICogRGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnZbJ09QRU5BSV9PUkdfSUQnXS5cbiAgICovXG4gIG9yZ2FuaXphdGlvbj86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhc2UgVVJMIGZvciB0aGUgQVBJLCBlLmcuLCBcImh0dHBzOi8vYXBpLmV4YW1wbGUuY29tL3YyL1wiXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIHByb2Nlc3MuZW52WydPUEVOQUlfQkFTRV9VUkwnXS5cbiAgICovXG4gIGJhc2VVUkw/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IHRoZSBjbGllbnQgc2hvdWxkIHdhaXQgZm9yIGEgcmVzcG9uc2VcbiAgICogZnJvbSB0aGUgc2VydmVyIGJlZm9yZSB0aW1pbmcgb3V0IGEgc2luZ2xlIHJlcXVlc3QuXG4gICAqXG4gICAqIE5vdGUgdGhhdCByZXF1ZXN0IHRpbWVvdXRzIGFyZSByZXRyaWVkIGJ5IGRlZmF1bHQsIHNvIGluIGEgd29yc3QtY2FzZSBzY2VuYXJpbyB5b3UgbWF5IHdhaXRcbiAgICogbXVjaCBsb25nZXIgdGhhbiB0aGlzIHRpbWVvdXQgYmVmb3JlIHRoZSBwcm9taXNlIHN1Y2NlZWRzIG9yIGZhaWxzLlxuICAgKi9cbiAgdGltZW91dD86IG51bWJlcjtcblxuICAvKipcbiAgICogQW4gSFRUUCBhZ2VudCB1c2VkIHRvIG1hbmFnZSBIVFRQKFMpIGNvbm5lY3Rpb25zLlxuICAgKlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIGFuIGFnZW50IHdpbGwgYmUgY29uc3RydWN0ZWQgYnkgZGVmYXVsdCBpbiB0aGUgTm9kZS5qcyBlbnZpcm9ubWVudCxcbiAgICogb3RoZXJ3aXNlIG5vIGFnZW50IGlzIHVzZWQuXG4gICAqL1xuICBodHRwQWdlbnQ/OiBBZ2VudDtcblxuICAvKipcbiAgICogU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHdlIHVzZSBgbm9kZS1mZXRjaGAgb24gTm9kZS5qcyBhbmQgb3RoZXJ3aXNlIGV4cGVjdCB0aGF0IGBmZXRjaGAgaXNcbiAgICogZGVmaW5lZCBnbG9iYWxseS5cbiAgICovXG4gIGZldGNoPzogQ29yZS5GZXRjaCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRoYXQgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdCBpbiBjYXNlIG9mIGFcbiAgICogdGVtcG9yYXJ5IGZhaWx1cmUsIGxpa2UgYSBuZXR3b3JrIGVycm9yIG9yIGEgNVhYIGVycm9yIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmYXVsdCBoZWFkZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAqXG4gICAqIFRoZXNlIGNhbiBiZSByZW1vdmVkIGluIGluZGl2aWR1YWwgcmVxdWVzdHMgYnkgZXhwbGljaXRseSBzZXR0aW5nIHRoZVxuICAgKiBoZWFkZXIgdG8gYHVuZGVmaW5lZGAgb3IgYG51bGxgIGluIHJlcXVlc3Qgb3B0aW9ucy5cbiAgICovXG4gIGRlZmF1bHRIZWFkZXJzPzogQ29yZS5IZWFkZXJzO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICpcbiAgICogVGhlc2UgY2FuIGJlIHJlbW92ZWQgaW4gaW5kaXZpZHVhbCByZXF1ZXN0cyBieSBleHBsaWNpdGx5IHNldHRpbmcgdGhlXG4gICAqIHBhcmFtIHRvIGB1bmRlZmluZWRgIGluIHJlcXVlc3Qgb3B0aW9ucy5cbiAgICovXG4gIGRlZmF1bHRRdWVyeT86IENvcmUuRGVmYXVsdFF1ZXJ5O1xuXG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgKiBPbmx5IHNldCB0aGlzIG9wdGlvbiB0byBgdHJ1ZWAgaWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLlxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI/OiBib29sZWFuO1xufVxuXG4vKiogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgT3BlbkFJIEFQSS4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUkgZXh0ZW5kcyBDb3JlLkFQSUNsaWVudCB7XG4gIGFwaUtleTogc3RyaW5nO1xuICBvcmdhbml6YXRpb246IHN0cmluZyB8IG51bGw7XG5cbiAgcHJpdmF0ZSBfb3B0aW9uczogQ2xpZW50T3B0aW9ucztcblxuICAvKipcbiAgICogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgT3BlbkFJIEFQSS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmFwaUtleT1wcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9LRVknXSA/PyB1bmRlZmluZWRdXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gW29wdHMub3JnYW5pemF0aW9uPXByb2Nlc3MuZW52WydPUEVOQUlfT1JHX0lEJ10gPz8gbnVsbF1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmJhc2VVUkw9cHJvY2Vzcy5lbnZbJ09QRU5BSV9CQVNFX1VSTCddID8/IGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFdIC0gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmFzZSBVUkwgZm9yIHRoZSBBUEkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEwIG1pbnV0ZXNdIC0gVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGNsaWVudCB3aWxsIHdhaXQgZm9yIGEgcmVzcG9uc2UgYmVmb3JlIHRpbWluZyBvdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5odHRwQWdlbnRdIC0gQW4gSFRUUCBhZ2VudCB1c2VkIHRvIG1hbmFnZSBIVFRQKHMpIGNvbm5lY3Rpb25zLlxuICAgKiBAcGFyYW0ge0NvcmUuRmV0Y2h9IFtvcHRzLmZldGNoXSAtIFNwZWNpZnkgYSBjdXN0b20gYGZldGNoYCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heFJldHJpZXM9Ml0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdC5cbiAgICogQHBhcmFtIHtDb3JlLkhlYWRlcnN9IG9wdHMuZGVmYXVsdEhlYWRlcnMgLSBEZWZhdWx0IGhlYWRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICogQHBhcmFtIHtDb3JlLkRlZmF1bHRRdWVyeX0gb3B0cy5kZWZhdWx0UXVlcnkgLSBEZWZhdWx0IHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kYW5nZXJvdXNseUFsbG93QnJvd3Nlcj1mYWxzZV0gLSBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGJhc2VVUkwgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9CQVNFX1VSTCcpLFxuICAgIGFwaUtleSA9IENvcmUucmVhZEVudignT1BFTkFJX0FQSV9LRVknKSxcbiAgICBvcmdhbml6YXRpb24gPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9PUkdfSUQnKSA/PyBudWxsLFxuICAgIC4uLm9wdHNcbiAgfTogQ2xpZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKGFwaUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFxuICAgICAgICBcIlRoZSBPUEVOQUlfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBtaXNzaW5nIG9yIGVtcHR5OyBlaXRoZXIgcHJvdmlkZSBpdCwgb3IgaW5zdGFudGlhdGUgdGhlIE9wZW5BSSBjbGllbnQgd2l0aCBhbiBhcGlLZXkgb3B0aW9uLCBsaWtlIG5ldyBPcGVuQUkoeyBhcGlLZXk6ICdNeSBBUEkgS2V5JyB9KS5cIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uczogQ2xpZW50T3B0aW9ucyA9IHtcbiAgICAgIGFwaUtleSxcbiAgICAgIG9yZ2FuaXphdGlvbixcbiAgICAgIC4uLm9wdHMsXG4gICAgICBiYXNlVVJMOiBiYXNlVVJMIHx8IGBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxYCxcbiAgICB9O1xuXG4gICAgaWYgKCFvcHRpb25zLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyICYmIENvcmUuaXNSdW5uaW5nSW5Ccm93c2VyKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXG4gICAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgcnVubmluZyBpbiBhIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC5cXG5cXG5UaGlzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXFxuSWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLFxcbnlvdSBjYW4gc2V0IHRoZSBgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXJgIG9wdGlvbiB0byBgdHJ1ZWAsIGUuZy4sXFxuXFxubmV3IE9wZW5BSSh7IGFwaUtleSwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgfSk7XFxuXFxuaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNTExMjU5NS1iZXN0LXByYWN0aWNlcy1mb3ItYXBpLWtleS1zYWZldHlcXG5cIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgc3VwZXIoe1xuICAgICAgYmFzZVVSTDogb3B0aW9ucy5iYXNlVVJMISxcbiAgICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCA/PyA2MDAwMDAgLyogMTAgbWludXRlcyAqLyxcbiAgICAgIGh0dHBBZ2VudDogb3B0aW9ucy5odHRwQWdlbnQsXG4gICAgICBtYXhSZXRyaWVzOiBvcHRpb25zLm1heFJldHJpZXMsXG4gICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICB9KTtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgIHRoaXMub3JnYW5pemF0aW9uID0gb3JnYW5pemF0aW9uO1xuICB9XG5cbiAgY29tcGxldGlvbnM6IEFQSS5Db21wbGV0aW9ucyA9IG5ldyBBUEkuQ29tcGxldGlvbnModGhpcyk7XG4gIGNoYXQ6IEFQSS5DaGF0ID0gbmV3IEFQSS5DaGF0KHRoaXMpO1xuICBlbWJlZGRpbmdzOiBBUEkuRW1iZWRkaW5ncyA9IG5ldyBBUEkuRW1iZWRkaW5ncyh0aGlzKTtcbiAgZmlsZXM6IEFQSS5GaWxlcyA9IG5ldyBBUEkuRmlsZXModGhpcyk7XG4gIGltYWdlczogQVBJLkltYWdlcyA9IG5ldyBBUEkuSW1hZ2VzKHRoaXMpO1xuICBhdWRpbzogQVBJLkF1ZGlvID0gbmV3IEFQSS5BdWRpbyh0aGlzKTtcbiAgbW9kZXJhdGlvbnM6IEFQSS5Nb2RlcmF0aW9ucyA9IG5ldyBBUEkuTW9kZXJhdGlvbnModGhpcyk7XG4gIG1vZGVsczogQVBJLk1vZGVscyA9IG5ldyBBUEkuTW9kZWxzKHRoaXMpO1xuICBmaW5lVHVuaW5nOiBBUEkuRmluZVR1bmluZyA9IG5ldyBBUEkuRmluZVR1bmluZyh0aGlzKTtcbiAgYmV0YTogQVBJLkJldGEgPSBuZXcgQVBJLkJldGEodGhpcyk7XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGRlZmF1bHRRdWVyeSgpOiBDb3JlLkRlZmF1bHRRdWVyeSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuZGVmYXVsdFF1ZXJ5O1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGRlZmF1bHRIZWFkZXJzKG9wdHM6IENvcmUuRmluYWxSZXF1ZXN0T3B0aW9ucyk6IENvcmUuSGVhZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKG9wdHMpLFxuICAgICAgJ09wZW5BSS1Pcmdhbml6YXRpb24nOiB0aGlzLm9yZ2FuaXphdGlvbixcbiAgICAgIC4uLnRoaXMuX29wdGlvbnMuZGVmYXVsdEhlYWRlcnMsXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZSBhdXRoSGVhZGVycyhvcHRzOiBDb3JlLkZpbmFsUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkhlYWRlcnMge1xuICAgIHJldHVybiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gIH07XG4gIH1cblxuICBzdGF0aWMgT3BlbkFJID0gdGhpcztcblxuICBzdGF0aWMgT3BlbkFJRXJyb3IgPSBFcnJvcnMuT3BlbkFJRXJyb3I7XG4gIHN0YXRpYyBBUElFcnJvciA9IEVycm9ycy5BUElFcnJvcjtcbiAgc3RhdGljIEFQSUNvbm5lY3Rpb25FcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uRXJyb3I7XG4gIHN0YXRpYyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG4gIHN0YXRpYyBBUElVc2VyQWJvcnRFcnJvciA9IEVycm9ycy5BUElVc2VyQWJvcnRFcnJvcjtcbiAgc3RhdGljIE5vdEZvdW5kRXJyb3IgPSBFcnJvcnMuTm90Rm91bmRFcnJvcjtcbiAgc3RhdGljIENvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbiAgc3RhdGljIFJhdGVMaW1pdEVycm9yID0gRXJyb3JzLlJhdGVMaW1pdEVycm9yO1xuICBzdGF0aWMgQmFkUmVxdWVzdEVycm9yID0gRXJyb3JzLkJhZFJlcXVlc3RFcnJvcjtcbiAgc3RhdGljIEF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbiAgc3RhdGljIEludGVybmFsU2VydmVyRXJyb3IgPSBFcnJvcnMuSW50ZXJuYWxTZXJ2ZXJFcnJvcjtcbiAgc3RhdGljIFBlcm1pc3Npb25EZW5pZWRFcnJvciA9IEVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3I7XG4gIHN0YXRpYyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xufVxuXG5leHBvcnQgY29uc3Qge1xuICBPcGVuQUlFcnJvcixcbiAgQVBJRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25FcnJvcixcbiAgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcixcbiAgQVBJVXNlckFib3J0RXJyb3IsXG4gIE5vdEZvdW5kRXJyb3IsXG4gIENvbmZsaWN0RXJyb3IsXG4gIFJhdGVMaW1pdEVycm9yLFxuICBCYWRSZXF1ZXN0RXJyb3IsXG4gIEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIEludGVybmFsU2VydmVyRXJyb3IsXG4gIFBlcm1pc3Npb25EZW5pZWRFcnJvcixcbiAgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yLFxufSA9IEVycm9ycztcblxuZXhwb3J0IGltcG9ydCB0b0ZpbGUgPSBVcGxvYWRzLnRvRmlsZTtcbmV4cG9ydCBpbXBvcnQgZmlsZUZyb21QYXRoID0gVXBsb2Fkcy5maWxlRnJvbVBhdGg7XG5cbmV4cG9ydCBuYW1lc3BhY2UgT3BlbkFJIHtcbiAgLy8gSGVscGVyIGZ1bmN0aW9uc1xuICBleHBvcnQgaW1wb3J0IHRvRmlsZSA9IFVwbG9hZHMudG9GaWxlO1xuICBleHBvcnQgaW1wb3J0IGZpbGVGcm9tUGF0aCA9IFVwbG9hZHMuZmlsZUZyb21QYXRoO1xuXG4gIGV4cG9ydCBpbXBvcnQgUmVxdWVzdE9wdGlvbnMgPSBDb3JlLlJlcXVlc3RPcHRpb25zO1xuXG4gIGV4cG9ydCBpbXBvcnQgUGFnZSA9IFBhZ2luYXRpb24uUGFnZTtcbiAgZXhwb3J0IGltcG9ydCBQYWdlUmVzcG9uc2UgPSBQYWdpbmF0aW9uLlBhZ2VSZXNwb25zZTtcblxuICBleHBvcnQgaW1wb3J0IEN1cnNvclBhZ2UgPSBQYWdpbmF0aW9uLkN1cnNvclBhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ3Vyc29yUGFnZVBhcmFtcyA9IFBhZ2luYXRpb24uQ3Vyc29yUGFnZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBDdXJzb3JQYWdlUmVzcG9uc2UgPSBQYWdpbmF0aW9uLkN1cnNvclBhZ2VSZXNwb25zZTtcblxuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb25zID0gQVBJLkNvbXBsZXRpb25zO1xuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb24gPSBBUEkuQ29tcGxldGlvbjtcbiAgZXhwb3J0IGltcG9ydCBDb21wbGV0aW9uQ2hvaWNlID0gQVBJLkNvbXBsZXRpb25DaG9pY2U7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvblVzYWdlID0gQVBJLkNvbXBsZXRpb25Vc2FnZTtcbiAgZXhwb3J0IGltcG9ydCBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zID0gQVBJLkNvbXBsZXRpb25DcmVhdGVQYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyA9IEFQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgaW1wb3J0IENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSBBUEkuQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZztcblxuICBleHBvcnQgaW1wb3J0IENoYXQgPSBBUEkuQ2hhdDtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbiA9IEFQSS5DaGF0Q29tcGxldGlvbjtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSA9IEFQSS5DaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvbkNodW5rID0gQVBJLkNoYXRDb21wbGV0aW9uQ2h1bms7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCA9IEFQSS5DaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0O1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSA9IEFQSS5DaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQgPSBBUEkuQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQ7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24gPSBBUEkuQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb247XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSA9IEFQSS5DaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uTWVzc2FnZSA9IEFQSS5DaGF0Q29tcGxldGlvbk1lc3NhZ2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gPSBBUEkuQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW07XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwgPSBBUEkuQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGw7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UgPSBBUEkuQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2U7XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Sb2xlID0gQVBJLkNoYXRDb21wbGV0aW9uUm9sZTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSA9IEFQSS5DaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiA9IEFQSS5DaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYjtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblRvb2wgPSBBUEkuQ2hhdENvbXBsZXRpb25Ub29sO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbiA9IEFQSS5DaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb247XG4gIGV4cG9ydCBpbXBvcnQgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtID0gQVBJLkNoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbTtcbiAgZXhwb3J0IGltcG9ydCBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0gPSBBUEkuQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zID0gQVBJLkNoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nID0gQVBJLkNoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgaW1wb3J0IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nID0gQVBJLkNoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xuXG4gIGV4cG9ydCBpbXBvcnQgRW1iZWRkaW5ncyA9IEFQSS5FbWJlZGRpbmdzO1xuICBleHBvcnQgaW1wb3J0IENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlID0gQVBJLkNyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlO1xuICBleHBvcnQgaW1wb3J0IEVtYmVkZGluZyA9IEFQSS5FbWJlZGRpbmc7XG4gIGV4cG9ydCBpbXBvcnQgRW1iZWRkaW5nQ3JlYXRlUGFyYW1zID0gQVBJLkVtYmVkZGluZ0NyZWF0ZVBhcmFtcztcblxuICBleHBvcnQgaW1wb3J0IEZpbGVzID0gQVBJLkZpbGVzO1xuICBleHBvcnQgaW1wb3J0IEZpbGVDb250ZW50ID0gQVBJLkZpbGVDb250ZW50O1xuICBleHBvcnQgaW1wb3J0IEZpbGVEZWxldGVkID0gQVBJLkZpbGVEZWxldGVkO1xuICBleHBvcnQgaW1wb3J0IEZpbGVPYmplY3QgPSBBUEkuRmlsZU9iamVjdDtcbiAgZXhwb3J0IGltcG9ydCBGaWxlT2JqZWN0c1BhZ2UgPSBBUEkuRmlsZU9iamVjdHNQYWdlO1xuICBleHBvcnQgaW1wb3J0IEZpbGVDcmVhdGVQYXJhbXMgPSBBUEkuRmlsZUNyZWF0ZVBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBGaWxlTGlzdFBhcmFtcyA9IEFQSS5GaWxlTGlzdFBhcmFtcztcblxuICBleHBvcnQgaW1wb3J0IEltYWdlcyA9IEFQSS5JbWFnZXM7XG4gIGV4cG9ydCBpbXBvcnQgSW1hZ2UgPSBBUEkuSW1hZ2U7XG4gIGV4cG9ydCBpbXBvcnQgSW1hZ2VzUmVzcG9uc2UgPSBBUEkuSW1hZ2VzUmVzcG9uc2U7XG4gIGV4cG9ydCBpbXBvcnQgSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXMgPSBBUEkuSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXM7XG4gIGV4cG9ydCBpbXBvcnQgSW1hZ2VFZGl0UGFyYW1zID0gQVBJLkltYWdlRWRpdFBhcmFtcztcbiAgZXhwb3J0IGltcG9ydCBJbWFnZUdlbmVyYXRlUGFyYW1zID0gQVBJLkltYWdlR2VuZXJhdGVQYXJhbXM7XG5cbiAgZXhwb3J0IGltcG9ydCBBdWRpbyA9IEFQSS5BdWRpbztcblxuICBleHBvcnQgaW1wb3J0IE1vZGVyYXRpb25zID0gQVBJLk1vZGVyYXRpb25zO1xuICBleHBvcnQgaW1wb3J0IE1vZGVyYXRpb24gPSBBUEkuTW9kZXJhdGlvbjtcbiAgZXhwb3J0IGltcG9ydCBNb2RlcmF0aW9uQ3JlYXRlUmVzcG9uc2UgPSBBUEkuTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlO1xuICBleHBvcnQgaW1wb3J0IE1vZGVyYXRpb25DcmVhdGVQYXJhbXMgPSBBUEkuTW9kZXJhdGlvbkNyZWF0ZVBhcmFtcztcblxuICBleHBvcnQgaW1wb3J0IE1vZGVscyA9IEFQSS5Nb2RlbHM7XG4gIGV4cG9ydCBpbXBvcnQgTW9kZWwgPSBBUEkuTW9kZWw7XG4gIGV4cG9ydCBpbXBvcnQgTW9kZWxEZWxldGVkID0gQVBJLk1vZGVsRGVsZXRlZDtcbiAgZXhwb3J0IGltcG9ydCBNb2RlbHNQYWdlID0gQVBJLk1vZGVsc1BhZ2U7XG5cbiAgZXhwb3J0IGltcG9ydCBGaW5lVHVuaW5nID0gQVBJLkZpbmVUdW5pbmc7XG5cbiAgZXhwb3J0IGltcG9ydCBCZXRhID0gQVBJLkJldGE7XG5cbiAgZXhwb3J0IGltcG9ydCBGdW5jdGlvbkRlZmluaXRpb24gPSBBUEkuRnVuY3Rpb25EZWZpbml0aW9uO1xuICBleHBvcnQgaW1wb3J0IEZ1bmN0aW9uUGFyYW1ldGVycyA9IEFQSS5GdW5jdGlvblBhcmFtZXRlcnM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wZW5BSTtcbiIsICIvLyBpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgY3JlYXRlTG9nZ2VyLCBmb3JtYXQsIHRyYW5zcG9ydHMgfSBmcm9tICd3aW5zdG9uJztcbmltcG9ydCBUcmFuc3BvcnQgZnJvbSAnd2luc3Rvbi10cmFuc3BvcnQnO1xuXG5jbGFzcyBPYnNpZGlhbk5vdGljZVRyYW5zcG9ydCBleHRlbmRzIFRyYW5zcG9ydCB7XG4gICAgY29uc3RydWN0b3Iob3B0cz86IFRyYW5zcG9ydC5UcmFuc3BvcnRTdHJlYW1PcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgIH1cbiAgXG4gICAgbG9nKGluZm86IGFueSwgY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9nZ2VkJywgaW5mbyk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICAvLyBQZXJmb3JtIHRoZSB3cml0aW5nIHRvIHRoZSByZW1vdGUgc2VydmljZVxuICAgICAgICBuZXcgTm90aWNlKGBFUlJPUiAoXCJhdXRvLWFua2lcIiBwbHVnaW4pXFxuJHtpbmZvLm1lc3NhZ2V9YCwgMClcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG59XG5cbmNvbnN0IGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcih7XG4gICAgbGV2ZWw6ICdpbmZvJyxcbiAgICBmb3JtYXQ6IGZvcm1hdC5qc29uKCksXG4gICAgdHJhbnNwb3J0czogW1xuICAgICAgICAvLyBuZXcgdHJhbnNwb3J0cy5GaWxlKHsgZmlsZW5hbWU6IGAke2xvZ0Rpcn0vZXJyb3IubG9nYCwgbGV2ZWw6ICdlcnJvcicgfSksXG4gICAgICAgIC8vIG5ldyB0cmFuc3BvcnRzLkZpbGUoeyBmaWxlbmFtZTogYCR7bG9nRGlyfS9jb21iaW5lZC5sb2dgIH0pXG4gICAgXVxufSk7XG5cbmxvZ2dlci5hZGQobmV3IE9ic2lkaWFuTm90aWNlVHJhbnNwb3J0KHsgbGV2ZWw6ICdlcnJvcicgfSkpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGxvZ2dlci5hZGQobmV3IHRyYW5zcG9ydHMuQ29uc29sZSh7XG4gICAgICAgIGZvcm1hdDogZm9ybWF0LnNpbXBsZSgpLFxuICAgIH0pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyO1xuIiwgImltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcbmltcG9ydCB0eXBlIHtcbiAgICBDaGF0Q29tcGxldGlvbixcbiAgICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0sXG4gICAgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0sXG4gICAgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0sXG59IGZyb20gJ29wZW5haS9yZXNvdXJjZXMnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICdzcmMvbG9nZ2VyJztcbmltcG9ydCB7IEdwdEFkdmFuY2VkT3B0aW9ucyB9IGZyb20gJ3NyYy9zZXR0aW5ncyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZEluZm9ybWF0aW9uIHtcbiAgICBxOiBzdHJpbmc7XG4gICAgYTogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tHcHQob3BlbkFpS2V5OiBzdHJpbmcpIHtcbiAgICAvLyBjaGVjayBncHQgYXBpIGtleVxuICAgIGlmIChvcGVuQWlLZXkgPT09ICcnKSB7XG4gICAgICAgIGxvZ2dlci5sb2coe1xuICAgICAgICAgICAgbGV2ZWw6ICdlcnJvcicsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIk9wZW5BSSBBUEkga2V5IG5vdCBwcm92aWRlZCEgUGxlYXNlIGdvIHRvIHlvdXIgJ0F1dG8gQW5raScgc2V0dGluZ3MgdG8gc2V0IGFuIEFQSSBrZXkuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IFNBTVBMRV9OT1RFID0gYEEgbnVtZXJhbCBzeXN0ZW0gaXMgYSB3cml0aW5nIHN5c3RlbSBmb3IgZXhwcmVzc2luZyBudW1iZXJzLiBJdCBpcyBhIG1hdGhlbWF0aWNhbCBub3RhdGlvbiBmb3IgcmVwcmVzZW50aW5nIG51bWJlcnMgb2YgYSBnaXZlbiBzZXQsIHVzaW5nIGRpZ2l0cyBvciBvdGhlciBzeW1ib2xzIGluIGEgY29uc2lzdGVudCBtYW5uZXIuXG5cbklkZWFsbHksIGEgbnVtZXJhbCBzeXN0ZW0gd2lsbDpcbi0gcmVwcmVzZW50IGEgdXNlZnVsIHNldCBvZiBudW1iZXJzIChlZzogaW50ZWdlcnMsIHJhdGlvbmFsIG51bWJlcnMpXG4tIGdpdmUgZXZlcnkgbnVtYmVyIHJlcHJlc2VudGVkIGEgdW5pcXVlIHJlcHJlc2VudGF0aW9uXG4tIHJlZmxlY3QgdGhlIGFsZ2VicmFpYyBhbmQgYXJpdGhtZXRpYyBzdHJ1Y3R1cmUgb2YgdGhlIG51bWJlcnNcblxuIyMjIyBQb3NpdGlvbmFsIE5vdGF0aW9uXG4+IGFsc28ga25vd24gYXMgdGhlIFwicGxhY2UtdmFsdWUgbm90YXRpb25cIlxuXG5Vc2VzIGEgKipyYWRpeCoqLyoqYmFzZSoqIChlZzogYmFzZSAxMCkgdG8gaW5kaWNhdGUgdGhlIG51bWJlciBvZiB1bmlxdWUgKmRpZ2l0cyogdGhhdCBhcmUgdXNlZCB0byByZXByZXNlbnQgbnVtYmVycyBpbiBhIHBvc2l0aW9uIHVudGlsIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGlnaXQgaXMgdXNlZCB0byBzaWduaWZ5IGEgcG93ZXIgb2YgdGhlICpiYXNlKiBudW1iZXIuXG5cbi0gUG9zaXRpb25hbCBTeXN0ZW1zIHdpdGggQmFzZSAyOiBbW0JpbmFyeSBOdW1lcmFsIFN5c3RlbV1dXG4tIFBvc2l0aW9uYWwgU3lzdGVtcyB3aXRoIEJhc2UgODogT2N0YWwgTnVtZXJhbCBTeXN0ZW1cbi0gUG9zaXRpb25hbCBTeXN0ZW1zIHdpdGggQmFzZSAxMDogRGVjaW1hbCBOdW1lcmFsIFN5c3RlbVxuLSBQb3NpdGlvbmFsIFN5c3RlbXMgd2l0aCBCYXNlIDEyOiBEdW9kZWNpbWFsIChkb3plbmFsKSBOdW1lcmFsIFN5c3RlbVxuLSBQb3NpdGlvbmFsIFN5c3RlbXMgd2l0aCBCYXNlIDE2OiBIZXhhZGVjaW1hbCBOdW1lcmFsIFN5c3RlbVxuLSBQb3NpdGlvbmFsIFN5c3RlbXMgd2l0aCBCYXNlIDIwOiBWaWdlc2ltYWwgTnVtZXJhbCBTeXN0ZW1cbi0gUG9zaXRpb25hbCBTeXN0ZW1zIHdpdGggQmFzZSA2MDogU2V4YWdlc2ltYWwgTnVtZXJhbCBTeXN0ZW1cbmBcblxuY29uc3QgU0FNUExFX09VVFBVVCA9IFtcbiAgICB7IHE6ICdXaGF0IGlzIGEgbnVtZXJhbCBzeXN0ZW0/JywgYTogJ0EgbnVtZXJhbCBzeXN0ZW0gaXMgYSB3cml0aW5nIHN5c3RlbSBmb3IgZXhwcmVzc2luZyBudW1iZXJzLCB1c2luZyBkaWdpdHMgb3Igb3RoZXIgc3ltYm9scyBpbiBhIGNvbnNpc3RlbnQgbWFubmVyLicgfSxcbiAgICB7IHE6ICdXaGF0IGlzIHRoZSBnb2FsIG9mIGEgbnVtZXJhbCBzeXN0ZW0/JywgYTogJ1RoZSBnb2FsIG9mIGEgbnVtZXJhbCBzeXN0ZW0gaXMgdG8gcmVwcmVzZW50IGEgdXNlZnVsIHNldCBvZiBudW1iZXJzIChlZzogaW50ZWdlcnMsIHJhdGlvbmFsIG51bWJlcnMpLCBnaXZlIGV2ZXJ5IG51bWJlciByZXByZXNlbnRlZCBhIHVuaXF1ZSByZXByZXNlbnRhdGlvbiwgYW5kIHJlZmxlY3QgdGhlIGFsZ2VicmFpYyBhbmQgYXJpdGhtZXRpYyBzdHJ1Y3R1cmUgb2YgdGhlIG51bWJlcnMuJyB9LFxuICAgIHsgcTogJ1doYXQgaXMgYSBwb3NpdGlvbmFsIG5vdGF0aW9uIGFsc28ga25vd24gYXM/JywgYTogJ1BsYWNlLXZhbHVlIE5vdGF0aW9uJyB9LFxuICAgIHsgcTogJ1doYXQgaXMgYSByYWRpeC9iYXNlIHVzZWQgZm9yIGluIHRoZSBjb250ZXh0IG9mIHBvc2l0aW9uYWwgbm90YXRpb24/JywgYTogJ1RvIGluZGljYXRlIHRoZSBudW1iZXIgb2YgdW5pcXVlIGRpZ2l0cyB0aGF0IGFyZSB1c2VkIHRvIHJlcHJlc2VudCBudW1iZXJzIGluIGEgcG9zaXRpb24gdW50aWwgdGhlIHBvc2l0aW9uIG9mIHRoZSBkaWdpdCBpcyB1c2VkIHRvIHNpZ25pZnkgYSBwb3dlciBvZiB0aGUgYmFzZSBudW1iZXInIH0sXG4gICAgeyBxOiAnV2hhdCBudW1lcmFsIHN5c3RlbSB1c2VzIGEgYmFzZSBvZiAyPycsIGE6ICdCaW5hcnkgTnVtZXJhbCBTeXN0ZW0nIH0sXG4gICAgeyBxOiAnV2hhdCBudW1lcmFsIHN5c3RlbSB1c2VzIGEgYmFzZSBvZiA4PycsIGE6ICdPY3RhbCBOdW1lcmFsIFN5c3RlbScgfSxcbiAgICB7IHE6ICdXaGF0IG51bWVyYWwgc3lzdGVtIHVzZXMgYSBiYXNlIG9mIDEwPycsIGE6ICdEZWNpbWFsIE51bWVyYWwgU3lzdGVtJyB9LFxuICAgIHsgcTogJ1doYXQgbnVtZXJhbCBzeXN0ZW0gdXNlcyBhIGJhc2Ugb2YgMTI/JywgYTogJ0R1b2RlY2ltYWwgTnVtZXJhbCBTeXN0ZW0nIH0sXG4gICAgeyBxOiAnV2hhdCBudW1lcmFsIHN5c3RlbSB1c2VzIGEgYmFzZSBvZiAxNj8nLCBhOiAnSGV4YWRlY2ltYWwgTnVtZXJhbCBTeXN0ZW0nIH0sXG4gICAgeyBxOiAnV2hhdCBudW1lcmFsIHN5c3RlbSB1c2VzIGEgYmFzZSBvZiAyMD8nLCBhOiAnVmlnZXNpbWFsIE51bWVyYWwgU3lzdGVtJyB9LFxuICAgIHsgcTogJ1doYXQgbnVtZXJhbCBzeXN0ZW0gdXNlcyBhIGJhc2Ugb2YgNjA/JywgYTogJ1NleGFnZXNpbWFsIE51bWVyYWwgU3lzdGVtJyB9LFxuICAgIHsgcTogJ1doYXQgaXMgYmluYXJ5IG51bWJlciByZXByZXNlbnRhdGlvbj8nLCBhOiAnQmluYXJ5IG51bWJlciByZXByZXNlbnRhdGlvbiBpcyBhIG51bWJlciBleHByZXNzZWQgaW4gdGhlIGJhc2UtMiBudW1lcmFsIHN5c3RlbSBvciBiaW5hcnkgbnVtZXJhbCBzeXN0ZW0uJyB9LFxuICAgIC8vIHsgcTogJycsIGE6ICcnIH0sXG5dXG5cbmZ1bmN0aW9uIGdlbmVyYXRlUmVwZWF0ZWRTYW1wbGVPdXRwdXQobnVtOiBudW1iZXIpIHtcbiAgICBpZiAobnVtIDwgU0FNUExFX09VVFBVVC5sZW5ndGgpIHJldHVybiBTQU1QTEVfT1VUUFVULnNsaWNlKDAsIG51bSk7XG5cbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgIHdoaWxlIChjb3VudCA8IG51bSkge1xuICAgICAgICBvdXRwdXQucHVzaCguLi5TQU1QTEVfT1VUUFVUKVxuICAgICAgICBjb3VudCArPSBTQU1QTEVfT1VUUFVULmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dC5zbGljZSgwLCBudW0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlcyhub3Rlczogc3RyaW5nLCBudW06IG51bWJlcikge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gW107XG4gICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICBjb250ZW50OiBgWW91IHdpbGwgYmUgcHJvdmlkZWQgbm90ZXMgb24gYSBzcGVjaWZpYyB0b3BpYy4gVGhlIG5vdGVzIGFyZSBmb3JtYXR0ZWQgaW4gbWFya2Rvd24uIEJhc2VkIG9uIHRoZSBnaXZlbiBub3RlcywgbWFrZSBhIGxpc3Qgb2YgJHtudW19IHF1ZXN0aW9ucyBhbmQgc2hvcnQgYW5zd2VycyB0aGF0IGNhbiBiZSB1c2VkIGZvciByZXZpZXdpbmcgc2FpZCBub3RlcyBieSBzcGFjZWQgcmVwZXRpdGlvbi4gVXNlIHRoZSBmb2xsb3dpbmcgZ3VpZGVsaW5lczpcbiAgICAgICAgLSBvdXRwdXQgdGhlIHF1ZXN0aW9ucyBhbmQgYW5zd2VycyBpbiB0aGUgZm9sbG93aW5nIEpTT04gZm9ybWF0IHsgXCJxdWVzdGlvbnNfYW5zd2Vyc1wiOiBbeyBcInFcIjogXCI8Z2VuZXJhdGVkIHF1ZXN0aW9uPlwiLCBcImFcIjogXCI8Z2VuZXJhdGVkIGFuc3dlcj5cIiB9XSB9XG4gICAgICAgIC0gZW5zdXJlIHRoYXQgdGhlIHF1ZXN0aW9ucyBjb3ZlciB0aGUgZW50aXJlIHBvcnRpb24gb2YgdGhlIGdpdmVuIG5vdGVzLCBkbyBub3QgY29tZSB1cCB3aXRoIHNpbWlsYXIgcXVlc3Rpb25zIG9yIHJlcGVhdCB0aGUgc2FtZSBxdWVzdGlvbnNcbiAgICBgfSBhcyBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSlcblxuICAgIC8vIEluc2VydCBzYW1wbGUgdXNlciBwcm9tcHRcbiAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBjb250ZW50OiBTQU1QTEVfTk9URSxcbiAgICB9IGFzIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSk7XG4gICAgXG5cbiAgICAvLyBJbnNlcnQgc2FtcGxlIGFzc2lzdGFudCBvdXRwdXQgKEpTT04gZm9ybWF0KVxuICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgXCJxdWVzdGlvbnNfYW5zd2Vyc1wiOiBnZW5lcmF0ZVJlcGVhdGVkU2FtcGxlT3V0cHV0KG51bSlcbiAgICAgICAgfSksXG4gICAgfSBhcyBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSk7XG5cbiAgICBjb25zb2xlLmxvZyh7XG4gICAgICAgIFwicXVlc3Rpb25zX2Fuc3dlcnNcIjogZ2VuZXJhdGVSZXBlYXRlZFNhbXBsZU91dHB1dChudW0pXG4gICAgfSlcblxuICAgIC8vIEluc2VydCBub3Rlc1xuICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgIGNvbnRlbnQ6IGBcXG4ke25vdGVzLnRyaW0oKX1cXG5gLFxuICAgIH0gYXMgQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtKTtcblxuICAgIHJldHVybiBtZXNzYWdlcztcbn1cbiAgXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydE5vdGVzVG9GbGFzaGNhcmRzKFxuICAgIGFwaUtleTogc3RyaW5nLFxuICAgIG5vdGVzOiBzdHJpbmcsXG4gICAgbnVtX3E6IG51bWJlcixcbiAgICBudW06IG51bWJlcixcbiAgICBvcHRpb25zOiBHcHRBZHZhbmNlZE9wdGlvbnMsXG4pIHtcbiAgICBsZXQgcmVzcG9uc2U6IENoYXRDb21wbGV0aW9uO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBPcGVuQUkoeyBhcGlLZXksIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlIH0pO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIG1heF90b2tlbnNfcGVyX3F1ZXN0aW9uOiB0b2tlbnNQZXJRdWVzdGlvbixcbiAgICAgICAgICAgIC4uLmNvbXBsZXRpb25PcHRpb25zXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgIFxuICAgICAgICAvLyBmb3IgYW5raSBjb25uZWN0LCB0aGUgb3V0cHV0XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgICAgICAgIC4uLmNvbXBsZXRpb25PcHRpb25zLFxuICAgICAgICAgICAgbW9kZWw6ICdncHQtMy41LXR1cmJvLTExMDYnLFxuICAgICAgICAgICAgbWVzc2FnZXM6IGNyZWF0ZU1lc3NhZ2VzKG5vdGVzLCBudW1fcSksXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiB0b2tlbnNQZXJRdWVzdGlvbiAqIG51bV9xLFxuICAgICAgICAgICAgbjogbnVtLFxuICAgICAgICAgICAgc3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3BvbnNlX2Zvcm1hdDogeyB0eXBlOiBcImpzb25fb2JqZWN0XCIgfSxcbiAgICAgICAgfSBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcykgYXMgQ2hhdENvbXBsZXRpb247XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKCFlcnIucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coe1xuICAgICAgICAgICAgICAgIGxldmVsOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb3VsZCBub3QgY29ubmVjdCB0byBPcGVuQUkhICR7ZXJyLm1lc3NhZ2V9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJTdGF0dXMgPSBlcnIucmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgY29uc3QgZXJyQm9keSA9IGVyci5yZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgbGV0IHN1cHBvcnRpbmdNZXNzYWdlID0gYCgke2VyckJvZHkuZXJyb3IuY29kZX0pICR7ZXJyQm9keS5lcnJvci5tZXNzYWdlfWA7XG4gICAgICAgICAgICBpZiAoZXJyU3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgICAgICBzdXBwb3J0aW5nTWVzc2FnZSA9ICdDaGVjayB0aGF0IHlvdXIgQVBJIEtleSBpcyBjb3JyZWN0L3ZhbGlkISc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKHtcbiAgICAgICAgICAgICAgICBsZXZlbDogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRVJSICR7ZXJyU3RhdHVzfTogQ291bGQgbm90IGNvbm5lY3QgdG8gT3BlbkFJISAke3N1cHBvcnRpbmdNZXNzYWdlfWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjYXJkX2Nob2ljZXM6IEFycmF5PENhcmRJbmZvcm1hdGlvbltdPiA9IFtdO1xuICAgICAgICBsb2dnZXIubG9nKHtcbiAgICAgICAgICAgIGxldmVsOiAnaW5mbycsXG4gICAgICAgICAgICBtZXNzYWdlOiBgR2VuZXJhdGVkICR7cmVzcG9uc2UuY2hvaWNlcy5sZW5ndGh9IGNob2ljZXMhYCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzcG9uc2UuY2hvaWNlcy5mb3JFYWNoKChzZXQsIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHNldC5tZXNzYWdlLmNvbnRlbnQgPz8gJyc7XG4gICAgICAgICAgICBsb2dnZXIubG9nKHtcbiAgICAgICAgICAgICAgICBsZXZlbDogJ2luZm8nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNvbnRlbnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuICAgICAgICAgICAgaWYocGFyc2VkQ29udGVudFtcInF1ZXN0aW9uc19hbnN3ZXJzXCJdID09PSB1bmRlZmluZWQpIHRocm93IFwiXCI7XG4gICAgICAgICAgICBsb2dnZXIubG9nKHtcbiAgICAgICAgICAgICAgICBsZXZlbDogJ2luZm8nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDaG9pY2UgJHtpZHh9OiBnZW5lcmF0ZWQgJHtwYXJzZWRDb250ZW50W1wicXVlc3Rpb25zX2Fuc3dlcnNcIl0ubGVuZ3RofSBxdWVzdGlvbnMgYW5kIGFuc3dlcnNgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXJkX2Nob2ljZXMucHVzaChwYXJzZWRDb250ZW50WydxdWVzdGlvbnNfYW5zd2VycyddIGFzIENhcmRJbmZvcm1hdGlvbltdKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gY2FyZF9jaG9pY2VzO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5sb2coe1xuICAgICAgICAgICAgbGV2ZWw6ICdlcnJvcicsXG4gICAgICAgICAgICBtZXNzYWdlOiBgU29tZXRoaW5nIGhhcHBlbmVkIHdoaWxlIHBhcnNpbmcgT3BlbkFJIG91dHB1dCEgUGxlYXNlIGNvbnRhY3QgYSBkZXZlbG9wZXIgZm9yIG1vcmUgc3VwcG9ydC5gLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn0iLCAiZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyhzdHI6IHN0cmluZykge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9IFwic3RyaW5nXCIpIHJldHVybiBmYWxzZSAvLyBvbmx5IHByb2Nlc3NcbiAgICByZXR1cm4gIWlzTmFOKCtzdHIpICYmXG4gICAgICAgICAgICFpc05hTihwYXJzZUZsb2F0KHN0cikpIC8vIGVuc3VyZSBzdHJpbmdzIG9mIHdoaXRlc3BhY2Ugb3IgXFxuIGZhaWxcbiAgfVxuICAiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSxpREFBQUEsU0FBQTtBQUFBO0FBTUEsYUFBUyxRQUFRLEdBQUc7QUFBRTtBQUEyQixhQUFPLFVBQVUsY0FBYyxPQUFPLFVBQVUsWUFBWSxPQUFPLE9BQU8sV0FBVyxTQUFVQyxJQUFHO0FBQUUsZUFBTyxPQUFPQTtBQUFBLE1BQUcsSUFBSSxTQUFVQSxJQUFHO0FBQUUsZUFBT0EsTUFBSyxjQUFjLE9BQU8sVUFBVUEsR0FBRSxnQkFBZ0IsVUFBVUEsT0FBTSxPQUFPLFlBQVksV0FBVyxPQUFPQTtBQUFBLE1BQUcsR0FBRyxRQUFRLENBQUM7QUFBQSxJQUFHO0FBQzdULGFBQVMsa0JBQWtCLFFBQVEsT0FBTztBQUFFLGVBQVMsSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUs7QUFBRSxZQUFJLGFBQWEsTUFBTSxDQUFDO0FBQUcsbUJBQVcsYUFBYSxXQUFXLGNBQWM7QUFBTyxtQkFBVyxlQUFlO0FBQU0sWUFBSSxXQUFXO0FBQVkscUJBQVcsV0FBVztBQUFNLGVBQU8sZUFBZSxRQUFRLGVBQWUsV0FBVyxHQUFHLEdBQUcsVUFBVTtBQUFBLE1BQUc7QUFBQSxJQUFFO0FBQzVVLGFBQVMsYUFBYSxhQUFhLFlBQVksYUFBYTtBQUFFLFVBQUk7QUFBWSwwQkFBa0IsWUFBWSxXQUFXLFVBQVU7QUFBRyxVQUFJO0FBQWEsMEJBQWtCLGFBQWEsV0FBVztBQUFHLGFBQU8sZUFBZSxhQUFhLGFBQWEsRUFBRSxVQUFVLE1BQU0sQ0FBQztBQUFHLGFBQU87QUFBQSxJQUFhO0FBQzVSLGFBQVMsZUFBZSxLQUFLO0FBQUUsVUFBSSxNQUFNLGFBQWEsS0FBSyxRQUFR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OUQsR0FBRztBQUFBLFVBQUM7QUFBQSxVQUFVO0FBQUEsVUFBVTtBQUFBLFVBQVU7QUFBQSxVQUFVO0FBQUEsVUFBVTtBQUFBLFVBQVU7QUFBQSxVQUM5RDtBQUFBLFFBQVE7QUFBQSxRQUNWLEdBQUcsQ0FBQyxRQUFRO0FBQUEsUUFDWixHQUFHLENBQUMsUUFBUTtBQUFBLFFBQ1osR0FBRyxDQUFDLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxRQUFRO0FBQUEsUUFDOUQsR0FBRyxDQUFDLFFBQVE7QUFBQSxRQUNaLEdBQUcsQ0FBQyxRQUFRO0FBQUEsUUFDWixHQUFHLENBQUMsVUFBVSxVQUFVLFVBQVUsUUFBUTtBQUFBLFFBQzFDLEdBQUcsQ0FBQyxRQUFRO0FBQUEsUUFDWixHQUFHLENBQUMsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFFBQVE7QUFBQSxRQUM5RCxHQUFHLENBQUMsUUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFFBQVE7QUFBQSxRQUM5RCxHQUFHO0FBQUEsVUFBQztBQUFBLFVBQVU7QUFBQSxVQUFVO0FBQUEsVUFBVTtBQUFBLFVBQVU7QUFBQSxVQUFVO0FBQUEsVUFBVTtBQUFBLFVBQzlEO0FBQUEsVUFBVTtBQUFBLFFBQVE7QUFBQSxRQUNwQixHQUFHLENBQUMsVUFBVSxRQUFRO0FBQUEsUUFDdEIsR0FBRyxDQUFDLFFBQVE7QUFBQSxRQUNaLEdBQUcsQ0FBQyxRQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsUUFBUTtBQUFBLFFBQzlELEdBQUcsQ0FBQyxRQUFVLFVBQVUsVUFBVSxRQUFRO0FBQUEsUUFDMUMsR0FBRyxDQUFDLFVBQVUsVUFBVSxRQUFRO0FBQUEsUUFDaEMsR0FBRyxDQUFDLFVBQVUsUUFBUTtBQUFBLFFBQ3RCLEdBQUcsQ0FBQyxRQUFRO0FBQUEsUUFDWixHQUFHLENBQUMsVUFBVSxVQUFVLFVBQVUsUUFBUTtBQUFBLFFBQzFDLEdBQUcsQ0FBQyxVQUFVLFVBQVUsVUFBVSxRQUFRO0FBQUEsUUFDMUMsR0FBRyxDQUFDLFFBQVUsVUFBVSxRQUFRO0FBQUEsUUFDaEMsR0FBRyxDQUFDLFVBQVUsUUFBUTtBQUFBLE1BQ3hCO0FBQ0EsV0FBSyxRQUFRLFNBQVMsR0FBRztBQUN2QixZQUFJLEVBQUUsWUFBWTtBQUNsQixZQUFJLFFBQVEsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHO0FBQzNCLFlBQUksT0FBTyxLQUFLLE1BQU0sS0FBSyxPQUFPLElBQUksTUFBTSxNQUFNO0FBQ2xELFlBQUksT0FBTyxLQUFLLENBQUMsTUFBTSxhQUFhO0FBQ2xDLG9CQUFVLEtBQUssQ0FBQyxFQUFFLElBQUk7QUFBQSxRQUN4QixPQUFPO0FBQ0wsb0JBQVU7QUFBQSxRQUNaO0FBQUEsTUFDRixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1Q7QUFBQTtBQUFBOzs7QUM3Q0E7QUFBQSw2REFBQUMsU0FBQTtBQUNBLElBQUFBLFFBQU8sU0FBUyxJQUFJLFNBQVMsTUFBTSxNQUFNLFNBQVM7QUFDaEQsYUFBTyxRQUFRO0FBQ2YsVUFBSSxPQUFPO0FBQUEsUUFDVCxNQUFNO0FBQUEsVUFDSjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxRQUNQO0FBQUEsUUFDQSxRQUFRO0FBQUEsVUFDTjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFFBQ2pCO0FBQUEsUUFDQSxPQUFPO0FBQUEsVUFDTDtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNmO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDZjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFDVjtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQ2Y7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFFBQ1o7QUFBQSxNQUNGO0FBQ0EsVUFBSSxNQUFNLENBQUMsRUFBRSxPQUFPLEtBQUssSUFBSSxLQUFLLE1BQU0sS0FBSyxHQUFHO0FBRWhELGVBQVMsYUFBYSxPQUFPO0FBQzNCLFlBQUksSUFBSSxLQUFLLE1BQU0sS0FBSyxPQUFPLElBQUksS0FBSztBQUN4QyxlQUFPO0FBQUEsTUFDVDtBQUVBLGVBQVMsT0FBTyxXQUFXO0FB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QUFBLE1BQ2pCLGFBQWEsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzNCLGFBQWEsQ0FBQyxJQUFJLEtBQUssR0FBRztBQUFBLE1BQzFCLGVBQWUsQ0FBQyxLQUFLLElBQUksRUFBRTtBQUFBLE1BQzNCLFVBQVUsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3hCLGNBQWMsQ0FBQyxLQUFLLEtBQUssRUFBRTtBQUFBLE1BQzNCLFlBQVksQ0FBQyxJQUFJLEtBQUssRUFBRTtBQUFBLE1BQ3hCLFlBQVksQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzFCLFVBQVUsQ0FBQyxLQUFLLElBQUksRUFBRTtBQUFBLE1BQ3RCLFVBQVUsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3hCLFdBQVcsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3pCLGFBQWEsQ0FBQyxLQUFLLElBQUksR0FBRztBQUFBLE1BQzFCLGFBQWEsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzNCLGFBQWEsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzNCLFFBQVEsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3RCLGVBQWUsQ0FBQyxHQUFHLEtBQUssR0FBRztBQUFBLE1BQzNCLGFBQWEsQ0FBQyxJQUFJLEtBQUssR0FBRztBQUFBLE1BQzFCLE9BQU8sQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3JCLFFBQVEsQ0FBQyxHQUFHLEtBQUssR0FBRztBQUFBLE1BQ3BCLFdBQVcsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3pCLFVBQVUsQ0FBQyxLQUFLLElBQUksRUFBRTtBQUFBLE1BQ3RCLGFBQWEsQ0FBQyxJQUFJLEtBQUssR0FBRztBQUFBLE1BQzFCLFVBQVUsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3hCLFNBQVMsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3ZCLFNBQVMsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3ZCLGNBQWMsQ0FBQyxLQUFLLEtBQUssR0FBRztB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QUFPLFNBQVMsbUJBQW1CLHVCQUF1QixDQUFDLEVBQ2hGLFNBQVMsT0FBTyxVQUFVO0FBQ3RDLFlBQUksU0FBUyxJQUFJO0FBQ2hCLGVBQUssT0FBTyxTQUFTLG1CQUFtQiwwQkFBMEIsaUJBQWlCLG1CQUFtQjtBQUN0RyxnQkFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLFFBQ2hDLFdBQ1MsQ0FBQyxVQUFVLEtBQUssR0FBRztBQUMzQixjQUFJLHdCQUFPLDZDQUE2QztBQUFBLFFBQ3pELE9BQ0s7QUFDSixlQUFLLE9BQU8sU0FBUyxtQkFBbUIsMEJBQTBCLE9BQU8sS0FBSztBQUM5RSxnQkFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLFFBQ2hDO0FBQUEsTUFDVyxDQUFDO0FBQUEsSUFDTDtBQUFBLEVBQ1g7QUFDRDsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgIm8iLCAic2VsZiIsICJfd3JhcE5hdGl2ZVN1cGVyIiwgIkNsYXNzIiwgIl9jb25zdHJ1Y3QiLCAiUGFyZW50IiwgImFyZ3MiLCAiX3NldFByb3RvdHlwZU9mIiwgInAiLCAiX2dldFByb3RvdHlwZU9mIiwgIkludmFsaWRGb3JtYXRFcnJvciIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInRleHQiLCAib3B0aW9ucyIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInN0ciIsICJzdHlsaXplIiwgImJ1aWxkZXIiLCAiY29sb3JzIiwgInN0eWxlIiwgInNlcXVlbmNlciIsICJtYXAiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJvIiwgIkNvbG9yaXplciIsICJtb2R1bGUiLCAibW9kdWxlIiwgImZvcm1hdCIsICJtb2R1bGUiLCAibyIsICJQYWRkZXIiLCAicmVxdWlyZV9jbGkiLCAibW9kdWxlIiwgIm8iLCAiQ2xpRm9ybWF0IiwgIm1vZHVsZSIsICJmb3JtYXQiLCAibW9kdWxlIiwgIm8iLCAiZm9ybWF0IiwgIm1vZHVsZSIsICJzdHIiLCAidmFsdWUiLCAidG1wIiwgImtleSIsICJyZXMiLCAiam9pbiIsICJzdHJpbmdpZnkiLCAibW9kdWxlIiwgImZvcm1hdCIsICJtb2R1bGUiLCAiZm9ybWF0IiwgIm1vZHVsZSIsICJmb3JtYXQiLCAibW9kdWxlIiwgIm8iLCAiZm9ybWF0IiwgIm1vZHVsZSIsICJzdHIiLCAicmVxdWlyZV9tcyIsICJtb2R1bGUiLCAiZm9ybWF0IiwgIm1vZHVsZSIsICJmb3JtYXQiLCAibW9kdWxlIiwgIm8iLCAiUHJpbnRmIiwgIm1vZHVsZSIsICJmb3JtYXQiLCAibW9kdWxlIiwgIm8iLCAiU3BsYXR0ZXIiLCAidiIsICJfYSIsICJzdHIiLCAiZm9ybWF0IiwgImZpZWxkIiwgIm1vZHVsZSIsICJmb3JtYXQiLCAibW9kdWxlIiwgImZvcm1hdCIsICJmb3JtYXQiLCAiZm9ybWF0IiwgIm1vZHVsZSIsICJyZXF1aXJlX2Jyb3dzZXIiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAiZXJyIiwgInNlbGYiLCAibW9kdWxlIiwgIk5vZGVFcnJvciIsICJzdHIiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAiQnVmZmVyIiwgInN0ciIsICJtb2R1bGUiLCAib25sZWdhY3lmaW5pc2giLCAib25maW5pc2giLCAib25lbmQiLCAib25lcnJvciIsICJvbmNsb3NlIiwgIm9ucmVxdWVzdCIsICJtb2R1bGUiLCAiY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAiRUVsaXN0ZW5lckNvdW50IiwgIlN0cmVhbSIsICJCdWZmZXIiLCAiZGVidWciLCAic2VsZiIsICJuIiwgIm1vZHVsZSIsICJrZXlzIiwgInNlbGYiLCAibW9kdWxlIiwgIlN0cmVhbSIsICJCdWZmZXIiLCAicmVhbEhhc0luc3RhbmNlIiwgIm1vZHVsZSIsICJMZWdhY3lUcmFuc3BvcnRTdHJlYW0iLCAibW9kdWxlIiwgIlRyYW5zcG9ydFN0cmVhbSIsICJsb2dnZXIiLCAibW9kdWxlIiwgIm9iaiIsICJfc2V0UHJvdG90eXBlT2YiLCAibyIsICJwIiwgInNlbGYiLCAiX2dldFByb3RvdHlwZU9mIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInJlcXVpcmVfZWFjaE9mTGltaXQiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJsb2dnZXIiLCAicHJvY2VzcyIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJzd2l6emxlIiwgIm1vZHVsZSIsICJzdHIiLCAicmVxdWlyZV9jb2xvcl9uYW1lIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAic2VsZiIsICJtb2R1bGUiLCAic3RyIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInJlcXVpcmVfY29uc29sZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInJlcXVpcmVfYnJvd3NlciIsICJtb2R1bGUiLCAibW9kdWxlIiwgIlN0cmVhbSIsICJtb2R1bGUiLCAib2JqIiwgIl9zZXRQcm90b3R5cGVPZiIsICJvIiwgInAiLCAic2VsZiIsICJfZ2V0UHJvdG90eXBlT2YiLCAiU3RyZWFtIiwgImRlYnVnIiwgIkZpbGUiLCAiYnVmZiIsICJvcHRpb25zIiwgInN0cmVhbSIsICJzdGF0IiwgIm1vZHVsZSIsICJvYmoiLCAiX3NldFByb3RvdHlwZU9mIiwgIm8iLCAicCIsICJzZWxmIiwgIl9nZXRQcm90b3R5cGVPZiIsICJTdHJlYW0iLCAic3RyZWFtIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAib2JqIiwgIl9zZXRQcm90b3R5cGVPZiIsICJvIiwgInAiLCAic2VsZiIsICJfZ2V0UHJvdG90eXBlT2YiLCAiU3RyZWFtIiwgInJlcXVpcmVfY29uZmlnIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAiZHVtbXlPYmplY3QiLCAidjhTdGFja1RyYWNlIiwgInNlbGYiLCAibW9kdWxlIiwgIm9iaiIsICJfc2V0UHJvdG90eXBlT2YiLCAibyIsICJwIiwgInNlbGYiLCAiX2dldFByb3RvdHlwZU9mIiwgIm1vZHVsZSIsICJvYmoiLCAiZGVidWciLCAibG9nZ2VyIiwgIm1vZHVsZSIsICJvYmoiLCAiZGVidWciLCAibG9nZ2VyIiwgInJlcXVpcmVfbGVnYWN5IiwgIm1vZHVsZSIsICJMZWdhY3lUcmFuc3BvcnRTdHJlYW0iLCAibW9kdWxlIiwgIm9iaiIsICJQcm9maWxlciIsICJsb2dnZXIiLCAicmVxdWlyZV9mb3JtYXQiLCAibW9kdWxlIiwgInJlcXVpcmVfanNvbiIsICJtb2R1bGUiLCAiZm9ybWF0IiwgIm1vZHVsZSIsICJvYmoiLCAiX3NldFByb3RvdHlwZU9mIiwgIm8iLCAicCIsICJzZWxmIiwgIl9nZXRQcm90b3R5cGVPZiIsICJTdHJlYW0iLCAiTG9nZ2VyIiwgImxvZ2dlciIsICJmb3JtYXQiLCAidHJhbnNwb3J0cyIsICJzdHIiLCAibW9kdWxlIiwgIm9iaiIsICJfc2V0UHJvdG90eXBlT2YiLCAibyIsICJwIiwgInNlbGYiLCAiX2dldFByb3RvdHlwZU9mIiwgImRlYnVnIiwgIkRlcml2ZWRMb2dnZXIiLCAibG9nZ2VyIiwgIm1vZHVsZSIsICJvYmoiLCAiY3JlYXRlTG9nZ2VyIiwgImxvZ2dlciIsICJpbXBvcnRfb2JzaWRpYW4iLCAiX2EiLCAiaW1wb3J0X29ic2lkaWFuIiwgImZldGNoIiwgIlJlcXVlc3QiLCAiUmVzcG9uc2UiLCAiSGVhZGVycyIsICJGb3JtRGF0YSIsICJCbG9iIiwgIkZpbGUiLCAiUmVhZGFibGVTdHJlYW0iLCAic2VsZiIsICJSZWFkYWJsZVN0cmVhbSIsICJfYSIsICJzdHIiLCAiX2EiLCAiRmlsZSIsICJGb3JtRGF0YSIsICJmZXRjaCIsICJvcHRzIiwgIlBhZ2UiLCAiX2EiLCAiX2EiLCAiX2EiLCAiX2EiLCAiQ29tcGxldGlvbnMiLCAiQ2hhdCIsICJTcGVlY2giLCAiVHJhbnNjcmlwdGlvbnMiLCAiVHJhbnNsYXRpb25zIiwgIkF1ZGlvIiwgIkZpbGVzIiwgIkFzc2lzdGFudHMiLCAiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwgIl9hIiwgImNvbnRlbnQiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlIiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsIiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0IiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0IiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAiX2EiLCAiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgIl9DaGF0Q29tcGxldGlvblN0cmVhbV9hZGRDaHVuayIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uIiwgIl9iIiwgImluZGV4IiwgIl9jIiwgImNodW5rIiwgImlkIiwgIkNvbXBsZXRpb25zIiwgIkNoYXQiLCAiQ29tcGxldGlvbnMiLCAiRmlsZXMiLCAiRmlsZXMiLCAiTWVzc2FnZXMiLCAiU3RlcHMiLCAiUnVucyIsICJUaHJlYWRzIiwgIkNoYXQiLCAiQmV0YSIsICJDb21wbGV0aW9ucyIsICJfYSIsICJFbWJlZGRpbmdzIiwgIkZpbGVzIiwgIkpvYnMiLCAiRmluZVR1bmluZyIsICJJbWFnZXMiLCAiTW9kZWxzIiwgIk1vZGVyYXRpb25zIiwgIl9hIiwgIkNvbXBsZXRpb25zIiwgIkZpbGVzIiwgIk9wZW5BSUVycm9yIiwgIkFQSUVycm9yIiwgIkFQSUNvbm5lY3Rpb25FcnJvciIsICJBUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwgIkFQSVVzZXJBYm9ydEVycm9yIiwgIk5vdEZvdW5kRXJyb3IiLCAiQ29uZmxpY3RFcnJvciIsICJSYXRlTGltaXRFcnJvciIsICJCYWRSZXF1ZXN0RXJyb3IiLCAiQXV0aGVudGljYXRpb25FcnJvciIsICJJbnRlcm5hbFNlcnZlckVycm9yIiwgIlBlcm1pc3Npb25EZW5pZWRFcnJvciIsICJVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IiLCAiT3BlbkFJIiwgIkNvbXBsZXRpb25zIiwgIkZpbGVzIiwgImltcG9ydF9vYnNpZGlhbiIsICJUcmFuc3BvcnQiLCAiX2EiLCAic3RyIiwgIl9hIl0KfQo=
